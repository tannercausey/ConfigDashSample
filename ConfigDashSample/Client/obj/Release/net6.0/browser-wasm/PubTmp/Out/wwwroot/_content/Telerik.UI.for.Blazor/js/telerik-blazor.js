!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TelerikBlazor=e():t.TelerikBlazor=e()}(self,(function(){return(()=>{var __webpack_modules__={840:(t,e,r)=>{var n;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(i,o,s,a){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],h=o.createElement("div"),u=Math.round,p=Math.abs,d=Date.now;function f(t,e,r){return setTimeout(x(t,r),e)}function g(t,e,r){return!!Array.isArray(t)&&(m(t,r[e],r),!0)}function m(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==a)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function y(t,e,r){var n="DEPRECATED METHOD: "+e+"\n"+r+" AT \n";return function(){var e=new Error("get-stack-trace"),r=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,n,r),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(n!==a&&null!==n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}:Object.assign;var v=y((function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===a)&&(t[n[i]]=e[n[i]]),i++;return t}),"extend","Use `assign`."),b=y((function(t,e){return v(t,e,!0)}),"merge","Use `assign`.");function w(t,e,r){var n,i=e.prototype;(n=t.prototype=Object.create(i)).constructor=t,n._super=i,r&&l(n,r)}function x(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return"function"==typeof t?t.apply(e&&e[0]||a,e):t}function k(t,e){return t===a?e:t}function A(t,e,r){m(O(e),(function(e){t.addEventListener(e,r,!1)}))}function C(t,e,r){m(O(e),(function(e){t.removeEventListener(e,r,!1)}))}function _(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return t.indexOf(e)>-1}function O(t){return t.trim().split(/\s+/g)}function M(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}function E(t){return Array.prototype.slice.call(t,0)}function P(t,e,r){for(var n=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];M(i,s)<0&&n.push(t[o]),i[o]=s,o++}return r&&(n=e?n.sort((function(t,r){return t[e]>r[e]})):n.sort()),n}function I(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((n=(r=c[o])?r+i:e)in t)return n;o++}return a}var F=1;function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var R="ontouchstart"in i,L=I(i,"PointerEvent")!==a,N=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B="touch",j="mouse",z=24,U=["x","y"],$=["clientX","clientY"];function H(t,e){var r=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&r.handler(e)},this.init()}function V(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,o=1&e&&n-i==0,s=12&e&&n-i==0;r.isFirst=!!o,r.isFinal=!!s,o&&(t.session={}),r.eventType=e,function(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=q(e));i>1&&!r.firstMultiple?r.firstMultiple=q(e):1===i&&(r.firstMultiple=!1);var o=r.firstInput,s=r.firstMultiple,l=s?s.center:o.center,c=e.center=W(n);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Y(l,c),e.distance=K(l,c),function(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y});e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}(r,e),e.offsetDirection=G(e.deltaX,e.deltaY);var h=X(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=p(h.x)>p(h.y)?h.x:h.y,e.scale=s?(u=s.pointers,f=n,K(f[0],f[1],$)/K(u[0],u[1],$)):1,e.rotation=s?function(t,e){return Y(e[1],e[0],$)+Y(t[1],t[0],$)}(s.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,function(t,e){var r,n,i,o,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(8!=e.eventType&&(l>25||s.velocity===a)){var c=e.deltaX-s.deltaX,h=e.deltaY-s.deltaY,u=X(l,c,h);n=u.x,i=u.y,r=p(u.x)>p(u.y)?u.x:u.y,o=G(c,h),t.lastInterval=e}else r=s.velocity,n=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=r,e.velocityX=n,e.velocityY=i,e.direction=o}(r,e);var u,f;var g=t.element;_(e.srcEvent.target,g)&&(g=e.srcEvent.target);e.target=g}(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function q(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:u(t.pointers[r].clientX),clientY:u(t.pointers[r].clientY)},r++;return{timeStamp:d(),pointers:e,center:W(e),deltaX:t.deltaX,deltaY:t.deltaY}}function W(t){var e=t.length;if(1===e)return{x:u(t[0].clientX),y:u(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:u(r/e),y:u(n/e)}}function X(t,e,r){return{x:e/t||0,y:r/t||0}}function G(t,e){return t===e?1:p(t)>=p(e)?t<0?2:4:e<0?8:16}function K(t,e,r){r||(r=U);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function Y(t,e,r){r||(r=U);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return 180*Math.atan2(i,n)/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(D(this.element),this.evWin,this.domHandler)}};var J={mousedown:1,mousemove:2,mouseup:4},Z="mousedown",Q="mousemove mouseup";function tt(){this.evEl=Z,this.evWin=Q,this.pressed=!1,H.apply(this,arguments)}w(tt,H,{handler:function(t){var e=J[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:j,srcEvent:t}))}});var et={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},rt={2:B,3:"pen",4:j,5:"kinect"},nt="pointerdown",it="pointermove pointerup pointercancel";function ot(){this.evEl=nt,this.evWin=it,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(nt="MSPointerDown",it="MSPointerMove MSPointerUp MSPointerCancel"),w(ot,H,{handler:function(t){var e=this.store,r=!1,n=t.type.toLowerCase().replace("ms",""),i=et[n],o=rt[t.pointerType]||t.pointerType,s=o==B,a=M(e,t.pointerId,"pointerId");1&i&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&i&&(r=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),r&&e.splice(a,1))}});var st={touchstart:1,touchmove:2,touchend:4,touchcancel:8},at="touchstart",lt="touchstart touchmove touchend touchcancel";function ct(){this.evTarget=at,this.evWin=lt,this.started=!1,H.apply(this,arguments)}function ht(t,e){var r=E(t.touches),n=E(t.changedTouches);return 12&e&&(r=P(r.concat(n),"identifier",!0)),[r,n]}w(ct,H,{handler:function(t){var e=st[t.type];if(1===e&&(this.started=!0),this.started){var r=ht.call(this,t,e);12&e&&r[0].length-r[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:B,srcEvent:t})}}});var ut={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pt="touchstart touchmove touchend touchcancel";function dt(){this.evTarget=pt,this.targetIds={},H.apply(this,arguments)}function ft(t,e){var r=E(t.touches),n=this.targetIds;if(3&e&&1===r.length)return n[r[0].identifier]=!0,[r,r];var i,o,s=E(t.changedTouches),a=[],l=this.target;if(o=r.filter((function(t){return _(t.target,l)})),1===e)for(i=0;i<o.length;)n[o[i].identifier]=!0,i++;for(i=0;i<s.length;)n[s[i].identifier]&&a.push(s[i]),12&e&&delete n[s[i].identifier],i++;return a.length?[P(o.concat(a),"identifier",!0),a]:void 0}w(dt,H,{handler:function(t){var e=ut[t.type],r=ft.call(this,t,e);r&&this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:B,srcEvent:t})}});function gt(){H.apply(this,arguments);var t=x(this.handler,this);this.touch=new dt(this.manager,t),this.mouse=new tt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function mt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,yt.call(this,e)):12&t&&yt.call(this,e)}function yt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var r={x:e.clientX,y:e.clientY};this.lastTouches.push(r);var n=this.lastTouches;setTimeout((function(){var t=n.indexOf(r);t>-1&&n.splice(t,1)}),2500)}}function vt(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],o=Math.abs(e-i.x),s=Math.abs(r-i.y);if(o<=25&&s<=25)return!0}return!1}w(gt,H,{handler:function(t,e,r){var n=r.pointerType==B,i=r.pointerType==j;if(!(i&&r.sourceCapabilities&&r.sourceCapabilities.firesTouchEvents)){if(n)mt.call(this,e,r);else if(i&&vt.call(this,r))return;this.callback(t,e,r)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var bt=I(h.style,"touchAction"),wt=bt!==a,xt="compute",St="auto",kt="manipulation",At="none",Ct="pan-x",_t="pan-y",Tt=function(){if(!wt)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(r){t[r]=!e||i.CSS.supports("touch-action",r)})),t}();function Ot(t,e){this.manager=t,this.set(e)}Ot.prototype={set:function(t){t==xt&&(t=this.compute()),wt&&this.manager.element.style&&Tt[t]&&(this.manager.element.style[bt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,(function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(T(t,At))return At;var e=T(t,Ct),r=T(t,_t);if(e&&r)return At;if(e||r)return e?Ct:_t;if(T(t,kt))return kt;return St}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,r=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,i=T(n,At)&&!Tt.none,o=T(n,_t)&&!Tt["pan-y"],s=T(n,Ct)&&!Tt["pan-x"];if(i){var a=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(a&&l&&c)return}if(!s||!o)return i||o&&6&r||s&&r&z?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Mt=32;function Et(t){this.options=l({},this.defaults,t||{}),this.id=F++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Pt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function It(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function Ft(t,e){var r=e.manager;return r?r.get(t):t}function Dt(){Et.apply(this,arguments)}function Rt(){Dt.apply(this,arguments),this.pX=null,this.pY=null}function Lt(){Dt.apply(this,arguments)}function Nt(){Et.apply(this,arguments),this._timer=null,this._input=null}function Bt(){Dt.apply(this,arguments)}function jt(){Dt.apply(this,arguments)}function zt(){Et.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ut(t,e){return(e=e||{}).recognizers=k(e.recognizers,Ut.defaults.preset),new $t(t,e)}Et.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ft(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)||(t=Ft(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===M(e,t=Ft(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=Ft(t,this);var e=M(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,r=this.state;function n(r){e.manager.emit(r,t)}r<8&&n(e.options.event+Pt(r)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),r>=8&&n(e.options.event+Pt(r))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=Mt},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=Mt);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Dt,Et,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,r=t.eventType,n=6&e,i=this.attrTest(t);return n&&(8&r||!i)?16|e:n||i?4&r?8|e:2&e?4|e:2:Mt}}),w(Rt,Dt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(_t),t&z&&e.push(Ct),e},directionTest:function(t){var e=this.options,r=!0,n=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,r=o!=this.pX,n=Math.abs(t.deltaX)):(i=0===s?1:s<0?8:16,r=s!=this.pY,n=Math.abs(t.deltaY))),t.direction=i,r&&n>e.threshold&&i&e.direction},attrTest:function(t){return Dt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=It(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(Lt,Dt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[At]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),w(Nt,Et,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[St]},process:function(t){var e=this.options,r=t.pointers.length===e.pointers,n=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!n||!r||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=f((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return Mt},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),w(Bt,Dt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[At]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),w(jt,Dt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Rt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,r=this.options.direction;return 30&r?e=t.overallVelocity:6&r?e=t.overallVelocityX:r&z&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&r&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=It(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(zt,Et,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[kt]},process:function(t){var e=this.options,r=t.pointers.length===e.pointers,n=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(n&&i&&r){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||K(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=f((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return Mt},failTimeout:function(){return this._timer=f((function(){this.state=Mt}),this.options.interval,this),Mt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ut.VERSION="2.0.7",Ut.defaults={domEvents:!1,touchAction:xt,enable:!0,inputTarget:null,inputClass:null,preset:[[Bt,{enable:!1}],[Lt,{enable:!1},["rotate"]],[jt,{direction:6}],[Rt,{direction:6},["swipe"]],[zt],[zt,{event:"doubletap",taps:2},["tap"]],[Nt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function $t(t,e){var r;this.options=l({},Ut.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((r=this).options.inputClass||(L?ot:N?dt:R?gt:tt))(r,V),this.touchAction=new Ot(this,this.options.touchAction),Ht(this,!0),m(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Ht(t,e){var r,n=t.element;n.style&&(m(t.options.cssProps,(function(i,o){r=I(n.style,o),e?(t.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=t.oldCssProps[r]||""})),e||(t.oldCssProps={}))}$t.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var r;this.touchAction.preventDefaults(t);var n=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<n.length;)r=n[o],2===e.stopped||i&&r!=i&&!r.canRecognizeWith(i)?r.reset():r.recognize(t),!i&&14&r.state&&(i=e.curRecognizer=r),o++}},get:function(t){if(t instanceof Et)return t;for(var e=this.recognizers,r=0;r<e.length;r++)if(e[r].options.event==t)return e[r];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,r=M(e,t);-1!==r&&(e.splice(r,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var r=this.handlers;return m(O(t),(function(t){r[t]=r[t]||[],r[t].push(e)})),this}},off:function(t,e){if(t!==a){var r=this.handlers;return m(O(t),(function(t){e?r[t]&&r[t].splice(M(r[t],e),1):delete r[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var r=o.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}(t,e);var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<r.length;)r[n](e),n++}},destroy:function(){this.element&&Ht(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Ut,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Mt,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:z,DIRECTION_ALL:30,Manager:$t,Input:H,TouchAction:Ot,TouchInput:dt,MouseInput:tt,PointerEventInput:ot,TouchMouseInput:gt,SingleTouchInput:ct,Recognizer:Et,AttrRecognizer:Dt,Tap:zt,Pan:Rt,Swipe:jt,Pinch:Lt,Rotate:Bt,Press:Nt,on:A,off:C,each:m,merge:b,extend:v,assign:l,inherit:w,bindFn:x,prefixed:I}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Ut,(n=function(){return Ut}.call(e,r,e,t))===a||(t.exports=n)}(window,document)},299:function(module,__unused_webpack_exports,__webpack_require__){
/**
 * @licstart The following is the entire license notice for the
 * JavaScript code in this page
 *
 * Copyright 2022 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * JavaScript code in this page
 */
var factory;factory=()=>(()=>{"use strict";var __webpack_modules__=[,(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=h,e.arraysToBytes=function(t){const e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];let r=0;for(let n=0;n<e;n++)r+=h(t[n]);let n=0;const i=new Uint8Array(r);for(let r=0;r<e;r++){let e=t[r];e instanceof Uint8Array||(e="string"==typeof e?c(e):new Uint8Array(e));const o=e.byteLength;i.set(e,n),n+=o}return i},e.assert=function(t,e){t||s(e)},e.bytesToString=function(t){"object"==typeof t&&null!==t&&void 0!==t.length||s("Invalid argument for bytesToString");const e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);const n=[];for(let i=0;i<e;i+=r){const o=Math.min(i+r,e),s=t.subarray(i,o);n.push(String.fromCharCode.apply(null,s))}return n.join("")},e.createPromiseCapability=function(){const t=Object.create(null);let e=!1;return Object.defineProperty(t,"settled",{get:()=>e}),t.promise=new Promise((function(r,n){t.resolve=function(t){e=!0,r(t)},t.reject=function(t){e=!0,n(t)}})),t},e.createValidAbsoluteUrl=function(t,e=null,r=null){if(!t)return null;try{if(r&&"string"==typeof t){if(r.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);e&&e.length>=2&&(t=`http://${t}`)}if(r.tryConvertEncoding)try{t=f(t)}catch(t){}}const n=e?new URL(t,e):new URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(t){}return null},e.escapeString=function(t){return t.replace(/([()\\\n\r])/g,(t=>"\n"===t?"\\n":"\r"===t?"\\r":`\\${t}`))},e.getModificationDate=function(t=new Date){return[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")].join("")},e.getVerbosityLevel=function(){return i},e.info=function(t){i>=n.INFOS&&console.log(`Info: ${t}`)},e.isArrayBuffer=function(t){return"object"==typeof t&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0},e.isAscii=function(t){return/^[\x00-\x7F]*$/.test(t)},e.objectFromMap=function(t){const e=Object.create(null);for(const[r,n]of t)e[r]=n;return e},e.objectSize=function(t){return Object.keys(t).length},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(i=t)},e.shadow=a,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=c,e.stringToPDFString=function(t){if(t[0]>="ï"){let e;if("þ"===t[0]&&"ÿ"===t[1]?e="utf-16be":"ÿ"===t[0]&&"þ"===t[1]?e="utf-16le":"ï"===t[0]&&"»"===t[1]&&"¿"===t[2]&&(e="utf-8"),e)try{const r=new TextDecoder(e,{fatal:!0}),n=c(t);return r.decode(n)}catch(t){o(`stringToPDFString: "${t}".`)}}const e=[];for(let r=0,n=t.length;r<n;r++){const n=d[t.charCodeAt(r)];e.push(n?String.fromCharCode(n):t.charAt(r))}return e.join("")},e.stringToUTF16BEString=function(t){const e=["þÿ"];for(let r=0,n=t.length;r<n;r++){const n=t.charCodeAt(r);e.push(String.fromCharCode(n>>8&255),String.fromCharCode(255&n))}return e.join("")},e.stringToUTF8String=f,e.unreachable=s,e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=o,r(2),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},e.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},e.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},e.PageActionEventType={O:"PageOpen",C:"PageClose"},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const n={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=n,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=n.WARNINGS;function o(t){i>=n.WARNINGS&&console.log(`Warning: ${t}`)}function s(t){throw new Error(t)}function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}const l=function(){function t(e,r){this.constructor===t&&s("Cannot initialize BaseException."),this.message=e,this.name=r}return t.prototype=new Error,t.constructor=t,t}();function c(t){"string"!=typeof t&&s("Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=255&t.charCodeAt(n);return r}function h(t){return void 0!==t.length?t.length:void 0!==t.byteLength?t.byteLength:void s("Invalid argument for arrayByteLength")}e.BaseException=l,e.PasswordException=class extends l{constructor(t,e){super(t,"PasswordException"),this.code=e}},e.UnknownErrorException=class extends l{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}},e.InvalidPDFException=class extends l{constructor(t){super(t,"InvalidPDFException")}},e.MissingPDFException=class extends l{constructor(t){super(t,"MissingPDFException")}},e.UnexpectedResponseException=class extends l{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}},e.FormatError=class extends l{constructor(t){super(t,"FormatError")}},e.AbortException=class extends l{constructor(t){super(t,"AbortException")}},e.FeatureTest=class{static get isLittleEndian(){return a(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return a(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}static get isOffscreenCanvasSupported(){return a(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}};const u=[...Array(256).keys()].map((t=>t.toString(16).padStart(2,"0")));class p{static makeHexColor(t,e,r){return`#${u[t]}${u[e]}${u[r]}`}static scaleMinMax(t,e){let r;t[0]?(t[0]<0&&(r=e[0],e[0]=e[1],e[1]=r),e[0]*=t[0],e[1]*=t[0],t[3]<0&&(r=e[2],e[2]=e[3],e[3]=r),e[2]*=t[3],e[3]*=t[3]):(r=e[0],e[0]=e[2],e[2]=r,r=e[1],e[1]=e[3],e[3]=r,t[1]<0&&(r=e[2],e[2]=e[3],e[3]=r),e[2]*=t[1],e[3]*=t[1],t[2]<0&&(r=e[0],e[0]=e[1],e[1]=r),e[0]*=t[2],e[1]*=t[2]),e[0]+=t[4],e[1]+=t[4],e[2]+=t[5],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}static applyInverseTransform(t,e){const r=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/r,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/r]}static getAxialAlignedBoundingBox(t,e){const r=p.applyTransform(t,e),n=p.applyTransform(t.slice(2,4),e),i=p.applyTransform([t[0],t[3]],e),o=p.applyTransform([t[2],t[1]],e);return[Math.min(r[0],n[0],i[0],o[0]),Math.min(r[1],n[1],i[1],o[1]),Math.max(r[0],n[0],i[0],o[0]),Math.max(r[1],n[1],i[1],o[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static apply3dTransform(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],r=t[0]*e[0]+t[1]*e[2],n=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],s=(r+o)/2,a=Math.sqrt((r+o)**2-4*(r*o-i*n))/2,l=s+a||1,c=s-a||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const r=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),n=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(r>n)return null;const i=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return i>o?null:[r,i,n,o]}static bezierBoundingBox(t,e,r,n,i,o,s,a){const l=[],c=[[],[]];let h,u,p,d,f,g,m,y;for(let c=0;c<2;++c)if(0===c?(u=6*t-12*r+6*i,h=-3*t+9*r-9*i+3*s,p=3*r-3*t):(u=6*e-12*n+6*o,h=-3*e+9*n-9*o+3*a,p=3*n-3*e),Math.abs(h)<1e-12){if(Math.abs(u)<1e-12)continue;d=-p/u,0<d&&d<1&&l.push(d)}else m=u*u-4*p*h,y=Math.sqrt(m),m<0||(f=(-u+y)/(2*h),0<f&&f<1&&l.push(f),g=(-u-y)/(2*h),0<g&&g<1&&l.push(g));let v,b=l.length;const w=b;for(;b--;)d=l[b],v=1-d,c[0][b]=v*v*v*t+3*v*v*d*r+3*v*d*d*i+d*d*d*s,c[1][b]=v*v*v*e+3*v*v*d*n+3*v*d*d*o+d*d*d*a;return c[0][w]=t,c[1][w]=e,c[0][w+1]=s,c[1][w+1]=a,c[0].length=c[1].length=w+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}}e.Util=p;const d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function f(t){return decodeURIComponent(escape(t))}},(t,e,r)=>{r(3)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const r=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);e.isNodeJS=r},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:t,NodeCMapReaderFactory:e,NodeStandardFontDataFactory:r}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=t,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=e,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=r}function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){const e=new PDFDocumentLoadingTask;let r;if("string"==typeof t||t instanceof URL)r={url:t};else if((0,_util.isArrayBuffer)(t))r={data:t};else if(t instanceof PDFDataRangeTransport)r={range:t};else{if("object"!=typeof t)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=t}const n=Object.create(null);let i=null,o=null;for(const t in r){const e=r[t];switch(t){case"url":if("undefined"!=typeof window)try{n[t]=new URL(e,window.location).href;continue}catch(t){(0,_util.warn)(`Cannot create valid URL: "${t}".`)}else if("string"==typeof e||e instanceof URL){n[t]=e.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=e;continue;case"worker":o=e;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&e instanceof Buffer)n[t]=new Uint8Array(e);else{if(e instanceof Uint8Array)break;if("string"==typeof e)n[t]=(0,_util.stringToBytes)(e);else if("object"!=typeof e||null===e||isNaN(e.length)){if(!(0,_util.isArrayBuffer)(e))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");n[t]=new Uint8Array(e)}else n[t]=new Uint8Array(e)}continue}n[t]=e}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.fontExtraProperties=!0===n.fontExtraProperties,n.pdfBug=!0===n.pdfBug,n.enableXfa=!0===n.enableXfa,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof n.docBaseUrl||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),"string"!=typeof n.cMapUrl&&(n.cMapUrl=null),"string"!=typeof n.standardFontDataUrl&&(n.standardFontDataUrl=null),"boolean"!=typeof n.useWorkerFetch&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof n.useSystemFonts&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),"object"==typeof n.ownerDocument&&null!==n.ownerDocument||(n.ownerDocument=globalThis.document),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!o){const t={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=t.port?PDFWorker.fromPort(t):new PDFWorker(t),e._worker=o}const s=e.docId;return o.promise.then((function(){if(e.destroyed)throw new Error("Loading aborted");const t=_fetchDocument(o,n,i,s),r=new Promise((function(t){let e;i?e=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},i):n.data||(e=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),t(e)}));return Promise.all([t,r]).then((function([t,r]){if(e.destroyed)throw new Error("Loading aborted");const i=new _message_handler.MessageHandler(s,t,o.port),a=new WorkerTransport(i,e,r,n);e._transport=a,i.send("Ready",null)}))})).catch(e._capability.reject),e}async function _fetchDocument(t,e,r,n){if(t.destroyed)throw new Error("Worker was destroyed");r&&(e.length=r.length,e.initialData=r.initialData,e.progressiveDone=r.progressiveDone,e.contentDispositionFilename=r.contentDispositionFilename);const i=await t.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.14.305",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(t.destroyed)throw new Error("Worker was destroyed");return i}class PDFDocumentLoadingTask{static#t=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#t++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await(this._transport?.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(t,e,r=!1,n=null){this.length=t,this.initialData=e,this.progressiveDone=r,this.contentDispositionFilename=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const r of this._rangeListeners)r(t,e)}onDataProgress(t,e){this._readyCapability.promise.then((()=>{for(const r of this._progressListeners)r(t,e)}))}onDataProgressiveRead(t){this._readyCapability.promise.then((()=>{for(const e of this._progressiveReadListeners)e(t)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const t of this._progressiveDoneListeners)t()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,e){this._pdfInfo=t,this._transport=e,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(t,e,r,n,i=!1){this._pageIndex=t,this._pageInfo=e,this._ownerDocument=n,this._transport=r,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:r=0,offsetY:n=0,dontFlip:i=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:e,offsetX:r,offsetY:n,dontFlip:i})}getAnnotations({intent:t="display"}={}){const e=this._transport.getRenderingIntent(t);let r=this._annotationPromises.get(e.cacheKey);return r||(r=this._transport.getAnnotations(this._pageIndex,e.renderingIntent),this._annotationPromises.set(e.cacheKey,r),r=r.then((t=>{for(const e of t)void 0!==e.titleObj&&Object.defineProperty(e,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),e.titleObj.str)}),void 0!==e.contentsObj&&Object.defineProperty(e,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),e.contentsObj.str)});return t}))),r}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:r="display",annotationMode:n=_util.AnnotationMode.ENABLE,transform:i=null,imageLayer:o=null,canvasFactory:s=null,background:a=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:h=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&n===_util.AnnotationMode.ENABLE&&(n=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&n===_util.AnnotationMode.ENABLE&&(n=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const u=this._transport.getRenderingIntent(r,n);this.pendingCleanup=!1,l||(l=this._transport.getOptionalContentConfig());let p=this._intentStates.get(u.cacheKey);p||(p=Object.create(null),this._intentStates.set(u.cacheKey,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const d=s||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),f=!!(u.renderingIntent&_util.RenderingIntentFlag.PRINT);p.displayReadyCapability||(p.displayReadyCapability=(0,_util.createPromiseCapability)(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(u));const g=t=>{p.renderTasks.delete(m),(this.cleanupAfterRender||f)&&(this.pendingCleanup=!0),this._tryCleanup(),t?(m.capability.reject(t),this._abortOperatorList({intentState:p,reason:t instanceof Error?t:new Error(t)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:g,params:{canvasContext:t,viewport:e,transform:i,imageLayer:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:d,useRequestAnimationFrame:!f,pdfBug:this._pdfBug,pageColors:h});(p.renderTasks||=new Set).add(m);const y=m.task;return Promise.all([p.displayReadyCapability.promise,l]).then((([t,e])=>{this.pendingCleanup?g():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics({transparency:t,optionalContentConfig:e}),m.operatorListChanged())})).catch(g),y}getOperatorList({intent:t="display",annotationMode:e=_util.AnnotationMode.ENABLE}={}){const r=this._transport.getRenderingIntent(t,e,!0);let n,i=this._intentStates.get(r.cacheKey);return i||(i=Object.create(null),this._intentStates.set(r.cacheKey,i)),i.opListReadCapability||(n=Object.create(null),n.operatorListChanged=function(){i.operatorList.lastChunk&&(i.opListReadCapability.resolve(i.operatorList),i.renderTasks.delete(n))},i.opListReadCapability=(0,_util.createPromiseCapability)(),(i.renderTasks||=new Set).add(n),i.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(r)),i.opListReadCapability.promise}streamTextContent({disableCombineTextItems:t=!1,includeMarkedContent:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==t,includeMarkedContent:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then((t=>_xfa_text.XfaText.textContent(t)));const e=this.streamTextContent(t);return new Promise((function(t,r){const n=e.getReader(),i={items:[],styles:Object.create(null)};!function e(){n.read().then((function({value:r,done:n}){n?t(i):(Object.assign(i.styles,r.styles),i.items.push(...r.items),e())}),r)}()}))}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const r of e.renderTasks)t.push(r.completed),r.cancel();this.objs.clear();for(const t of this._bitmaps)t.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}cleanup(t=!1){return this.pendingCleanup=!0,this._tryCleanup(t)}_tryCleanup(t=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const t of this._bitmaps)t.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(t,e){const r=this._intentStates.get(e);r&&(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(t))}_renderPageChunk(t,e){for(let r=0,n=t.length;r<n;r++)e.operatorList.fnArray.push(t.fnArray[r]),e.operatorList.argsArray.push(t.argsArray[r]);e.operatorList.lastChunk=t.lastChunk;for(const t of e.renderTasks)t.operatorListChanged();t.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:t,cacheKey:e}){const r=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:t&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),n=this._intentStates.get(e);n.streamReader=r;const i=()=>{r.read().then((({value:t,done:e})=>{e?n.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,n),i())}),(t=>{if(n.streamReader=null,!this._transport.destroyed){if(n.operatorList){n.operatorList.lastChunk=!0;for(const t of n.renderTasks)t.operatorListChanged();this._tryCleanup()}if(n.displayReadyCapability)n.displayReadyCapability.reject(t);else{if(!n.opListReadCapability)throw t;n.opListReadCapability.reject(t)}}}))};i()}_abortOperatorList({intentState:t,reason:e,force:r=!1}){if(t.streamReader){if(!r){if(t.renderTasks.size>0)return;if(e instanceof _display_utils.RenderingCancelledException)return void(t.streamReaderCancelTimeout=setTimeout((()=>{this._abortOperatorList({intentState:t,reason:e,force:!0}),t.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(t.streamReader.cancel(new _util.AbortException(e.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,r]of this._intentStates)if(r===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(t,e){const r={data:structuredClone(t,e)};this._deferred.then((()=>{for(const t of this._listeners)t.call(this,r)}))}addEventListener(t,e){this._listeners.push(e)}removeEventListener(t,e){const r=this._listeners.indexOf(e);this._listeners.splice(r,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const t=document?.currentScript?.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,e){let r;try{if(r=new URL(t),!r.origin||"null"===r.origin)return!1}catch(t){return!1}const n=new URL(e,r);return r.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(t){const e=`importScripts("${t}");`;return URL.createObjectURL(new Blob([e]))};class PDFWorker{static#e=new WeakMap;constructor({name:t=null,port:e=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(e&&PDFWorker.#e.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=r,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e)return PDFWorker.#e.set(e,this),void this._initializeFromPort(e);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let t=PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t),r=new _message_handler.MessageHandler("main","worker",e),n=()=>{e.removeEventListener("error",i),r.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||n()};e.addEventListener("error",i),r.on("test",(t=>{e.removeEventListener("error",i),this.destroyed?n():t?(this._messageHandler=r,this._port=e,this._webWorker=e,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),e.terminate())})),r.on("ready",(t=>{if(e.removeEventListener("error",i),this.destroyed)n();else try{o()}catch(t){this._setupFakeWorker()}}));const o=()=>{const t=new Uint8Array;r.send("test",t,[t.buffer])};return void o()}catch(t){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((t=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new LoopbackPort;this._port=e;const r="fake"+PDFWorkerUtil.fakeWorkerId++,n=new _message_handler.MessageHandler(r+"_worker",r,e);t.setup(n,e);const i=new _message_handler.MessageHandler(r,r+"_worker",e);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})})).catch((t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#e.has(t.port)?this.#e.get(t.port):new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch(t){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#r=null;#n=new Map;#i=new Map;#o=null;constructor(t,e,r,n){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:e.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:n.ownerDocument,styleElement:n.styleElement}),this._params=n,n.useWorkerFetch||(this.CMapReaderFactory=new n.CMapReaderFactory({baseUrl:n.cMapUrl,isCompressed:n.cMapPacked}),this.StandardFontDataFactory=new n.StandardFontDataFactory({baseUrl:n.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#r}getRenderingIntent(t,e=_util.AnnotationMode.ENABLE,r=!1){let n=_util.RenderingIntentFlag.DISPLAY,i="";switch(t){case"any":n=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":n=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${t}`)}switch(e){case _util.AnnotationMode.DISABLE:n+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:n+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:n+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,i=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${e}`)}return r&&(n+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:n,cacheKey:`${n}_${i}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const e of this.#n.values())t.push(e._destroy());this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#o=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",((t,e)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function({value:t,done:r}){r?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(t),1,[t]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(t=>{const r=(0,_util.createPromiseCapability)(),n=this._fullReader;return n.headersReady.then((()=>{n.isStreamingSupported&&n.isRangeSupported||(this._lastProgress&&e.onProgress?.(this._lastProgress),n.onProgress=t=>{e.onProgress?.({loaded:t.loaded,total:t.total})}),r.resolve({isStreamingSupported:n.isStreamingSupported,isRangeSupported:n.isRangeSupported,contentLength:n.contentLength})}),r.reject),r.promise})),t.on("GetRangeReader",((t,e)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(t.begin,t.end);r?(e.onPull=()=>{r.read().then((function({value:t,done:r}){r?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(t),1,[t]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{r.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}):e.close()})),t.on("GetDoc",(({pdfInfo:t})=>{this._numPages=t.numPages,this._htmlForXfa=t.htmlForXfa,delete t.htmlForXfa,e._capability.resolve(new PDFDocumentProxy(t,this))})),t.on("DocException",(function(t){let r;switch(t.name){case"PasswordException":r=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":r=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":r=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":r=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":r=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}e._capability.reject(r)})),t.on("PasswordRequest",(t=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),e.onPassword){const r=t=>{t instanceof Error?this._passwordCapability.reject(t):this._passwordCapability.resolve({password:t})};try{e.onPassword(r,t.code)}catch(t){this._passwordCapability.reject(t)}}else this._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return this._passwordCapability.promise})),t.on("DataLoaded",(t=>{e.onProgress?.({loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(t=>{this.destroyed||this.#n.get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(([e,r,n])=>{if(!this.destroyed&&!this.commonObjs.has(e))switch(r){case"Font":const i=this._params;if("error"in n){const t=n.error;(0,_util.warn)(`Error during font loading: ${t}`),this.commonObjs.resolve(e,t);break}let o=null;i.pdfBug&&globalThis.FontInspector?.enabled&&(o={registerFont(t,e){globalThis.FontInspector.fontAdded(t,e)}});const s=new _font_loader.FontFaceObject(n,{isEvalSupported:i.isEvalSupported,disableFontFace:i.disableFontFace,ignoreErrors:i.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:o});this.fontLoader.bind(s).catch((r=>t.sendWithPromise("FontFallback",{id:e}))).finally((()=>{!i.fontExtraProperties&&s.data&&(s.data=null),this.commonObjs.resolve(e,s)}));break;case"FontPath":case"Image":this.commonObjs.resolve(e,n);break;default:throw new Error(`Got unknown common object type ${r}`)}})),t.on("obj",(([t,e,r,n])=>{if(this.destroyed)return;const i=this.#n.get(e);if(!i.objs.has(t))switch(r){case"Image":i.objs.resolve(t,n);const e=8e6;if(n){let t;if(n.bitmap){const{bitmap:e,width:r,height:o}=n;t=r*o*4,i._bitmaps.add(e)}else t=n.data?.length||0;t>e&&(i.cleanupAfterRender=!0)}break;case"Pattern":i.objs.resolve(t,n);break;default:throw new Error(`Got unknown object type ${r}`)}})),t.on("DocProgress",(t=>{this.destroyed||e.onProgress?.({loaded:t.loaded,total:t.total})})),t.on("DocStats",(t=>{this.destroyed||(this.#r=Object.freeze({streamTypes:Object.freeze(t.streamTypes),fontTypes:Object.freeze(t.fontTypes)}))})),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),t.on("FetchStandardFontData",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}_onUnsupportedFeature({featureId:t}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,r=this.#i.get(e);if(r)return r;const n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then((t=>{if(this.destroyed)throw new Error("Transport destroyed");const r=new PDFPageProxy(e,t,this,this._params.ownerDocument,this._params.pdfBug);return this.#n.set(e,r),r}));return this.#i.set(e,n),n}getPageIndex(t){return"object"!=typeof t||null===t||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally((()=>{this.annotationStorage.resetModified()}))}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((t=>new _optional_content_config.OptionalContentConfig(t)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#o||=this.messageHandler.sendWithPromise("GetMetadata",null).then((t=>({info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const t of this.#n.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#o=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}class PDFObjects{#s=Object.create(null);#a(t){const e=this.#s[t];return e||(this.#s[t]={capability:(0,_util.createPromiseCapability)(),data:null})}get(t,e=null){if(e){const r=this.#a(t);return r.capability.promise.then((()=>e(r.data))),null}const r=this.#s[t];if(!r?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return r.data}has(t){return this.#s[t]?.capability.settled||!1}resolve(t,e=null){const r=this.#a(t);r.data=e,r.capability.resolve()}clear(){this.#s=Object.create(null)}}class RenderTask{constructor(t){this._internalRenderTask=t,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static#l=new WeakSet;constructor({callback:t,params:e,objs:r,commonObjs:n,annotationCanvasMap:i,operatorList:o,pageIndex:s,canvasFactory:a,useRequestAnimationFrame:l=!1,pdfBug:c=!1,pageColors:h=null}){this.callback=t,this.params=e,this.objs=r,this.commonObjs=n,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=a,this._pdfBug=c,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#l.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#l.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:n,transform:i,imageLayer:o,background:s}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,o,e,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:n,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(t=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#l.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#l.delete(this._canvas),this.callback())))}}const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=function(t){console.log("Deprecated API usage: "+t)},e.getFilenameFromUrl=function(t){const e=t.indexOf("#"),r=t.indexOf("?"),n=Math.min(e>0?e:t.length,r>0?r:t.length);return t.substring(t.lastIndexOf("/",n)+1,n)},e.getPdfFilenameFromUrl=function(t,e="document.pdf"){if("string"!=typeof t)return e;if(d(t))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let o=r.exec(n[1])||r.exec(n[2])||r.exec(n[3]);if(o&&(o=o[0],o.includes("%")))try{o=r.exec(decodeURIComponent(o))[0]}catch(t){}return o||e},e.getXfaPageViewport=function(t,{scale:e=1,rotation:r=0}){const{width:n,height:i}=t.attributes.style,o=[0,0,parseInt(n),parseInt(i)];return new u({viewBox:o,scale:e,rotation:r})},e.isDataScheme=d,e.isPdfFile=function(t){return"string"==typeof t&&/\.pdf$/i.test(t)},e.isValidFetchUrl=f,e.loadScript=function(t,e=!1){return new Promise(((r,n)=>{const i=document.createElement("script");i.src=t,i.onload=function(t){e&&i.remove(),r(t)},i.onerror=function(){n(new Error(`Cannot load script at: ${i.src}`))},(document.head||document.documentElement).appendChild(i)}))};var n=r(6),i=r(1);class o{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=o;class s extends n.BaseCanvasFactory{constructor({ownerDocument:t=globalThis.document}={}){super(),this._document=t}_createCanvas(t,e){const r=this._document.createElement("canvas");return r.width=t,r.height=e,r}}async function a(t,e=!1){if(f(t,document.baseURI)){const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);return e?new Uint8Array(await r.arrayBuffer()):(0,i.stringToBytes)(await r.text())}return new Promise(((r,n)=>{const o=new XMLHttpRequest;o.open("GET",t,!0),e&&(o.responseType="arraybuffer"),o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){let t;if(e&&o.response?t=new Uint8Array(o.response):!e&&o.responseText&&(t=(0,i.stringToBytes)(o.responseText)),t)return void r(t)}n(new Error(o.statusText))}},o.send(null)}))}e.DOMCanvasFactory=s;class l extends n.BaseCMapReaderFactory{_fetchData(t,e){return a(t,this.isCompressed).then((t=>({cMapData:t,compressionType:e})))}}e.DOMCMapReaderFactory=l;class c extends n.BaseStandardFontDataFactory{_fetchData(t){return a(t,!0)}}e.DOMStandardFontDataFactory=c;class h extends n.BaseSVGFactory{_createSVG(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}}e.DOMSVGFactory=h;class u{constructor({viewBox:t,scale:e,rotation:r,offsetX:n=0,offsetY:i=0,dontFlip:o=!1}){this.viewBox=t,this.scale=e,this.rotation=r,this.offsetX=n,this.offsetY=i;const s=(t[2]+t[0])/2,a=(t[3]+t[1])/2;let l,c,h,u,p,d,f,g;switch((r%=360)<0&&(r+=360),r){case 180:l=-1,c=0,h=0,u=1;break;case 90:l=0,c=1,h=1,u=0;break;case 270:l=0,c=-1,h=-1,u=0;break;case 0:l=1,c=0,h=0,u=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,u=-u),0===l?(p=Math.abs(a-t[1])*e+n,d=Math.abs(s-t[0])*e+i,f=Math.abs(t[3]-t[1])*e,g=Math.abs(t[2]-t[0])*e):(p=Math.abs(s-t[0])*e+n,d=Math.abs(a-t[1])*e+i,f=Math.abs(t[2]-t[0])*e,g=Math.abs(t[3]-t[1])*e),this.transform=[l*e,c*e,h*e,u*e,p-l*e*s-h*e*a,d-c*e*s-u*e*a],this.width=f,this.height=g}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:r=this.offsetX,offsetY:n=this.offsetY,dontFlip:i=!1}={}){return new u({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:r,offsetY:n,dontFlip:i})}convertToViewportPoint(t,e){return i.Util.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=i.Util.applyTransform([t[0],t[1]],this.transform),r=i.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],r[0],r[1]]}convertToPdfPoint(t,e){return i.Util.applyInverseTransform([t,e],this.transform)}}e.PageViewport=u;class p extends i.BaseException{constructor(t,e){super(t,"RenderingCancelledException"),this.type=e}}function d(t){const e=t.length;let r=0;for(;r<e&&""===t[r].trim();)r++;return"data:"===t.substring(r,r+5).toLowerCase()}function f(t,e){try{const{protocol:r}=e?new URL(t,e):new URL(t);return"http:"===r||"https:"===r}catch(t){return!1}}let g;e.RenderingCancelledException=p,e.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(t){t in this.started&&(0,i.warn)(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||(0,i.warn)(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const t of this.times){const r=t.name;r.length>e&&(e=r.length)}for(const r of this.times){const n=r.end-r.start;t.push(`${r.name.padEnd(e)} ${n}ms\n`)}return t.join("")}},e.PDFDateString=class{static toDateObject(t){if(!t||"string"!=typeof t)return null;g||(g=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=g.exec(t);if(!e)return null;const r=parseInt(e[1],10);let n=parseInt(e[2],10);n=n>=1&&n<=12?n-1:0;let i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let s=parseInt(e[5],10);s=s>=0&&s<=59?s:0;let a=parseInt(e[6],10);a=a>=0&&a<=59?a:0;const l=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let h=parseInt(e[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===l?(o+=c,s+=h):"+"===l&&(o-=c,s-=h),new Date(Date.UTC(r,n,i,o,s,a))}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var n=r(1);class i{constructor(){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(t,e);return{canvas:r,context:r.getContext("2d")}}reset(t,e,r){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||r<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=r}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=i;class o{constructor({baseUrl:t=null,isCompressed:e=!1}){this.constructor===o&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),r=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(e,r).catch((t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)}))}_fetchData(t,e){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=o;class s{constructor({baseUrl:t=null}){this.constructor===s&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetchData(e).catch((t=>{throw new Error(`Unable to load font data at: ${e}`)}))}_fetchData(t){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=s;class a{constructor(){this.constructor===a&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,e){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,n.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var n=r(1);class i{constructor({docId:t,onUnsupportedFeature:e,ownerDocument:r=globalThis.document,styleElement:o=null}){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=e,this._document=r,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(t){this.nativeFontFaces.push(t),this._document.fonts.add(t)}insertRule(t){let e=this.styleElement;e||(e=this.styleElement=this._document.createElement("style"),e.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(e));const r=e.sheet;r.insertRule(t,r.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(t){if(t.attached||t.missingFile)return;if(t.attached=!0,this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(r){throw this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,n.warn)(`Failed to load font '${e.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise((r=>{const n=this._queueLoadingCallback(r);this._prepareFontLoadEvent([e],[t],n)}))}}_queueLoadingCallback(t){(0,n.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return(0,n.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){(0,n.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,n.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(t,e,r){(0,n.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let o;e.FontLoader=o,e.FontLoader=o=class extends i{constructor(t){super(t),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let t=!1;return("undefined"==typeof navigator||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(t=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){const e=this.loadingContext,r={id:"pdfjs-font-loading-"+e.nextRequestId++,done:!1,complete:function(){for((0,n.assert)(!r.done,"completeRequest() cannot be called twice."),r.done=!0;e.requests.length>0&&e.requests[0].done;){const t=e.requests.shift();setTimeout(t.callback,0)}},callback:t};return e.requests.push(r),r}get _loadTestFont(){return(0,n.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e,r){function i(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function o(t,e,r,n){return t.substring(0,e)+n+t.substring(e+r)}let s,a;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let h=0;const u=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=o(p,976,u.length,u);const d=1482184792;let f=i(p,16);for(s=0,a=u.length-3;s<a;s+=4)f=f-d+i(u,s)|0;s<u.length&&(f=f-d+i(u+"XXX",s)|0),p=o(p,16,4,(0,n.string32)(f));const g=`@font-face {font-family:"${u}";src:url(data:font/opentype;base64,${btoa(p)});}`;this.insertRule(g);const m=[];for(const t of e)m.push(t.loadedName);m.push(u);const y=this._document.createElement("div");y.style.visibility="hidden",y.style.width=y.style.height="10px",y.style.position="absolute",y.style.top=y.style.left="0px";for(const t of m){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=t,y.appendChild(e)}this._document.body.appendChild(y),function t(e,r){if(h++,h>30)return(0,n.warn)("Load test font never loaded."),void r();c.font="30px "+e,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?r():setTimeout(t.bind(null,e,r))}(u,(()=>{y.remove(),r.complete()}))}},e.FontFaceObject=class{constructor(t,{isEvalSupported:e=!0,disableFontFace:r=!1,ignoreErrors:n=!1,onUnsupportedFeature:i,fontRegistry:o=null}){this.compiledGlyphs=Object.create(null);for(const e in t)this[e]=t[e];this.isEvalSupported=!1!==e,this.disableFontFace=!0===r,this.ignoreErrors=!0===n,this._onUnsupportedFeature=i,this.fontRegistry=o}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=(0,n.bytesToString)(this.data),e=`url(data:${this.mimetype};base64,${btoa(t)});`;let r;if(this.cssFontInfo){let t=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(t+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${t}src:${e}}`}else r=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,e),r}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let r;try{r=t.get(this.loadedName+"_path_"+e)}catch(t){if(!this.ignoreErrors)throw t;return this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,n.warn)(`getPathGenerator - ignoring character: "${t}".`),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const t=[];for(const e of r){const r=void 0!==e.args?e.args.join(","):"";t.push("c.",e.cmd,"(",r,");\n")}return this.compiledGlyphs[e]=new Function("c","size",t.join(""))}return this.compiledGlyphs[e]=function(t,e){for(const n of r)"scale"===n.cmd&&(n.args=[e,-e]),t[n.cmd].apply(t,n.args)}}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationStorage=void 0;var n=r(9),i=r(1);e.AnnotationStorage=class{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(t,e){const r=this._storage.get(t);return void 0===r?e:Object.assign(e,r)}getRawValue(t){return this._storage.get(t)}setValue(t,e){const r=this._storage.get(t);let n=!1;if(void 0!==r)for(const[t,i]of Object.entries(e))r[t]!==i&&(n=!0,r[t]=i);else n=!0,this._storage.set(t,e);n&&this._setModified()}getAll(){return this._storage.size>0?(0,i.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const t=new n.MurmurHash3_64;for(const[e,r]of this._storage)t.update(`${e}:${JSON.stringify(r)}`);return t.hexdigest()}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var n=r(1);const i=3285377520,o=4294901760,s=65535;e.MurmurHash3_64=class{constructor(t){this.h1=t?4294967295&t:i,this.h2=t?4294967295&t:i}update(t){let e,r;if("string"==typeof t){e=new Uint8Array(2*t.length),r=0;for(let n=0,i=t.length;n<i;n++){const i=t.charCodeAt(n);i<=255?e[r++]=i:(e[r++]=i>>>8,e[r++]=255&i)}}else{if(!(0,n.isArrayBuffer)(t))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");e=t.slice(),r=e.byteLength}const i=r>>2,a=r-4*i,l=new Uint32Array(e.buffer,0,i);let c=0,h=0,u=this.h1,p=this.h2;const d=3432918353,f=461845907,g=11601,m=13715;for(let t=0;t<i;t++)1&t?(c=l[t],c=c*d&o|c*g&s,c=c<<15|c>>>17,c=c*f&o|c*m&s,u^=c,u=u<<13|u>>>19,u=5*u+3864292196):(h=l[t],h=h*d&o|h*g&s,h=h<<15|h>>>17,h=h*f&o|h*m&s,p^=h,p=p<<13|p>>>19,p=5*p+3864292196);switch(c=0,a){case 3:c^=e[4*i+2]<<16;case 2:c^=e[4*i+1]<<8;case 1:c^=e[4*i],c=c*d&o|c*g&s,c=c<<15|c>>>17,c=c*f&o|c*m&s,1&i?u^=c:p^=c}this.h1=u,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;t^=e>>>1,t=3981806797*t&o|36045*t&s,e=4283543511*e&o|(2950163797*(e<<16|t>>>16)&o)>>>16,t^=e>>>1,t=444984403*t&o|60499*t&s,e=3301882366*e&o|(3120437893*(e<<16|t>>>16)&o)>>>16,t^=e>>>1;const r=(t>>>0).toString(16),n=(e>>>0).toString(16);return r.padStart(8,"0")+n.padStart(8,"0")}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=r(1),i=r(11),o=r(12),s=r(3),a=r(5);const l=4096,c=16;function h(t){if(t._transformStack&&(t._transformStack=[]),!t.mozCurrentTransform){t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._originalResetTransform=t.resetTransform,t._transformMatrix=t._transformMatrix||[1,0,0,1,0,0],t._transformStack=[];try{const e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"lineWidth");t._setLineWidth=e.set,t._getLineWidth=e.get,Object.defineProperty(t,"lineWidth",{set:function(t){this._setLineWidth(1.000001*t)},get:function(){return this._getLineWidth()}})}catch(t){}Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){const[t,e,r,n,i,o]=this._transformMatrix,s=t*n-e*r,a=e*r-t*n;return[n/s,e/a,r/a,t/s,(n*i-r*o)/a,(e*i-t*o)/s]}}),t.save=function(){const t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},t.restore=function(){0===this._transformStack.length&&(0,n.warn)("Tried to restore a ctx when the stack was already empty.");const t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},t.translate=function(t,e){const r=this._transformMatrix;r[4]=r[0]*t+r[2]*e+r[4],r[5]=r[1]*t+r[3]*e+r[5],this._originalTranslate(t,e)},t.scale=function(t,e){const r=this._transformMatrix;r[0]*=t,r[1]*=t,r[2]*=e,r[3]*=e,this._originalScale(t,e)},t.transform=function(e,r,n,i,o,s){const a=this._transformMatrix;this._transformMatrix=[a[0]*e+a[2]*r,a[1]*e+a[3]*r,a[0]*n+a[2]*i,a[1]*n+a[3]*i,a[0]*o+a[2]*s+a[4],a[1]*o+a[3]*s+a[5]],t._originalTransform(e,r,n,i,o,s)},t.setTransform=function(e,r,n,i,o,s){this._transformMatrix=[e,r,n,i,o,s],t._originalSetTransform(e,r,n,i,o,s)},t.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],t._originalResetTransform()},t.rotate=function(t){const e=Math.cos(t),r=Math.sin(t),n=this._transformMatrix;this._transformMatrix=[n[0]*e+n[2]*r,n[1]*e+n[3]*r,n[0]*-r+n[2]*e,n[1]*-r+n[3]*e,n[4],n[5]],this._originalRotate(t)}}}class u{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,r,n){let i;return void 0!==this.cache[t]?(i=this.cache[t],this.canvasFactory.reset(i,e,r),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(e,r),this.cache[t]=i),n&&h(i.context),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function p(t,e,r,n,i,o,s,a,l,c){const[h,u,p,d,f,g]=t.mozCurrentTransform;if(0===u&&0===p){const m=s*h+f,y=Math.round(m),v=a*d+g,b=Math.round(v),w=(s+l)*h+f,x=Math.abs(Math.round(w)-y)||1,S=(a+c)*d+g,k=Math.abs(Math.round(S)-b)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(d),y,b),t.drawImage(e,r,n,i,o,0,0,x,k),t.setTransform(h,u,p,d,f,g),[x,k]}if(0===h&&0===d){const m=a*p+f,y=Math.round(m),v=s*u+g,b=Math.round(v),w=(a+c)*p+f,x=Math.abs(Math.round(w)-y)||1,S=(s+l)*u+g,k=Math.abs(Math.round(S)-b)||1;return t.setTransform(0,Math.sign(u),Math.sign(p),0,y,b),t.drawImage(e,r,n,i,o,0,0,k,x),t.setTransform(h,u,p,d,f,g),[k,x]}return t.drawImage(e,r,n,i,o,s,a,l,c),[Math.hypot(h,u)*l,Math.hypot(p,d)*c]}class d{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,r){[e,r]=n.Util.applyTransform([e,r],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(t,e){const r=n.Util.applyTransform(e,t),i=n.Util.applyTransform(e.slice(2),t);this.minX=Math.min(this.minX,r[0],i[0]),this.minY=Math.min(this.minY,r[1],i[1]),this.maxX=Math.max(this.maxX,r[0],i[0]),this.maxY=Math.max(this.maxY,r[1],i[1])}updateScalingPathMinMax(t,e){n.Util.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,r,i,o,s,a,l,c,h){const u=n.Util.bezierBoundingBox(e,r,i,o,s,a,l,c);if(h)return h[0]=Math.min(h[0],u[0],u[2]),h[1]=Math.max(h[1],u[0],u[2]),h[2]=Math.min(h[2],u[1],u[3]),void(h[3]=Math.max(h[3],u[1],u[3]));this.updateRectMinMax(t,u)}getPathBoundingBox(t=i.PathType.FILL,e=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(t===i.PathType.STROKE){e||(0,n.unreachable)("Stroke bounding box must include transform.");const t=n.Util.singularValueDecompose2dScale(e),i=t[0]*this.lineWidth/2,o=t[1]*this.lineWidth/2;r[0]-=i,r[1]-=o,r[2]+=i,r[3]+=o}return r}updateClipFromPath(){const t=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=i.PathType.FILL,e=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function f(t,e,r=null){if("undefined"!=typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);const i=e.height,o=e.width,s=i%c,a=(i-s)/c,l=0===s?a:a+1,h=t.createImageData(o,c);let u,p=0;const d=e.data,f=h.data;let g,m,y,v,b,w,x,S;if(r)switch(r.length){case 1:b=r[0],w=r[0],x=r[0],S=r[0];break;case 4:b=r[0],w=r[1],x=r[2],S=r[3]}if(e.kind===n.ImageKind.GRAYSCALE_1BPP){const e=d.byteLength,r=new Uint32Array(f.buffer,0,f.byteLength>>2),i=r.length,v=o+7>>3;let b=4294967295,w=n.FeatureTest.isLittleEndian?4278190080:255;for(S&&255===S[0]&&0===S[255]&&([b,w]=[w,b]),g=0;g<l;g++){for(y=g<a?c:s,u=0,m=0;m<y;m++){const t=e-p;let n=0;const i=t>v?o:8*t-7,s=-8&i;let a=0,l=0;for(;n<s;n+=8)l=d[p++],r[u++]=128&l?b:w,r[u++]=64&l?b:w,r[u++]=32&l?b:w,r[u++]=16&l?b:w,r[u++]=8&l?b:w,r[u++]=4&l?b:w,r[u++]=2&l?b:w,r[u++]=1&l?b:w;for(;n<i;n++)0===a&&(l=d[p++],a=128),r[u++]=l&a?b:w,a>>=1}for(;u<i;)r[u++]=0;t.putImageData(h,0,g*c)}}else if(e.kind===n.ImageKind.RGBA_32BPP){const e=!!(b||w||x);for(m=0,v=o*c*4,g=0;g<a;g++){if(f.set(d.subarray(p,p+v)),p+=v,e)for(let t=0;t<v;t+=4)b&&(f[t+0]=b[f[t+0]]),w&&(f[t+1]=w[f[t+1]]),x&&(f[t+2]=x[f[t+2]]);t.putImageData(h,0,m),m+=c}if(g<l){if(v=o*s*4,f.set(d.subarray(p,p+v)),e)for(let t=0;t<v;t+=4)b&&(f[t+0]=b[f[t+0]]),w&&(f[t+1]=w[f[t+1]]),x&&(f[t+2]=x[f[t+2]]);t.putImageData(h,0,m)}}else{if(e.kind!==n.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);{const e=!!(b||w||x);for(y=c,v=o*y,g=0;g<l;g++){for(g>=a&&(y=s,v=o*y),u=0,m=v;m--;)f[u++]=d[p++],f[u++]=d[p++],f[u++]=d[p++],f[u++]=255;if(e)for(let t=0;t<u;t+=4)b&&(f[t+0]=b[f[t+0]]),w&&(f[t+1]=w[f[t+1]]),x&&(f[t+2]=x[f[t+2]]);t.putImageData(h,0,g*c)}}}}function g(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const r=e.height,n=e.width,i=r%c,s=(r-i)/c,a=0===i?s:s+1,l=t.createImageData(n,c);let h=0;const u=e.data,p=l.data;for(let e=0;e<a;e++){const r=e<s?c:i;({srcPos:h}=(0,o.applyMaskImageData)({src:u,srcPos:h,dest:p,width:n,height:r})),t.putImageData(l,0,e*c)}}function m(t,e){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let n=0,i=r.length;n<i;n++){const i=r[n];void 0!==t[i]&&(e[i]=t[i])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function y(t,e){t.strokeStyle=t.fillStyle=e||"#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0)}function v(t,e,r,n){const i=t.length;for(let o=3;o<i;o+=4){const i=t[o];if(0===i)t[o-3]=e,t[o-2]=r,t[o-1]=n;else if(i<255){const s=255-i;t[o-3]=t[o-3]*i+e*s>>8,t[o-2]=t[o-2]*i+r*s>>8,t[o-1]=t[o-1]*i+n*s>>8}}}function b(t,e,r){const n=t.length;for(let i=3;i<n;i+=4){const n=r?r[t[i]]:t[i];e[i]=e[i]*n*.00392156862745098|0}}function w(t,e,r){const n=t.length;for(let i=3;i<n;i+=4){const n=77*t[i-3]+152*t[i-2]+28*t[i-1];e[i]=r?e[i]*r[n>>8]>>8:e[i]*n>>16}}function x(t,e,r,n){const i=n[0],o=n[1],s=n[2]-i,a=n[3]-o;0!==s&&0!==a&&(function(t,e,r,n,i,o,s,a,l,c,h){const u=!!o,p=u?o[0]:0,d=u?o[1]:0,f=u?o[2]:0;let g;g="Luminosity"===i?w:b;const m=Math.min(n,Math.ceil(1048576/r));for(let i=0;i<n;i+=m){const o=Math.min(m,n-i),y=t.getImageData(a-c,i+(l-h),r,o),b=e.getImageData(a,i+l,r,o);u&&v(y.data,p,d,f),g(y.data,b.data,s),e.putImageData(b,a,i+l)}}(e.context,r,s,a,e.subtype,e.backdrop,e.transferMap,i,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(r.canvas,0,0),t.restore())}function S(t,e){const r=n.Util.singularValueDecompose2dScale(t);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==e?e:r[0]<=i||r[1]<=i}const k=["butt","round","square"],A=["miter","round","bevel"],C={},_={};class T{constructor(t,e,r,n,i,o,s,a){this.ctx=t,this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=r,this.canvasFactory=n,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new u(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=a?.background||null,this.foregroundColor=a?.foreground||null,t&&h(t),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return"string"==typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:r=!1,background:n=null}){const i=this.ctx.canvas.width,o=this.ctx.canvas.height,s=n||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const t=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const e=this.backgroundColor=this.ctx.fillStyle;let r=!0,n=s;if(this.ctx.fillStyle=s,n=this.ctx.fillStyle,r="string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n),"#000000"===t&&"#ffffff"===e||t===e||!r)this.foregroundColor=this.backgroundColor=null;else{const r=parseInt(n.slice(1),16),i=(r&&16711680)>>16,o=(r&&65280)>>8,s=r&&255,a=t=>(t/=255)<=.03928?t/12.92:((t+.055)/1.055)**2.4,l=Math.round(.2126*a(i)+.7152*a(o)+.0722*a(s));this.selectColor=(r,n,i)=>{const o=.2126*a(r)+.7152*a(n)+.0722*a(i);return Math.round(o)===l?e:t}}}if(this.ctx.fillStyle=this.backgroundColor||s,this.ctx.fillRect(0,0,i,o),this.ctx.restore(),r){const t=this.cachedCanvases.getCanvas("transparent",i,o,!0);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),y(this.ctx,this.foregroundColor),t&&(this.ctx.transform.apply(this.ctx,t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform.apply(this.ctx,e.transform),this.viewportScale=e.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(t,e,r,i){const o=t.argsArray,s=t.fnArray;let a=e||0;const l=o.length;if(l===a)return a;const c=l-a>10&&"function"==typeof r,h=c?Date.now()+15:0;let u=0;const p=this.commonObjs,d=this.objs;let f;for(;;){if(void 0!==i&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(f=s[a],f!==n.OPS.dependency)this[f].apply(this,o[a]);else for(const t of o[a]){const e=t.startsWith("g_")?p:d;if(!e.has(t))return e.get(t,r),a}if(a++,a===l)return a;if(c&&++u>10){if(Date.now()>h)return r(),a;u=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(t,e){const r=t.width,n=t.height;let i,o,s=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),l=r,c=n,h="prescale1";for(;s>2&&l>1||a>2&&c>1;){let e=l,r=c;s>2&&l>1&&(e=Math.ceil(l/2),s/=l/e),a>2&&c>1&&(r=Math.ceil(c/2),a/=c/r),i=this.cachedCanvases.getCanvas(h,e,r,!1),o=i.context,o.clearRect(0,0,e,r),o.drawImage(t,0,0,l,c,0,0,e,r),t=i.canvas,l=e,c=r,h="prescale1"===h?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:c}}_createMaskCanvas(t){const e=this.ctx,{width:r,height:o}=t,s=this.current.fillColor,a=this.current.patternFill,l=e.mozCurrentTransform;let c,h,u,d;if((t.bitmap||t.data)&&t.count>1){const e=t.bitmap||t.data.buffer,r=l.slice(0,4);h=JSON.stringify(a?r:[r,s]),c=this._cachedBitmapsMap.get(e),c||(c=new Map,this._cachedBitmapsMap.set(e,c));const n=c.get(h);if(n&&!a)return{canvas:n,offsetX:Math.round(Math.min(l[0],l[2])+l[4]),offsetY:Math.round(Math.min(l[1],l[3])+l[5])};u=n}u||(d=this.cachedCanvases.getCanvas("maskCanvas",r,o,!1),g(d.context,t));let f=n.Util.transform(l,[1/r,0,0,-1/o,0,0]);f=n.Util.transform(f,[1,0,0,1,0,-o]);const m=n.Util.applyTransform([0,0],f),y=n.Util.applyTransform([r,o],f),v=n.Util.normalizeRect([m[0],m[1],y[0],y[1]]),b=Math.round(v[2]-v[0])||1,w=Math.round(v[3]-v[1])||1,x=this.cachedCanvases.getCanvas("fillCanvas",b,w,!0),k=x.context,A=Math.min(m[0],y[0]),C=Math.min(m[1],y[1]);k.translate(-A,-C),k.transform.apply(k,f),u||(u=this._scaleImage(d.canvas,k.mozCurrentTransformInverse),u=u.img,c&&a&&c.set(h,u)),k.imageSmoothingEnabled=S(k.mozCurrentTransform,t.interpolate),p(k,u,0,0,u.width,u.height,0,0,r,o),k.globalCompositeOperation="source-in";const _=n.Util.transform(k.mozCurrentTransformInverse,[1,0,0,1,-A,-C]);return k.fillStyle=a?s.getPattern(e,this,_,i.PathType.FILL):s,k.fillRect(0,0,r,o),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(h,x.canvas)),{canvas:x.canvas,offsetX:Math.round(A),offsetY:Math.round(C)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=k[t]}setLineJoin(t){this.ctx.lineJoin=A[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(t),r.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(let e=0,r=t.length;e<r;e++){const r=t[e],n=r[0],i=r[1];switch(n){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=i}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,n=this.cachedCanvases.getCanvas(r,t,e,!0);this.suspendedCtx=this.ctx,this.ctx=n.context;const i=this.ctx;i.setTransform.apply(i,this.suspendedCtx.mozCurrentTransform),m(this.suspendedCtx,i),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},t.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},t.transform=function(t,r,n,i,o,s){e.transform(t,r,n,i,o,s),this.__originalTransform(t,r,n,i,o,s)},t.setTransform=function(t,r,n,i,o,s){e.setTransform(t,r,n,i,o,s),this.__originalSetTransform(t,r,n,i,o,s)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},t.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},t.bezierCurveTo=function(t,r,n,i,o,s){e.bezierCurveTo(t,r,n,i,o,s),this.__originalBezierCurveTo(t,r,n,i,o,s)},t.rect=function(t,r,n,i){e.rect(t,r,n,i),this.__originalRect(t,r,n,i)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),m(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask;x(this.suspendedCtx,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(m(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),m(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(t,e,r,n,i,o){this.ctx.transform(t,e,r,n,i,o),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(t,e,r){const i=this.ctx,o=this.current;let s,a,l=o.x,c=o.y;const h=i.mozCurrentTransform,u=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],p=u?r.slice(0):null;for(let r=0,d=0,f=t.length;r<f;r++)switch(0|t[r]){case n.OPS.rectangle:l=e[d++],c=e[d++];const t=e[d++],r=e[d++],f=l+t,g=c+r;i.moveTo(l,c),0===t||0===r?i.lineTo(f,g):(i.lineTo(f,c),i.lineTo(f,g),i.lineTo(l,g)),u||o.updateRectMinMax(h,[l,c,f,g]),i.closePath();break;case n.OPS.moveTo:l=e[d++],c=e[d++],i.moveTo(l,c),u||o.updatePathMinMax(h,l,c);break;case n.OPS.lineTo:l=e[d++],c=e[d++],i.lineTo(l,c),u||o.updatePathMinMax(h,l,c);break;case n.OPS.curveTo:s=l,a=c,l=e[d+4],c=e[d+5],i.bezierCurveTo(e[d],e[d+1],e[d+2],e[d+3],l,c),o.updateCurvePathMinMax(h,s,a,e[d],e[d+1],e[d+2],e[d+3],l,c,p),d+=6;break;case n.OPS.curveTo2:s=l,a=c,i.bezierCurveTo(l,c,e[d],e[d+1],e[d+2],e[d+3]),o.updateCurvePathMinMax(h,s,a,l,c,e[d],e[d+1],e[d+2],e[d+3],p),l=e[d+2],c=e[d+3],d+=4;break;case n.OPS.curveTo3:s=l,a=c,l=e[d+2],c=e[d+3],i.bezierCurveTo(e[d],e[d+1],l,c,l,c),o.updateCurvePathMinMax(h,s,a,e[d],e[d+1],l,c,l,c,p),d+=4;break;case n.OPS.closePath:i.closePath()}u&&o.updateScalingPathMinMax(h,p),o.setCurrentPoint(l,c)}closePath(){this.ctx.closePath()}stroke(t){t=void 0===t||t;const e=this.ctx,r=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof r&&r?.getPattern?(e.save(),e.strokeStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,i.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t){t=void 0===t||t;const e=this.ctx,r=this.current.fillColor;let n=!1;this.current.patternFill&&(e.save(),e.fillStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,i.PathType.FILL),n=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==o&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),n&&e.restore(),t&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=C}eoClip(){this.pendingClip=_}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(let r=0;r<t.length;r++){const n=t[r];e.setTransform.apply(e,n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const r=this.commonObjs.get(t),i=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=r.fontMatrix||n.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,n.warn)("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=e,r.isType3Font)return;const o=r.loadedName||"sans-serif";let s="normal";r.black?s="900":r.bold&&(s="bold");const a=r.italic?"italic":"normal",l=`"${o}", ${r.fallbackName}`;let c=e;e<16?c=16:e>100&&(c=100),this.current.fontSizeScale=e/c,this.ctx.font=`${a} ${s} ${c}px ${l}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,r,n,i,o){this.current.textMatrix=[t,e,r,n,i,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,r,i){const o=this.ctx,s=this.current,a=s.font,l=s.textRenderingMode,c=s.fontSize/s.fontSizeScale,h=l&n.TextRenderingMode.FILL_STROKE_MASK,u=!!(l&n.TextRenderingMode.ADD_TO_PATH_FLAG),p=s.patternFill&&!a.missingFile;let d;(a.disableFontFace||u||p)&&(d=a.getPathGenerator(this.commonObjs,t)),a.disableFontFace||p?(o.save(),o.translate(e,r),o.beginPath(),d(o,c),i&&o.setTransform.apply(o,i),h!==n.TextRenderingMode.FILL&&h!==n.TextRenderingMode.FILL_STROKE||o.fill(),h!==n.TextRenderingMode.STROKE&&h!==n.TextRenderingMode.FILL_STROKE||o.stroke(),o.restore()):(h!==n.TextRenderingMode.FILL&&h!==n.TextRenderingMode.FILL_STROKE||o.fillText(t,e,r),h!==n.TextRenderingMode.STROKE&&h!==n.TextRenderingMode.FILL_STROKE||o.strokeText(t,e,r)),u&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:o.mozCurrentTransform,x:e,y:r,fontSize:c,addToPath:d})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let r=!1;for(let t=3;t<e.length;t+=4)if(e[t]>0&&e[t]<255){r=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",r)}showText(t){const e=this.current,r=e.font;if(r.isType3Font)return this.showType3Text(t);const o=e.fontSize;if(0===o)return;const s=this.ctx,a=e.fontSizeScale,l=e.charSpacing,c=e.wordSpacing,h=e.fontDirection,u=e.textHScale*h,p=t.length,d=r.vertical,f=d?1:-1,g=r.defaultVMetrics,m=o*e.fontMatrix[0],y=e.textRenderingMode===n.TextRenderingMode.FILL&&!r.disableFontFace&&!e.patternFill;let v;if(s.save(),s.transform.apply(s,e.textMatrix),s.translate(e.x,e.y+e.textRise),h>0?s.scale(u,-1):s.scale(u,1),e.patternFill){s.save();const t=e.fillColor.getPattern(s,this,s.mozCurrentTransformInverse,i.PathType.FILL);v=s.mozCurrentTransform,s.restore(),s.fillStyle=t}let b=e.lineWidth;const w=e.textMatrixScale;if(0===w||0===b){const t=e.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;t!==n.TextRenderingMode.STROKE&&t!==n.TextRenderingMode.FILL_STROKE||(b=this.getSinglePixelWidth())}else b/=w;1!==a&&(s.scale(a,a),b/=a),s.lineWidth=b;let x,S=0;for(x=0;x<p;++x){const e=t[x];if("number"==typeof e){S+=f*e*o/1e3;continue}let n=!1;const i=(e.isSpace?c:0)+l,u=e.fontChar,p=e.accent;let b,w,k,A=e.width;if(d){const t=e.vmetric||g,r=-(e.vmetric?t[1]:.5*A)*m,n=t[2]*m;A=t?-t[0]:A,b=r/a,w=(S+n)/a}else b=S/a,w=0;if(r.remeasure&&A>0){const t=1e3*s.measureText(u).width/o*a;if(A<t&&this.isFontSubpixelAAEnabled){const e=A/t;n=!0,s.save(),s.scale(e,1),b/=e}else A!==t&&(b+=(A-t)/2e3*o/a)}if(this.contentVisible&&(e.isInFont||r.missingFile))if(y&&!p)s.fillText(u,b,w);else if(this.paintChar(u,b,w,v),p){const t=b+o*p.offset.x/a,e=w-o*p.offset.y/a;this.paintChar(p.fontChar,t,e,v)}k=d?A*m-i*h:A*m+i*h,S+=k,n&&s.restore()}d?e.y-=S:e.x+=S*u,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,r=this.current,i=r.font,o=r.fontSize,s=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,h=r.textHScale*s,u=r.fontMatrix||n.FONT_IDENTITY_MATRIX,p=t.length;let d,f,g,m;if(r.textRenderingMode!==n.TextRenderingMode.INVISIBLE&&0!==o){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform.apply(e,r.textMatrix),e.translate(r.x,r.y),e.scale(h,s),d=0;d<p;++d){if(f=t[d],"number"==typeof f){m=a*f*o/1e3,this.ctx.translate(m,0),r.x+=m*h;continue}const s=(f.isSpace?c:0)+l,p=i.charProcOperatorList[f.operatorListId];p?(this.contentVisible&&(this.processingType3=f,this.save(),e.scale(o,o),e.transform.apply(e,u),this.executeOperatorList(p),this.restore()),g=n.Util.applyTransform([f.width,0],u)[0]*o+s,e.translate(g,0),r.x+=g*h):(0,n.warn)(`Type3 character "${f.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,r,n,i,o){this.ctx.rect(r,n,i-r,o-n),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if("TilingPattern"===t[0]){const r=t[1],n=this.baseTransform||this.ctx.mozCurrentTransform.slice(),o={createCanvasGraphics:t=>new T(t,this.commonObjs,this.objs,this.canvasFactory)};e=new i.TilingPattern(t,r,this.ctx,o,n)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,r){const i=this.selectColor?.(t,e,r)||n.Util.makeHexColor(t,e,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(t,e,r){const i=this.selectColor?.(t,e,r)||n.Util.makeHexColor(t,e,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(t,e=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=(0,i.getShadingPattern)(this.objs.get(t)),this.cachedPatterns.set(t,r)),e&&(r.matrix=e),r}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const r=this._getPattern(t);e.fillStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,i.PathType.SHADING);const o=e.mozCurrentTransformInverse;if(o){const t=e.canvas,r=t.width,i=t.height,s=n.Util.applyTransform([0,0],o),a=n.Util.applyTransform([0,i],o),l=n.Util.applyTransform([r,0],o),c=n.Util.applyTransform([r,i],o),h=Math.min(s[0],a[0],l[0],c[0]),u=Math.min(s[1],a[1],l[1],c[1]),p=Math.max(s[0],a[0],l[0],c[0]),d=Math.max(s[1],a[1],l[1],c[1]);this.ctx.fillRect(h,u,p-h,d-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,e)){const t=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],t,r),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||(0,n.info)("TODO: Support non-isolated groups."),t.knockout&&(0,n.warn)("Knockout groups not supported.");const r=e.mozCurrentTransform;if(t.matrix&&e.transform.apply(e,t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=n.Util.getAxialAlignedBoundingBox(t.bbox,e.mozCurrentTransform);const o=[0,0,e.canvas.width,e.canvas.height];i=n.Util.intersect(i,o)||[0,0,0,0];const s=Math.floor(i[0]),a=Math.floor(i[1]);let c=Math.max(Math.ceil(i[2])-s,1),h=Math.max(Math.ceil(i[3])-a,1),u=1,p=1;c>l&&(u=c/l,c=l),h>l&&(p=h/l,h=l),this.current.startNewPathAndClipBox([0,0,c,h]);let d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(d,c,h,!0),g=f.context;g.scale(1/u,1/p),g.translate(-s,-a),g.transform.apply(g,r),t.smask?this.smaskStack.push({canvas:f.canvas,context:g,offsetX:s,offsetY:a,scaleX:u,scaleY:p,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(s,a),e.scale(u,p),e.save()),m(e,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const t=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,t);const r=n.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],t);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(t,e,r,i,o){if(this.save(),Array.isArray(e)&&4===e.length){const i=e[2]-e[0],s=e[3]-e[1];if(o&&this.annotationCanvasMap){(r=r.slice())[4]-=e[0],r[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=i,e[3]=s;const[o,l]=n.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:c}=this,u=Math.ceil(i*this.outputScaleX*c),p=Math.ceil(s*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,p);const{canvas:d,context:f}=this.annotationCanvas,g=`var(--zoom-factor) * ${a.PixelsPerInch.PDF_TO_CSS_UNITS}`;d.style.width=`calc(${i}px * ${g})`,d.style.height=`calc(${s}px * ${g})`,this.annotationCanvasMap.set(t,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.setTransform(o,0,0,-l,0,s*l),h(this.ctx),y(this.ctx,this.foregroundColor)}else y(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],i,s),this.ctx.clip(),this.endPath()}this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,r),this.transform.apply(this,i)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;(t=this.getObject(t.data,t)).count=e;const r=this.ctx,n=this.processingType3;if(n&&(void 0===n.compiled&&(n.compiled=function(t){const{width:e,height:r}=t;if(e>1e3||r>1e3)return null;const n=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=e+1;let o,a,l,c=new Uint8Array(i*(r+1));const h=e+7&-8;let u=new Uint8Array(h*r),p=0;for(const e of t.data){let t=128;for(;t>0;)u[p++]=e&t?0:255,t>>=1}let d=0;for(p=0,0!==u[p]&&(c[0]=1,++d),a=1;a<e;a++)u[p]!==u[p+1]&&(c[a]=u[p]?2:1,++d),p++;for(0!==u[p]&&(c[a]=2,++d),o=1;o<r;o++){p=o*h,l=o*i,u[p-h]!==u[p]&&(c[l]=u[p]?1:8,++d);let t=(u[p]?4:0)+(u[p-h]?8:0);for(a=1;a<e;a++)t=(t>>2)+(u[p+1]?4:0)+(u[p-h+1]?8:0),n[t]&&(c[l+a]=n[t],++d),p++;if(u[p-h]!==u[p]&&(c[l+a]=u[p]?2:4,++d),d>1e3)return null}for(p=h*(r-1),l=o*i,0!==u[p]&&(c[l]=8,++d),a=1;a<e;a++)u[p]!==u[p+1]&&(c[l+a]=u[p]?4:8,++d),p++;if(0!==u[p]&&(c[l+a]=4,++d),d>1e3)return null;const f=new Int32Array([0,i,-1,0,-i,0,0,0,1]);let g,m,y;for(s.isNodeJS?m=[]:g=new Path2D,o=0;d&&o<=r;o++){let t=o*i;const r=t+e;for(;t<r&&!c[t];)t++;if(t===r)continue;g?g.moveTo(t%i,o):y=[t%i,o];const n=t;let s=c[t];do{const e=f[s];do{t+=e}while(!c[t]);const r=c[t];5!==r&&10!==r?(s=r,c[t]=0):(s=r&51*s>>4,c[t]&=s>>2|s<<2),g?g.lineTo(t%i,t/i|0):y.push(t%i,t/i|0),c[t]||--d}while(n!==t);g||m.push(y),--o}return u=null,c=null,function(t){if(t.save(),t.scale(1/e,-1/r),t.translate(0,-r),g)t.fill(g);else{t.beginPath();for(const e of m){t.moveTo(e[0],e[1]);for(let r=2,n=e.length;r<n;r+=2)t.lineTo(e[r],e[r+1])}t.fill()}t.beginPath(),t.restore()}}(t)),n.compiled))return void n.compiled(r);const i=this._createMaskCanvas(t),o=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,i.offsetX,i.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,r=0,i=0,o,s){if(!this.contentVisible)return;t=this.getObject(t.data,t);const a=this.ctx;a.save();const l=a.mozCurrentTransform;a.transform(e,r,i,o,0,0);const c=this._createMaskCanvas(t);a.setTransform(1,0,0,1,0,0);for(let t=0,h=s.length;t<h;t+=2){const h=n.Util.transform(l,[e,r,i,o,s[t],s[t+1]]),[u,p]=n.Util.applyTransform([0,0],h);a.drawImage(c.canvas,u,p)}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,r=this.current.fillColor,n=this.current.patternFill;for(let o=0,s=t.length;o<s;o++){const s=t[o],a=s.width,l=s.height,c=this.cachedCanvases.getCanvas("maskCanvas",a,l,!1),h=c.context;h.save(),g(h,s),h.globalCompositeOperation="source-in",h.fillStyle=n?r.getPattern(h,this,e.mozCurrentTransformInverse,i.PathType.FILL):r,h.fillRect(0,0,a,l),h.restore(),e.save(),e.transform.apply(e,s.transform),e.scale(1,-1),p(e,c.canvas,0,0,a,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);e?this.paintInlineImageXObject(e):(0,n.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,r,i){if(!this.contentVisible)return;const o=this.getObject(t);if(!o)return void(0,n.warn)("Dependent image isn't ready yet");const s=o.width,a=o.height,l=[];for(let t=0,n=i.length;t<n;t+=2)l.push({transform:[e,0,0,r,i[t],i[t+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,l)}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,r=t.height,n=this.ctx;let i;if(this.save(),n.scale(1/e,-1/r),"function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)i=t;else{const n=this.cachedCanvases.getCanvas("inlineImage",e,r,!1);f(n.context,t,this.current.transferMaps),i=n.canvas}const o=this._scaleImage(i,n.mozCurrentTransformInverse);n.imageSmoothingEnabled=S(n.mozCurrentTransform,t.interpolate);const[s,a]=p(n,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,e,r);if(this.imageLayer){const e=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:t,left:e[0],top:e[1],width:s,height:a})}this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const r=this.ctx,n=t.width,i=t.height,o=this.cachedCanvases.getCanvas("inlineImage",n,i,!1);f(o.context,t,this.current.transferMaps);for(let s=0,a=e.length;s<a;s++){const a=e[s];if(r.save(),r.transform.apply(r,a.transform),r.scale(1,-1),p(r,o.canvas,a.x,a.y,a.w,a.h,0,-1,1,1),this.imageLayer){const e=this.getCanvasPosition(a.x,a.y);this.imageLayer.appendImage({imgData:t,left:e[0],top:e[1],width:n,height:i})}r.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const r=this.ctx;this.pendingClip&&(e||(this.pendingClip===_?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=this.ctx.mozCurrentTransform;if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),r=Math.hypot(t[0],t[2]),n=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(r,n)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:t}=this.current,e=this.ctx.mozCurrentTransform;let r,n;if(0===e[1]&&0===e[2]){const i=Math.abs(e[0]),o=Math.abs(e[3]);if(0===t)r=1/i,n=1/o;else{const e=i*t,s=o*t;r=e<1?1/e:1,n=s<1?1/s:1}}else{const i=Math.abs(e[0]*e[3]-e[2]*e[1]),o=Math.hypot(e[0],e[1]),s=Math.hypot(e[2],e[3]);if(0===t)r=s/i,n=o/i;else{const e=t*i;r=s>e?s/e:1,n=o>e?o/e:1}}this._cachedScaleForStroking=[r,n]}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:r}=this.current,[n,i]=this.getScaleForStroking();if(e.lineWidth=r||1,1===n&&1===i)return void e.stroke();let o,s,a;t&&(o=e.mozCurrentTransform.slice(),s=e.getLineDash().slice(),a=e.lineDashOffset),e.scale(n,i);const l=Math.max(n,i);e.setLineDash(e.getLineDash().map((t=>t/l))),e.lineDashOffset/=l,e.stroke(),t&&(e.setTransform(...o),e.setLineDash(s),e.lineDashOffset=a)}getCanvasPosition(t,e){const r=this.ctx.mozCurrentTransform;return[r[0]*t+r[2]*e+r[4],r[1]*t+r[3]*e+r[5]]}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}e.CanvasGraphics=T;for(const t in n.OPS)void 0!==T.prototype[t]&&(T.prototype[n.OPS[t]]=T.prototype[t])},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=function(t){switch(t[0]){case"RadialAxial":return new l(t);case"Mesh":return new u(t);case"Dummy":return new p}throw new Error(`Unknown IR type: ${t[0]}`)};var n=r(1),i=r(3);const o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function s(t,e){if(!e||i.isNodeJS)return;const r=e[2]-e[0],n=e[3]-e[1],o=new Path2D;o.rect(e[0],e[1],r,n),t.clip(o)}e.PathType=o;class a{constructor(){this.constructor===a&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class l extends a{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const t of this._colorStops)e.addColorStop(t[0],t[1]);return e}getPattern(t,e,r,i){let a;if(i===o.STROKE||i===o.FILL){const o=e.current.getClippedPathBoundingBox(i,t.mozCurrentTransform)||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,h=e.cachedCanvases.getCanvas("pattern",l,c,!0),u=h.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),r=n.Util.transform(r,[1,0,0,1,o[0],o[1]]),u.transform.apply(u,e.baseTransform),this.matrix&&u.transform.apply(u,this.matrix),s(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),a=t.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(r);try{a.setTransform(p)}catch(t){(0,n.warn)(`RadialAxialShadingPattern.getPattern: "${t?.message}".`)}}else s(t,this._bbox),a=this._createGradient(t);return a}}function c(t,e,r,n,i,o,s,a){const l=e.coords,c=e.colors,h=t.data,u=4*t.width;let p;l[r+1]>l[n+1]&&(p=r,r=n,n=p,p=o,o=s,s=p),l[n+1]>l[i+1]&&(p=n,n=i,i=p,p=s,s=a,a=p),l[r+1]>l[n+1]&&(p=r,r=n,n=p,p=o,o=s,s=p);const d=(l[r]+e.offsetX)*e.scaleX,f=(l[r+1]+e.offsetY)*e.scaleY,g=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,y=(l[i]+e.offsetX)*e.scaleX,v=(l[i+1]+e.offsetY)*e.scaleY;if(f>=v)return;const b=c[o],w=c[o+1],x=c[o+2],S=c[s],k=c[s+1],A=c[s+2],C=c[a],_=c[a+1],T=c[a+2],O=Math.round(f),M=Math.round(v);let E,P,I,F,D,R,L,N;for(let t=O;t<=M;t++){if(t<m){let e;e=t<f?0:(f-t)/(f-m),E=d-(d-g)*e,P=b-(b-S)*e,I=w-(w-k)*e,F=x-(x-A)*e}else{let e;e=t>v?1:m===v?0:(m-t)/(m-v),E=g-(g-y)*e,P=S-(S-C)*e,I=k-(k-_)*e,F=A-(A-T)*e}let e;e=t<f?0:t>v?1:(f-t)/(f-v),D=d-(d-y)*e,R=b-(b-C)*e,L=w-(w-_)*e,N=x-(x-T)*e;const r=Math.round(Math.min(E,D)),n=Math.round(Math.max(E,D));let i=u*t+4*r;for(let t=r;t<=n;t++)e=(E-t)/(E-D),e<0?e=0:e>1&&(e=1),h[i++]=P-(P-R)*e|0,h[i++]=I-(I-L)*e|0,h[i++]=F-(F-N)*e|0,h[i++]=255}}function h(t,e,r){const n=e.coords,i=e.colors;let o,s;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(n.length/a)-1,h=a-1;for(o=0;o<l;o++){let e=o*a;for(let o=0;o<h;o++,e++)c(t,r,n[e],n[e+1],n[e+a],i[e],i[e+1],i[e+a]),c(t,r,n[e+a+1],n[e+1],n[e+a],i[e+a+1],i[e+1],i[e+a])}break;case"triangles":for(o=0,s=n.length;o<s;o+=3)c(t,r,n[o],n[o+1],n[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class u extends a{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,r){const n=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),o=Math.ceil(this._bounds[2])-n,s=Math.ceil(this._bounds[3])-i,a=Math.min(Math.ceil(Math.abs(o*t[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*t[1]*1.1)),3e3),c=o/a,u=s/l,p={coords:this._coords,colors:this._colors,offsetX:-n,offsetY:-i,scaleX:1/c,scaleY:1/u},d=a+4,f=l+4,g=r.getCanvas("mesh",d,f,!1),m=g.context,y=m.createImageData(a,l);if(e){const t=y.data;for(let r=0,n=t.length;r<n;r+=4)t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=255}for(const t of this._figures)h(y,t,p);return m.putImageData(y,2,2),{canvas:g.canvas,offsetX:n-2*c,offsetY:i-2*u,scaleX:c,scaleY:u}}getPattern(t,e,r,i){let a;if(s(t,this._bbox),i===o.SHADING)a=n.Util.singularValueDecompose2dScale(t.mozCurrentTransform);else if(a=n.Util.singularValueDecompose2dScale(e.baseTransform),this.matrix){const t=n.Util.singularValueDecompose2dScale(this.matrix);a=[a[0]*t[0],a[1]*t[1]]}const l=this._createMeshCanvas(a,i===o.SHADING?null:this._background,e.cachedCanvases);return i!==o.SHADING&&(t.setTransform.apply(t,e.baseTransform),this.matrix&&t.transform.apply(t,this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class p extends a{getPattern(){return"hotpink"}}const d=1,f=2;class g{static get MAX_PATTERN_SIZE(){return(0,n.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(t,e,r,n,i){this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=r,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(t){const e=this.operatorList,r=this.bbox,i=this.xstep,o=this.ystep,s=this.paintType,a=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+a);const h=r[0],u=r[1],p=r[2],d=r[3],f=n.Util.singularValueDecompose2dScale(this.matrix),g=n.Util.singularValueDecompose2dScale(this.baseTransform),m=[f[0]*g[0],f[1]*g[1]],y=this.getSizeAndScale(i,this.ctx.canvas.width,m[0]),v=this.getSizeAndScale(o,this.ctx.canvas.height,m[1]),b=t.cachedCanvases.getCanvas("pattern",y.size,v.size,!0),w=b.context,x=c.createCanvasGraphics(w);x.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(x,s,l);let S=h,k=u,A=p,C=d;return h<0&&(S=0,A+=Math.abs(h)),u<0&&(k=0,C+=Math.abs(u)),w.translate(-y.scale*S,-v.scale*k),x.transform(y.scale,0,0,v.scale,0,0),w.save(),this.clipBbox(x,S,k,A,C),x.baseTransform=x.ctx.mozCurrentTransform.slice(),x.executeOperatorList(e),x.endDrawing(),{canvas:b.canvas,scaleX:y.scale,scaleY:v.scale,offsetX:S,offsetY:k}}getSizeAndScale(t,e,r){t=Math.abs(t);const n=Math.max(g.MAX_PATTERN_SIZE,e);let i=Math.ceil(t*r);return i>=n?i=n:r=i/t,{scale:r,size:i}}clipBbox(t,e,r,n,i){const o=n-e,s=i-r;t.ctx.rect(e,r,o,s),t.current.updateRectMinMax(t.ctx.mozCurrentTransform,[e,r,n,i]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,r){const i=t.ctx,o=t.current;switch(e){case d:const t=this.ctx;i.fillStyle=t.fillStyle,i.strokeStyle=t.strokeStyle,o.fillColor=t.fillStyle,o.strokeColor=t.strokeStyle;break;case f:const s=n.Util.makeHexColor(r[0],r[1],r[2]);i.fillStyle=s,i.strokeStyle=s,o.fillColor=s,o.strokeColor=s;break;default:throw new n.FormatError(`Unsupported paint type: ${e}`)}}getPattern(t,e,r,i){let s=r;i!==o.SHADING&&(s=n.Util.transform(s,e.baseTransform),this.matrix&&(s=n.Util.transform(s,this.matrix)));const a=this.createPatternCanvas(e);let l=new DOMMatrix(s);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const c=t.createPattern(a.canvas,"repeat");try{c.setTransform(l)}catch(t){(0,n.warn)(`TilingPattern.getPattern: "${t?.message}".`)}return c}}e.TilingPattern=g},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=function({src:t,srcPos:e=0,dest:r,destPos:i=0,width:o,height:s,inverseDecode:a=!1}){const l=n.FeatureTest.isLittleEndian?4278190080:255,[c,h]=a?[0,l]:[l,0],u=o>>3,p=7&o,d=t.length;r=new Uint32Array(r.buffer);for(let n=0;n<s;n++){for(const n=e+u;e<n;e++){const n=e<d?t[e]:255;r[i++]=128&n?h:c,r[i++]=64&n?h:c,r[i++]=32&n?h:c,r[i++]=16&n?h:c,r[i++]=8&n?h:c,r[i++]=4&n?h:c,r[i++]=2&n?h:c,r[i++]=1&n?h:c}if(0===p)continue;const n=e<d?t[e++]:255;for(let t=0;t<p;t++)r[i++]=n&1<<7-t?h:c}return{srcPos:e,destPos:i}};var n=r(1)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const r=Object.create(null);e.GlobalWorkerOptions=r,r.workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=r(1);const i=1,o=2,s=1,a=2,l=3,c=4,h=5,u=6,p=7,d=8;function f(t){switch(t instanceof Error||"object"==typeof t&&null!==t||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new n.AbortException(t.message);case"MissingPDFException":return new n.MissingPDFException(t.message);case"PasswordException":return new n.PasswordException(t.message,t.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new n.UnknownErrorException(t.message,t.details);default:return new n.UnknownErrorException(t.message,t.toString())}}e.MessageHandler=class{constructor(t,e,r){this.sourceName=t,this.targetName=e,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=t=>{const e=t.data;if(e.targetName!==this.sourceName)return;if(e.stream)return void this._processStreamMessage(e);if(e.callback){const t=e.callbackId,r=this.callbackCapabilities[t];if(!r)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],e.callback===i)r.resolve(e.data);else{if(e.callback!==o)throw new Error("Unexpected callback case");r.reject(f(e.reason))}return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const t=this.sourceName,s=e.sourceName;new Promise((function(t){t(n(e.data))})).then((function(n){r.postMessage({sourceName:t,targetName:s,callback:i,callbackId:e.callbackId,data:n})}),(function(n){r.postMessage({sourceName:t,targetName:s,callback:o,callbackId:e.callbackId,reason:f(n)})}))}else e.streamId?this._createStreamSink(e):n(e.data)},r.addEventListener("message",this._onComObjOnMessage)}on(t,e){const r=this.actionHandler;if(r[t])throw new Error(`There is already an actionName called "${t}"`);r[t]=e}send(t,e,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},r)}sendWithPromise(t,e,r){const i=this.callbackId++,o=(0,n.createPromiseCapability)();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},r)}catch(t){o.reject(t)}return o.promise}sendWithStream(t,e,r,i){const o=this.streamId++,a=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:r=>{const s=(0,n.createPromiseCapability)();return this.streamControllers[o]={controller:r,startCall:s,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:l,action:t,streamId:o,data:e,desiredSize:r.desiredSize},i),s.promise},pull:t=>{const e=(0,n.createPromiseCapability)();return this.streamControllers[o].pullCall=e,c.postMessage({sourceName:a,targetName:l,stream:u,streamId:o,desiredSize:t.desiredSize}),e.promise},cancel:t=>{(0,n.assert)(t instanceof Error,"cancel must have a valid reason");const e=(0,n.createPromiseCapability)();return this.streamControllers[o].cancelCall=e,this.streamControllers[o].isClosed=!0,c.postMessage({sourceName:a,targetName:l,stream:s,streamId:o,reason:f(t)}),e.promise}},r)}_createStreamSink(t){const e=t.streamId,r=this.sourceName,i=t.sourceName,o=this.comObj,s=this,a=this.actionHandler[t.action],u={enqueue(t,s=1,a){if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=s,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,n.createPromiseCapability)(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:r,targetName:i,stream:c,streamId:e,chunk:t},a)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:l,streamId:e}),delete s.streamSinks[e])},error(t){(0,n.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:h,streamId:e,reason:f(t)}))},sinkCapability:(0,n.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[e]=u,new Promise((function(e){e(a(t.data,u))})).then((function(){o.postMessage({sourceName:r,targetName:i,stream:d,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:r,targetName:i,stream:d,streamId:e,reason:f(t)})}))}_processStreamMessage(t){const e=t.streamId,r=this.sourceName,i=t.sourceName,o=this.comObj,g=this.streamControllers[e],m=this.streamSinks[e];switch(t.stream){case d:t.success?g.startCall.resolve():g.startCall.reject(f(t.reason));break;case p:t.success?g.pullCall.resolve():g.pullCall.reject(f(t.reason));break;case u:if(!m){o.postMessage({sourceName:r,targetName:i,stream:p,streamId:e,success:!0});break}m.desiredSize<=0&&t.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=t.desiredSize,new Promise((function(t){t(m.onPull&&m.onPull())})).then((function(){o.postMessage({sourceName:r,targetName:i,stream:p,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:r,targetName:i,stream:p,streamId:e,reason:f(t)})}));break;case c:if((0,n.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(t.chunk);break;case l:if((0,n.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),this._deleteStreamController(g,e);break;case h:(0,n.assert)(g,"error should have stream controller"),g.controller.error(f(t.reason)),this._deleteStreamController(g,e);break;case a:t.success?g.cancelCall.resolve():g.cancelCall.reject(f(t.reason)),this._deleteStreamController(g,e);break;case s:if(!m)break;new Promise((function(e){e(m.onCancel&&m.onCancel(f(t.reason)))})).then((function(){o.postMessage({sourceName:r,targetName:i,stream:a,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:r,targetName:i,stream:a,streamId:e,reason:f(t)})})),m.sinkCapability.reject(f(t.reason)),m.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(t,e){await Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]),delete this.streamControllers[e]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=r(1);e.Metadata=class{#c;#h;constructor({parsedData:t,rawData:e}){this.#c=t,this.#h=e}getRaw(){return this.#h}get(t){return this.#c.get(t)??null}getAll(){return(0,n.objectFromMap)(this.#c)}has(t){return this.#c.has(t)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var n=r(1);class i{constructor(t,e){this.visible=!0,this.name=t,this.intent=e}}e.OptionalContentConfig=class{constructor(t){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==t){this.name=t.name,this.creator=t.creator,this._order=t.order;for(const e of t.groups)this._groups.set(e.id,new i(e.name,e.intent));if("OFF"===t.baseState)for(const t of this._groups)t.visible=!1;for(const e of t.on)this._groups.get(e).visible=!0;for(const e of t.off)this._groups.get(e).visible=!1}}_evaluateVisibilityExpression(t){const e=t.length;if(e<2)return!0;const r=t[0];for(let i=1;i<e;i++){const e=t[i];let o;if(Array.isArray(e))o=this._evaluateVisibilityExpression(e);else{if(!this._groups.has(e))return(0,n.warn)(`Optional content group not found: ${e}`),!0;o=this._groups.get(e).visible}switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===r}isVisible(t){if(0===this._groups.size)return!0;if(!t)return(0,n.warn)("Optional content group not defined."),!0;if("OCG"===t.type)return this._groups.has(t.id)?this._groups.get(t.id).visible:((0,n.warn)(`Optional content group not found: ${t.id}`),!0);if("OCMD"===t.type){if(t.expression)return this._evaluateVisibilityExpression(t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!this._groups.has(e))return(0,n.warn)(`Optional content group not found: ${e}`),!0;if(this._groups.get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!this._groups.has(e))return(0,n.warn)(`Optional content group not found: ${e}`),!0;if(!this._groups.get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!this._groups.has(e))return(0,n.warn)(`Optional content group not found: ${e}`),!0;if(!this._groups.get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!this._groups.has(e))return(0,n.warn)(`Optional content group not found: ${e}`),!0;if(this._groups.get(e).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${t.policy}.`),!0}return(0,n.warn)(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0){this._groups.has(t)?this._groups.get(t).visible=!!e:(0,n.warn)(`Optional content group not found: ${t}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,n.objectFromMap)(this._groups):null}getGroup(t){return this._groups.get(t)||null}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n=r(1),i=r(5);e.PDFDataTransportStream=class{constructor(t,e){(0,n.assert)(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;const r=t.initialData;if(r?.length>0){const t=new Uint8Array(r).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((t,e)=>{this._onReceiveData({begin:t,chunk:e})})),this._pdfDataRangeTransport.addProgressListener(((t,e)=>{this._onProgress({loaded:t,total:e})})),this._pdfDataRangeTransport.addProgressiveReadListener((t=>{this._onReceiveData({chunk:t})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const e=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{const r=this._rangeReaders.some((function(r){return r._begin===t.begin&&(r._enqueue(e),!0)}));(0,n.assert)(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){if(void 0===t.total){const e=this._rangeReaders[0];e?.onProgress&&e.onProgress({loaded:t.loaded})}else{const e=this._fullRequestReader;e?.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new o(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new s(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}};class o{constructor(t,e,r=!1,n=null){this._stream=t,this._done=r||!1,this._filename=(0,i.isPdfFile)(n)?n:null,this._queuedChunks=e||[],this._loaded=0;for(const t of this._queuedChunks)this._loaded+=t.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(t,e,r){this._stream=t,this._begin=e,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class r{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};return function t(n){if(!n)return;let i=null;const o=n.name;if("#text"===o)i=n.value;else{if(!r.shouldBuildText(o))return;n?.attributes?.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&e.push({str:i}),n.children)for(const e of n.children)t(e)}(t),n}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}e.XfaText=r},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var n=r(6);const i=function(t){return new Promise(((e,r)=>{__webpack_require__(172).readFile(t,((t,n)=>{!t&&n?e(new Uint8Array(n)):r(new Error(t))}))}))};class o extends n.BaseCanvasFactory{_createCanvas(t,e){return __webpack_require__(414).createCanvas(t,e)}}e.NodeCanvasFactory=o;class s extends n.BaseCMapReaderFactory{_fetchData(t,e){return i(t).then((t=>({cMapData:t,compressionType:e})))}}e.NodeCMapReaderFactory=s;class a extends n.BaseStandardFontDataFactory{_fetchData(t){return i(t)}}e.NodeStandardFontDataFactory=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var n=r(1),i=r(5),o=r(8),s=r(21),a=r(22);const l=1e3,c=new WeakSet;function h(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class u{static create(t){switch(t.data.annotationType){case n.AnnotationType.LINK:return new d(t);case n.AnnotationType.TEXT:return new f(t);case n.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new m(t);case"Btn":return t.data.radioButton?new v(t):t.data.checkBox?new y(t):new b(t);case"Ch":return new w(t)}return new g(t);case n.AnnotationType.POPUP:return new x(t);case n.AnnotationType.FREETEXT:return new k(t);case n.AnnotationType.LINE:return new A(t);case n.AnnotationType.SQUARE:return new C(t);case n.AnnotationType.CIRCLE:return new _(t);case n.AnnotationType.POLYLINE:return new T(t);case n.AnnotationType.CARET:return new M(t);case n.AnnotationType.INK:return new E(t);case n.AnnotationType.POLYGON:return new O(t);case n.AnnotationType.HIGHLIGHT:return new P(t);case n.AnnotationType.UNDERLINE:return new I(t);case n.AnnotationType.SQUIGGLY:return new F(t);case n.AnnotationType.STRIKEOUT:return new D(t);case n.AnnotationType.STAMP:return new R(t);case n.AnnotationType.FILEATTACHMENT:return new L(t);default:return new p(t)}}}class p{constructor(t,{isRenderable:e=!1,ignoreBorder:r=!1,createQuadrilaterals:n=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,e&&(this.container=this._createContainer(r)),n&&(this.quadrilaterals=this._createQuadrilaterals(r))}_createContainer(t=!1){const e=this.data,r=this.page,i=this.viewport,o=document.createElement("section");let{width:s,height:a}=h(e.rect);o.setAttribute("data-annotation-id",e.id);const l=n.Util.normalizeRect([e.rect[0],r.view[3]-e.rect[1]+r.view[1],e.rect[2],r.view[3]-e.rect[3]+r.view[1]]);if(e.hasOwnCanvas){const t=i.transform.slice(),[e,r]=n.Util.singularValueDecompose2dScale(t);s=Math.ceil(s*e),a=Math.ceil(a*r),l[0]*=e,l[1]*=r;for(let e=0;e<4;e++)t[e]=Math.sign(t[e]);o.style.transform=`matrix(${t.join(",")})`}else o.style.transform=`matrix(${i.transform.join(",")})`;if(o.style.transformOrigin=`${-l[0]}px ${-l[1]}px`,!t&&e.borderStyle.width>0){o.style.borderWidth=`${e.borderStyle.width}px`,e.borderStyle.style!==n.AnnotationBorderStyleType.UNDERLINE&&(s-=2*e.borderStyle.width,a-=2*e.borderStyle.width);const t=e.borderStyle.horizontalCornerRadius,r=e.borderStyle.verticalCornerRadius;if(t>0||r>0){const e=`${t}px / ${r}px`;o.style.borderRadius=e}switch(e.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid"}e.borderColor||e.color?o.style.borderColor=n.Util.makeHexColor(0|e.color[0],0|e.color[1],0|e.color[2]):o.style.borderWidth=0}return o.style.left=`${l[0]}px`,o.style.top=`${l[1]}px`,e.hasOwnCanvas?o.style.width=o.style.height="auto":(o.style.width=`${s}px`,o.style.height=`${a}px`),o}get _commonActions(){const t=(t,e,r)=>{const n=r.detail[t];r.target.style[e]=s.ColorConverters[`${n[0]}_HTML`](n.slice(1))};return(0,n.shadow)(this,"_commonActions",{display:t=>{const e=t.detail.display%2==1;t.target.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:e,print:0===t.detail.display||3===t.detail.display})},print:t=>{this.annotationStorage.setValue(this.data.id,{print:t.detail.print})},hidden:t=>{t.target.style.visibility=t.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t.detail.hidden})},focus:t=>{setTimeout((()=>t.target.focus({preventScroll:!1})),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.detail.readonly?t.target.setAttribute("readonly",""):t.target.removeAttribute("readonly")},required:t=>{t.detail.required?t.target.setAttribute("required",""):t.target.removeAttribute("required")},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)}})}_dispatchEventFromSandbox(t,e){const r=this._commonActions;for(const n of Object.keys(e.detail)){const i=t[n]||r[n];i&&i(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const r=this._commonActions;for(const[n,i]of Object.entries(e)){const o=r[n];o&&(o({detail:i,target:t}),delete e[n])}}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const e=[],r=this.data.rect;for(const r of this.data.quadPoints)this.data.rect=[r[2].x,r[2].y,r[1].x,r[1].y],e.push(this._createContainer(t));return this.data.rect=r,e}_createPopup(t,e){let r=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,r=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=r.style.height,t.style.width=r.style.width,r.appendChild(t));const n=new S({container:r,trigger:t,color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,hideWrapper:!0}).render();n.style.left=r.style.width,r.appendChild(n)}_renderQuadrilaterals(t){for(const e of this.quadrilaterals)e.className=t;return this.quadrilaterals}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:t,id:o,exportValues:s}of i){if(-1===t)continue;if(o===e)continue;const i="string"==typeof s?s:null,a=document.getElementById(o);!a||c.has(a)?r.push({id:o,exportValue:i,domElement:a}):(0,n.warn)(`_getElementsByName - element not allowed: ${o}`)}return r}for(const n of document.getElementsByName(t)){const{id:t,exportValue:i}=n;t!==e&&c.has(n)&&r.push({id:t,exportValue:i,domElement:n})}return r}static get platform(){const t="undefined"!=typeof navigator?navigator.platform:"";return(0,n.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class d extends p{constructor(t,e=null){super(t,{isRenderable:!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"])),ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:t,linkService:e}=this,r=document.createElement("a");if(t.url)e.addLinkAttributes(r,t.url,t.newWindow);else if(t.action)this._bindNamedAction(r,t.action);else if(t.dest)this._bindLink(r,t.dest);else{let e=!1;t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(e=!0,this._bindJSAction(r,t)),t.resetForm?this._bindResetFormAction(r,t.resetForm):e||this._bindLink(r,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(((t,e)=>{const n=0===e?r:r.cloneNode();return t.appendChild(n),t})):(this.container.className="linkAnnotation",this.container.appendChild(r),this.container)}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&(t.className="internalLink")}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),t.className="internalLink"}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const n of Object.keys(e.actions)){const i=r.get(n);i&&(t[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:n}}),!1))}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,e){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(r||(t.onclick=()=>!1));t.onclick=()=>{r&&r();const{fields:t,refs:n,include:i}=e,o=[];if(0!==t.length||0!==n.length){const e=new Set(n);for(const r of t){const t=this._fieldObjects[r]||[];for(const{id:r}of t)e.add(r)}for(const t of Object.values(this._fieldObjects))for(const r of t)e.has(r.id)===i&&o.push(r)}else for(const t of Object.values(this._fieldObjects))o.push(...t);const s=this.annotationStorage,a=[];for(const t of o){const{id:e}=t;switch(a.push(e),t.type){case"text":{const r=t.defaultValue||"";s.setValue(e,{value:r});break}case"checkbox":case"radiobutton":{const r=t.defaultValue===t.exportValues;s.setValue(e,{value:r});break}case"combobox":case"listbox":{const r=t.defaultValue||"";s.setValue(e,{value:r});break}default:continue}const r=document.getElementById(e);r&&c.has(r)&&r.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:a,name:"ResetForm"}}),!1}}}class f extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}class g extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:e,isMac:r}=p.platform;return e&&t.ctrlKey||r&&t.metaKey}_setEventListener(t,e,r,n){e.includes("mouse")?t.addEventListener(e,(t=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:n(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})})):t.addEventListener(e,(t=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:n(t)}})}))}_setEventListeners(t,e,r){for(const[n,i]of e)("Action"===i||this.data.actions?.[i])&&this._setEventListener(t,n,i,r)}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":n.Util.makeHexColor(e[0],e[1],e[2])}}class m extends g{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,r,n){const i=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=r),i.setValue(o.id,{[n]:r})}render(){const t=this.annotationStorage,e=this.data.id;this.container.className="textWidgetAnnotation";let r=null;if(this.renderForms){const n=t.getValue(e,{value:this.data.fieldValue}),i=n.formattedValue||n.value||"",o={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=i):(r=document.createElement("input"),r.type="text",r.setAttribute("value",i)),c.add(r),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=l,o.userValue=i,r.setAttribute("id",e),r.addEventListener("input",(n=>{t.setValue(e,{value:n.target.value}),this.setPropertyOnSiblings(r,"value",n.target.value,"value")})),r.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue??"";r.value=o.userValue=e,o.formattedValue=null}));let s=t=>{const{formattedValue:e}=o;null!=e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",(t=>{o.userValue&&(t.target.value=o.userValue),o.valueOnFocus=t.target.value})),r.addEventListener("updatefromsandbox",(r=>{const n={value(r){o.userValue=r.detail.value??"",t.setValue(e,{value:o.userValue.toString()}),r.target.value=o.userValue},formattedValue(r){const{formattedValue:n}=r.detail;o.formattedValue=n,null!=n&&r.target!==document.activeElement&&(r.target.value=n),t.setValue(e,{formattedValue:n})},selRange(t){t.target.setSelectionRange(...t.detail.selRange)}};this._dispatchEventFromSandbox(n,r)})),r.addEventListener("keydown",(t=>{let r=-1;if("Escape"===t.key?r=0:"Enter"===t.key?r=2:"Tab"===t.key&&(r=3),-1===r)return;const{value:n}=t.target;o.valueOnFocus!==n&&(o.userValue=n,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:n,willCommit:!0,commitKey:r,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));const n=s;s=null,r.addEventListener("blur",(t=>{const{value:r}=t.target;o.userValue=r,this._mouseState.isDown&&o.valueOnFocus!==r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:1,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}),n(t)})),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",(t=>{const{data:r,target:n}=t,{value:i,selectionStart:o,selectionEnd:s}=n;let a=o,l=s;switch(t.inputType){case"deleteWordBackward":{const t=i.substring(0,o).match(/\w*[^\w]*$/);t&&(a-=t[0].length);break}case"deleteWordForward":{const t=i.substring(o).match(/^[^\w]*\w*/);t&&(l+=t[0].length);break}case"deleteContentBackward":o===s&&(a-=1);break;case"deleteContentForward":o===s&&(l+=1)}t.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:i,change:r||"",willCommit:!1,selStart:a,selEnd:l}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.value))}if(s&&r.addEventListener("blur",s),null!==this.data.maxLen&&(r.maxLength=this.data.maxLen),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;r.classList.add("comb"),r.style.letterSpacing=`calc(${t}px - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell";return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.appendChild(r),this.container}_setTextStyle(t){const e=["left","center","right"],{fontSize:r,fontColor:i}=this.data.defaultAppearanceData,o=t.style;r&&(o.fontSize=`${r}px`),o.color=n.Util.makeHexColor(i[0],i[1],i[2]),null!==this.data.textAlignment&&(o.textAlign=e[this.data.textAlignment])}}class y extends g{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,r=e.id;let n=t.getValue(r,{value:e.exportValue===e.fieldValue}).value;"string"==typeof n&&(n="Off"!==n,t.setValue(r,{value:n})),this.container.className="buttonWidgetAnnotation checkBox";const i=document.createElement("input");return c.add(i),i.disabled=e.readOnly,i.type="checkbox",i.name=e.fieldName,n&&i.setAttribute("checked",!0),i.setAttribute("id",r),i.setAttribute("exportValue",e.exportValue),i.tabIndex=l,i.addEventListener("change",(n=>{const{name:i,checked:o}=n.target;for(const n of this._getElementsByName(i,r)){const r=o&&n.exportValue===e.exportValue;n.domElement&&(n.domElement.checked=r),t.setValue(n.id,{value:r})}t.setValue(r,{value:o})})),i.addEventListener("resetform",(t=>{const r=e.defaultFieldValue||"Off";t.target.checked=r===e.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(e=>{const n={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(r,{value:e.target.checked})}};this._dispatchEventFromSandbox(n,e)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.appendChild(i),this.container}}class v extends g{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,e=this.data,r=e.id;let n=t.getValue(r,{value:e.fieldValue===e.buttonValue}).value;"string"==typeof n&&(n=n!==e.buttonValue,t.setValue(r,{value:n}));const i=document.createElement("input");if(c.add(i),i.disabled=e.readOnly,i.type="radio",i.name=e.fieldName,n&&i.setAttribute("checked",!0),i.setAttribute("id",r),i.tabIndex=l,i.addEventListener("change",(e=>{const{name:n,checked:i}=e.target;for(const e of this._getElementsByName(n,r))t.setValue(e.id,{value:!1});t.setValue(r,{value:i})})),i.addEventListener("resetform",(t=>{const r=e.defaultFieldValue;t.target.checked=null!=r&&r===e.buttonValue})),this.enableScripting&&this.hasJSActions){const n=e.buttonValue;i.addEventListener("updatefromsandbox",(e=>{const i={value:e=>{const i=n===e.detail.value;for(const n of this._getElementsByName(e.target.name)){const e=i&&n.id===r;n.domElement&&(n.domElement.checked=e),t.setValue(n.id,{value:e})}}};this._dispatchEventFromSandbox(i,e)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.appendChild(i),this.container}}class b extends d{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(t),t}}class w extends g{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,e=this.data.id,r=t.getValue(e,{value:this.data.fieldValue});let{fontSize:n}=this.data.defaultAppearanceData;n||(n=9);const i=`calc(${n}px * var(--zoom-factor))`,o=document.createElement("select");c.add(o),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.setAttribute("id",e),o.tabIndex=l,o.style.fontSize=`${n}px`,this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue;for(const t of o.options)t.selected=t.value===e}));for(const t of this.data.options){const e=document.createElement("option");e.textContent=t.displayValue,e.value=t.exportValue,this.data.combo&&(e.style.fontSize=i),r.value.includes(t.exportValue)&&e.setAttribute("selected",!0),o.appendChild(e)}const s=(t,e)=>{const r=e?"value":"textContent",n=t.target.options;return t.target.multiple?Array.prototype.filter.call(n,(t=>t.selected)).map((t=>t[r])):-1===n.selectedIndex?null:n[n.selectedIndex][r]},a=t=>{const e=t.target.options;return Array.prototype.map.call(e,(t=>({displayValue:t.textContent,exportValue:t.value})))};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",(r=>{const n={value(r){const n=r.detail.value,i=new Set(Array.isArray(n)?n:[n]);for(const t of o.options)t.selected=i.has(t.value);t.setValue(e,{value:s(r,!0)})},multipleSelection(t){o.multiple=!0},remove(r){const n=o.options,i=r.detail.remove;n[i].selected=!1,o.remove(i),n.length>0&&-1===Array.prototype.findIndex.call(n,(t=>t.selected))&&(n[0].selected=!0),t.setValue(e,{value:s(r,!0),items:a(r)})},clear(r){for(;0!==o.length;)o.remove(0);t.setValue(e,{value:null,items:[]})},insert(r){const{index:n,displayValue:i,exportValue:l}=r.detail.insert,c=document.createElement("option");c.textContent=i,c.value=l,o.insertBefore(c,o.children[n]),t.setValue(e,{value:s(r,!0),items:a(r)})},items(r){const{items:n}=r.detail;for(;0!==o.length;)o.remove(0);for(const t of n){const{displayValue:e,exportValue:r}=t,n=document.createElement("option");n.textContent=e,n.value=r,o.appendChild(n)}o.options.length>0&&(o.options[0].selected=!0),t.setValue(e,{value:s(r,!0),items:a(r)})},indices(r){const n=new Set(r.detail.indices);for(const t of r.target.options)t.selected=n.has(t.index);t.setValue(e,{value:s(r,!0)})},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(n,r)})),o.addEventListener("input",(r=>{const n=s(r,!0),i=s(r,!1);t.setValue(e,{value:n}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:i,changeEx:n,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(t=>t.target.checked))):o.addEventListener("input",(function(r){t.setValue(e,{value:s(r,!0)})})),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.appendChild(o),this.container}}class x extends p{constructor(t){super(t,{isRenderable:!!(t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const t=`[data-annotation-id="${this.data.parentId}"]`,e=this.layer.querySelectorAll(t);if(0===e.length)return this.container;const r=new S({container:this.container,trigger:Array.from(e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),i=this.page,o=n.Util.normalizeRect([this.data.parentRect[0],i.view[3]-this.data.parentRect[1]+i.view[1],this.data.parentRect[2],i.view[3]-this.data.parentRect[3]+i.view[1]]),s=o[0]+this.data.parentRect[2]-this.data.parentRect[0],a=o[1];return this.container.style.transformOrigin=`${-s}px ${-a}px`,this.container.style.left=`${s}px`,this.container.style.top=`${a}px`,this.container.appendChild(r.render()),this.container}}class S{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){const t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.hidden=!0;const e=document.createElement("div");e.className="popup";const r=this.color;if(r){const t=.7*(255-r[0])+r[0],i=.7*(255-r[1])+r[1],o=.7*(255-r[2])+r[2];e.style.backgroundColor=n.Util.makeHexColor(0|t,0|i,0|o)}const o=document.createElement("h1");o.dir=this.titleObj.dir,o.textContent=this.titleObj.str,e.appendChild(o);const s=i.PDFDateString.toDateObject(this.modificationDate);if(s){const t=document.createElement("span");t.className="popupDate",t.textContent="{{date}}, {{time}}",t.dataset.l10nId="annotation_date_string",t.dataset.l10nArgs=JSON.stringify({date:s.toLocaleDateString(),time:s.toLocaleTimeString()}),e.appendChild(t)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const t=this._formatContents(this.contentsObj);e.appendChild(t)}else a.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:e}),e.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const t of this.trigger)t.addEventListener("click",this._toggle.bind(this)),t.addEventListener("mouseover",this._show.bind(this,!1)),t.addEventListener("mouseout",this._hide.bind(this,!1));return e.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(e),t}_formatContents({str:t,dir:e}){const r=document.createElement("p");r.className="popupContent",r.dir=e;const n=t.split(/(?:\r\n?|\n)/);for(let t=0,e=n.length;t<e;++t){const i=n[t];r.appendChild(document.createTextNode(i)),t<e-1&&r.appendChild(document.createElement("br"))}return r}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class k extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class A extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:e,height:r}=h(t.rect),n=this.svgFactory.create(e,r),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),n.appendChild(i),this.container.append(n),this._createPopup(i,t),this.container}}class C extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:e,height:r}=h(t.rect),n=this.svgFactory.create(e,r),i=t.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",e-i),o.setAttribute("height",r-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),n.appendChild(o),this.container.append(n),this._createPopup(o,t),this.container}}class _ extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:e,height:r}=h(t.rect),n=this.svgFactory.create(e,r),i=t.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",e/2),o.setAttribute("cy",r/2),o.setAttribute("rx",e/2-i/2),o.setAttribute("ry",r/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),n.appendChild(o),this.container.append(n),this._createPopup(o,t),this.container}}class T extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:e,height:r}=h(t.rect),n=this.svgFactory.create(e,r);let i=[];for(const e of t.vertices){const r=e.x-t.rect[0],n=t.rect[3]-e.y;i.push(r+","+n)}i=i.join(" ");const o=this.svgFactory.createElement(this.svgElementName);return o.setAttribute("points",i),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),n.appendChild(o),this.container.append(n),this._createPopup(o,t),this.container}}class O extends T{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class M extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class E extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:e,height:r}=h(t.rect),n=this.svgFactory.create(e,r);for(const e of t.inkLists){let r=[];for(const n of e){const e=n.x-t.rect[0],i=t.rect[3]-n.y;r.push(`${e},${i}`)}r=r.join(" ");const i=this.svgFactory.createElement(this.svgElementName);i.setAttribute("points",r),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),this._createPopup(i,t),n.appendChild(i)}return this.container.append(n),this.container}}class P extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class I extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class F extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class D extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class R extends p{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class L extends p{constructor(t){super(t,{isRenderable:!0});const{filename:e,content:r}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(e),this.content=r,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:e,content:r})}render(){this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(t,this.data),this.container.appendChild(t),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}e.AnnotationLayer=class{static render(t){const e=[],r=[];for(const i of t.annotations){if(!i)continue;const{width:t,height:o}=h(i.rect);t<=0||o<=0||(i.annotationType!==n.AnnotationType.POPUP?e.push(i):r.push(i))}r.length&&e.push(...r);const s=t.div;for(const r of e){const e=u.create({data:r,layer:s,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:t.annotationStorage||new o.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(e.isRenderable){const t=e.render();if(r.hidden&&(t.style.visibility="hidden"),Array.isArray(t))for(const e of t)s.appendChild(e);else e instanceof x?s.prepend(t):s.appendChild(t)}}this.#u(s,t.annotationCanvasMap)}static update(t){const{page:e,viewport:r,annotations:i,annotationCanvasMap:o,div:s}=t,a=r.transform,l=`matrix(${a.join(",")})`;let c,h;for(const t of i){const r=s.querySelectorAll(`[data-annotation-id="${t.id}"]`);if(r)for(const i of r)if(t.hasOwnCanvas){const r=n.Util.normalizeRect([t.rect[0],e.view[3]-t.rect[1]+e.view[1],t.rect[2],e.view[3]-t.rect[3]+e.view[1]]);if(!h){c=Math.abs(a[0]||a[1]);const t=a.slice();for(let e=0;e<4;e++)t[e]=Math.sign(t[e]);h=`matrix(${t.join(",")})`}const o=r[0]*c,s=r[1]*c;i.style.left=`${o}px`,i.style.top=`${s}px`,i.style.transformOrigin=`${-o}px ${-s}px`,i.style.transform=h}else i.style.transform=l}this.#u(s,o),s.hidden=!1}static#u(t,e){if(e){for(const[r,n]of e){const e=t.querySelector(`[data-annotation-id="${r}"]`);if(!e)continue;const{firstChild:i}=e;"CANVAS"===i.nodeName?e.replaceChild(n,i):e.insertBefore(n,i)}e.clear()}}}},(t,e)=>{function r(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0,e.ColorConverters=class{static CMYK_G([t,e,r,n]){return["G",1-Math.min(1,.3*t+.59*r+.11*e+n)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_HTML([t]){const e=r(t);return`#${e}${e}${e}`}static RGB_G([t,e,r]){return["G",.3*t+.59*e+.11*r]}static RGB_HTML([t,e,n]){return`#${r(t)}${r(e)}${r(n)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([t,e,r,n]){return["RGB",1-Math.min(1,t+n),1-Math.min(1,r+n),1-Math.min(1,e+n)]}static CMYK_HTML(t){return this.RGB_HTML(this.CMYK_RGB(t))}static RGB_CMYK([t,e,r]){const n=1-t,i=1-e,o=1-r;return["CMYK",n,i,o,Math.min(n,i,o)]}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var n=r(18);e.XfaLayer=class{static setupStorage(t,e,r,n,i){const o=n.getValue(e,{value:null});switch(r.name){case"textarea":if(null!==o.value&&(t.textContent=o.value),"print"===i)break;t.addEventListener("input",(t=>{n.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===r.attributes.type||"checkbox"===r.attributes.type){if(o.value===r.attributes.xfaOn?t.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&t.removeAttribute("checked"),"print"===i)break;t.addEventListener("change",(t=>{n.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==o.value&&t.setAttribute("value",o.value),"print"===i)break;t.addEventListener("input",(t=>{n.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==o.value)for(const t of r.children)t.attributes.value===o.value&&(t.attributes.selected=!0);t.addEventListener("input",(t=>{const r=t.target.options,i=-1===r.selectedIndex?"":r[r.selectedIndex].value;n.setValue(e,{value:i})}))}}static setAttributes({html:t,element:e,storage:r=null,intent:n,linkService:i}){const{attributes:o}=e,s=t instanceof HTMLAnchorElement;"radio"===o.type&&(o.name=`${o.name}-${n}`);for(const[e,r]of Object.entries(o))if(null!=r&&"dataId"!==e)if("style"!==e)if("textContent"===e)t.textContent=r;else if("class"===e)r.length&&t.setAttribute(e,r.join(" "));else{if(s&&("href"===e||"newWindow"===e))continue;t.setAttribute(e,r)}else Object.assign(t.style,r);s&&i.addLinkAttributes(t,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(t,o.dataId,e,r)}static render(t){const e=t.annotationStorage,r=t.linkService,i=t.xfaHtml,o=t.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:o,linkService:r});const a=[[i,-1,s]],l=t.div;if(l.appendChild(s),t.viewport){const e=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=e}"richText"!==o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;a.length>0;){const[t,i,s]=a[a.length-1];if(i+1===t.children.length){a.pop();continue}const l=t.children[++a[a.length-1][1]];if(null===l)continue;const{name:h}=l;if("#text"===h){const t=document.createTextNode(l.value);c.push(t),s.appendChild(t);continue}let u;if(u=l?.attributes?.xmlns?document.createElementNS(l.attributes.xmlns,h):document.createElement(h),s.appendChild(u),l.attributes&&this.setAttributes({html:u,element:l,storage:e,intent:o,linkService:r}),l.children&&l.children.length>0)a.push([l,-1,u]);else if(l.value){const t=document.createTextNode(l.value);n.XfaText.shouldBuildText(h)&&c.push(t),u.appendChild(t)}}for(const t of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))t.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLayer=function(t){const e=new p({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});return e._render(t.timeout),e};var n=r(1);const i=30,o=new Map,s=/^\s+$/g;function a(t,e,r,a){const l=document.createElement("span"),c=t._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL};t._textDivs.push(l);const h=n.Util.transform(t._viewport.transform,e.transform);let u=Math.atan2(h[1],h[0]);const p=r[e.fontName];p.vertical&&(u+=Math.PI/2);const d=Math.hypot(h[2],h[3]),f=d*function(t,e){const r=o.get(t);if(r)return r;e.save(),e.font=`30px ${t}`;const n=e.measureText("");let s=n.fontBoundingBoxAscent,a=Math.abs(n.fontBoundingBoxDescent);if(s){e.restore();const r=s/(s+a);return o.set(t,r),r}e.strokeStyle="red",e.clearRect(0,0,i,i),e.strokeText("g",0,0);let l=e.getImageData(0,0,i,i).data;a=0;for(let t=l.length-1-3;t>=0;t-=4)if(l[t]>0){a=Math.ceil(t/4/i);break}e.clearRect(0,0,i,i),e.strokeText("A",0,i),l=e.getImageData(0,0,i,i).data,s=0;for(let t=0,e=l.length;t<e;t+=4)if(l[t]>0){s=i-Math.floor(t/4/i);break}if(e.restore(),s){const e=s/(s+a);return o.set(t,e),e}return o.set(t,.8),.8}(p.fontFamily,a);let g,m;0===u?(g=h[4],m=h[5]-f):(g=h[4]+f*Math.sin(u),m=h[5]-f*Math.cos(u)),l.style.left=`${g}px`,l.style.top=`${m}px`,l.style.fontSize=`${d}px`,l.style.fontFamily=p.fontFamily,l.setAttribute("role","presentation"),l.textContent=e.str,l.dir=e.dir,t._fontInspectorEnabled&&(l.dataset.fontName=e.fontName),0!==u&&(c.angle=u*(180/Math.PI));let y=!1;if(e.str.length>1||t._enhanceTextSelection&&s.test(e.str))y=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),r=Math.abs(e.transform[3]);t!==r&&Math.max(t,r)/Math.min(t,r)>1.5&&(y=!0)}if(y&&(p.vertical?c.canvasWidth=e.height*t._viewport.scale:c.canvasWidth=e.width*t._viewport.scale),t._textDivProperties.set(l,c),t._textContentStream&&t._layoutText(l),t._enhanceTextSelection&&c.hasText){let r=1,i=0;0!==u&&(r=Math.cos(u),i=Math.sin(u));const o=(p.vertical?e.height:e.width)*t._viewport.scale,s=d;let a,c;0!==u?(a=[r,i,-i,r,g,m],c=n.Util.getAxialAlignedBoundingBox([0,0,o,s],a)):c=[g,m,g+o,m+s],t._bounds.push({left:c[0],top:c[1],right:c[2],bottom:c[3],div:l,size:[o,s],m:a})}}function l(t){if(t._canceled)return;const e=t._textDivs,r=t._capability,n=e.length;if(n>1e5)return t._renderingDone=!0,void r.resolve();if(!t._textContentStream)for(let r=0;r<n;r++)t._layoutText(e[r]);t._renderingDone=!0,r.resolve()}function c(t,e,r){let n=0;for(let i=0;i<r;i++){const r=t[e++];r>0&&(n=n?Math.min(r,n):r)}return n}function h(t){const e=t._bounds,r=t._viewport,i=function(t,e,r){const n=r.map((function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}}));u(t,n);const i=new Array(r.length);for(const t of n){const e=t.index;i[e]={left:t.x1New,top:0,right:t.x2New,bottom:0}}r.map((function(e,r){const o=i[r],s=n[r];s.x1=e.top,s.y1=t-o.right,s.x2=e.bottom,s.y2=t-o.left,s.index=r,s.x1New=void 0,s.x2New=void 0})),u(e,n);for(const t of n){const e=t.index;i[e].top=t.x1New,i[e].bottom=t.x2New}return i}(r.width,r.height,e);for(let r=0;r<i.length;r++){const o=e[r].div,s=t._textDivProperties.get(o);if(0===s.angle){s.paddingLeft=e[r].left-i[r].left,s.paddingTop=e[r].top-i[r].top,s.paddingRight=i[r].right-e[r].right,s.paddingBottom=i[r].bottom-e[r].bottom,t._textDivProperties.set(o,s);continue}const a=i[r],l=e[r],h=l.m,u=h[0],p=h[1],d=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],f=new Float64Array(64);for(let t=0,e=d.length;t<e;t++){const e=n.Util.applyTransform(d[t],h);f[t+0]=u&&(a.left-e[0])/u,f[t+4]=p&&(a.top-e[1])/p,f[t+8]=u&&(a.right-e[0])/u,f[t+12]=p&&(a.bottom-e[1])/p,f[t+16]=p&&(a.left-e[0])/-p,f[t+20]=u&&(a.top-e[1])/u,f[t+24]=p&&(a.right-e[0])/-p,f[t+28]=u&&(a.bottom-e[1])/u,f[t+32]=u&&(a.left-e[0])/-u,f[t+36]=p&&(a.top-e[1])/-p,f[t+40]=u&&(a.right-e[0])/-u,f[t+44]=p&&(a.bottom-e[1])/-p,f[t+48]=p&&(a.left-e[0])/p,f[t+52]=u&&(a.top-e[1])/-u,f[t+56]=p&&(a.right-e[0])/p,f[t+60]=u&&(a.bottom-e[1])/-u}const g=1+Math.min(Math.abs(u),Math.abs(p));s.paddingLeft=c(f,32,16)/g,s.paddingTop=c(f,48,16)/g,s.paddingRight=c(f,0,16)/g,s.paddingBottom=c(f,16,16)/g,t._textDivProperties.set(o,s)}}function u(t,e){e.sort((function(t,e){return t.x1-e.x1||t.index-e.index}));const r=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const t of e){let e=0;for(;e<r.length&&r[e].end<=t.y1;)e++;let n,i,o=r.length-1;for(;o>=0&&r[o].start>=t.y2;)o--;let s,a,l=-1/0;for(s=e;s<=o;s++){let e;n=r[s],i=n.boundary,e=i.x2>t.x1?i.index>t.index?i.x1New:t.x1:void 0===i.x2New?(i.x2+t.x1)/2:i.x2New,e>l&&(l=e)}for(t.x1New=l,s=e;s<=o;s++)n=r[s],i=n.boundary,void 0===i.x2New?i.x2>t.x1?i.index>t.index&&(i.x2New=i.x2):i.x2New=l:i.x2New>l&&(i.x2New=Math.max(l,i.x2));const c=[];let h=null;for(s=e;s<=o;s++){n=r[s],i=n.boundary;const e=i.x2>t.x2?i:t;h===e?c[c.length-1].end=n.end:(c.push({start:n.start,end:n.end,boundary:e}),h=e)}for(r[e].start<t.y1&&(c[0].start=t.y1,c.unshift({start:r[e].start,end:t.y1,boundary:r[e].boundary})),t.y2<r[o].end&&(c[c.length-1].end=t.y2,c.push({start:t.y2,end:r[o].end,boundary:r[o].boundary})),s=e;s<=o;s++){if(n=r[s],i=n.boundary,void 0!==i.x2New)continue;let t=!1;for(a=e-1;!t&&a>=0&&r[a].start>=i.y1;a--)t=r[a].boundary===i;for(a=o+1;!t&&a<r.length&&r[a].end<=i.y2;a++)t=r[a].boundary===i;for(a=0;!t&&a<c.length;a++)t=c[a].boundary===i;t||(i.x2New=l)}Array.prototype.splice.apply(r,[e,o-e+1].concat(c))}for(const e of r){const r=e.boundary;void 0===r.x2New&&(r.x2New=Math.max(t,r.x2))}}class p{constructor({textContent:t,textContentStream:e,container:r,viewport:i,textDivs:o,textContentItemsStr:s,enhanceTextSelection:a}){this._textContent=t,this._textContentStream=e,this._container=r,this._document=r.ownerDocument,this._viewport=i,this._textDivs=o||[],this._textContentItemsStr=s||[],this._enhanceTextSelection=!!a,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(t,e){for(let r=0,n=t.length;r<n;r++)if(void 0!==t[r].str)this._textContentItemsStr.push(t[r].str),a(this,t[r],e,this._layoutTextCtx);else if("beginMarkedContentProps"===t[r].type||"beginMarkedContent"===t[r].type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==t[r].id&&this._container.setAttribute("id",`${t[r].id}`),e.appendChild(this._container)}else"endMarkedContent"===t[r].type&&(this._container=this._container.parentNode)}_layoutText(t){const e=this._textDivProperties.get(t);let r="";if(0!==e.canvasWidth&&e.hasText){const{fontSize:n,fontFamily:i}=t.style;n===this._layoutTextLastFontSize&&i===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=`${n} ${i}`,this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=i);const{width:o}=this._layoutTextCtx.measureText(t.textContent);if(o>0){const t=e.canvasWidth/o;this._enhanceTextSelection&&(e.scale=t),r=`scaleX(${t})`}}if(0!==e.angle&&(r=`rotate(${e.angle}deg) ${r}`),r.length>0&&(this._enhanceTextSelection&&(e.originalTransform=r),t.style.transform=r),e.hasText&&this._container.appendChild(t),e.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this._container.appendChild(t)}}_render(t=0){const e=(0,n.createPromiseCapability)();let r=Object.create(null);const o=this._document.createElement("canvas");if(o.height=o.width=i,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent){const t=this._textContent.items,r=this._textContent.styles;this._processItems(t,r),e.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const t=()=>{this._reader.read().then((({value:n,done:i})=>{i?e.resolve():(Object.assign(r,n.styles),this._processItems(n.items,r),t())}),e.reject)};this._reader=this._textContentStream.getReader(),t()}}e.promise.then((()=>{r=null,t?this._renderTimer=setTimeout((()=>{l(this),this._renderTimer=null}),t):l(this)}),this._capability.reject)}expandTextDivs(t=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(h(this),this._bounds=null);const e=[],r=[];for(let n=0,i=this._textDivs.length;n<i;n++){const i=this._textDivs[n],o=this._textDivProperties.get(i);o.hasText&&(t?(e.length=0,r.length=0,o.originalTransform&&e.push(o.originalTransform),o.paddingTop>0?(r.push(`${o.paddingTop}px`),e.push(`translateY(${-o.paddingTop}px)`)):r.push(0),o.paddingRight>0?r.push(o.paddingRight/o.scale+"px"):r.push(0),o.paddingBottom>0?r.push(`${o.paddingBottom}px`):r.push(0),o.paddingLeft>0?(r.push(o.paddingLeft/o.scale+"px"),e.push(`translateX(${-o.paddingLeft/o.scale}px)`)):r.push(0),i.style.padding=r.join(" "),e.length&&(i.style.transform=e.join(" "))):(i.style.padding=null,i.style.transform=o.originalTransform))}}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=r(1),i=r(5),o=r(3);let s=class{constructor(){(0,n.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=s;{const t={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},r="http://www.w3.org/XML/1998/namespace",a="http://www.w3.org/1999/xlink",l=["butt","round","square"],c=["miter","round","bevel"],h=function(t,e="",r=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!r)return URL.createObjectURL(new Blob([t],{type:e}));const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i=`data:${e};base64,`;for(let e=0,r=t.length;e<r;e+=3){const o=255&t[e],s=255&t[e+1],a=255&t[e+2];i+=n[o>>2]+n[(3&o)<<4|s>>4]+n[e+1<r?(15&s)<<2|a>>6:64]+n[e+2<r?63&a:64]}return i},u=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),e=new Int32Array(256);for(let t=0;t<256;t++){let r=t;for(let t=0;t<8;t++)r=1&r?3988292384^r>>1&2147483647:r>>1&2147483647;e[t]=r}function r(t,r,n,i){let o=i;const s=r.length;n[o]=s>>24&255,n[o+1]=s>>16&255,n[o+2]=s>>8&255,n[o+3]=255&s,o+=4,n[o]=255&t.charCodeAt(0),n[o+1]=255&t.charCodeAt(1),n[o+2]=255&t.charCodeAt(2),n[o+3]=255&t.charCodeAt(3),o+=4,n.set(r,o),o+=r.length;const a=function(t,r,n){let i=-1;for(let o=r;o<n;o++){const r=255&(i^t[o]);i=i>>>8^e[r]}return-1^i}(n,i+4,o);n[o]=a>>24&255,n[o+1]=a>>16&255,n[o+2]=a>>8&255,n[o+3]=255&a}function i(t){let e=t.length;const r=65535,n=Math.ceil(e/r),i=new Uint8Array(2+e+5*n+4);let o=0;i[o++]=120,i[o++]=156;let s=0;for(;e>r;)i[o++]=0,i[o++]=255,i[o++]=255,i[o++]=0,i[o++]=0,i.set(t.subarray(s,s+r),o),o+=r,s+=r,e-=r;i[o++]=1,i[o++]=255&e,i[o++]=e>>8&255,i[o++]=255&~e,i[o++]=(65535&~e)>>8&255,i.set(t.subarray(s),o),o+=t.length-s;const a=function(t,e,r){let n=1,i=0;for(let o=e;o<r;++o)n=(n+(255&t[o]))%65521,i=(i+n)%65521;return i<<16|n}(t,0,t.length);return i[o++]=a>>24&255,i[o++]=a>>16&255,i[o++]=a>>8&255,i[o++]=255&a,i}function s(e,s,a,l){const c=e.width,u=e.height;let p,d,f;const g=e.data;switch(s){case n.ImageKind.GRAYSCALE_1BPP:d=0,p=1,f=c+7>>3;break;case n.ImageKind.RGB_24BPP:d=2,p=8,f=3*c;break;case n.ImageKind.RGBA_32BPP:d=6,p=8,f=4*c;break;default:throw new Error("invalid format")}const m=new Uint8Array((1+f)*u);let y=0,v=0;for(let t=0;t<u;++t)m[y++]=0,m.set(g.subarray(v,v+f),y),v+=f,y+=f;if(s===n.ImageKind.GRAYSCALE_1BPP&&l){y=0;for(let t=0;t<u;t++){y++;for(let t=0;t<f;t++)m[y++]^=255}}const b=new Uint8Array([c>>24&255,c>>16&255,c>>8&255,255&c,u>>24&255,u>>16&255,u>>8&255,255&u,p,d,0,0,0]),w=function(t){if(!o.isNodeJS)return i(t);try{let e;e=parseInt(process.versions.node)>=8?t:Buffer.from(t);const r=__webpack_require__(258).deflateSync(e,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(t){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return i(t)}(m),x=t.length+36+b.length+w.length,S=new Uint8Array(x);let k=0;return S.set(t,k),k+=t.length,r("IHDR",b,S,k),k+=12+b.length,r("IDATA",w,S,k),k+=12+w.length,r("IEND",new Uint8Array(0),S,k),h(S,"image/png",a)}return function(t,e,r){return s(t,void 0===t.kind?n.ImageKind.GRAYSCALE_1BPP:t.kind,e,r)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=t.fontWeight,this.fontSize=0,this.textMatrix=n.IDENTITY_MATRIX,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=n.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=t.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(t,e){this.x=t,this.y=e}}function d(t){let e=[];const r=[];for(const n of t)"save"!==n.fn?"restore"===n.fn?e=r.pop():e.push(n):(e.push({fnId:92,fn:"group",items:[]}),r.push(e),e=e[e.length-1].items);return e}function f(t){if(Number.isInteger(t))return t.toString();const e=t.toFixed(10);let r=e.length-1;if("0"!==e[r])return e;do{r--}while("0"===e[r]);return e.substring(0,"."===e[r]?r:r+1)}function g(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${f(t[0])} ${f(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2])return`rotate(${f(180*Math.acos(t[0])/Math.PI)})`}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${f(t[4])} ${f(t[5])})`;return`matrix(${f(t[0])} ${f(t[1])} ${f(t[2])} ${f(t[3])} ${f(t[4])} ${f(t[5])})`}let m=0,y=0,v=0;e.SVGGraphics=s=class{constructor(t,e,r=!1){this.svgFactory=new i.DOMSVGFactory,this.current=new p,this.transformMatrix=n.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=e,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!r,this._operatorIdMapping=[];for(const t in n.OPS)this._operatorIdMapping[n.OPS[t]]=t}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const e=t.fnArray,r=t.argsArray;for(let t=0,i=e.length;t<i;t++)if(e[t]===n.OPS.dependency)for(const e of r[t]){const t=e.startsWith("g_")?this.commonObjs:this.objs,r=new Promise((r=>{t.get(e,r)}));this.current.dependencies.push(r)}return Promise.all(this.current.dependencies)}transform(t,e,r,i,o,s){const a=[t,e,r,i,o,s];this.transformMatrix=n.Util.transform(this.transformMatrix,a),this.tgrp=null}getSVG(t,e){this.viewport=e;const r=this._initialize(e);return this.loadDependencies(t).then((()=>(this.transformMatrix=n.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),r)))}convertOpList(t){const e=this._operatorIdMapping,r=t.argsArray,n=t.fnArray,i=[];for(let t=0,o=n.length;t<o;t++){const o=n[t];i.push({fnId:o,fn:e[o],args:r[t]})}return d(i)}executeOpTree(t){for(const e of t){const t=e.fn,r=e.fnId,i=e.args;switch(0|r){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(i);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(i[0],i[1]);break;case n.OPS.setFont:this.setFont(i);break;case n.OPS.showText:case n.OPS.showSpacedText:this.showText(i[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(i[0],i[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(i[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(i[0]);break;case n.OPS.setHScale:this.setHScale(i[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(i[0],i[1],i[2],i[3],i[4],i[5]);break;case n.OPS.setTextRise:this.setTextRise(i[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(i[0]);break;case n.OPS.setLineWidth:this.setLineWidth(i[0]);break;case n.OPS.setLineJoin:this.setLineJoin(i[0]);break;case n.OPS.setLineCap:this.setLineCap(i[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(i[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(i[0],i[1],i[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(i[0],i[1],i[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(i);break;case n.OPS.setFillColorN:this.setFillColorN(i);break;case n.OPS.shadingFill:this.shadingFill(i[0]);break;case n.OPS.setDash:this.setDash(i[0],i[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(i[0]);break;case n.OPS.setFlatness:this.setFlatness(i[0]);break;case n.OPS.setGState:this.setGState(i[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintImageXObject:this.paintImageXObject(i[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(i[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(i[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(i[0],i[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(i[0],i[1],i[2],i[3],i[4],i[5]);break;case n.OPS.constructPath:this.constructPath(i[0],i[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(e.items);break;default:(0,n.warn)(`Unimplemented operator ${t}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,e,r,n,i,o){const s=this.current;s.textMatrix=s.lineMatrix=[t,e,r,n,i,o],s.textMatrixScale=Math.hypot(t,e),s.x=s.lineX=0,s.y=s.lineY=0,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${f(s.fontSize)}px`),s.tspan.setAttributeNS(null,"y",f(-s.y)),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtElement.appendChild(s.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=n.IDENTITY_MATRIX,t.lineMatrix=n.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,e){const r=this.current;r.x=r.lineX+=t,r.y=r.lineY+=e,r.xcoords=[],r.ycoords=[],r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",`${f(r.fontSize)}px`),r.tspan.setAttributeNS(null,"y",f(-r.y))}showText(e){const i=this.current,o=i.font,s=i.fontSize;if(0===s)return;const a=i.fontSizeScale,l=i.charSpacing,c=i.wordSpacing,h=i.fontDirection,u=i.textHScale*h,p=o.vertical,d=p?1:-1,m=o.defaultVMetrics,y=s*i.fontMatrix[0];let v=0;for(const t of e){if(null===t){v+=h*c;continue}if("number"==typeof t){v+=d*t*s/1e3;continue}const e=(t.isSpace?c:0)+l,r=t.fontChar;let n,u,f,g=t.width;if(p){let e;const r=t.vmetric||m;e=t.vmetric?r[1]:.5*g,e=-e*y;const i=r[2]*y;g=r?-r[0]:g,n=e/a,u=(v+i)/a}else n=v/a,u=0;(t.isInFont||o.missingFile)&&(i.xcoords.push(i.x+n),p&&i.ycoords.push(-i.y+u),i.tspan.textContent+=r),f=p?g*y-e*h:g*y+e*h,v+=f}i.tspan.setAttributeNS(null,"x",i.xcoords.map(f).join(" ")),p?i.tspan.setAttributeNS(null,"y",i.ycoords.map(f).join(" ")):i.tspan.setAttributeNS(null,"y",f(-i.y)),p?i.y-=v:i.x+=v*u,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${f(i.fontSize)}px`),i.fontStyle!==t.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==t.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const b=i.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;if(b===n.TextRenderingMode.FILL||b===n.TextRenderingMode.FILL_STROKE?(i.fillColor!==t.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH?i.tspan.setAttributeNS(null,"fill","transparent"):i.tspan.setAttributeNS(null,"fill","none"),b===n.TextRenderingMode.STROKE||b===n.TextRenderingMode.FILL_STROKE){const t=1/(i.textMatrixScale||1);this._setStrokeAttributes(i.tspan,t)}let w=i.textMatrix;0!==i.textRise&&(w=w.slice(),w[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${g(w)} scale(${f(u)}, -1)`),i.txtElement.setAttributeNS(r,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const e=h(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${e}); }\n`}setFont(t){const e=this.current,r=this.commonObjs.get(t[0]);let i=t[1];e.font=r,!this.embedFonts||r.missingFile||this.embeddedFonts[r.loadedName]||(this.addFontStyle(r),this.embeddedFonts[r.loadedName]=r),e.fontMatrix=r.fontMatrix||n.FONT_IDENTITY_MATRIX;let o="normal";r.black?o="900":r.bold&&(o="bold");const s=r.italic?"italic":"normal";i<0?(i=-i,e.fontDirection=-1):e.fontDirection=1,e.fontSize=i,e.fontFamily=r.loadedName,e.fontWeight=o,e.fontStyle=s,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",f(-e.y)),e.xcoords=[],e.ycoords=[]}endText(){const t=this.current;t.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement?.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=l[t]}setLineJoin(t){this.current.lineJoin=c[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,e,r){this.current.strokeColor=n.Util.makeHexColor(t,e,r)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,e,r){this.current.fillColor=n.Util.makeHexColor(t,e,r),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const e=this.viewport.width,r=this.viewport.height,i=n.Util.inverseTransform(this.transformMatrix),o=n.Util.applyTransform([0,0],i),s=n.Util.applyTransform([0,r],i),a=n.Util.applyTransform([e,0],i),l=n.Util.applyTransform([e,r],i),c=Math.min(o[0],s[0],a[0],l[0]),h=Math.min(o[1],s[1],a[1],l[1]),u=Math.max(o[0],s[0],a[0],l[0]),p=Math.max(o[1],s[1],a[1],l[1]),d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",c),d.setAttributeNS(null,"y",h),d.setAttributeNS(null,"width",u-c),d.setAttributeNS(null,"height",p-h),d.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&d.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(d)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const e=t[1],r=t[2],i=t[3]||n.IDENTITY_MATRIX,[o,s,a,l]=t[4],c=t[5],h=t[6],u=t[7],p="shading"+v++,[d,f,g,m]=n.Util.normalizeRect([...n.Util.applyTransform([o,s],i),...n.Util.applyTransform([a,l],i)]),[y,b]=n.Util.singularValueDecompose2dScale(i),w=c*y,x=h*b,S=this.svgFactory.createElement("svg:pattern");S.setAttributeNS(null,"id",p),S.setAttributeNS(null,"patternUnits","userSpaceOnUse"),S.setAttributeNS(null,"width",w),S.setAttributeNS(null,"height",x),S.setAttributeNS(null,"x",`${d}`),S.setAttributeNS(null,"y",`${f}`);const k=this.svg,A=this.transformMatrix,C=this.current.fillColor,_=this.current.strokeColor,T=this.svgFactory.create(g-d,m-f);if(this.svg=T,this.transformMatrix=i,2===u){const t=n.Util.makeHexColor(...e);this.current.fillColor=t,this.current.strokeColor=t}return this.executeOpTree(this.convertOpList(r)),this.svg=k,this.transformMatrix=A,this.current.fillColor=C,this.current.strokeColor=_,S.appendChild(T.childNodes[0]),this.defs.appendChild(S),`url(#${p})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const e="shading"+v++,r=t[3];let i;switch(t[1]){case"axial":const r=t[4],n=t[5];i=this.svgFactory.createElement("svg:linearGradient"),i.setAttributeNS(null,"id",e),i.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),i.setAttributeNS(null,"x1",r[0]),i.setAttributeNS(null,"y1",r[1]),i.setAttributeNS(null,"x2",n[0]),i.setAttributeNS(null,"y2",n[1]);break;case"radial":const o=t[4],s=t[5],a=t[6],l=t[7];i=this.svgFactory.createElement("svg:radialGradient"),i.setAttributeNS(null,"id",e),i.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),i.setAttributeNS(null,"cx",s[0]),i.setAttributeNS(null,"cy",s[1]),i.setAttributeNS(null,"r",l),i.setAttributeNS(null,"fx",o[0]),i.setAttributeNS(null,"fy",o[1]),i.setAttributeNS(null,"fr",a);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const t of r){const e=this.svgFactory.createElement("svg:stop");e.setAttributeNS(null,"offset",t[0]),e.setAttributeNS(null,"stop-color",t[1]),i.appendChild(e)}return this.defs.appendChild(i),`url(#${e})`;case"Mesh":return(0,n.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,e){this.current.dashArray=t,this.current.dashPhase=e}constructPath(t,e){const r=this.current;let i=r.x,o=r.y,s=[],a=0;for(const r of t)switch(0|r){case n.OPS.rectangle:i=e[a++],o=e[a++];const t=i+e[a++],r=o+e[a++];s.push("M",f(i),f(o),"L",f(t),f(o),"L",f(t),f(r),"L",f(i),f(r),"Z");break;case n.OPS.moveTo:i=e[a++],o=e[a++],s.push("M",f(i),f(o));break;case n.OPS.lineTo:i=e[a++],o=e[a++],s.push("L",f(i),f(o));break;case n.OPS.curveTo:i=e[a+4],o=e[a+5],s.push("C",f(e[a]),f(e[a+1]),f(e[a+2]),f(e[a+3]),f(i),f(o)),a+=6;break;case n.OPS.curveTo2:s.push("C",f(i),f(o),f(e[a]),f(e[a+1]),f(e[a+2]),f(e[a+3])),i=e[a+2],o=e[a+3],a+=4;break;case n.OPS.curveTo3:i=e[a+2],o=e[a+3],s.push("C",f(e[a]),f(e[a+1]),f(i),f(o),f(i),f(o)),a+=4;break;case n.OPS.closePath:s.push("Z")}s=s.join(" "),r.path&&t.length>0&&t[0]!==n.OPS.rectangle&&t[0]!==n.OPS.moveTo?s=r.path.getAttributeNS(null,"d")+s:(r.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(r.path)),r.path.setAttributeNS(null,"d",s),r.path.setAttributeNS(null,"fill","none"),r.element=r.path,r.setCurrentPoint(i,o)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const e="clippath"+m++,r=this.svgFactory.createElement("svg:clipPath");r.setAttributeNS(null,"id",e),r.setAttributeNS(null,"transform",g(this.transformMatrix));const n=t.element.cloneNode(!0);if("evenodd"===this.pendingClip?n.setAttributeNS(null,"clip-rule","evenodd"):n.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,r.appendChild(n),this.defs.appendChild(r),t.activeClipUrl){t.clipGroup=null;for(const t of this.extraStack)t.clipGroup=null;r.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${e})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const e=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",e)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,r]of t)switch(e){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r);break;case"CA":this.setStrokeAlpha(r);break;case"ca":this.setFillAlpha(r);break;default:(0,n.warn)(`Unimplemented graphic state operator ${e}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,e=1){const r=this.current;let n=r.dashArray;1!==e&&n.length>0&&(n=n.map((function(t){return e*t}))),t.setAttributeNS(null,"stroke",r.strokeColor),t.setAttributeNS(null,"stroke-opacity",r.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",f(r.miterLimit)),t.setAttributeNS(null,"stroke-linecap",r.lineCap),t.setAttributeNS(null,"stroke-linejoin",r.lineJoin),t.setAttributeNS(null,"stroke-width",f(e*r.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",n.map(f).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",f(e*r.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,n.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,e){const r=t.width,n=t.height,i=u(t,this.forceDataSchema,!!e),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",f(r)),o.setAttributeNS(null,"height",f(n)),this.current.element=o,this.clip("nonzero");const s=this.svgFactory.createElement("svg:image");s.setAttributeNS(a,"xlink:href",i),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",f(-n)),s.setAttributeNS(null,"width",f(r)+"px"),s.setAttributeNS(null,"height",f(n)+"px"),s.setAttributeNS(null,"transform",`scale(${f(1/r)} ${f(-1/n)})`),e?e.appendChild(s):this._ensureTransformGroup().appendChild(s)}paintImageMaskXObject(t){const e=this.current,r=t.width,n=t.height,i=e.fillColor;e.maskId="mask"+y++;const o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",e.maskId);const s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",f(r)),s.setAttributeNS(null,"height",f(n)),s.setAttributeNS(null,"fill",i),s.setAttributeNS(null,"mask",`url(#${e.maskId})`),this.defs.appendChild(o),this._ensureTransformGroup().appendChild(s),this.paintInlineImageXObject(t,o)}paintFormXObjectBegin(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){const t=e[2]-e[0],r=e[3]-e[1],n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x",e[0]),n.setAttributeNS(null,"y",e[1]),n.setAttributeNS(null,"width",f(t)),n.setAttributeNS(null,"height",f(r)),this.current.element=n,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const e=this.svgFactory.create(t.width,t.height),r=this.svgFactory.createElement("svg:defs");e.appendChild(r),this.defs=r;const n=this.svgFactory.createElement("svg:g");return n.setAttributeNS(null,"transform",g(t.transform)),e.appendChild(n),this.svg=n,e}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",g(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var n=r(1),i=r(26);const o=__webpack_require__(172),s=__webpack_require__(1),a=__webpack_require__(779),l=__webpack_require__(558),c=/^file:\/\/\/[a-zA-Z]:\//;e.PDFNodeStream=class{constructor(t){this.source=t,this.url=function(t){const e=l.parse(t);return"file:"===e.protocol||e.host?e:/^[a-z]:[/\\]/i.test(t)?l.parse(`file:///${t}`):(e.host||(e.protocol="file:"),e)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new d(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=this.isFsUrl?new m(this,t,e):new f(this,t,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class h{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._headersCapability=(0,n.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function p(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class d extends h{constructor(t){super(t);const e=e=>{if(404===e.statusCode){const t=new n.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=t,void this._headersCapability.reject(t)}this._headersCapability.resolve(),this._setReadableStream(e);const r=t=>this._readableStream.headers[t.toLowerCase()],{allowRangeRequests:o,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(r)};this._request=null,"http:"===this._url.protocol?this._request=s.request(p(this._url,t.httpHeaders),e):this._request=a.request(p(this._url,t.httpHeaders),e),this._request.on("error",(t=>{this._storedError=t,this._headersCapability.reject(t)})),this._request.end()}}class f extends u{constructor(t,e,r){super(t),this._httpHeaders={};for(const e in t.httpHeaders){const r=t.httpHeaders[e];void 0!==r&&(this._httpHeaders[e]=r)}this._httpHeaders.Range=`bytes=${e}-${r-1}`;const i=t=>{if(404!==t.statusCode)this._setReadableStream(t);else{const t=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=t}};this._request=null,"http:"===this._url.protocol?this._request=s.request(p(this._url,this._httpHeaders),i):this._request=a.request(p(this._url,this._httpHeaders),i),this._request.on("error",(t=>{this._storedError=t})),this._request.end()}}class g extends h{constructor(t){super(t);let e=decodeURIComponent(this._url.path);c.test(this._url.href)&&(e=e.replace(/^\//,"")),o.lstat(e,((t,r)=>{if(t)return"ENOENT"===t.code&&(t=new n.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=t,void this._headersCapability.reject(t);this._contentLength=r.size,this._setReadableStream(o.createReadStream(e)),this._headersCapability.resolve()}))}}class m extends u{constructor(t,e,r){super(t);let n=decodeURIComponent(this._url.path);c.test(this._url.href)&&(n=n.replace(/^\//,"")),this._setReadableStream(o.createReadStream(n,{start:e,end:r-1}))}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(t,e){return 404===t||0===t&&e.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+e+'".'):new n.UnexpectedResponseException(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)},e.extractFilenameFromHeader=function(t){const e=t("Content-Disposition");if(e){let t=(0,i.getFilenameFromContentDispositionHeader)(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch(t){}if((0,o.isPdfFile)(t))return t}return null},e.validateRangeRequestCapabilities=function({getResponseHeader:t,isHttp:e,rangeChunkSize:r,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t("Content-Length"),10);return Number.isInteger(o)?(i.suggestedLength=o,o<=2*r||n||!e||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(i.allowRangeRequests=!0),i):i},e.validateResponseStatus=function(t){return 200===t||206===t};var n=r(1),i=r(27),o=r(5)},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(t){let e=!0,r=i("filename\\*","i").exec(t);if(r){r=r[1];let t=a(r);return t=unescape(t),t=l(t),t=c(t),s(t)}if(r=function(t){const e=[];let r;const n=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(r=n.exec(t));){let[,t,n,i]=r;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[n,i]}const o=[];for(let t=0;t<e.length&&t in e;++t){let[r,n]=e[t];n=a(n),r&&(n=unescape(n),0===t&&(n=l(n))),o.push(n)}return o.join("")}(t),r)return s(c(r));if(r=i("filename","i").exec(t),r){r=r[1];let t=a(r);return t=c(t),s(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function o(t,r){if(t){if(!/^[\x00-\xFF]+$/.test(r))return r;try{const i=new TextDecoder(t,{fatal:!0}),o=(0,n.stringToBytes)(r);r=i.decode(o),e=!1}catch(t){}}return r}function s(t){return e&&/[\x80-\xff]/.test(t)&&(t=o("utf-8",t),e&&(t=o("iso-8859-1",t))),t}function a(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const r=e[t].indexOf('"');-1!==r&&(e[t]=e[t].slice(0,r),e.length=t+1),e[t]=e[t].replace(/\\(.)/g,"$1")}t=e.join('"')}return t}function l(t){const e=t.indexOf("'");return-1===e?t:o(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function c(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,r,n){if("q"===r||"Q"===r)return o(e,n=(n=n.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{n=atob(n)}catch(t){}return o(e,n)}))}return""};var n=r(1)},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n=r(1),i=r(26);class o{constructor(t,e={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.getXhr=e.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,r){const n={begin:t,end:e};for(const t in r)n[t]=r[t];return this.request(n)}requestFull(t){return this.request(t)}request(t){const e=this.getXhr(),r=this.currXhrId++,n=this.pendingRequests[r]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const t in this.httpHeaders){const r=this.httpHeaders[t];void 0!==r&&e.setRequestHeader(t,r)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),n.expectedStatus=206):n.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(r){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,r),e.onprogress=this.onProgress.bind(this,r),n.onHeadersReceived=t.onHeadersReceived,n.onDone=t.onDone,n.onError=t.onError,n.onProgress=t.onProgress,e.send(null),r}onProgress(t,e){const r=this.pendingRequests[t];r&&r.onProgress?.(e)}onStateChange(t,e){const r=this.pendingRequests[t];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void r.onError?.(i.status);const o=i.status||200;if((200!==o||206!==r.expectedStatus)&&o!==r.expectedStatus)return void r.onError?.(i.status);const s=function(t){const e=t.response;return"string"!=typeof e?e:(0,n.stringToBytes)(e).buffer}(i);if(206===o){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);r.onDone({begin:parseInt(e[1],10),chunk:s})}else s?r.onDone({begin:0,chunk:s}):r.onError?.(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}e.PDFNetworkStream=class{constructor(t){this._source=t,this._manager=new o(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const r=new a(this._manager,t,e);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class s{constructor(t,e){this._manager=t;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(r),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),r=t=>e.getResponseHeader(t),{allowRangeRequests:n,suggestedLength:o}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});n&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=(0,i.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a{constructor(t,e,r){this._manager=t;const n={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,r,n),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=(0,i.createResponseStatusError)(t,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,n.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n=r(1),i=r(26);function o(t,e,r){return{method:"GET",headers:t,signal:r?.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function s(t){const e=new Headers;for(const r in t){const n=t[r];void 0!==n&&e.append(r,n)}return e}e.PDFFetchStream=class{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new a(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new l(this,t,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class a{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=(0,n.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=s(this._stream.httpHeaders);const r=e.url;fetch(r,o(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!(0,i.validateResponseStatus)(t.status))throw(0,i.createResponseStatusError)(t.status,r);this._reader=t.body.getReader(),this._headersCapability.resolve();const e=e=>t.headers.get(e),{allowRangeRequests:o,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}class l{constructor(t,e,r){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=s(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${r-1}`);const l=a.url;fetch(l,o(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!(0,i.validateResponseStatus)(t.status))throw(0,i.createResponseStatusError)(t.status,l);this._readCapability.resolve(),this._reader=t.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return i.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return o.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return r.version}});var e=__w_pdfjs_require__(1),r=__w_pdfjs_require__(4),n=__w_pdfjs_require__(5),i=__w_pdfjs_require__(20),o=__w_pdfjs_require__(13),s=__w_pdfjs_require__(3),a=__w_pdfjs_require__(23),l=__w_pdfjs_require__(24),c=__w_pdfjs_require__(22);if(s.isNodeJS){const{PDFNodeStream:t}=__w_pdfjs_require__(25);(0,r.setPDFNetworkStreamFactory)((e=>new t(e)))}else{const{PDFNetworkStream:t}=__w_pdfjs_require__(28),{PDFFetchStream:e}=__w_pdfjs_require__(29);(0,r.setPDFNetworkStreamFactory)((r=>(0,n.isValidFetchUrl)(r.url)?new e(r):new t(r)))}})(),__webpack_exports__})(),module.exports=factory()},16:(t,e,r)=>{("undefined"!=typeof window?window:{}).pdfjsWorker=r(624)},624:function(t){
/**
 * @licstart The following is the entire license notice for the
 * JavaScript code in this page
 *
 * Copyright 2022 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * JavaScript code in this page
 */
var e;e=()=>(()=>{"use strict";var t=[,(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerTask=e.WorkerMessageHandler=void 0;var n,i=r(2),o=r(5),s=r(6),a=r(67),l=r(73),c=r(4),h=r(102),u=r(103),p=r(8);class d{constructor(t){this.name=t,this.terminated=!1,this._capability=(0,i.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}e.WorkerTask=d;class f{static setup(t,e){let r=!1;t.on("test",(function(e){r||(r=!0,t.send("test",e instanceof Uint8Array))})),t.on("configure",(function(t){(0,i.setVerbosityLevel)(t.verbosity)})),t.on("GetDocRequest",(function(t){return f.createDocumentHandler(t,e)}))}static createDocumentHandler(t,e){let r,n=!1,f=null;const g=[],m=(0,i.getVerbosityLevel)(),y=t.apiVersion,v="2.14.305";if(y!==v)throw new Error(`The API version "${y}" does not match the Worker version "2.14.305".`);const b=[];for(const t in[])b.push(t);if(b.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+b.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if("undefined"==typeof ReadableStream){const t="The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); ";if(c.isNodeJS)throw new Error(t+"please use a `legacy`-build instead.");throw new Error(t+"please update to a supported browser.")}const w=t.docId,x=t.docBaseUrl,S=t.docId+"_worker";let k=new h.MessageHandler(S,w,e);function A(){if(n)throw new Error("Worker was terminated")}function C(t){g.push(t)}function _(t){t.finish();const e=g.indexOf(t);g.splice(e,1)}async function T(t){await r.ensureDoc("checkHeader"),await r.ensureDoc("parseStartXRef"),await r.ensureDoc("parse",[t]),await r.ensureDoc("checkFirstPage",[t]),await r.ensureDoc("checkLastPage",[t]);const e=await r.ensureDoc("isPureXfa");if(e){const t=new d("loadXfaFonts");C(t),await Promise.all([r.loadXfaFonts(k,t).catch((t=>{})).then((()=>_(t))),r.loadXfaImages()])}const[n,i]=await Promise.all([r.ensureDoc("numPages"),r.ensureDoc("fingerprints")]);return{numPages:n,fingerprints:i,htmlForXfa:e?await r.ensureDoc("htmlForXfa"):null}}function O(t,e,r){const n=(0,i.createPromiseCapability)();let o;const a=t.source;if(a.data){try{o=new s.LocalPdfManager(w,a.data,a.password,k,e,r,x),n.resolve(o)}catch(t){n.reject(t)}return n.promise}let l,c=[];try{l=new u.PDFWorkerStream(k)}catch(t){return n.reject(t),n.promise}const h=l.getFullReader();h.headersReady.then((function(){if(!h.isRangeSupported)return;const t=a.disableAutoFetch||h.isStreamingSupported;o=new s.NetworkPdfManager(w,l,{msgHandler:k,password:a.password,length:h.contentLength,disableAutoFetch:t,rangeChunkSize:a.rangeChunkSize},e,r,x);for(let t=0;t<c.length;t++)o.sendProgressiveData(c[t]);c=[],n.resolve(o),f=null})).catch((function(t){n.reject(t),f=null}));let p=0;return new Promise((function(t,l){const u=function({value:t,done:d}){try{if(A(),d)return o||function(){const t=(0,i.arraysToBytes)(c);a.length&&t.length!==a.length&&(0,i.warn)("reported HTTP length is different from actual");try{o=new s.LocalPdfManager(w,t,a.password,k,e,r,x),n.resolve(o)}catch(t){n.reject(t)}c=[]}(),void(f=null);p+=(0,i.arrayByteLength)(t),h.isStreamingSupported||k.send("DocProgress",{loaded:p,total:Math.max(p,h.contentLength||0)}),o?o.sendProgressiveData(t):c.push(t),h.read().then(u,l)}catch(t){l(t)}};h.read().then(u,l)})).catch((function(t){n.reject(t),f=null})),f=function(t){l.cancelAllRequests(t)},n.promise}return k.on("GetPage",(function(t){return r.getPage(t.pageIndex).then((function(t){return Promise.all([r.ensure(t,"rotate"),r.ensure(t,"ref"),r.ensure(t,"userUnit"),r.ensure(t,"view")]).then((function([t,e,r,n]){return{rotate:t,ref:e,userUnit:r,view:n}}))}))})),k.on("GetPageIndex",(function(t){const e=o.Ref.get(t.num,t.gen);return r.ensureCatalog("getPageIndex",[e])})),k.on("GetDestinations",(function(t){return r.ensureCatalog("destinations")})),k.on("GetDestination",(function(t){return r.ensureCatalog("getDestination",[t.id])})),k.on("GetPageLabels",(function(t){return r.ensureCatalog("pageLabels")})),k.on("GetPageLayout",(function(t){return r.ensureCatalog("pageLayout")})),k.on("GetPageMode",(function(t){return r.ensureCatalog("pageMode")})),k.on("GetViewerPreferences",(function(t){return r.ensureCatalog("viewerPreferences")})),k.on("GetOpenAction",(function(t){return r.ensureCatalog("openAction")})),k.on("GetAttachments",(function(t){return r.ensureCatalog("attachments")})),k.on("GetJavaScript",(function(t){return r.ensureCatalog("javaScript")})),k.on("GetDocJSActions",(function(t){return r.ensureCatalog("jsActions")})),k.on("GetPageJSActions",(function({pageIndex:t}){return r.getPage(t).then((function(t){return r.ensure(t,"jsActions")}))})),k.on("GetOutline",(function(t){return r.ensureCatalog("documentOutline")})),k.on("GetOptionalContentConfig",(function(t){return r.ensureCatalog("optionalContentConfig")})),k.on("GetPermissions",(function(t){return r.ensureCatalog("permissions")})),k.on("GetMetadata",(function(t){return Promise.all([r.ensureDoc("documentInfo"),r.ensureCatalog("metadata")])})),k.on("GetMarkInfo",(function(t){return r.ensureCatalog("markInfo")})),k.on("GetData",(function(t){return r.requestLoadedStream(),r.onLoadedStream().then((function(t){return t.bytes}))})),k.on("GetAnnotations",(function({pageIndex:t,intent:e}){return r.getPage(t).then((function(t){return t.getAnnotationsData(e)}))})),k.on("GetFieldObjects",(function(t){return r.ensureDoc("fieldObjects")})),k.on("HasJSActions",(function(t){return r.ensureDoc("hasJSActions")})),k.on("GetCalculationOrderIds",(function(t){return r.ensureDoc("calculationOrderIds")})),k.on("SaveDocument",(function({isPureXfa:t,numPages:e,annotationStorage:n,filename:s}){r.requestLoadedStream();const a=[r.onLoadedStream(),r.ensureCatalog("acroForm"),r.ensureCatalog("acroFormRef"),r.ensureDoc("xref"),r.ensureDoc("startXRef")];if(t)a.push(r.serializeXfaData(n));else for(let t=0;t<e;t++)a.push(r.getPage(t).then((function(e){const r=new d(`Save: page ${t}`);return e.save(k,r,n).finally((function(){_(r)}))})));return Promise.all(a).then((function([e,r,n,a,c,...h]){let u=[],p=null;if(t){if(p=h[0],!p)return e.bytes}else{for(const t of h)u=t.filter((t=>null!==t)).reduce(((t,e)=>t.concat(e)),u);if(0===u.length)return e.bytes}const d=r instanceof o.Dict&&r.get("XFA")||null;let f=null,g=!1;if(Array.isArray(d)){for(let t=0,e=d.length;t<e;t+=2)"datasets"===d[t]&&(f=d[t+1],n=null,g=!0);null===f&&(f=a.getNewRef())}else d&&(n=null,(0,i.warn)("Unsupported XFA type."));let m=Object.create(null);if(a.trailer){const t=Object.create(null),e=a.trailer.get("Info")||null;e instanceof o.Dict&&e.forEach(((e,r)=>{"string"==typeof r&&(t[e]=(0,i.stringToPDFString)(r))})),m={rootRef:a.trailer.getRaw("Root")||null,encryptRef:a.trailer.getRaw("Encrypt")||null,newRef:a.getNewRef(),infoRef:a.trailer.getRaw("Info")||null,info:t,fileIds:a.trailer.get("ID")||null,startXRef:c,filename:s}}return a.resetNewRef(),(0,l.incrementalUpdate)({originalData:e.bytes,xrefInfo:m,newRefs:u,xref:a,hasXfa:!!d,xfaDatasetsRef:f,hasXfaDatasetsEntry:g,acroFormRef:n,acroForm:r,xfaData:p})}))})),k.on("GetOperatorList",(function(t,e){const n=t.pageIndex;r.getPage(n).then((function(r){const o=new d(`GetOperatorList: page ${n}`);C(o);const s=m>=i.VerbosityLevel.INFOS?Date.now():0;r.getOperatorList({handler:k,sink:e,task:o,intent:t.intent,cacheKey:t.cacheKey,annotationStorage:t.annotationStorage}).then((function(t){_(o),s&&(0,i.info)(`page=${n+1} - getOperatorList: time=${Date.now()-s}ms, len=${t.length}`),e.close()}),(function(t){_(o),o.terminated||(k.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorOperatorList}),e.error(t))}))}))})),k.on("GetTextContent",(function(t,e){const n=t.pageIndex;r.getPage(n).then((function(r){const o=new d("GetTextContent: page "+n);C(o);const s=m>=i.VerbosityLevel.INFOS?Date.now():0;r.extractTextContent({handler:k,task:o,sink:e,includeMarkedContent:t.includeMarkedContent,combineTextItems:t.combineTextItems}).then((function(){_(o),s&&(0,i.info)(`page=${n+1} - getTextContent: time=`+(Date.now()-s)+"ms"),e.close()}),(function(t){_(o),o.terminated||e.error(t)}))}))})),k.on("GetStructTree",(function(t){return r.getPage(t.pageIndex).then((function(t){return r.ensure(t,"getStructTree")}))})),k.on("FontFallback",(function(t){return r.fontFallback(t.id,k)})),k.on("Cleanup",(function(t){return r.cleanup(!0)})),k.on("Terminate",(function(t){n=!0;const e=[];if(r){r.terminate(new i.AbortException("Worker was terminated."));const t=r.cleanup();e.push(t),r=null}else(0,a.clearGlobalCaches)();f&&f(new i.AbortException("Worker was terminated."));for(const t of g)e.push(t.finished),t.terminate();return Promise.all(e).then((function(){k.destroy(),k=null}))})),k.on("Ready",(function(e){!function(t){function e(t){A(),k.send("GetDoc",{pdfInfo:t})}function o(t){if(A(),t instanceof i.PasswordException){const e=new d(`PasswordException: response ${t.code}`);C(e),k.sendWithPromise("PasswordRequest",t).then((function({password:t}){_(e),r.updatePassword(t),s()})).catch((function(){_(e),k.send("DocException",t)}))}else t instanceof i.InvalidPDFException||t instanceof i.MissingPDFException||t instanceof i.UnexpectedResponseException||t instanceof i.UnknownErrorException?k.send("DocException",t):k.send("DocException",new i.UnknownErrorException(t.message,t.toString()))}function s(){A(),T(!1).then(e,(function(t){A(),t instanceof p.XRefParseException?(r.requestLoadedStream(),r.onLoadedStream().then((function(){A(),T(!0).then(e,o)}))):o(t)}))}A(),O(t,{maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,useSystemFonts:t.useSystemFonts,cMapUrl:t.cMapUrl,standardFontDataUrl:t.standardFontDataUrl},t.enableXfa).then((function(t){if(n)throw t.terminate(new i.AbortException("Worker was terminated.")),new Error("Worker was terminated");r=t,r.onLoadedStream().then((function(t){k.send("DataLoaded",{length:t.bytes.byteLength})}))})).then(s,o)}(t),t=null})),S}static initializeFromPort(t){const e=new h.MessageHandler("worker","main",t);f.setup(e,t),e.send("ready",null)}}e.WorkerMessageHandler=f,"undefined"==typeof window&&!c.isNodeJS&&"undefined"!=typeof self&&"function"==typeof(n=self).postMessage&&"onmessage"in n&&f.initializeFromPort(self)},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=h,e.arraysToBytes=function(t){const e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];let r=0;for(let n=0;n<e;n++)r+=h(t[n]);let n=0;const i=new Uint8Array(r);for(let r=0;r<e;r++){let e=t[r];e instanceof Uint8Array||(e="string"==typeof e?c(e):new Uint8Array(e));const o=e.byteLength;i.set(e,n),n+=o}return i},e.assert=function(t,e){t||s(e)},e.bytesToString=function(t){"object"==typeof t&&null!==t&&void 0!==t.length||s("Invalid argument for bytesToString");const e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);const n=[];for(let i=0;i<e;i+=r){const o=Math.min(i+r,e),s=t.subarray(i,o);n.push(String.fromCharCode.apply(null,s))}return n.join("")},e.createPromiseCapability=function(){const t=Object.create(null);let e=!1;return Object.defineProperty(t,"settled",{get:()=>e}),t.promise=new Promise((function(r,n){t.resolve=function(t){e=!0,r(t)},t.reject=function(t){e=!0,n(t)}})),t},e.createValidAbsoluteUrl=function(t,e=null,r=null){if(!t)return null;try{if(r&&"string"==typeof t){if(r.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);e&&e.length>=2&&(t=`http://${t}`)}if(r.tryConvertEncoding)try{t=f(t)}catch(t){}}const n=e?new URL(t,e):new URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(t){}return null},e.escapeString=function(t){return t.replace(/([()\\\n\r])/g,(t=>"\n"===t?"\\n":"\r"===t?"\\r":`\\${t}`))},e.getModificationDate=function(t=new Date){return[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")].join("")},e.getVerbosityLevel=function(){return i},e.info=function(t){i>=n.INFOS&&console.log(`Info: ${t}`)},e.isArrayBuffer=function(t){return"object"==typeof t&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0},e.isAscii=function(t){return/^[\x00-\x7F]*$/.test(t)},e.objectFromMap=function(t){const e=Object.create(null);for(const[r,n]of t)e[r]=n;return e},e.objectSize=function(t){return Object.keys(t).length},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(i=t)},e.shadow=a,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=c,e.stringToPDFString=function(t){if(t[0]>="ï"){let e;if("þ"===t[0]&&"ÿ"===t[1]?e="utf-16be":"ÿ"===t[0]&&"þ"===t[1]?e="utf-16le":"ï"===t[0]&&"»"===t[1]&&"¿"===t[2]&&(e="utf-8"),e)try{const r=new TextDecoder(e,{fatal:!0}),n=c(t);return r.decode(n)}catch(t){o(`stringToPDFString: "${t}".`)}}const e=[];for(let r=0,n=t.length;r<n;r++){const n=d[t.charCodeAt(r)];e.push(n?String.fromCharCode(n):t.charAt(r))}return e.join("")},e.stringToUTF16BEString=function(t){const e=["þÿ"];for(let r=0,n=t.length;r<n;r++){const n=t.charCodeAt(r);e.push(String.fromCharCode(n>>8&255),String.fromCharCode(255&n))}return e.join("")},e.stringToUTF8String=f,e.unreachable=s,e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=o,r(3),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},e.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},e.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},e.PageActionEventType={O:"PageOpen",C:"PageClose"},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const n={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=n,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=n.WARNINGS;function o(t){i>=n.WARNINGS&&console.log(`Warning: ${t}`)}function s(t){throw new Error(t)}function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}const l=function(){function t(e,r){this.constructor===t&&s("Cannot initialize BaseException."),this.message=e,this.name=r}return t.prototype=new Error,t.constructor=t,t}();function c(t){"string"!=typeof t&&s("Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=255&t.charCodeAt(n);return r}function h(t){return void 0!==t.length?t.length:void 0!==t.byteLength?t.byteLength:void s("Invalid argument for arrayByteLength")}e.BaseException=l,e.PasswordException=class extends l{constructor(t,e){super(t,"PasswordException"),this.code=e}},e.UnknownErrorException=class extends l{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}},e.InvalidPDFException=class extends l{constructor(t){super(t,"InvalidPDFException")}},e.MissingPDFException=class extends l{constructor(t){super(t,"MissingPDFException")}},e.UnexpectedResponseException=class extends l{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}},e.FormatError=class extends l{constructor(t){super(t,"FormatError")}},e.AbortException=class extends l{constructor(t){super(t,"AbortException")}},e.FeatureTest=class{static get isLittleEndian(){return a(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return a(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}static get isOffscreenCanvasSupported(){return a(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}};const u=[...Array(256).keys()].map((t=>t.toString(16).padStart(2,"0")));class p{static makeHexColor(t,e,r){return`#${u[t]}${u[e]}${u[r]}`}static scaleMinMax(t,e){let r;t[0]?(t[0]<0&&(r=e[0],e[0]=e[1],e[1]=r),e[0]*=t[0],e[1]*=t[0],t[3]<0&&(r=e[2],e[2]=e[3],e[3]=r),e[2]*=t[3],e[3]*=t[3]):(r=e[0],e[0]=e[2],e[2]=r,r=e[1],e[1]=e[3],e[3]=r,t[1]<0&&(r=e[2],e[2]=e[3],e[3]=r),e[2]*=t[1],e[3]*=t[1],t[2]<0&&(r=e[0],e[0]=e[1],e[1]=r),e[0]*=t[2],e[1]*=t[2]),e[0]+=t[4],e[1]+=t[4],e[2]+=t[5],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}static applyInverseTransform(t,e){const r=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/r,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/r]}static getAxialAlignedBoundingBox(t,e){const r=p.applyTransform(t,e),n=p.applyTransform(t.slice(2,4),e),i=p.applyTransform([t[0],t[3]],e),o=p.applyTransform([t[2],t[1]],e);return[Math.min(r[0],n[0],i[0],o[0]),Math.min(r[1],n[1],i[1],o[1]),Math.max(r[0],n[0],i[0],o[0]),Math.max(r[1],n[1],i[1],o[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static apply3dTransform(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],r=t[0]*e[0]+t[1]*e[2],n=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],s=(r+o)/2,a=Math.sqrt((r+o)**2-4*(r*o-i*n))/2,l=s+a||1,c=s-a||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const r=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),n=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(r>n)return null;const i=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return i>o?null:[r,i,n,o]}static bezierBoundingBox(t,e,r,n,i,o,s,a){const l=[],c=[[],[]];let h,u,p,d,f,g,m,y;for(let c=0;c<2;++c)if(0===c?(u=6*t-12*r+6*i,h=-3*t+9*r-9*i+3*s,p=3*r-3*t):(u=6*e-12*n+6*o,h=-3*e+9*n-9*o+3*a,p=3*n-3*e),Math.abs(h)<1e-12){if(Math.abs(u)<1e-12)continue;d=-p/u,0<d&&d<1&&l.push(d)}else m=u*u-4*p*h,y=Math.sqrt(m),m<0||(f=(-u+y)/(2*h),0<f&&f<1&&l.push(f),g=(-u-y)/(2*h),0<g&&g<1&&l.push(g));let v,b=l.length;const w=b;for(;b--;)d=l[b],v=1-d,c[0][b]=v*v*v*t+3*v*v*d*r+3*v*d*d*i+d*d*d*s,c[1][b]=v*v*v*e+3*v*v*d*n+3*v*d*d*o+d*d*d*a;return c[0][w]=t,c[1][w]=e,c[0][w+1]=s,c[1][w+1]=a,c[0].length=c[1].length=w+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}}e.Util=p;const d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function f(t){return decodeURIComponent(escape(t))}},(t,e,r)=>{r(4)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const r=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);e.isNodeJS=r},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RefSetCache=e.RefSet=e.Ref=e.Name=e.EOF=e.Dict=e.Cmd=e.CIRCULAR_REF=void 0,e.clearPrimitiveCaches=function(){a._clearCache(),s._clearCache(),h._clearCache()},e.isCmd=function(t,e){return t instanceof a&&(void 0===e||t.cmd===e)},e.isDict=function(t,e){return t instanceof c&&(void 0===e||d(t.get("Type"),e))},e.isName=d,e.isRefsEqual=function(t,e){return t.num===e.num&&t.gen===e.gen};var n=r(2);const i=Symbol("CIRCULAR_REF");e.CIRCULAR_REF=i;const o=Symbol("EOF");e.EOF=o;const s=function(){let t=Object.create(null);class e{constructor(t){this.name=t}static get(r){const n=t[r];return n||(t[r]=new e(r))}static _clearCache(){t=Object.create(null)}}return e}();e.Name=s;const a=function(){let t=Object.create(null);class e{constructor(t){this.cmd=t}static get(r){const n=t[r];return n||(t[r]=new e(r))}static _clearCache(){t=Object.create(null)}}return e}();e.Cmd=a;const l=function(){return l};class c{constructor(t=null){this._map=Object.create(null),this.xref=t,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=l}assignXref(t){this.xref=t}get size(){return Object.keys(this._map).length}get(t,e,r){let n=this._map[t];return void 0===n&&void 0!==e&&(n=this._map[e],void 0===n&&void 0!==r&&(n=this._map[r])),n instanceof h&&this.xref?this.xref.fetch(n,this.suppressEncryption):n}async getAsync(t,e,r){let n=this._map[t];return void 0===n&&void 0!==e&&(n=this._map[e],void 0===n&&void 0!==r&&(n=this._map[r])),n instanceof h&&this.xref?this.xref.fetchAsync(n,this.suppressEncryption):n}getArray(t,e,r){let n=this._map[t];if(void 0===n&&void 0!==e&&(n=this._map[e],void 0===n&&void 0!==r&&(n=this._map[r])),n instanceof h&&this.xref&&(n=this.xref.fetch(n,this.suppressEncryption)),Array.isArray(n)){n=n.slice();for(let t=0,e=n.length;t<e;t++)n[t]instanceof h&&this.xref&&(n[t]=this.xref.fetch(n[t],this.suppressEncryption))}return n}getRaw(t){return this._map[t]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(t,e){this._map[t]=e}has(t){return void 0!==this._map[t]}forEach(t){for(const e in this._map)t(e,this.get(e))}static get empty(){const t=new c(null);return t.set=(t,e)=>{(0,n.unreachable)("Should not call `set` on the empty dictionary.")},(0,n.shadow)(this,"empty",t)}static merge({xref:t,dictArray:e,mergeSubDicts:r=!1}){const n=new c(t),i=new Map;for(const t of e)if(t instanceof c)for(const[e,n]of Object.entries(t._map)){let t=i.get(e);if(void 0===t)t=[],i.set(e,t);else if(!(r&&n instanceof c))continue;t.push(n)}for(const[e,r]of i){if(1===r.length||!(r[0]instanceof c)){n._map[e]=r[0];continue}const i=new c(t);for(const t of r)for(const[e,r]of Object.entries(t._map))void 0===i._map[e]&&(i._map[e]=r);i.size>0&&(n._map[e]=i)}return i.clear(),n.size>0?n:c.empty}}e.Dict=c;const h=function(){let t=Object.create(null);class e{constructor(t,e){this.num=t,this.gen=e}toString(){return 0===this.gen?`${this.num}R`:`${this.num}R${this.gen}`}static get(r,n){const i=0===n?`${r}R`:`${r}R${n}`,o=t[i];return o||(t[i]=new e(r,n))}static _clearCache(){t=Object.create(null)}}return e}();e.Ref=h;class u{constructor(t=null){this._set=new Set(t&&t._set)}has(t){return this._set.has(t.toString())}put(t){this._set.add(t.toString())}remove(t){this._set.delete(t.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}e.RefSet=u;class p{constructor(){this._map=new Map}get size(){return this._map.size}get(t){return this._map.get(t.toString())}has(t){return this._map.has(t.toString())}put(t,e){this._map.set(t.toString(),e)}putAlias(t,e){this._map.set(t.toString(),this.get(e))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}function d(t,e){return t instanceof s&&(void 0===e||t.name===e)}e.RefSetCache=p},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NetworkPdfManager=e.LocalPdfManager=void 0;var n=r(2),i=r(7),o=r(8),s=r(11),a=r(10);function l(t){if(t){const e=(0,n.createValidAbsoluteUrl)(t);if(e)return e.href;(0,n.warn)(`Invalid absolute docBaseUrl: "${t}".`)}return null}class c{constructor(){this.constructor===c&&(0,n.unreachable)("Cannot initialize BasePdfManager.")}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){const t=this.pdfDocument.catalog;return(0,n.shadow)(this,"docBaseUrl",t.baseUrl||this._docBaseUrl)}onLoadedStream(){(0,n.unreachable)("Abstract method `onLoadedStream` called")}ensureDoc(t,e){return this.ensure(this.pdfDocument,t,e)}ensureXRef(t,e){return this.ensure(this.pdfDocument.xref,t,e)}ensureCatalog(t,e){return this.ensure(this.pdfDocument.catalog,t,e)}getPage(t){return this.pdfDocument.getPage(t)}fontFallback(t,e){return this.pdfDocument.fontFallback(t,e)}loadXfaFonts(t,e){return this.pdfDocument.loadXfaFonts(t,e)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(t){return this.pdfDocument.serializeXfaData(t)}cleanup(t=!1){return this.pdfDocument.cleanup(t)}async ensure(t,e,r){(0,n.unreachable)("Abstract method `ensure` called")}requestRange(t,e){(0,n.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(){(0,n.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(t){(0,n.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(t){this._password=t}terminate(t){(0,n.unreachable)("Abstract method `terminate` called")}}e.LocalPdfManager=class extends c{constructor(t,e,r,n,i,o,c){super(),this._docId=t,this._password=r,this._docBaseUrl=l(c),this.msgHandler=n,this.evaluatorOptions=i,this.enableXfa=o;const h=new a.Stream(e);this.pdfDocument=new s.PDFDocument(this,h),this._loadedStreamPromise=Promise.resolve(h)}async ensure(t,e,r){const n=t[e];return"function"==typeof n?n.apply(t,r):n}requestRange(t,e){return Promise.resolve()}requestLoadedStream(){}onLoadedStream(){return this._loadedStreamPromise}terminate(t){}},e.NetworkPdfManager=class extends c{constructor(t,e,r,n,o,a){super(),this._docId=t,this._password=r.password,this._docBaseUrl=l(a),this.msgHandler=r.msgHandler,this.evaluatorOptions=n,this.enableXfa=o,this.streamManager=new i.ChunkedStreamManager(e,{msgHandler:r.msgHandler,length:r.length,disableAutoFetch:r.disableAutoFetch,rangeChunkSize:r.rangeChunkSize}),this.pdfDocument=new s.PDFDocument(this,this.streamManager.getStream())}async ensure(t,e,r){try{const n=t[e];return"function"==typeof n?n.apply(t,r):n}catch(n){if(!(n instanceof o.MissingDataException))throw n;return await this.requestRange(n.begin,n.end),this.ensure(t,e,r)}}requestRange(t,e){return this.streamManager.requestRange(t,e)}requestLoadedStream(){this.streamManager.requestAllChunks()}sendProgressiveData(t){this.streamManager.onReceiveData({chunk:t})}onLoadedStream(){return this.streamManager.onLoadedStream()}terminate(t){this.streamManager.abort(t)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ChunkedStreamManager=e.ChunkedStream=void 0;var n=r(2),i=r(8),o=r(10);class s extends o.Stream{constructor(t,e,r){super(new Uint8Array(t),0,t,null),this.chunkSize=e,this._loadedChunks=new Set,this.numChunks=Math.ceil(t/e),this.manager=r,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const t=[];for(let e=0,r=this.numChunks;e<r;++e)this._loadedChunks.has(e)||t.push(e);return t}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(t,e){const r=this.chunkSize;if(t%r!=0)throw new Error(`Bad begin offset: ${t}`);const n=t+e.byteLength;if(n%r!=0&&n!==this.bytes.length)throw new Error(`Bad end offset: ${n}`);this.bytes.set(new Uint8Array(e),t);const i=Math.floor(t/r),o=Math.floor((n-1)/r)+1;for(let t=i;t<o;++t)this._loadedChunks.add(t)}onReceiveProgressiveData(t){let e=this.progressiveDataLength;const r=Math.floor(e/this.chunkSize);this.bytes.set(new Uint8Array(t),e),e+=t.byteLength,this.progressiveDataLength=e;const n=e>=this.end?this.numChunks:Math.floor(e/this.chunkSize);for(let t=r;t<n;++t)this._loadedChunks.add(t)}ensureByte(t){if(t<this.progressiveDataLength)return;const e=Math.floor(t/this.chunkSize);if(!(e>this.numChunks)&&e!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(e))throw new i.MissingDataException(t,t+1);this.lastSuccessfulEnsureByteChunk=e}}ensureRange(t,e){if(t>=e)return;if(e<=this.progressiveDataLength)return;const r=Math.floor(t/this.chunkSize);if(r>this.numChunks)return;const n=Math.min(Math.floor((e-1)/this.chunkSize)+1,this.numChunks);for(let o=r;o<n;++o)if(!this._loadedChunks.has(o))throw new i.MissingDataException(t,e)}nextEmptyChunk(t){const e=this.numChunks;for(let r=0;r<e;++r){const n=(t+r)%e;if(!this._loadedChunks.has(n))return n}return null}hasChunk(t){return this._loadedChunks.has(t)}getByte(){const t=this.pos;return t>=this.end?-1:(t>=this.progressiveDataLength&&this.ensureByte(t),this.bytes[this.pos++])}getBytes(t){const e=this.bytes,r=this.pos,n=this.end;if(!t)return n>this.progressiveDataLength&&this.ensureRange(r,n),e.subarray(r,n);let i=r+t;return i>n&&(i=n),i>this.progressiveDataLength&&this.ensureRange(r,i),this.pos=i,e.subarray(r,i)}getByteRange(t,e){return t<0&&(t=0),e>this.end&&(e=this.end),e>this.progressiveDataLength&&this.ensureRange(t,e),this.bytes.subarray(t,e)}makeSubStream(t,e,r=null){function n(){}e?t+e>this.progressiveDataLength&&this.ensureRange(t,t+e):t>=this.progressiveDataLength&&this.ensureByte(t),n.prototype=Object.create(this),n.prototype.getMissingChunks=function(){const t=this.chunkSize,e=Math.floor(this.start/t),r=Math.floor((this.end-1)/t)+1,n=[];for(let t=e;t<r;++t)this._loadedChunks.has(t)||n.push(t);return n},Object.defineProperty(n.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks||0===this.getMissingChunks().length},configurable:!0});const i=new n;return i.pos=i.start=t,i.end=t+e||this.end,i.dict=r,i}getBaseStreams(){return[this]}}e.ChunkedStream=s,e.ChunkedStreamManager=class{constructor(t,e){this.length=e.length,this.chunkSize=e.rangeChunkSize,this.stream=new s(this.length,this.chunkSize,this),this.pdfNetworkStream=t,this.disableAutoFetch=e.disableAutoFetch,this.msgHandler=e.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,n.createPromiseCapability)()}onLoadedStream(){return this._loadedStreamCapability.promise}sendRequest(t,e){const r=this.pdfNetworkStream.getRangeReader(t,e);r.isStreamingSupported||(r.onProgress=this.onProgress.bind(this));let i=[],o=0;return new Promise(((t,e)=>{const s=a=>{try{if(!a.done){const t=a.value;return i.push(t),o+=(0,n.arrayByteLength)(t),r.isStreamingSupported&&this.onProgress({loaded:o}),void r.read().then(s,e)}const l=(0,n.arraysToBytes)(i);i=null,t(l)}catch(t){e(t)}};r.read().then(s,e)})).then((e=>{this.aborted||this.onReceiveData({chunk:e,begin:t})}))}requestAllChunks(){const t=this.stream.getMissingChunks();return this._requestChunks(t),this._loadedStreamCapability.promise}_requestChunks(t){const e=this.currRequestId++,r=new Set;this._chunksNeededByRequest.set(e,r);for(const e of t)this.stream.hasChunk(e)||r.add(e);if(0===r.size)return Promise.resolve();const i=(0,n.createPromiseCapability)();this._promisesByRequest.set(e,i);const o=[];for(const t of r){let r=this._requestsByChunk.get(t);r||(r=[],this._requestsByChunk.set(t,r),o.push(t)),r.push(e)}if(o.length>0){const t=this.groupChunks(o);for(const e of t){const t=e.beginChunk*this.chunkSize,r=Math.min(e.endChunk*this.chunkSize,this.length);this.sendRequest(t,r).catch(i.reject)}}return i.promise.catch((t=>{if(!this.aborted)throw t}))}getStream(){return this.stream}requestRange(t,e){e=Math.min(e,this.length);const r=this.getBeginChunk(t),n=this.getEndChunk(e),i=[];for(let t=r;t<n;++t)i.push(t);return this._requestChunks(i)}requestRanges(t=[]){const e=[];for(const r of t){const t=this.getBeginChunk(r.begin),n=this.getEndChunk(r.end);for(let r=t;r<n;++r)e.includes(r)||e.push(r)}return e.sort((function(t,e){return t-e})),this._requestChunks(e)}groupChunks(t){const e=[];let r=-1,n=-1;for(let i=0,o=t.length;i<o;++i){const o=t[i];r<0&&(r=o),n>=0&&n+1!==o&&(e.push({beginChunk:r,endChunk:n+1}),r=o),i+1===t.length&&e.push({beginChunk:r,endChunk:o+1}),n=o}return e}onProgress(t){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+t.loaded,total:this.length})}onReceiveData(t){const e=t.chunk,r=void 0===t.begin,n=r?this.progressiveDataLength:t.begin,i=n+e.byteLength,o=Math.floor(n/this.chunkSize),s=i<this.length?Math.floor(i/this.chunkSize):Math.ceil(i/this.chunkSize);r?(this.stream.onReceiveProgressiveData(e),this.progressiveDataLength=i):this.stream.onReceiveData(n,e),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const a=[];for(let t=o;t<s;++t){const e=this._requestsByChunk.get(t);if(e){this._requestsByChunk.delete(t);for(const r of e){const e=this._chunksNeededByRequest.get(r);e.has(t)&&e.delete(t),e.size>0||a.push(r)}}}if(!this.disableAutoFetch&&0===this._requestsByChunk.size){let t;if(1===this.stream.numChunksLoaded){const e=this.stream.numChunks-1;this.stream.hasChunk(e)||(t=e)}else t=this.stream.nextEmptyChunk(s);Number.isInteger(t)&&this._requestChunks([t])}for(const t of a){const e=this._promisesByRequest.get(t);this._promisesByRequest.delete(t),e.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(t){this._loadedStreamCapability.reject(t)}getBeginChunk(t){return Math.floor(t/this.chunkSize)}getEndChunk(t){return Math.floor((t-1)/this.chunkSize)+1}abort(t){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(t);for(const e of this._promisesByRequest.values())e.reject(t)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XRefParseException=e.XRefEntryException=e.ParserEOFException=e.MissingDataException=e.DocStats=void 0,e.collectActions=function(t,e,r){const o=Object.create(null),s=h({dict:e,key:"AA",stopWhenFound:!1});if(s)for(let e=s.length-1;e>=0;e--){const n=s[e];if(n instanceof i.Dict)for(const e of n.getKeys()){const s=r[e];if(!s)continue;const a=n.getRaw(e),l=new i.RefSet,c=[];p(a,t,c,l),c.length>0&&(o[s]=c)}}if(e.has("A")){const r=e.get("A"),n=new i.RefSet,s=[];p(r,t,s,n),s.length>0&&(o.Action=s)}return(0,n.objectSize)(o)>0?o:null},e.encodeToXmlString=function(t){const e=[];let r=0;for(let n=0,i=t.length;n<i;n++){const i=t.codePointAt(n);if(32<=i&&i<=126){const o=d[i];o&&(r<n&&e.push(t.substring(r,n)),e.push(o),r=n+1)}else r<n&&e.push(t.substring(r,n)),e.push(`&#x${i.toString(16).toUpperCase()};`),i>55295&&(i<57344||i>65533)&&n++,r=n+1}return 0===e.length?t:(r<t.length&&e.push(t.substring(r,t.length)),e.join(""))},e.escapePDFName=function(t){const e=[];let r=0;for(let n=0,i=t.length;n<i;n++){const i=t.charCodeAt(n);(i<33||i>126||35===i||40===i||41===i||60===i||62===i||91===i||93===i||123===i||125===i||47===i||37===i)&&(r<n&&e.push(t.substring(r,n)),e.push(`#${i.toString(16)}`),r=n+1)}return 0===e.length?t:(r<t.length&&e.push(t.substring(r,t.length)),e.join(""))},e.getArrayLookupTableFactory=function(t){let e;return function(){if(t){let r=t();t=null,e=Object.create(null);for(let t=0,n=r.length;t<n;t+=2)e[r[t]]=r[t+1];r=null}return e}},e.getInheritableProperty=h,e.getLookupTableFactory=function(t){let e;return function(){return t&&(e=Object.create(null),t(e),t=null),e}},e.isWhiteSpace=function(t){return 32===t||9===t||13===t||10===t},e.log2=function(t){return t<=0?0:Math.ceil(Math.log2(t))},e.parseXFAPath=function(t){const e=/(.+)\[(\d+)\]$/;return t.split(".").map((t=>{const r=t.match(e);return r?{name:r[1],pos:parseInt(r[2],10)}:{name:t,pos:0}}))},e.readInt8=function(t,e){return t[e]<<24>>24},e.readUint16=function(t,e){return t[e]<<8|t[e+1]},e.readUint32=function(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0},e.recoverJsURL=function(t){const e=new RegExp("^\\s*("+["app.launchURL","window.open","xfa.host.gotoURL"].join("|").split(".").join("\\.")+")\\((?:'|\")([^'\"]*)(?:'|\")(?:,\\s*(\\w+)\\)|\\))","i").exec(t);if(e&&e[2]){const t=e[2];let r=!1;return"true"===e[3]&&"app.launchURL"===e[1]&&(r=!0),{url:t,newWindow:r}}return null},e.toRomanNumerals=function(t,e=!1){(0,n.assert)(Number.isInteger(t)&&t>0,"The number should be a positive integer.");const r=[];let i;for(;t>=1e3;)t-=1e3,r.push("M");i=t/100|0,t%=100,r.push(u[i]),i=t/10|0,t%=10,r.push(u[10+i]),r.push(u[20+t]);const o=r.join("");return e?o.toLowerCase():o},e.validateCSSFont=function(t){const e=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:r,fontWeight:i,italicAngle:o}=t;if(/^".*"$/.test(r)){if(/[^\\]"/.test(r.slice(1,r.length-1)))return(0,n.warn)(`XFA - FontFamily contains some unescaped ": ${r}.`),!1}else if(/^'.*'$/.test(r)){if(/[^\\]'/.test(r.slice(1,r.length-1)))return(0,n.warn)(`XFA - FontFamily contains some unescaped ': ${r}.`),!1}else for(const t of r.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(t)||!/^[\w-\\]+$/.test(t))return(0,n.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${r}.`),!1;const s=i?i.toString():"";t.fontWeight=e.has(s)?s:"400";const a=parseFloat(o);return t.italicAngle=isNaN(a)||a<-90||a>90?"14":o.toString(),!0};var n=r(2),i=r(5),o=r(9);class s extends n.BaseException{constructor(t,e){super(`Missing data [${t}, ${e})`,"MissingDataException"),this.begin=t,this.end=e}}e.MissingDataException=s;class a extends n.BaseException{constructor(t){super(t,"ParserEOFException")}}e.ParserEOFException=a;class l extends n.BaseException{constructor(t){super(t,"XRefEntryException")}}e.XRefEntryException=l;class c extends n.BaseException{constructor(t){super(t,"XRefParseException")}}function h({dict:t,key:e,getArray:r=!1,stopWhenFound:n=!0}){let o;const s=new i.RefSet;for(;t instanceof i.Dict&&(!t.objId||!s.has(t.objId));){t.objId&&s.put(t.objId);const i=r?t.getArray(e):t.get(e);if(void 0!==i){if(n)return i;o||(o=[]),o.push(i)}t=t.get("Parent")}return o}e.XRefParseException=c,e.DocStats=class{constructor(t){this._handler=t,this._streamTypes=new Set,this._fontTypes=new Set}_send(){const t=Object.create(null),e=Object.create(null);for(const e of this._streamTypes)t[e]=!0;for(const t of this._fontTypes)e[t]=!0;this._handler.send("DocStats",{streamTypes:t,fontTypes:e})}addStreamType(t){this._streamTypes.has(t)||(this._streamTypes.add(t),this._send())}addFontType(t){this._fontTypes.has(t)||(this._fontTypes.add(t),this._send())}};const u=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function p(t,e,r,s){if(!t)return;let a=null;if(t instanceof i.Ref){if(s.has(t))return;a=t,s.put(a),t=e.fetch(t)}if(Array.isArray(t))for(const n of t)p(n,e,r,s);else if(t instanceof i.Dict){if((0,i.isName)(t.get("S"),"JavaScript")){const e=t.get("JS");let i;e instanceof o.BaseStream?i=e.getString():"string"==typeof e&&(i=e),i=i&&(0,n.stringToPDFString)(i),i&&r.push(i)}p(t.getRaw("Next"),e,r,s)}a&&s.remove(a)}const d={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStream=void 0;var n=r(2);class i{constructor(){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseStream.")}get length(){(0,n.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,n.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,n.shadow)(this,"isDataLoaded",!0)}getByte(){(0,n.unreachable)("Abstract method `getByte` called")}getBytes(t){(0,n.unreachable)("Abstract method `getBytes` called")}peekByte(){const t=this.getByte();return-1!==t&&this.pos--,t}peekBytes(t){const e=this.getBytes(t);return this.pos-=e.length,e}getUint16(){const t=this.getByte(),e=this.getByte();return-1===t||-1===e?-1:(t<<8)+e}getInt32(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()}getByteRange(t,e){(0,n.unreachable)("Abstract method `getByteRange` called")}getString(t){return(0,n.bytesToString)(this.getBytes(t))}skip(t){this.pos+=t||1}reset(){(0,n.unreachable)("Abstract method `reset` called")}moveStart(){(0,n.unreachable)("Abstract method `moveStart` called")}makeSubStream(t,e,r=null){(0,n.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}e.BaseStream=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StringStream=e.Stream=e.NullStream=void 0;var n=r(9),i=r(2);class o extends n.BaseStream{constructor(t,e,r,n){super(),this.bytes=t instanceof Uint8Array?t:new Uint8Array(t),this.start=e||0,this.pos=this.start,this.end=e+r||this.bytes.length,this.dict=n}get length(){return this.end-this.start}get isEmpty(){return 0===this.length}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(t){const e=this.bytes,r=this.pos,n=this.end;if(!t)return e.subarray(r,n);let i=r+t;return i>n&&(i=n),this.pos=i,e.subarray(r,i)}getByteRange(t,e){return t<0&&(t=0),e>this.end&&(e=this.end),this.bytes.subarray(t,e)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(t,e,r=null){return new o(this.bytes.buffer,t,e,r)}}e.Stream=o,e.StringStream=class extends o{constructor(t){super((0,i.stringToBytes)(t))}},e.NullStream=class extends o{constructor(){super(new Uint8Array(0))}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Page=e.PDFDocument=void 0;var n=r(2),i=r(8),o=r(5),s=r(12),a=r(22),l=r(9),c=r(74),h=r(65),u=r(67),p=r(100),d=r(27),f=r(10),g=r(72),m=r(62),y=r(25),v=r(29),b=r(71),w=r(76),x=r(101);const S=[0,0,612,792];class k{constructor({pdfManager:t,xref:e,pageIndex:r,pageDict:n,ref:i,globalIdFactory:o,fontCache:s,builtInCMapCache:a,standardFontDataCache:l,globalImageCache:c,nonBlendModesSet:h,xfaFactory:u}){this.pdfManager=t,this.pageIndex=r,this.pageDict=n,this.xref=e,this.ref=i,this.fontCache=s,this.builtInCMapCache=a,this.standardFontDataCache=l,this.globalImageCache=c,this.nonBlendModesSet=h,this.evaluatorOptions=t.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=u;const p={obj:0};this._localIdFactory=class extends o{static createObjId(){return`p${r}_${++p.obj}`}static getPageObjId(){return`page${i.toString()}`}}}_getInheritableProperty(t,e=!1){const r=(0,i.getInheritableProperty)({dict:this.pageDict,key:t,getArray:e,stopWhenFound:!1});return Array.isArray(r)?1!==r.length&&r[0]instanceof o.Dict?o.Dict.merge({xref:this.xref,dictArray:r}):r[0]:r}get content(){return this.pageDict.getArray("Contents")}get resources(){return(0,n.shadow)(this,"resources",this._getInheritableProperty("Resources")||o.Dict.empty)}_getBoundingBox(t){if(this.xfaData)return this.xfaData.bbox;const e=this._getInheritableProperty(t,!0);if(Array.isArray(e)&&4===e.length){if(e[2]-e[0]!=0&&e[3]-e[1]!=0)return e;(0,n.warn)(`Empty /${t} entry.`)}return null}get mediaBox(){return(0,n.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||S)}get cropBox(){return(0,n.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let t=this.pageDict.get("UserUnit");return("number"!=typeof t||t<=0)&&(t=1),(0,n.shadow)(this,"userUnit",t)}get view(){const{cropBox:t,mediaBox:e}=this;let r;if(t===e||(0,n.isArrayEqual)(t,e))r=e;else{const i=n.Util.intersect(t,e);i&&i[2]-i[0]!=0&&i[3]-i[1]!=0?r=i:(0,n.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,n.shadow)(this,"view",r||e)}get rotate(){let t=this._getInheritableProperty("Rotate")||0;return t%90!=0?t=0:t>=360?t%=360:t<0&&(t=(t%360+360)%360),(0,n.shadow)(this,"rotate",t)}_onSubStreamError(t,e,r){if(this.evaluatorOptions.ignoreErrors)return t.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorContentSubStream}),void(0,n.warn)(`getContentStream - ignoring sub-stream (${r}): "${e}".`);throw e}getContentStream(t){return this.pdfManager.ensure(this,"content").then((e=>e instanceof l.BaseStream?e:Array.isArray(e)?new v.StreamsSequenceStream(e,this._onSubStreamError.bind(this,t)):new f.NullStream))}get xfaData(){return(0,n.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}save(t,e,r){const i=new y.PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then((function(t){const o=[];for(const s of t)s.mustBePrinted(r)&&o.push(s.save(i,e,r).catch((function(t){return(0,n.warn)(`save - ignoring annotation data during "${e.name}" task: "${t}".`),null})));return Promise.all(o)}))}loadResources(t){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then((()=>new g.ObjectLoader(this.resources,t,this.xref).load()))}getOperatorList({handler:t,sink:e,task:r,intent:i,cacheKey:o,annotationStorage:s=null}){const a=this.getContentStream(t),l=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),c=new y.PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),h=Promise.all([a,l]).then((([n])=>{const s=new m.OperatorList(i,e);return t.send("StartRenderPage",{transparency:c.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:o}),c.getOperatorList({stream:n,task:r,resources:this.resources,operatorList:s}).then((function(){return s}))}));return Promise.all([h,this._parsedAnnotations]).then((function([t,e]){if(0===e.length||i&n.RenderingIntentFlag.ANNOTATIONS_DISABLE)return t.flush(!0),{length:t.totalLength};const o=!!(i&n.RenderingIntentFlag.ANNOTATIONS_FORMS),a=!!(i&n.RenderingIntentFlag.ANY),l=!!(i&n.RenderingIntentFlag.DISPLAY),h=!!(i&n.RenderingIntentFlag.PRINT),u=[];for(const t of e)(a||l&&t.mustBeViewed(s)||h&&t.mustBePrinted(s))&&u.push(t.getOperatorList(c,r,i,o,s).catch((function(t){return(0,n.warn)(`getOperatorList - ignoring annotation data during "${r.name}" task: "${t}".`),null})));return Promise.all(u).then((function(e){t.addOp(n.OPS.beginAnnotations,[]);for(const r of e)t.addOpList(r);return t.addOp(n.OPS.endAnnotations,[]),t.flush(!0),{length:t.totalLength}}))}))}extractTextContent({handler:t,task:e,includeMarkedContent:r,sink:n,combineTextItems:i}){const o=this.getContentStream(t),s=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([o,s]).then((([o])=>new y.PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:o,task:e,resources:this.resources,includeMarkedContent:r,combineTextItems:i,sink:n,viewBox:this.view})))}async getStructTree(){const t=await this.pdfManager.ensureCatalog("structTreeRoot");return t?(await this.pdfManager.ensure(this,"_parseStructTree",[t])).serializable:null}_parseStructTree(t){const e=new b.StructTreePage(t,this.pageDict);return e.parse(),e}getAnnotationsData(t){return this._parsedAnnotations.then((function(e){const r=[];if(0===e.length)return r;const i=!!(t&n.RenderingIntentFlag.ANY),o=!!(t&n.RenderingIntentFlag.DISPLAY),s=!!(t&n.RenderingIntentFlag.PRINT);for(const t of e)(i||o&&t.viewable||s&&t.printable)&&r.push(t.data);return r}))}get annotations(){const t=this._getInheritableProperty("Annots");return(0,n.shadow)(this,"annotations",Array.isArray(t)?t:[])}get _parsedAnnotations(){const t=this.pdfManager.ensure(this,"annotations").then((()=>{const t=[];for(const e of this.annotations)t.push(a.AnnotationFactory.create(this.xref,e,this.pdfManager,this._localIdFactory,!1).catch((function(t){return(0,n.warn)(`_parsedAnnotations: "${t}".`),null})));return Promise.all(t).then((function(t){return t.filter((t=>!!t))}))}));return(0,n.shadow)(this,"_parsedAnnotations",t)}get jsActions(){const t=(0,i.collectActions)(this.xref,this.pageDict,n.PageActionEventType);return(0,n.shadow)(this,"jsActions",t)}}e.Page=k;const A=new Uint8Array([37,80,68,70,45]),C=new Uint8Array([115,116,97,114,116,120,114,101,102]),_=new Uint8Array([101,110,100,111,98,106]),T=/^[1-9]\.\d$/;function O(t,e,r=1024,n=!1){const i=e.length,o=t.peekBytes(r),s=o.length-i;if(s<=0)return!1;if(n){const r=i-1;let n=o.length-1;for(;n>=r;){let s=0;for(;s<i&&o[n-s]===e[r-s];)s++;if(s>=i)return t.pos+=n-r,!0;n--}}else{let r=0;for(;r<=s;){let n=0;for(;n<i&&o[r+n]===e[n];)n++;if(n>=i)return t.pos+=r,!0;r++}}return!1}e.PDFDocument=class{constructor(t,e){if(e.length<=0)throw new n.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=t,this.stream=e,this.xref=new x.XRef(e,t),this._pagePromises=new Map,this._version=null;const r={font:0};this._globalIdFactory=class{static getDocId(){return`g_${t.docId}`}static createFontId(){return"f"+ ++r.font}static createObjId(){(0,n.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,n.unreachable)("Abstract method `getPageObjId` called.")}}}parse(t){this.xref.parse(t),this.catalog=new h.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}get linearization(){let t=null;try{t=d.Linearization.create(this.stream)}catch(t){if(t instanceof i.MissingDataException)throw t;(0,n.info)(t)}return(0,n.shadow)(this,"linearization",t)}get startXRef(){const t=this.stream;let e=0;if(this.linearization)t.reset(),O(t,_)&&(e=t.pos+6-t.start);else{const r=1024,n=C.length;let o=!1,s=t.end;for(;!o&&s>0;)s-=r-n,s<0&&(s=0),t.pos=s,o=O(t,C,r,!0);if(o){let r;t.skip(9);do{r=t.getByte()}while((0,i.isWhiteSpace)(r));let n="";for(;r>=32&&r<=57;)n+=String.fromCharCode(r),r=t.getByte();e=parseInt(n,10),isNaN(e)&&(e=0)}}return(0,n.shadow)(this,"startXRef",e)}checkHeader(){const t=this.stream;if(t.reset(),!O(t,A))return;t.moveStart();let e,r="";for(;(e=t.getByte())>32&&!(r.length>=12);)r+=String.fromCharCode(e);this._version||(this._version=r.substring(5))}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let t=0;return t=this.catalog.hasActualNumPages?this.catalog.numPages:this.xfaFactory?this.xfaFactory.getNumPages():this.linearization?this.linearization.numPages:this.catalog.numPages,(0,n.shadow)(this,"numPages",t)}_hasOnlyDocumentSignatures(t,e=0){return!!Array.isArray(t)&&t.every((t=>{if(!((t=this.xref.fetchIfRef(t))instanceof o.Dict))return!1;if(t.has("Kids"))return++e>10?((0,n.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(t.get("Kids"),e);const r=(0,o.isName)(t.get("FT"),"Sig"),i=t.get("Rect"),s=Array.isArray(i)&&i.every((t=>0===t));return r&&s}))}get _xfaStreams(){const t=this.catalog.acroForm;if(!t)return null;const e=t.get("XFA"),r={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(e instanceof l.BaseStream&&!e.isEmpty)return r["xdp:xdp"]=e,r;if(!Array.isArray(e)||0===e.length)return null;for(let t=0,n=e.length;t<n;t+=2){let i;if(i=0===t?"xdp:xdp":t===n-2?"/xdp:xdp":e[t],!r.hasOwnProperty(i))continue;const o=this.xref.fetchIfRef(e[t+1]);o instanceof l.BaseStream&&!o.isEmpty&&(r[i]=o)}return r}get xfaDatasets(){const t=this._xfaStreams;if(!t)return(0,n.shadow)(this,"xfaDatasets",null);for(const e of["datasets","xdp:xdp"]){const r=t[e];if(r)try{const t={[e]:(0,n.stringToUTF8String)(r.getString())};return(0,n.shadow)(this,"xfaDatasets",new p.DatasetReader(t))}catch(t){(0,n.warn)("XFA - Invalid utf-8 string.");break}}return(0,n.shadow)(this,"xfaDatasets",null)}get xfaData(){const t=this._xfaStreams;if(!t)return null;const e=Object.create(null);for(const[r,i]of Object.entries(t))if(i)try{e[r]=(0,n.stringToUTF8String)(i.getString())}catch(t){return(0,n.warn)("XFA - Invalid utf-8 string."),null}return e}get xfaFactory(){let t;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(t=this.xfaData),(0,n.shadow)(this,"xfaFactory",t?new w.XFAFactory(t):null)}get isPureXfa(){return!!this.xfaFactory&&this.xfaFactory.isValid()}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const t=await this.pdfManager.ensureCatalog("xfaImages");if(!t)return;const e=t.getKeys(),r=new g.ObjectLoader(t,e,this.xref);await r.load();const n=new Map;for(const r of e){const e=t.get(r);e instanceof l.BaseStream&&n.set(r,e.getBytes())}this.xfaFactory.setImages(n)}async loadXfaFonts(t,e){const r=await this.pdfManager.ensureCatalog("acroForm");if(!r)return;const a=await r.getAsync("DR");if(!(a instanceof o.Dict))return;const l=new g.ObjectLoader(a,["Font"],this.xref);await l.load();const c=a.get("Font");if(!(c instanceof o.Dict))return;const h=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);h.useSystemFonts=!1;const u=new y.PartialEvaluator({xref:this.xref,handler:t,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:h}),p=new m.OperatorList,d=[],f={get font(){return d[d.length-1]},set font(t){d.push(t)},clone(){return this}},v=new Map;c.forEach(((t,e)=>{v.set(t,e)}));const b=[];for(const[t,r]of v){const s=r.get("FontDescriptor");if(!(s instanceof o.Dict))continue;let l=s.get("FontFamily");l=l.replace(/[ ]+(\d)/g,"$1");const c={fontFamily:l,fontWeight:s.get("FontWeight"),italicAngle:-s.get("ItalicAngle")};(0,i.validateCSSFont)(c)&&b.push(u.handleSetFont(a,[o.Name.get(t),1],null,p,e,f,null,c).catch((function(t){return(0,n.warn)(`loadXfaFonts: "${t}".`),null})))}await Promise.all(b);const w=this.xfaFactory.setFonts(d);if(!w)return;h.ignoreErrors=!0,b.length=0,d.length=0;const x=new Set;for(const t of w)(0,s.getXfaFontName)(`${t}-Regular`)||x.add(t);x.size&&w.push("PdfJS-Fallback");for(const t of w)if(!x.has(t))for(const r of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const i=`${t}-${r.name}`,l=(0,s.getXfaFontDict)(i);b.push(u.handleSetFont(a,[o.Name.get(i),1],null,p,e,f,l,{fontFamily:t,fontWeight:r.fontWeight,italicAngle:r.italicAngle}).catch((function(t){return(0,n.warn)(`loadXfaFonts: "${t}".`),null})))}await Promise.all(b),this.xfaFactory.appendFonts(d,x)}async serializeXfaData(t){return this.xfaFactory?this.xfaFactory.serializeData(t):null}get formInfo(){const t={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},e=this.catalog.acroForm;if(!e)return(0,n.shadow)(this,"formInfo",t);try{const r=e.get("Fields"),n=Array.isArray(r)&&r.length>0;t.hasFields=n;const i=e.get("XFA");t.hasXfa=Array.isArray(i)&&i.length>0||i instanceof l.BaseStream&&!i.isEmpty;const o=!!(1&e.get("SigFlags")),s=o&&this._hasOnlyDocumentSignatures(r);t.hasAcroForm=n&&!s,t.hasSignatures=o}catch(t){if(t instanceof i.MissingDataException)throw t;(0,n.warn)(`Cannot fetch form information: "${t}".`)}return(0,n.shadow)(this,"formInfo",t)}get documentInfo(){let t=this._version;"string"==typeof t&&T.test(t)||((0,n.warn)(`Invalid PDF header version number: ${t}`),t=null);const e={PDFFormatVersion:t,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let r;try{r=this.xref.trailer.get("Info")}catch(t){if(t instanceof i.MissingDataException)throw t;(0,n.info)("The document information dictionary is invalid.")}if(!(r instanceof o.Dict))return(0,n.shadow)(this,"documentInfo",e);for(const t of r.getKeys()){const i=r.get(t);switch(t){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if("string"==typeof i){e[t]=(0,n.stringToPDFString)(i);continue}break;case"Trapped":if(i instanceof o.Name){e[t]=i;continue}break;default:let r;switch(typeof i){case"string":r=(0,n.stringToPDFString)(i);break;case"number":case"boolean":r=i;break;default:i instanceof o.Name&&(r=i)}if(void 0===r){(0,n.warn)(`Bad value, for custom key "${t}", in Info: ${i}.`);continue}e.Custom||(e.Custom=Object.create(null)),e.Custom[t]=r;continue}(0,n.warn)(`Bad value, for key "${t}", in Info: ${i}.`)}return(0,n.shadow)(this,"documentInfo",e)}get fingerprints(){function t(t){return"string"==typeof t&&t.length>0&&"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"!==t}function e(t){const e=[];for(let r=0,n=t.length;r<n;r++){const n=t[r].toString(16);e.push(n.padStart(2,"0"))}return e.join("")}const r=this.xref.trailer.get("ID");let i,o;return Array.isArray(r)&&t(r[0])?(i=(0,n.stringToBytes)(r[0]),r[1]!==r[0]&&t(r[1])&&(o=(0,n.stringToBytes)(r[1]))):i=(0,c.calculateMD5)(this.stream.getByteRange(0,1024),0,1024),(0,n.shadow)(this,"fingerprints",[e(i),o?e(o):null])}async _getLinearizationPage(t){const{catalog:e,linearization:r,xref:i}=this,s=o.Ref.get(r.objectNumberFirst,0);try{const t=await i.fetchAsync(s);if(t instanceof o.Dict){let r=t.getRaw("Type");if(r instanceof o.Ref&&(r=await i.fetchAsync(r)),(0,o.isName)(r,"Page")||!t.has("Type")&&!t.has("Kids"))return e.pageKidsCountCache.has(s)||e.pageKidsCountCache.put(s,1),e.pageIndexCache.has(s)||e.pageIndexCache.put(s,0),[t,s]}throw new n.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(r){return(0,n.warn)(`_getLinearizationPage: "${r.message}".`),e.getPageDict(t)}}getPage(t){const e=this._pagePromises.get(t);if(e)return e;const{catalog:r,linearization:n,xfaFactory:i}=this;let s;return s=i?Promise.resolve([o.Dict.empty,null]):n&&n.pageFirst===t?this._getLinearizationPage(t):r.getPageDict(t),s=s.then((([e,n])=>new k({pdfManager:this.pdfManager,xref:this.xref,pageIndex:t,pageDict:e,ref:n,globalIdFactory:this._globalIdFactory,fontCache:r.fontCache,builtInCMapCache:r.builtInCMapCache,standardFontDataCache:r.standardFontDataCache,globalImageCache:r.globalImageCache,nonBlendModesSet:r.nonBlendModesSet,xfaFactory:i}))),this._pagePromises.set(t,s),s}async checkFirstPage(t=!1){if(!t)try{await this.getPage(0)}catch(t){if(t instanceof i.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new i.XRefParseException}}async checkLastPage(t=!1){const{catalog:e,pdfManager:r}=this;let o;e.setActualNumPages();try{if(await Promise.all([r.ensureDoc("xfaFactory"),r.ensureDoc("linearization"),r.ensureCatalog("numPages")]),this.xfaFactory)return;if(o=this.linearization?this.linearization.numPages:e.numPages,!Number.isInteger(o))throw new n.FormatError("Page count is not an integer.");if(o<=1)return;await this.getPage(o-1)}catch(s){if(this._pagePromises.delete(o-1),await this.cleanup(),s instanceof i.XRefEntryException&&!t)throw new i.XRefParseException;let a;(0,n.warn)(`checkLastPage - invalid /Pages tree /Count: ${o}.`);try{a=await e.getAllPageDicts(t)}catch(r){if(r instanceof i.XRefEntryException&&!t)throw new i.XRefParseException;return void e.setActualNumPages(1)}for(const[t,[n,i]]of a){let o;n instanceof Error?(o=Promise.reject(n),o.catch((()=>{}))):o=Promise.resolve(new k({pdfManager:r,xref:this.xref,pageIndex:t,pageDict:n,ref:i,globalIdFactory:this._globalIdFactory,fontCache:e.fontCache,builtInCMapCache:e.builtInCMapCache,standardFontDataCache:e.standardFontDataCache,globalImageCache:e.globalImageCache,nonBlendModesSet:e.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(t,o)}e.setActualNumPages(a.size)}}fontFallback(t,e){return this.catalog.fontFallback(t,e)}async cleanup(t=!1){return this.catalog?this.catalog.cleanup(t):(0,u.clearGlobalCaches)()}_collectFieldObjects(t,e,r){const i=this.xref.fetchIfRef(e);if(i.has("T")){const e=(0,n.stringToPDFString)(i.get("T"));t=""===t?e:`${t}.${e}`}if(r.has(t)||r.set(t,[]),r.get(t).push(a.AnnotationFactory.create(this.xref,e,this.pdfManager,this._localIdFactory,!0).then((t=>t&&t.getFieldObject())).catch((function(t){return(0,n.warn)(`_collectFieldObjects: "${t}".`),null}))),i.has("Kids")){const e=i.get("Kids");for(const n of e)this._collectFieldObjects(t,n,r)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,n.shadow)(this,"fieldObjects",Promise.resolve(null));const t=Object.create(null),e=new Map;for(const t of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",t,e);const r=[];for(const[n,i]of e)r.push(Promise.all(i).then((e=>{(e=e.filter((t=>!!t))).length>0&&(t[n]=e)})));return(0,n.shadow)(this,"fieldObjects",Promise.all(r).then((()=>t)))}get hasJSActions(){const t=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,n.shadow)(this,"hasJSActions",t)}async _parseHasJSActions(){const[t,e]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return!!t||!!e&&Object.values(e).some((t=>t.some((t=>null!==t.actions))))}get calculationOrderIds(){const t=this.catalog.acroForm;if(!t||!t.has("CO"))return(0,n.shadow)(this,"calculationOrderIds",null);const e=t.get("CO");if(!Array.isArray(e)||0===e.length)return(0,n.shadow)(this,"calculationOrderIds",null);const r=[];for(const t of e)t instanceof o.Ref&&r.push(t.toString());return 0===r.length?(0,n.shadow)(this,"calculationOrderIds",null):(0,n.shadow)(this,"calculationOrderIds",r)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getXfaFontDict=function(t){const e=function(t){const e=p(t);if(!e)return null;const{baseWidths:r,baseMapping:n,factors:i}=e;let o;o=i?r.map(((t,e)=>t*i[e])):r;let s,a=-2;const l=[];for(const[t,e]of n.map(((t,e)=>[t,e])).sort((([t],[e])=>t-e)))-1!==t&&(t===a+1?(s.push(o[e]),a+=1):(a=t,s=[o[e]],l.push(t,s)));return l}(t),r=new i.Dict(null);r.set("BaseFont",i.Name.get(t)),r.set("Type",i.Name.get("Font")),r.set("Subtype",i.Name.get("CIDFontType2")),r.set("Encoding",i.Name.get("Identity-H")),r.set("CIDToGIDMap",i.Name.get("Identity")),r.set("W",e),r.set("FirstChar",e[0]),r.set("LastChar",e[e.length-2]+e[e.length-1].length-1);const n=new i.Dict(null);r.set("FontDescriptor",n);const o=new i.Dict(null);return o.set("Ordering","Identity"),o.set("Registry","Adobe"),o.set("Supplement",0),r.set("CIDSystemInfo",o),r},e.getXfaFontName=p;var n=r(13),i=r(5),o=r(14),s=r(15),a=r(16),l=r(17),c=r(8),h=r(18);const u=(0,c.getLookupTableFactory)((function(t){t["MyriadPro-Regular"]=t["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:a.MyriadProRegularFactors,baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping,metrics:a.MyriadProRegularMetrics},t["MyriadPro-Bold"]=t["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:a.MyriadProBoldFactors,baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping,metrics:a.MyriadProBoldMetrics},t["MyriadPro-It"]=t["MyriadPro-Italic"]=t["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:a.MyriadProItalicFactors,baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping,metrics:a.MyriadProItalicMetrics},t["MyriadPro-BoldIt"]=t["MyriadPro-BoldItalic"]=t["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:a.MyriadProBoldItalicFactors,baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping,metrics:a.MyriadProBoldItalicMetrics},t.ArialMT=t.Arial=t["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping},t["Arial-BoldMT"]=t["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping},t["Arial-ItalicMT"]=t["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping},t["Arial-BoldItalicMT"]=t["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping},t["Calibri-Regular"]={name:"LiberationSans-Regular",factors:n.CalibriRegularFactors,baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping,metrics:n.CalibriRegularMetrics},t["Calibri-Bold"]={name:"LiberationSans-Bold",factors:n.CalibriBoldFactors,baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping,metrics:n.CalibriBoldMetrics},t["Calibri-Italic"]={name:"LiberationSans-Italic",factors:n.CalibriItalicFactors,baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping,metrics:n.CalibriItalicMetrics},t["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:n.CalibriBoldItalicFactors,baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping,metrics:n.CalibriBoldItalicMetrics},t["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:l.SegoeuiRegularFactors,baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping,metrics:l.SegoeuiRegularMetrics},t["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:l.SegoeuiBoldFactors,baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping,metrics:l.SegoeuiBoldMetrics},t["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:l.SegoeuiItalicFactors,baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping,metrics:l.SegoeuiItalicMetrics},t["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:l.SegoeuiBoldItalicFactors,baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping,metrics:l.SegoeuiBoldItalicMetrics},t["Helvetica-Regular"]=t.Helvetica={name:"LiberationSans-Regular",factors:o.HelveticaRegularFactors,baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping,metrics:o.HelveticaRegularMetrics},t["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:o.HelveticaBoldFactors,baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping,metrics:o.HelveticaBoldMetrics},t["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:o.HelveticaItalicFactors,baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping,metrics:o.HelveticaItalicMetrics},t["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:o.HelveticaBoldItalicFactors,baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping,metrics:o.HelveticaBoldItalicMetrics}}));function p(t){const e=(0,h.normalizeFontName)(t);return u()[e]}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CalibriRegularMetrics=e.CalibriRegularFactors=e.CalibriItalicMetrics=e.CalibriItalicFactors=e.CalibriBoldMetrics=e.CalibriBoldItalicMetrics=e.CalibriBoldItalicFactors=e.CalibriBoldFactors=void 0,e.CalibriBoldFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],e.CalibriBoldMetrics={lineHeight:1.2207,lineGap:.2207},e.CalibriBoldItalicFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],e.CalibriBoldItalicMetrics={lineHeight:1.2207,lineGap:.2207},e.CalibriItalicFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],e.CalibriItalicMetrics={lineHeight:1.2207,lineGap:.2207},e.CalibriRegularFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1],e.CalibriRegularMetrics={lineHeight:1.2207,lineGap:.2207}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HelveticaRegularMetrics=e.HelveticaRegularFactors=e.HelveticaItalicMetrics=e.HelveticaItalicFactors=e.HelveticaBoldMetrics=e.HelveticaBoldItalicMetrics=e.HelveticaBoldItalicFactors=e.HelveticaBoldFactors=void 0,e.HelveticaBoldFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],e.HelveticaBoldMetrics={lineHeight:1.2,lineGap:.2},e.HelveticaBoldItalicFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],e.HelveticaBoldItalicMetrics={lineHeight:1.35,lineGap:.2},e.HelveticaItalicFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],e.HelveticaItalicMetrics={lineHeight:1.35,lineGap:.2},e.HelveticaRegularFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],e.HelveticaRegularMetrics={lineHeight:1.2,lineGap:.2}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LiberationSansRegularWidths=e.LiberationSansRegularMapping=e.LiberationSansItalicWidths=e.LiberationSansItalicMapping=e.LiberationSansBoldWidths=e.LiberationSansBoldMapping=e.LiberationSansBoldItalicWidths=e.LiberationSansBoldItalicMapping=void 0,e.LiberationSansBoldWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],e.LiberationSansBoldMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],e.LiberationSansBoldItalicWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],e.LiberationSansBoldItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],e.LiberationSansItalicWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],e.LiberationSansItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],e.LiberationSansRegularWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],e.LiberationSansRegularMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MyriadProRegularMetrics=e.MyriadProRegularFactors=e.MyriadProItalicMetrics=e.MyriadProItalicFactors=e.MyriadProBoldMetrics=e.MyriadProBoldItalicMetrics=e.MyriadProBoldItalicFactors=e.MyriadProBoldFactors=void 0,e.MyriadProBoldFactors=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],e.MyriadProBoldMetrics={lineHeight:1.2,lineGap:.2},e.MyriadProBoldItalicFactors=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],e.MyriadProBoldItalicMetrics={lineHeight:1.2,lineGap:.2},e.MyriadProItalicFactors=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],e.MyriadProItalicMetrics={lineHeight:1.2,lineGap:.2},e.MyriadProRegularFactors=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],e.MyriadProRegularMetrics={lineHeight:1.2,lineGap:.2}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SegoeuiRegularMetrics=e.SegoeuiRegularFactors=e.SegoeuiItalicMetrics=e.SegoeuiItalicFactors=e.SegoeuiBoldMetrics=e.SegoeuiBoldItalicMetrics=e.SegoeuiBoldItalicFactors=e.SegoeuiBoldFactors=void 0,e.SegoeuiBoldFactors=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],e.SegoeuiBoldMetrics={lineHeight:1.33008,lineGap:0},e.SegoeuiBoldItalicFactors=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],e.SegoeuiBoldItalicMetrics={lineHeight:1.33008,lineGap:0},e.SegoeuiItalicFactors=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],e.SegoeuiItalicMetrics={lineHeight:1.33008,lineGap:0},e.SegoeuiRegularFactors=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1],e.SegoeuiRegularMetrics={lineHeight:1.33008,lineGap:0}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SEAC_ANALYSIS_ENABLED=e.MacStandardGlyphOrdering=e.FontFlags=void 0,e.getFontType=function(t,e,r=!1){switch(t){case"Type1":return r?n.FontType.TYPE1STANDARD:"Type1C"===e?n.FontType.TYPE1C:n.FontType.TYPE1;case"CIDFontType0":return"CIDFontType0C"===e?n.FontType.CIDFONTTYPE0C:n.FontType.CIDFONTTYPE0;case"OpenType":return n.FontType.OPENTYPE;case"TrueType":return n.FontType.TRUETYPE;case"CIDFontType2":return n.FontType.CIDFONTTYPE2;case"MMType1":return n.FontType.MMTYPE1;case"Type0":return n.FontType.TYPE0;default:return n.FontType.UNKNOWN}},e.normalizeFontName=function(t){return t.replace(/[,_]/g,"-").replace(/\s/g,"")},e.recoverGlyphName=l,e.type1FontGlyphMapping=function(t,e,r){const n=Object.create(null);let s,c,h;const u=!!(t.flags&a.Symbolic);if(t.isInternalFont)for(h=e,c=0;c<h.length;c++)s=r.indexOf(h[c]),n[c]=s>=0?s:0;else if(t.baseEncodingName)for(h=(0,i.getEncoding)(t.baseEncodingName),c=0;c<h.length;c++)s=r.indexOf(h[c]),n[c]=s>=0?s:0;else if(u)for(c in e)n[c]=e[c];else for(h=i.StandardEncoding,c=0;c<h.length;c++)s=r.indexOf(h[c]),n[c]=s>=0?s:0;const p=t.differences;let d;if(p)for(c in p){const t=p[c];if(s=r.indexOf(t),-1===s){d||(d=(0,o.getGlyphsUnicode)());const e=l(t,d);e!==t&&(s=r.indexOf(e))}n[c]=s>=0?s:0}return n};var n=r(2),i=r(19),o=r(20),s=r(21);e.SEAC_ANALYSIS_ENABLED=!0;const a={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};function l(t,e){if(void 0!==e[t])return t;const r=(0,s.getUnicodeForGlyph)(t,e);if(-1!==r)for(const t in e)if(e[t]===r)return t;return(0,n.info)("Unable to recover a standard glyph name for: "+t),t}e.FontFlags=a,e.MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"]},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ZapfDingbatsEncoding=e.WinAnsiEncoding=e.SymbolSetEncoding=e.StandardEncoding=e.MacRomanEncoding=e.ExpertEncoding=void 0,e.getEncoding=function(t){switch(t){case"WinAnsiEncoding":return s;case"StandardEncoding":return o;case"MacRomanEncoding":return i;case"SymbolSetEncoding":return a;case"ZapfDingbatsEncoding":return l;case"ExpertEncoding":return r;case"MacExpertEncoding":return n;default:return null}};const r=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];e.ExpertEncoding=r;const n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];e.MacRomanEncoding=i;const o=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];e.StandardEncoding=o;const s=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];e.WinAnsiEncoding=s;const a=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];e.SymbolSetEncoding=a;const l=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];e.ZapfDingbatsEncoding=l},(t,e,r)=>{r.r(e),r.d(e,{getDingbatsGlyphsUnicode:()=>o,getGlyphsUnicode:()=>i});var n=r(8);const i=(0,n.getArrayLookupTableFactory)((function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]})),o=(0,n.getArrayLookupTableFactory)((function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]}))},(t,e,r)=>{r.r(e),r.d(e,{clearUnicodeCaches:()=>f,getCharUnicodeCategory:()=>d,getNormalizedUnicodes:()=>c,getUnicodeForGlyph:()=>s,getUnicodeRangeFor:()=>l,mapSpecialUnicodeValues:()=>o,reverseIfRtl:()=>h});var n=r(8);const i=(0,n.getLookupTableFactory)((function(t){t[63721]=169,t[63193]=169,t[63720]=174,t[63194]=174,t[63722]=8482,t[63195]=8482,t[63729]=9127,t[63730]=9128,t[63731]=9129,t[63740]=9131,t[63741]=9132,t[63742]=9133,t[63726]=9121,t[63727]=9122,t[63728]=9123,t[63737]=9124,t[63738]=9125,t[63739]=9126,t[63723]=9115,t[63724]=9116,t[63725]=9117,t[63734]=9118,t[63735]=9119,t[63736]=9120}));function o(t){return t>=65520&&t<=65535?0:t>=62976&&t<=63743?i()[t]||t:173===t?45:t}function s(t,e){let r=e[t];if(void 0!==r)return r;if(!t)return-1;if("u"===t[0]){const e=t.length;let n;if(7===e&&"n"===t[1]&&"i"===t[2])n=t.substring(3);else{if(!(e>=5&&e<=7))return-1;n=t.substring(1)}if(n===n.toUpperCase()&&(r=parseInt(n,16),r>=0))return r}return-1}const a=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function l(t){for(let e=0,r=a.length;e<r;e++){const r=a[e];if(t>=r.begin&&t<r.end)return e}return-1}const c=(0,n.getArrayLookupTableFactory)((function(){return["¨"," ̈","¯"," ̄","´"," ́","µ","μ","¸"," ̧","Ĳ","IJ","ĳ","ij","Ŀ","L·","ŀ","l·","ŉ","ʼn","ſ","s","Ǆ","DŽ","ǅ","Dž","ǆ","dž","Ǉ","LJ","ǈ","Lj","ǉ","lj","Ǌ","NJ","ǋ","Nj","ǌ","nj","Ǳ","DZ","ǲ","Dz","ǳ","dz","˘"," ̆","˙"," ̇","˚"," ̊","˛"," ̨","˜"," ̃","˝"," ̋","ͺ"," ͅ","΄"," ́","ϐ","β","ϑ","θ","ϒ","Υ","ϕ","φ","ϖ","π","ϰ","κ","ϱ","ρ","ϲ","ς","ϴ","Θ","ϵ","ε","Ϲ","Σ","և","եւ","ٵ","اٴ","ٶ","وٴ","ٷ","ۇٴ","ٸ","يٴ","ำ","ํา","ຳ","ໍາ","ໜ","ຫນ","ໝ","ຫມ","ཷ","ྲཱྀ","ཹ","ླཱྀ","ẚ","aʾ","᾽"," ̓","᾿"," ̓","῀"," ͂","῾"," ̔"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","‗"," ̳","․",".","‥","..","…","...","″","′′","‴","′′′","‶","‵‵","‷","‵‵‵","‼","!!","‾"," ̅","⁇","??","⁈","?!","⁉","!?","⁗","′′′′"," "," ","₨","Rs","℀","a/c","℁","a/s","℃","°C","℅","c/o","℆","c/u","ℇ","Ɛ","℉","°F","№","No","℡","TEL","ℵ","א","ℶ","ב","ℷ","ג","ℸ","ד","℻","FAX","Ⅰ","I","Ⅱ","II","Ⅲ","III","Ⅳ","IV","Ⅴ","V","Ⅵ","VI","Ⅶ","VII","Ⅷ","VIII","Ⅸ","IX","Ⅹ","X","Ⅺ","XI","Ⅻ","XII","Ⅼ","L","Ⅽ","C","Ⅾ","D","Ⅿ","M","ⅰ","i","ⅱ","ii","ⅲ","iii","ⅳ","iv","ⅴ","v","ⅵ","vi","ⅶ","vii","ⅷ","viii","ⅸ","ix","ⅹ","x","ⅺ","xi","ⅻ","xii","ⅼ","l","ⅽ","c","ⅾ","d","ⅿ","m","∬","∫∫","∭","∫∫∫","∯","∮∮","∰","∮∮∮","⑴","(1)","⑵","(2)","⑶","(3)","⑷","(4)","⑸","(5)","⑹","(6)","⑺","(7)","⑻","(8)","⑼","(9)","⑽","(10)","⑾","(11)","⑿","(12)","⒀","(13)","⒁","(14)","⒂","(15)","⒃","(16)","⒄","(17)","⒅","(18)","⒆","(19)","⒇","(20)","⒈","1.","⒉","2.","⒊","3.","⒋","4.","⒌","5.","⒍","6.","⒎","7.","⒏","8.","⒐","9.","⒑","10.","⒒","11.","⒓","12.","⒔","13.","⒕","14.","⒖","15.","⒗","16.","⒘","17.","⒙","18.","⒚","19.","⒛","20.","⒜","(a)","⒝","(b)","⒞","(c)","⒟","(d)","⒠","(e)","⒡","(f)","⒢","(g)","⒣","(h)","⒤","(i)","⒥","(j)","⒦","(k)","⒧","(l)","⒨","(m)","⒩","(n)","⒪","(o)","⒫","(p)","⒬","(q)","⒭","(r)","⒮","(s)","⒯","(t)","⒰","(u)","⒱","(v)","⒲","(w)","⒳","(x)","⒴","(y)","⒵","(z)","⨌","∫∫∫∫","⩴","::=","⩵","==","⩶","===","⺟","母","⻳","龟","⼀","一","⼁","丨","⼂","丶","⼃","丿","⼄","乙","⼅","亅","⼆","二","⼇","亠","⼈","人","⼉","儿","⼊","入","⼋","八","⼌","冂","⼍","冖","⼎","冫","⼏","几","⼐","凵","⼑","刀","⼒","力","⼓","勹","⼔","匕","⼕","匚","⼖","匸","⼗","十","⼘","卜","⼙","卩","⼚","厂","⼛","厶","⼜","又","⼝","口","⼞","囗","⼟","土","⼠","士","⼡","夂","⼢","夊","⼣","夕","⼤","大","⼥","女","⼦","子","⼧","宀","⼨","寸","⼩","小","⼪","尢","⼫","尸","⼬","屮","⼭","山","⼮","巛","⼯","工","⼰","己","⼱","巾","⼲","干","⼳","幺","⼴","广","⼵","廴","⼶","廾","⼷","弋","⼸","弓","⼹","彐","⼺","彡","⼻","彳","⼼","心","⼽","戈","⼾","戶","⼿","手","⽀","支","⽁","攴","⽂","文","⽃","斗","⽄","斤","⽅","方","⽆","无","⽇","日","⽈","曰","⽉","月","⽊","木","⽋","欠","⽌","止","⽍","歹","⽎","殳","⽏","毋","⽐","比","⽑","毛","⽒","氏","⽓","气","⽔","水","⽕","火","⽖","爪","⽗","父","⽘","爻","⽙","爿","⽚","片","⽛","牙","⽜","牛","⽝","犬","⽞","玄","⽟","玉","⽠","瓜","⽡","瓦","⽢","甘","⽣","生","⽤","用","⽥","田","⽦","疋","⽧","疒","⽨","癶","⽩","白","⽪","皮","⽫","皿","⽬","目","⽭","矛","⽮","矢","⽯","石","⽰","示","⽱","禸","⽲","禾","⽳","穴","⽴","立","⽵","竹","⽶","米","⽷","糸","⽸","缶","⽹","网","⽺","羊","⽻","羽","⽼","老","⽽","而","⽾","耒","⽿","耳","⾀","聿","⾁","肉","⾂","臣","⾃","自","⾄","至","⾅","臼","⾆","舌","⾇","舛","⾈","舟","⾉","艮","⾊","色","⾋","艸","⾌","虍","⾍","虫","⾎","血","⾏","行","⾐","衣","⾑","襾","⾒","見","⾓","角","⾔","言","⾕","谷","⾖","豆","⾗","豕","⾘","豸","⾙","貝","⾚","赤","⾛","走","⾜","足","⾝","身","⾞","車","⾟","辛","⾠","辰","⾡","辵","⾢","邑","⾣","酉","⾤","釆","⾥","里","⾦","金","⾧","長","⾨","門","⾩","阜","⾪","隶","⾫","隹","⾬","雨","⾭","靑","⾮","非","⾯","面","⾰","革","⾱","韋","⾲","韭","⾳","音","⾴","頁","⾵","風","⾶","飛","⾷","食","⾸","首","⾹","香","⾺","馬","⾻","骨","⾼","高","⾽","髟","⾾","鬥","⾿","鬯","⿀","鬲","⿁","鬼","⿂","魚","⿃","鳥","⿄","鹵","⿅","鹿","⿆","麥","⿇","麻","⿈","黃","⿉","黍","⿊","黑","⿋","黹","⿌","黽","⿍","鼎","⿎","鼓","⿏","鼠","⿐","鼻","⿑","齊","⿒","齒","⿓","龍","⿔","龜","⿕","龠","〶","〒","〸","十","〹","卄","〺","卅","゛"," ゙","゜"," ゚","ㄱ","ᄀ","ㄲ","ᄁ","ㄳ","ᆪ","ㄴ","ᄂ","ㄵ","ᆬ","ㄶ","ᆭ","ㄷ","ᄃ","ㄸ","ᄄ","ㄹ","ᄅ","ㄺ","ᆰ","ㄻ","ᆱ","ㄼ","ᆲ","ㄽ","ᆳ","ㄾ","ᆴ","ㄿ","ᆵ","ㅀ","ᄚ","ㅁ","ᄆ","ㅂ","ᄇ","ㅃ","ᄈ","ㅄ","ᄡ","ㅅ","ᄉ","ㅆ","ᄊ","ㅇ","ᄋ","ㅈ","ᄌ","ㅉ","ᄍ","ㅊ","ᄎ","ㅋ","ᄏ","ㅌ","ᄐ","ㅍ","ᄑ","ㅎ","ᄒ","ㅏ","ᅡ","ㅐ","ᅢ","ㅑ","ᅣ","ㅒ","ᅤ","ㅓ","ᅥ","ㅔ","ᅦ","ㅕ","ᅧ","ㅖ","ᅨ","ㅗ","ᅩ","ㅘ","ᅪ","ㅙ","ᅫ","ㅚ","ᅬ","ㅛ","ᅭ","ㅜ","ᅮ","ㅝ","ᅯ","ㅞ","ᅰ","ㅟ","ᅱ","ㅠ","ᅲ","ㅡ","ᅳ","ㅢ","ᅴ","ㅣ","ᅵ","ㅤ","ᅠ","ㅥ","ᄔ","ㅦ","ᄕ","ㅧ","ᇇ","ㅨ","ᇈ","ㅩ","ᇌ","ㅪ","ᇎ","ㅫ","ᇓ","ㅬ","ᇗ","ㅭ","ᇙ","ㅮ","ᄜ","ㅯ","ᇝ","ㅰ","ᇟ","ㅱ","ᄝ","ㅲ","ᄞ","ㅳ","ᄠ","ㅴ","ᄢ","ㅵ","ᄣ","ㅶ","ᄧ","ㅷ","ᄩ","ㅸ","ᄫ","ㅹ","ᄬ","ㅺ","ᄭ","ㅻ","ᄮ","ㅼ","ᄯ","ㅽ","ᄲ","ㅾ","ᄶ","ㅿ","ᅀ","ㆀ","ᅇ","ㆁ","ᅌ","ㆂ","ᇱ","ㆃ","ᇲ","ㆄ","ᅗ","ㆅ","ᅘ","ㆆ","ᅙ","ㆇ","ᆄ","ㆈ","ᆅ","ㆉ","ᆈ","ㆊ","ᆑ","ㆋ","ᆒ","ㆌ","ᆔ","ㆍ","ᆞ","ㆎ","ᆡ","㈀","(ᄀ)","㈁","(ᄂ)","㈂","(ᄃ)","㈃","(ᄅ)","㈄","(ᄆ)","㈅","(ᄇ)","㈆","(ᄉ)","㈇","(ᄋ)","㈈","(ᄌ)","㈉","(ᄎ)","㈊","(ᄏ)","㈋","(ᄐ)","㈌","(ᄑ)","㈍","(ᄒ)","㈎","(가)","㈏","(나)","㈐","(다)","㈑","(라)","㈒","(마)","㈓","(바)","㈔","(사)","㈕","(아)","㈖","(자)","㈗","(차)","㈘","(카)","㈙","(타)","㈚","(파)","㈛","(하)","㈜","(주)","㈝","(오전)","㈞","(오후)","㈠","(一)","㈡","(二)","㈢","(三)","㈣","(四)","㈤","(五)","㈥","(六)","㈦","(七)","㈧","(八)","㈨","(九)","㈩","(十)","㈪","(月)","㈫","(火)","㈬","(水)","㈭","(木)","㈮","(金)","㈯","(土)","㈰","(日)","㈱","(株)","㈲","(有)","㈳","(社)","㈴","(名)","㈵","(特)","㈶","(財)","㈷","(祝)","㈸","(労)","㈹","(代)","㈺","(呼)","㈻","(学)","㈼","(監)","㈽","(企)","㈾","(資)","㈿","(協)","㉀","(祭)","㉁","(休)","㉂","(自)","㉃","(至)","㋀","1月","㋁","2月","㋂","3月","㋃","4月","㋄","5月","㋅","6月","㋆","7月","㋇","8月","㋈","9月","㋉","10月","㋊","11月","㋋","12月","㍘","0点","㍙","1点","㍚","2点","㍛","3点","㍜","4点","㍝","5点","㍞","6点","㍟","7点","㍠","8点","㍡","9点","㍢","10点","㍣","11点","㍤","12点","㍥","13点","㍦","14点","㍧","15点","㍨","16点","㍩","17点","㍪","18点","㍫","19点","㍬","20点","㍭","21点","㍮","22点","㍯","23点","㍰","24点","㏠","1日","㏡","2日","㏢","3日","㏣","4日","㏤","5日","㏥","6日","㏦","7日","㏧","8日","㏨","9日","㏩","10日","㏪","11日","㏫","12日","㏬","13日","㏭","14日","㏮","15日","㏯","16日","㏰","17日","㏱","18日","㏲","19日","㏳","20日","㏴","21日","㏵","22日","㏶","23日","㏷","24日","㏸","25日","㏹","26日","㏺","27日","㏻","28日","㏼","29日","㏽","30日","㏾","31日","ﬀ","ff","ﬁ","fi","ﬂ","fl","ﬃ","ffi","ﬄ","ffl","ﬅ","ſt","ﬆ","st","ﬓ","մն","ﬔ","մե","ﬕ","մի","ﬖ","վն","ﬗ","մխ","ﭏ","אל","ﭐ","ٱ","ﭑ","ٱ","ﭒ","ٻ","ﭓ","ٻ","ﭔ","ٻ","ﭕ","ٻ","ﭖ","پ","ﭗ","پ","ﭘ","پ","ﭙ","پ","ﭚ","ڀ","ﭛ","ڀ","ﭜ","ڀ","ﭝ","ڀ","ﭞ","ٺ","ﭟ","ٺ","ﭠ","ٺ","ﭡ","ٺ","ﭢ","ٿ","ﭣ","ٿ","ﭤ","ٿ","ﭥ","ٿ","ﭦ","ٹ","ﭧ","ٹ","ﭨ","ٹ","ﭩ","ٹ","ﭪ","ڤ","ﭫ","ڤ","ﭬ","ڤ","ﭭ","ڤ","ﭮ","ڦ","ﭯ","ڦ","ﭰ","ڦ","ﭱ","ڦ","ﭲ","ڄ","ﭳ","ڄ","ﭴ","ڄ","ﭵ","ڄ","ﭶ","ڃ","ﭷ","ڃ","ﭸ","ڃ","ﭹ","ڃ","ﭺ","چ","ﭻ","چ","ﭼ","چ","ﭽ","چ","ﭾ","ڇ","ﭿ","ڇ","ﮀ","ڇ","ﮁ","ڇ","ﮂ","ڍ","ﮃ","ڍ","ﮄ","ڌ","ﮅ","ڌ","ﮆ","ڎ","ﮇ","ڎ","ﮈ","ڈ","ﮉ","ڈ","ﮊ","ژ","ﮋ","ژ","ﮌ","ڑ","ﮍ","ڑ","ﮎ","ک","ﮏ","ک","ﮐ","ک","ﮑ","ک","ﮒ","گ","ﮓ","گ","ﮔ","گ","ﮕ","گ","ﮖ","ڳ","ﮗ","ڳ","ﮘ","ڳ","ﮙ","ڳ","ﮚ","ڱ","ﮛ","ڱ","ﮜ","ڱ","ﮝ","ڱ","ﮞ","ں","ﮟ","ں","ﮠ","ڻ","ﮡ","ڻ","ﮢ","ڻ","ﮣ","ڻ","ﮤ","ۀ","ﮥ","ۀ","ﮦ","ہ","ﮧ","ہ","ﮨ","ہ","ﮩ","ہ","ﮪ","ھ","ﮫ","ھ","ﮬ","ھ","ﮭ","ھ","ﮮ","ے","ﮯ","ے","ﮰ","ۓ","ﮱ","ۓ","ﯓ","ڭ","ﯔ","ڭ","ﯕ","ڭ","ﯖ","ڭ","ﯗ","ۇ","ﯘ","ۇ","ﯙ","ۆ","ﯚ","ۆ","ﯛ","ۈ","ﯜ","ۈ","ﯝ","ٷ","ﯞ","ۋ","ﯟ","ۋ","ﯠ","ۅ","ﯡ","ۅ","ﯢ","ۉ","ﯣ","ۉ","ﯤ","ې","ﯥ","ې","ﯦ","ې","ﯧ","ې","ﯨ","ى","ﯩ","ى","ﯪ","ئا","ﯫ","ئا","ﯬ","ئە","ﯭ","ئە","ﯮ","ئو","ﯯ","ئو","ﯰ","ئۇ","ﯱ","ئۇ","ﯲ","ئۆ","ﯳ","ئۆ","ﯴ","ئۈ","ﯵ","ئۈ","ﯶ","ئې","ﯷ","ئې","ﯸ","ئې","ﯹ","ئى","ﯺ","ئى","ﯻ","ئى","ﯼ","ی","ﯽ","ی","ﯾ","ی","ﯿ","ی","ﰀ","ئج","ﰁ","ئح","ﰂ","ئم","ﰃ","ئى","ﰄ","ئي","ﰅ","بج","ﰆ","بح","ﰇ","بخ","ﰈ","بم","ﰉ","بى","ﰊ","بي","ﰋ","تج","ﰌ","تح","ﰍ","تخ","ﰎ","تم","ﰏ","تى","ﰐ","تي","ﰑ","ثج","ﰒ","ثم","ﰓ","ثى","ﰔ","ثي","ﰕ","جح","ﰖ","جم","ﰗ","حج","ﰘ","حم","ﰙ","خج","ﰚ","خح","ﰛ","خم","ﰜ","سج","ﰝ","سح","ﰞ","سخ","ﰟ","سم","ﰠ","صح","ﰡ","صم","ﰢ","ضج","ﰣ","ضح","ﰤ","ضخ","ﰥ","ضم","ﰦ","طح","ﰧ","طم","ﰨ","ظم","ﰩ","عج","ﰪ","عم","ﰫ","غج","ﰬ","غم","ﰭ","فج","ﰮ","فح","ﰯ","فخ","ﰰ","فم","ﰱ","فى","ﰲ","في","ﰳ","قح","ﰴ","قم","ﰵ","قى","ﰶ","قي","ﰷ","كا","ﰸ","كج","ﰹ","كح","ﰺ","كخ","ﰻ","كل","ﰼ","كم","ﰽ","كى","ﰾ","كي","ﰿ","لج","ﱀ","لح","ﱁ","لخ","ﱂ","لم","ﱃ","لى","ﱄ","لي","ﱅ","مج","ﱆ","مح","ﱇ","مخ","ﱈ","مم","ﱉ","مى","ﱊ","مي","ﱋ","نج","ﱌ","نح","ﱍ","نخ","ﱎ","نم","ﱏ","نى","ﱐ","ني","ﱑ","هج","ﱒ","هم","ﱓ","هى","ﱔ","هي","ﱕ","يج","ﱖ","يح","ﱗ","يخ","ﱘ","يم","ﱙ","يى","ﱚ","يي","ﱛ","ذٰ","ﱜ","رٰ","ﱝ","ىٰ","ﱞ"," ٌّ","ﱟ"," ٍّ","ﱠ"," َّ","ﱡ"," ُّ","ﱢ"," ِّ","ﱣ"," ّٰ","ﱤ","ئر","ﱥ","ئز","ﱦ","ئم","ﱧ","ئن","ﱨ","ئى","ﱩ","ئي","ﱪ","بر","ﱫ","بز","ﱬ","بم","ﱭ","بن","ﱮ","بى","ﱯ","بي","ﱰ","تر","ﱱ","تز","ﱲ","تم","ﱳ","تن","ﱴ","تى","ﱵ","تي","ﱶ","ثر","ﱷ","ثز","ﱸ","ثم","ﱹ","ثن","ﱺ","ثى","ﱻ","ثي","ﱼ","فى","ﱽ","في","ﱾ","قى","ﱿ","قي","ﲀ","كا","ﲁ","كل","ﲂ","كم","ﲃ","كى","ﲄ","كي","ﲅ","لم","ﲆ","لى","ﲇ","لي","ﲈ","ما","ﲉ","مم","ﲊ","نر","ﲋ","نز","ﲌ","نم","ﲍ","نن","ﲎ","نى","ﲏ","ني","ﲐ","ىٰ","ﲑ","ير","ﲒ","يز","ﲓ","يم","ﲔ","ين","ﲕ","يى","ﲖ","يي","ﲗ","ئج","ﲘ","ئح","ﲙ","ئخ","ﲚ","ئم","ﲛ","ئه","ﲜ","بج","ﲝ","بح","ﲞ","بخ","ﲟ","بم","ﲠ","به","ﲡ","تج","ﲢ","تح","ﲣ","تخ","ﲤ","تم","ﲥ","ته","ﲦ","ثم","ﲧ","جح","ﲨ","جم","ﲩ","حج","ﲪ","حم","ﲫ","خج","ﲬ","خم","ﲭ","سج","ﲮ","سح","ﲯ","سخ","ﲰ","سم","ﲱ","صح","ﲲ","صخ","ﲳ","صم","ﲴ","ضج","ﲵ","ضح","ﲶ","ضخ","ﲷ","ضم","ﲸ","طح","ﲹ","ظم","ﲺ","عج","ﲻ","عم","ﲼ","غج","ﲽ","غم","ﲾ","فج","ﲿ","فح","ﳀ","فخ","ﳁ","فم","ﳂ","قح","ﳃ","قم","ﳄ","كج","ﳅ","كح","ﳆ","كخ","ﳇ","كل","ﳈ","كم","ﳉ","لج","ﳊ","لح","ﳋ","لخ","ﳌ","لم","ﳍ","له","ﳎ","مج","ﳏ","مح","ﳐ","مخ","ﳑ","مم","ﳒ","نج","ﳓ","نح","ﳔ","نخ","ﳕ","نم","ﳖ","نه","ﳗ","هج","ﳘ","هم","ﳙ","هٰ","ﳚ","يج","ﳛ","يح","ﳜ","يخ","ﳝ","يم","ﳞ","يه","ﳟ","ئم","ﳠ","ئه","ﳡ","بم","ﳢ","به","ﳣ","تم","ﳤ","ته","ﳥ","ثم","ﳦ","ثه","ﳧ","سم","ﳨ","سه","ﳩ","شم","ﳪ","شه","ﳫ","كل","ﳬ","كم","ﳭ","لم","ﳮ","نم","ﳯ","نه","ﳰ","يم","ﳱ","يه","ﳲ","ـَّ","ﳳ","ـُّ","ﳴ","ـِّ","ﳵ","طى","ﳶ","طي","ﳷ","عى","ﳸ","عي","ﳹ","غى","ﳺ","غي","ﳻ","سى","ﳼ","سي","ﳽ","شى","ﳾ","شي","ﳿ","حى","ﴀ","حي","ﴁ","جى","ﴂ","جي","ﴃ","خى","ﴄ","خي","ﴅ","صى","ﴆ","صي","ﴇ","ضى","ﴈ","ضي","ﴉ","شج","ﴊ","شح","ﴋ","شخ","ﴌ","شم","ﴍ","شر","ﴎ","سر","ﴏ","صر","ﴐ","ضر","ﴑ","طى","ﴒ","طي","ﴓ","عى","ﴔ","عي","ﴕ","غى","ﴖ","غي","ﴗ","سى","ﴘ","سي","ﴙ","شى","ﴚ","شي","ﴛ","حى","ﴜ","حي","ﴝ","جى","ﴞ","جي","ﴟ","خى","ﴠ","خي","ﴡ","صى","ﴢ","صي","ﴣ","ضى","ﴤ","ضي","ﴥ","شج","ﴦ","شح","ﴧ","شخ","ﴨ","شم","ﴩ","شر","ﴪ","سر","ﴫ","صر","ﴬ","ضر","ﴭ","شج","ﴮ","شح","ﴯ","شخ","ﴰ","شم","ﴱ","سه","ﴲ","شه","ﴳ","طم","ﴴ","سج","ﴵ","سح","ﴶ","سخ","ﴷ","شج","ﴸ","شح","ﴹ","شخ","ﴺ","طم","ﴻ","ظم","ﴼ","اً","ﴽ","اً","ﵐ","تجم","ﵑ","تحج","ﵒ","تحج","ﵓ","تحم","ﵔ","تخم","ﵕ","تمج","ﵖ","تمح","ﵗ","تمخ","ﵘ","جمح","ﵙ","جمح","ﵚ","حمي","ﵛ","حمى","ﵜ","سحج","ﵝ","سجح","ﵞ","سجى","ﵟ","سمح","ﵠ","سمح","ﵡ","سمج","ﵢ","سمم","ﵣ","سمم","ﵤ","صحح","ﵥ","صحح","ﵦ","صمم","ﵧ","شحم","ﵨ","شحم","ﵩ","شجي","ﵪ","شمخ","ﵫ","شمخ","ﵬ","شمم","ﵭ","شمم","ﵮ","ضحى","ﵯ","ضخم","ﵰ","ضخم","ﵱ","طمح","ﵲ","طمح","ﵳ","طمم","ﵴ","طمي","ﵵ","عجم","ﵶ","عمم","ﵷ","عمم","ﵸ","عمى","ﵹ","غمم","ﵺ","غمي","ﵻ","غمى","ﵼ","فخم","ﵽ","فخم","ﵾ","قمح","ﵿ","قمم","ﶀ","لحم","ﶁ","لحي","ﶂ","لحى","ﶃ","لجج","ﶄ","لجج","ﶅ","لخم","ﶆ","لخم","ﶇ","لمح","ﶈ","لمح","ﶉ","محج","ﶊ","محم","ﶋ","محي","ﶌ","مجح","ﶍ","مجم","ﶎ","مخج","ﶏ","مخم","ﶒ","مجخ","ﶓ","همج","ﶔ","همم","ﶕ","نحم","ﶖ","نحى","ﶗ","نجم","ﶘ","نجم","ﶙ","نجى","ﶚ","نمي","ﶛ","نمى","ﶜ","يمم","ﶝ","يمم","ﶞ","بخي","ﶟ","تجي","ﶠ","تجى","ﶡ","تخي","ﶢ","تخى","ﶣ","تمي","ﶤ","تمى","ﶥ","جمي","ﶦ","جحى","ﶧ","جمى","ﶨ","سخى","ﶩ","صحي","ﶪ","شحي","ﶫ","ضحي","ﶬ","لجي","ﶭ","لمي","ﶮ","يحي","ﶯ","يجي","ﶰ","يمي","ﶱ","ممي","ﶲ","قمي","ﶳ","نحي","ﶴ","قمح","ﶵ","لحم","ﶶ","عمي","ﶷ","كمي","ﶸ","نجح","ﶹ","مخي","ﶺ","لجم","ﶻ","كمم","ﶼ","لجم","ﶽ","نجح","ﶾ","جحي","ﶿ","حجي","ﷀ","مجي","ﷁ","فمي","ﷂ","بحي","ﷃ","كمم","ﷄ","عجم","ﷅ","صمم","ﷆ","سخي","ﷇ","نجي","﹉","‾","﹊","‾","﹋","‾","﹌","‾","﹍","_","﹎","_","﹏","_","ﺀ","ء","ﺁ","آ","ﺂ","آ","ﺃ","أ","ﺄ","أ","ﺅ","ؤ","ﺆ","ؤ","ﺇ","إ","ﺈ","إ","ﺉ","ئ","ﺊ","ئ","ﺋ","ئ","ﺌ","ئ","ﺍ","ا","ﺎ","ا","ﺏ","ب","ﺐ","ب","ﺑ","ب","ﺒ","ب","ﺓ","ة","ﺔ","ة","ﺕ","ت","ﺖ","ت","ﺗ","ت","ﺘ","ت","ﺙ","ث","ﺚ","ث","ﺛ","ث","ﺜ","ث","ﺝ","ج","ﺞ","ج","ﺟ","ج","ﺠ","ج","ﺡ","ح","ﺢ","ح","ﺣ","ح","ﺤ","ح","ﺥ","خ","ﺦ","خ","ﺧ","خ","ﺨ","خ","ﺩ","د","ﺪ","د","ﺫ","ذ","ﺬ","ذ","ﺭ","ر","ﺮ","ر","ﺯ","ز","ﺰ","ز","ﺱ","س","ﺲ","س","ﺳ","س","ﺴ","س","ﺵ","ش","ﺶ","ش","ﺷ","ش","ﺸ","ش","ﺹ","ص","ﺺ","ص","ﺻ","ص","ﺼ","ص","ﺽ","ض","ﺾ","ض","ﺿ","ض","ﻀ","ض","ﻁ","ط","ﻂ","ط","ﻃ","ط","ﻄ","ط","ﻅ","ظ","ﻆ","ظ","ﻇ","ظ","ﻈ","ظ","ﻉ","ع","ﻊ","ع","ﻋ","ع","ﻌ","ع","ﻍ","غ","ﻎ","غ","ﻏ","غ","ﻐ","غ","ﻑ","ف","ﻒ","ف","ﻓ","ف","ﻔ","ف","ﻕ","ق","ﻖ","ق","ﻗ","ق","ﻘ","ق","ﻙ","ك","ﻚ","ك","ﻛ","ك","ﻜ","ك","ﻝ","ل","ﻞ","ل","ﻟ","ل","ﻠ","ل","ﻡ","م","ﻢ","م","ﻣ","م","ﻤ","م","ﻥ","ن","ﻦ","ن","ﻧ","ن","ﻨ","ن","ﻩ","ه","ﻪ","ه","ﻫ","ه","ﻬ","ه","ﻭ","و","ﻮ","و","ﻯ","ى","ﻰ","ى","ﻱ","ي","ﻲ","ي","ﻳ","ي","ﻴ","ي","ﻵ","لآ","ﻶ","لآ","ﻷ","لأ","ﻸ","لأ","ﻹ","لإ","ﻺ","لإ","ﻻ","لا","ﻼ","لا"]}));function h(t){const e=t.length;if(e<=1||!function(t){let e=a[13];return t>=e.begin&&t<e.end||(e=a[11],t>=e.begin&&t<e.end)}(t.charCodeAt(0)))return t;const r=[];for(let n=e-1;n>=0;n--)r.push(t[n]);return r.join("")}const u=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),p=new Map;function d(t){const e=p.get(t);if(e)return e;const r=t.match(u),n={isWhitespace:!(!r||!r[1]),isZeroWidthDiacritic:!(!r||!r[2]),isInvisibleFormatMark:!(!r||!r[3])};return p.set(t,n),n}function f(){p.clear()}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MarkupAnnotation=e.AnnotationFactory=e.AnnotationBorderStyle=e.Annotation=void 0,e.getQuadPoints=b;var n=r(2),i=r(8),o=r(23),s=r(5),a=r(9),l=r(60),c=r(65),h=r(24),u=r(68),p=r(72),d=r(62),f=r(10),g=r(73),m=r(76);const y=1.35;function v(t,e=new Uint8ClampedArray(3)){if(!Array.isArray(t))return e;const r=e||new Uint8ClampedArray(3);switch(t.length){case 0:return null;case 1:return h.ColorSpace.singletons.gray.getRgbItem(t,0,r,0),r;case 3:return h.ColorSpace.singletons.rgb.getRgbItem(t,0,r,0),r;case 4:return h.ColorSpace.singletons.cmyk.getRgbItem(t,0,r,0),r;default:return e}}function b(t,e){if(!t.has("QuadPoints"))return null;const r=t.getArray("QuadPoints");if(!Array.isArray(r)||0===r.length||r.length%8>0)return null;const n=[];for(let t=0,i=r.length/8;t<i;t++){n.push([]);for(let i=8*t,o=8*t+8;i<o;i+=2){const o=r[i],s=r[i+1];if(null!==e&&(o<e[0]||o>e[2]||s<e[1]||s>e[3]))return null;n[t].push({x:o,y:s})}}return n.map((t=>{const[e,r,n,i]=t.reduce((([t,e,r,n],i)=>[Math.min(t,i.x),Math.max(e,i.x),Math.min(r,i.y),Math.max(n,i.y)]),[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]);return[{x:e,y:i},{x:r,y:i},{x:e,y:n},{x:r,y:n}]}))}function w(t,e,r){const[i,o,s,a]=n.Util.getAxialAlignedBoundingBox(e,r);if(i===s||o===a)return[1,0,0,1,t[0],t[1]];const l=(t[2]-t[0])/(s-i),c=(t[3]-t[1])/(a-o);return[l,0,0,c,t[0]-i*l,t[1]-o*c]}e.AnnotationFactory=class{static create(t,e,r,n,i){return Promise.all([r.ensureCatalog("acroForm"),r.ensureCatalog("baseUrl"),r.ensureDoc("xfaDatasets"),i?this._getPageIndex(t,e,r):-1]).then((([o,s,a,l])=>r.ensure(this,"_create",[t,e,r,n,o,a,i,l])))}static _create(t,e,r,o,a,l,c,h=-1){const u=t.fetchIfRef(e);if(!(u instanceof s.Dict))return;const p=e instanceof s.Ref?e.toString():`annot_${o.createObjId()}`;let d=u.get("Subtype");d=d instanceof s.Name?d.name:null;const f={xref:t,ref:e,dict:u,subtype:d,id:p,pdfManager:r,acroForm:a instanceof s.Dict?a:s.Dict.empty,xfaDatasets:l,collectFields:c,pageIndex:h};switch(d){case"Link":return new E(f);case"Text":return new M(f);case"Widget":let t=(0,i.getInheritableProperty)({dict:u,key:"FT"});switch(t=t instanceof s.Name?t.name:null,t){case"Tx":return new C(f);case"Btn":return new _(f);case"Ch":return new T(f);case"Sig":return new O(f)}return(0,n.warn)(`Unimplemented widget field type "${t}", falling back to base field type.`),new A(f);case"Popup":return new P(f);case"FreeText":return new I(f);case"Line":return new F(f);case"Square":return new D(f);case"Circle":return new R(f);case"PolyLine":return new L(f);case"Polygon":return new N(f);case"Caret":return new B(f);case"Ink":return new j(f);case"Highlight":return new z(f);case"Underline":return new U(f);case"Squiggly":return new $(f);case"StrikeOut":return new H(f);case"Stamp":return new V(f);case"FileAttachment":return new q(f);default:return c||(d?(0,n.warn)(`Unimplemented annotation type "${d}", falling back to base annotation.`):(0,n.warn)("Annotation is missing the required /Subtype.")),new x(f)}}static async _getPageIndex(t,e,r){try{const n=await t.fetchIfRefAsync(e);if(!(n instanceof s.Dict))return-1;const i=n.getRaw("P");return i instanceof s.Ref?await r.ensureCatalog("getPageIndex",[i]):-1}catch(t){return(0,n.warn)(`_getPageIndex: "${t}".`),-1}}};class x{constructor(t){const e=t.dict;if(this.setTitle(e.get("T")),this.setContents(e.get("Contents")),this.setModificationDate(e.get("M")),this.setFlags(e.get("F")),this.setRectangle(e.getArray("Rect")),this.setColor(e.getArray("C")),this.setBorderStyle(e),this.setAppearance(e),this.setBorderAndBackgroundColors(e.get("MK")),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,contentsObj:this._contents,hasAppearance:!!this.appearance,id:t.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:t.subtype,hasOwnCanvas:!1},t.collectFields){const r=e.get("Kids");if(Array.isArray(r)){const t=[];for(const e of r)e instanceof s.Ref&&t.push(e.toString());0!==t.length&&(this.data.kidIds=t)}this.data.actions=(0,i.collectActions)(t.xref,e,n.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(e),this.data.pageIndex=t.pageIndex}this._fallbackFontDict=null}_hasFlag(t,e){return!!(t&e)}_isViewable(t){return!this._hasFlag(t,n.AnnotationFlag.INVISIBLE)&&!this._hasFlag(t,n.AnnotationFlag.NOVIEW)}_isPrintable(t){return this._hasFlag(t,n.AnnotationFlag.PRINT)&&!this._hasFlag(t,n.AnnotationFlag.INVISIBLE)}mustBeViewed(t){const e=t&&t.get(this.data.id);return e&&void 0!==e.hidden?!e.hidden:this.viewable&&!this._hasFlag(this.flags,n.AnnotationFlag.HIDDEN)}mustBePrinted(t){const e=t&&t.get(this.data.id);return e&&void 0!==e.print?e.print:this.printable}get viewable(){return null!==this.data.quadPoints&&(0===this.flags||this._isViewable(this.flags))}get printable(){return null!==this.data.quadPoints&&0!==this.flags&&this._isPrintable(this.flags)}_parseStringHelper(t){const e="string"==typeof t?(0,n.stringToPDFString)(t):"";return{str:e,dir:e&&"rtl"===(0,l.bidi)(e).dir?"rtl":"ltr"}}setTitle(t){this._title=this._parseStringHelper(t)}setContents(t){this._contents=this._parseStringHelper(t)}setModificationDate(t){this.modificationDate="string"==typeof t?t:null}setFlags(t){this.flags=Number.isInteger(t)&&t>0?t:0}hasFlag(t){return this._hasFlag(this.flags,t)}setRectangle(t){Array.isArray(t)&&4===t.length?this.rectangle=n.Util.normalizeRect(t):this.rectangle=[0,0,0,0]}setColor(t){this.color=v(t)}setLineEndings(t){if(this.lineEndings=["None","None"],Array.isArray(t)&&2===t.length)for(let e=0;e<2;e++){const r=t[e];if(r instanceof s.Name)switch(r.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[e]=r.name;continue}(0,n.warn)(`Ignoring invalid lineEnding: ${r}`)}}setBorderAndBackgroundColors(t){t instanceof s.Dict?(this.borderColor=v(t.getArray("BC"),null),this.backgroundColor=v(t.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(t){if(this.borderStyle=new S,t instanceof s.Dict)if(t.has("BS")){const e=t.get("BS"),r=e.get("Type");r&&!(0,s.isName)(r,"Border")||(this.borderStyle.setWidth(e.get("W"),this.rectangle),this.borderStyle.setStyle(e.get("S")),this.borderStyle.setDashArray(e.getArray("D")))}else if(t.has("Border")){const e=t.getArray("Border");Array.isArray(e)&&e.length>=3&&(this.borderStyle.setHorizontalCornerRadius(e[0]),this.borderStyle.setVerticalCornerRadius(e[1]),this.borderStyle.setWidth(e[2],this.rectangle),4===e.length&&this.borderStyle.setDashArray(e[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(t){this.appearance=null;const e=t.get("AP");if(!(e instanceof s.Dict))return;const r=e.get("N");if(r instanceof a.BaseStream)return void(this.appearance=r);if(!(r instanceof s.Dict))return;const n=t.get("AS");n instanceof s.Name&&r.has(n.name)&&(this.appearance=r.get(n.name))}loadResources(t,e){return e.dict.getAsync("Resources").then((e=>{if(e)return new p.ObjectLoader(e,t,e.xref).load().then((function(){return e}))}))}getOperatorList(t,e,r,i,o){const a=this.data;let l=this.appearance;const c=a.hasOwnCanvas&&r&n.RenderingIntentFlag.DISPLAY;if(!l){if(!c)return Promise.resolve(new d.OperatorList);l=new f.StringStream(""),l.dict=new s.Dict}const h=l.dict,u=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],l),p=h.getArray("BBox")||[0,0,1,1],g=h.getArray("Matrix")||[1,0,0,1,0,0],m=w(a.rect,p,g);return u.then((r=>{const i=new d.OperatorList;return i.addOp(n.OPS.beginAnnotation,[a.id,a.rect,m,g,c]),t.getOperatorList({stream:l,task:e,resources:r,operatorList:i,fallbackFontDict:this._fallbackFontDict}).then((()=>(i.addOp(n.OPS.endAnnotation,[]),this.reset(),i)))}))}async save(t,e,r){return null}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex}:null}reset(){for(const t of this._streams)t.reset()}_constructFieldName(t){if(!t.has("T")&&!t.has("Parent"))return(0,n.warn)("Unknown field name, falling back to empty field name."),"";if(!t.has("Parent"))return(0,n.stringToPDFString)(t.get("T"));const e=[];t.has("T")&&e.unshift((0,n.stringToPDFString)(t.get("T")));let r=t;const i=new s.RefSet;for(t.objId&&i.put(t.objId);r.has("Parent")&&(r=r.get("Parent"),r instanceof s.Dict&&(!r.objId||!i.has(r.objId)));)r.objId&&i.put(r.objId),r.has("T")&&e.unshift((0,n.stringToPDFString)(r.get("T")));return e.join(".")}}e.Annotation=x;class S{constructor(){this.width=1,this.style=n.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(t,e=[0,0,0,0]){if(t instanceof s.Name)this.width=0;else if("number"==typeof t){if(t>0){const r=(e[2]-e[0])/2,i=(e[3]-e[1])/2;r>0&&i>0&&(t>r||t>i)&&((0,n.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${t}`),t=1)}this.width=t}}setStyle(t){if(t instanceof s.Name)switch(t.name){case"S":this.style=n.AnnotationBorderStyleType.SOLID;break;case"D":this.style=n.AnnotationBorderStyleType.DASHED;break;case"B":this.style=n.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=n.AnnotationBorderStyleType.INSET;break;case"U":this.style=n.AnnotationBorderStyleType.UNDERLINE}}setDashArray(t,e=!1){if(Array.isArray(t)&&t.length>0){let r=!0,n=!0;for(const e of t){if(!(+e>=0)){r=!1;break}e>0&&(n=!1)}r&&!n?(this.dashArray=t,e&&this.setStyle(s.Name.get("D"))):this.width=0}else t&&(this.width=0)}setHorizontalCornerRadius(t){Number.isInteger(t)&&(this.horizontalCornerRadius=t)}setVerticalCornerRadius(t){Number.isInteger(t)&&(this.verticalCornerRadius=t)}}e.AnnotationBorderStyle=S;class k extends x{constructor(t){super(t);const e=t.dict;if(e.has("IRT")){const t=e.getRaw("IRT");this.data.inReplyTo=t instanceof s.Ref?t.toString():null;const r=e.get("RT");this.data.replyType=r instanceof s.Name?r.name:n.AnnotationReplyType.REPLY}if(this.data.replyType===n.AnnotationReplyType.GROUP){const t=e.get("IRT");this.setTitle(t.get("T")),this.data.titleObj=this._title,this.setContents(t.get("Contents")),this.data.contentsObj=this._contents,t.has("CreationDate")?(this.setCreationDate(t.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,t.has("M")?(this.setModificationDate(t.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=t.has("Popup"),t.has("C")?(this.setColor(t.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(e.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=e.has("Popup"),e.has("C")||(this.data.color=null);e.has("RC")&&(this.data.richText=m.XFAFactory.getRichTextAsHtml(e.get("RC")))}setCreationDate(t){this.creationDate="string"==typeof t?t:null}_setDefaultAppearance({xref:t,extra:e,strokeColor:r,fillColor:n,blendMode:i,strokeAlpha:o,fillAlpha:a,pointsCallback:l}){let c=Number.MAX_VALUE,h=Number.MAX_VALUE,u=Number.MIN_VALUE,p=Number.MIN_VALUE;const d=["q"];e&&d.push(e),r&&d.push(`${r[0]} ${r[1]} ${r[2]} RG`),n&&d.push(`${n[0]} ${n[1]} ${n[2]} rg`);let g=this.data.quadPoints;g||(g=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const t of g){const[e,r,n,i]=l(d,t);c=Math.min(c,e),u=Math.max(u,r),h=Math.min(h,n),p=Math.max(p,i)}d.push("Q");const m=new s.Dict(t),y=new s.Dict(t);y.set("Subtype",s.Name.get("Form"));const v=new f.StringStream(d.join(" "));v.dict=y,m.set("Fm0",v);const b=new s.Dict(t);i&&b.set("BM",s.Name.get(i)),"number"==typeof o&&b.set("CA",o),"number"==typeof a&&b.set("ca",a);const w=new s.Dict(t);w.set("GS0",b);const x=new s.Dict(t);x.set("ExtGState",w),x.set("XObject",m);const S=new s.Dict(t);S.set("Resources",x);const k=this.data.rect=[c,h,u,p];S.set("BBox",k),this.appearance=new f.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=S,this._streams.push(this.appearance,v)}}e.MarkupAnnotation=k;class A extends x{constructor(t){super(t);const e=t.dict,r=this.data;this.ref=t.ref,r.annotationType=n.AnnotationType.WIDGET,void 0===r.fieldName&&(r.fieldName=this._constructFieldName(e)),void 0===r.actions&&(r.actions=(0,i.collectActions)(t.xref,e,n.AnnotationActionEventType));let a=(0,i.getInheritableProperty)({dict:e,key:"V",getArray:!0});r.fieldValue=this._decodeFormValue(a);const l=(0,i.getInheritableProperty)({dict:e,key:"DV",getArray:!0});if(r.defaultFieldValue=this._decodeFormValue(l),void 0===a&&t.xfaDatasets){const e=this._title.str;e&&(this._hasValueFromXFA=!0,r.fieldValue=a=t.xfaDatasets.getValue(e))}void 0===a&&null!==r.defaultFieldValue&&(r.fieldValue=r.defaultFieldValue),r.alternativeText=(0,n.stringToPDFString)(e.get("TU")||"");const c=(0,i.getInheritableProperty)({dict:e,key:"DA"})||t.acroForm.get("DA");this._defaultAppearance="string"==typeof c?c:"",r.defaultAppearanceData=(0,o.parseDefaultAppearance)(this._defaultAppearance);const h=(0,i.getInheritableProperty)({dict:e,key:"FT"});r.fieldType=h instanceof s.Name?h.name:null;const u=(0,i.getInheritableProperty)({dict:e,key:"DR"}),p=t.acroForm.get("DR"),d=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:u,acroFormResources:p,appearanceResources:d,mergedResources:s.Dict.merge({xref:t.xref,dictArray:[u,d,p],mergeSubDicts:!0})},r.fieldFlags=(0,i.getInheritableProperty)({dict:e,key:"Ff"}),(!Number.isInteger(r.fieldFlags)||r.fieldFlags<0)&&(r.fieldFlags=0),r.readOnly=this.hasFieldFlag(n.AnnotationFieldFlag.READONLY),r.hidden=this._hasFlag(r.annotationFlags,n.AnnotationFlag.HIDDEN)}_decodeFormValue(t){return Array.isArray(t)?t.filter((t=>"string"==typeof t)).map((t=>(0,n.stringToPDFString)(t))):t instanceof s.Name?(0,n.stringToPDFString)(t.name):"string"==typeof t?(0,n.stringToPDFString)(t):null}hasFieldFlag(t){return!!(this.data.fieldFlags&t)}getOperatorList(t,e,r,i,o){return!i||this instanceof O?this._hasText?this._getAppearance(t,e,o).then((s=>{if(this.appearance&&null===s)return super.getOperatorList(t,e,r,i,o);const a=new d.OperatorList;if(!this._defaultAppearance||null===s)return a;const l=[1,0,0,1,0,0],c=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],h=w(this.data.rect,c,l);a.addOp(n.OPS.beginAnnotation,[this.data.id,this.data.rect,h,l]);const u=new f.StringStream(s);return t.getOperatorList({stream:u,task:e,resources:this._fieldResources.mergedResources,operatorList:a}).then((function(){return a.addOp(n.OPS.endAnnotation,[]),a}))})):super.getOperatorList(t,e,r,i,o):Promise.resolve(new d.OperatorList)}async save(t,e,r){const i=r?r.get(this.data.id):void 0;let o=i&&i.value;if(o===this.data.fieldValue||void 0===o){if(!this._hasValueFromXFA)return null;o=o||this.data.fieldValue}if(!this._hasValueFromXFA&&Array.isArray(o)&&Array.isArray(this.data.fieldValue)&&o.length===this.data.fieldValue.length&&o.every(((t,e)=>t===this.data.fieldValue[e])))return null;let a=await this._getAppearance(t,e,r);if(null===a)return null;const{xref:l}=t,c=l.fetchIfRef(this.ref);if(!(c instanceof s.Dict))return null;const h=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],u={path:(0,n.stringToPDFString)(c.get("T")||""),value:o},p=l.getNewRef(),d=new s.Dict(l);d.set("N",p);const f=l.encrypt;let m=null,y=null;f&&(m=f.createCipherTransform(this.ref.num,this.ref.gen),y=f.createCipherTransform(p.num,p.gen),a=y.encryptString(a));const v=t=>(0,n.isAscii)(t)?t:(0,n.stringToUTF16BEString)(t);c.set("V",Array.isArray(o)?o.map(v):v(o)),c.set("AP",d),c.set("M",`D:${(0,n.getModificationDate)()}`);const b=new s.Dict(l);b.set("Length",a.length),b.set("Subtype",s.Name.get("Form")),b.set("Resources",this._getSaveFieldResources(l)),b.set("BBox",h);const w=[`${this.ref.num} ${this.ref.gen} obj\n`];(0,g.writeDict)(c,w,m),w.push("\nendobj\n");const x=[`${p.num} ${p.gen} obj\n`];return(0,g.writeDict)(b,x,y),x.push(" stream\n",a,"\nendstream\nendobj\n"),[{ref:this.ref,data:w.join(""),xfa:u},{ref:p,data:x.join(""),xfa:null}]}async _getAppearance(t,e,r){if(this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD))return null;const i=r?r.get(this.data.id):void 0;let s=i&&(i.formattedValue||i.value);if(void 0===s){if(!this._hasValueFromXFA||this.appearance)return null;if(s=this.data.fieldValue,!s)return""}if((0,n.assert)("string"==typeof s,"Expected `value` to be a string."),s=s.trim(),""===s)return"";let a=-1;this.data.multiLine&&(a=s.split(/\r\n|\r|\n/).length);const l=this.data.rect[3]-this.data.rect[1],c=this.data.rect[2]-this.data.rect[0];this._defaultAppearance||(this.data.defaultAppearanceData=(0,o.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const h=await this._getFontData(t,e),[u,p]=this._computeFontSize(l-2,c-4,s,h,a);let d=h.descent;isNaN(d)&&(d=0);const f=2+Math.abs(d)*p,g=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(u,s,h,p,c,l,g,2,f);const m=h.encodeString(s).join("");return this.data.comb?this._getCombAppearance(u,h,m,c,2,f):0===g||g>2?"/Tx BMC q BT "+u+` 1 0 0 1 2 ${f} Tm (${(0,n.escapeString)(m)}) Tj ET Q EMC`:"/Tx BMC q BT "+u+` 1 0 0 1 0 0 Tm ${this._renderText(m,h,p,c,g,2,f)} ET Q EMC`}async _getFontData(t,e){const r=new d.OperatorList,n={font:null,clone(){return this}},{fontName:i,fontSize:o}=this.data.defaultAppearanceData;return await t.handleSetFont(this._fieldResources.mergedResources,[i&&s.Name.get(i),o],null,r,e,n,null),n.font}_getTextWidth(t,e){return e.charsToGlyphs(t).reduce(((t,e)=>t+e.width),0)/1e3}_computeFontSize(t,e,r,n,i){let{fontSize:s}=this.data.defaultAppearanceData;if(!s){const a=t=>Math.floor(100*t)/100;if(-1===i){const i=this._getTextWidth(r,n);s=a(Math.min(t/y,e/i))}else{const o=r.split(/\r\n?|\n/),l=[];for(const t of o){const e=n.encodeString(t).join(""),r=n.charsToGlyphs(e),i=n.getCharPositions(e);l.push({line:e,glyphs:r,positions:i})}const c=r=>{let i=0;for(const o of l)if(i+=this._splitLine(null,n,r,e,o).length*r,i>t)return!0;return!1};s=12;let h=s*y,u=Math.round(t/h);for(u=Math.max(u,i);h=t/u,s=a(h/y),c(s);)u++}const{fontName:l,fontColor:c}=this.data.defaultAppearanceData;this._defaultAppearance=(0,o.createDefaultAppearance)({fontSize:s,fontName:l,fontColor:c})}return[this._defaultAppearance,s]}_renderText(t,e,r,i,o,s,a){let l;return l=1===o?(i-this._getTextWidth(t,e)*r)/2:2===o?i-this._getTextWidth(t,e)*r-s:s,l=l.toFixed(2),`${l} ${a=a.toFixed(2)} Td (${(0,n.escapeString)(t)}) Tj`}_getSaveFieldResources(t){const{localResources:e,appearanceResources:r,acroFormResources:n}=this._fieldResources,i=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!i)return e||s.Dict.empty;for(const t of[e,r])if(t instanceof s.Dict){const e=t.get("Font");if(e instanceof s.Dict&&e.has(i))return t}if(n instanceof s.Dict){const r=n.get("Font");if(r instanceof s.Dict&&r.has(i)){const n=new s.Dict(t);n.set(i,r.getRaw(i));const o=new s.Dict(t);return o.set("Font",n),s.Dict.merge({xref:t,dictArray:[o,e],mergeSubDicts:!0})}}return e||s.Dict.empty}getFieldObject(){return null}}class C extends A{constructor(t){super(t),this._hasText=!0;const e=t.dict;"string"!=typeof this.data.fieldValue&&(this.data.fieldValue="");let r=(0,i.getInheritableProperty)({dict:e,key:"Q"});(!Number.isInteger(r)||r<0||r>2)&&(r=null),this.data.textAlignment=r;let o=(0,i.getInheritableProperty)({dict:e,key:"MaxLen"});(!Number.isInteger(o)||o<0)&&(o=null),this.data.maxLen=o,this.data.multiLine=this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(n.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(n.AnnotationFieldFlag.FILESELECT)&&null!==this.data.maxLen}_getCombAppearance(t,e,r,i,o,s){const a=(i/this.data.maxLen).toFixed(2),l=[],c=e.getCharPositions(r);for(const[t,e]of c)l.push(`(${(0,n.escapeString)(r.substring(t,e))}) Tj`);return"/Tx BMC q BT "+t+` 1 0 0 1 ${o} ${s} Tm ${l.join(` ${a} 0 Td `)} ET Q EMC`}_getMultilineAppearance(t,e,r,n,i,o,s,a,l){const c=e.split(/\r\n?|\n/),h=[],u=i-2*a;for(const t of c){const e=this._splitLine(t,r,n,u);for(const t of e){const e=0===h.length?a:0;h.push(this._renderText(t,r,n,i,s,e,-n))}}return"/Tx BMC q BT "+t+` 1 0 0 1 0 ${o} Tm ${h.join("\n")} ET Q EMC`}_splitLine(t,e,r,n,i={}){t=i.line||e.encodeString(t).join("");const o=i.glyphs||e.charsToGlyphs(t);if(o.length<=1)return[t];const s=i.positions||e.getCharPositions(t),a=r/1e3,l=[];let c=-1,h=-1,u=-1,p=0,d=0;for(let e=0,r=o.length;e<r;e++){const[r,i]=s[e],f=o[e],g=f.width*a;" "===f.unicode?d+g>n?(l.push(t.substring(p,r)),p=r,d=g,c=-1,u=-1):(d+=g,c=r,h=i,u=e):d+g>n?-1!==c?(l.push(t.substring(p,h)),p=h,e=u+1,c=-1,d=0):(l.push(t.substring(p,r)),p=r,d=g):d+=g}return p<t.length&&l.push(t.substring(p,t.length)),l}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"text"}}}class _ extends A{constructor(t){super(t),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(t):this.data.radioButton?this._processRadioButton(t):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(t)):(0,n.warn)("Invalid field flags for button widget annotation")}async getOperatorList(t,e,r,n,i){if(this.data.pushButton)return super.getOperatorList(t,e,r,!1,i);let o=null;if(i){const t=i.get(this.data.id);o=t?t.value:null}if(null===o){if(this.appearance)return super.getOperatorList(t,e,r,n,i);o=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue}const s=o?this.checkedAppearance:this.uncheckedAppearance;if(s){const o=this.appearance;this.appearance=s;const a=super.getOperatorList(t,e,r,n,i);return this.appearance=o,a}return new d.OperatorList}async save(t,e,r){return this.data.checkBox?this._saveCheckbox(t,e,r):this.data.radioButton?this._saveRadioButton(t,e,r):null}async _saveCheckbox(t,e,r){if(!r)return null;const i=r.get(this.data.id),o=i&&i.value;if(void 0===o)return null;if(this.data.fieldValue===this.data.exportValue===o)return null;const a=t.xref.fetchIfRef(this.ref);if(!(a instanceof s.Dict))return null;const l={path:(0,n.stringToPDFString)(a.get("T")||""),value:o?this.data.exportValue:""},c=s.Name.get(o?this.data.exportValue:"Off");a.set("V",c),a.set("AS",c),a.set("M",`D:${(0,n.getModificationDate)()}`);const h=t.xref.encrypt;let u=null;h&&(u=h.createCipherTransform(this.ref.num,this.ref.gen));const p=[`${this.ref.num} ${this.ref.gen} obj\n`];return(0,g.writeDict)(a,p,u),p.push("\nendobj\n"),[{ref:this.ref,data:p.join(""),xfa:l}]}async _saveRadioButton(t,e,r){if(!r)return null;const i=r.get(this.data.id),o=i&&i.value;if(void 0===o)return null;if(this.data.fieldValue===this.data.buttonValue===o)return null;const a=t.xref.fetchIfRef(this.ref);if(!(a instanceof s.Dict))return null;const l={path:(0,n.stringToPDFString)(a.get("T")||""),value:o?this.data.buttonValue:""},c=s.Name.get(o?this.data.buttonValue:"Off");let h=null;const u=t.xref.encrypt;if(o)if(this.parent instanceof s.Ref){const e=t.xref.fetch(this.parent);let r=null;u&&(r=u.createCipherTransform(this.parent.num,this.parent.gen)),e.set("V",c),h=[`${this.parent.num} ${this.parent.gen} obj\n`],(0,g.writeDict)(e,h,r),h.push("\nendobj\n")}else this.parent instanceof s.Dict&&this.parent.set("V",c);a.set("AS",c),a.set("M",`D:${(0,n.getModificationDate)()}`);let p=null;u&&(p=u.createCipherTransform(this.ref.num,this.ref.gen));const d=[`${this.ref.num} ${this.ref.gen} obj\n`];(0,g.writeDict)(a,d,p),d.push("\nendobj\n");const f=[{ref:this.ref,data:d.join(""),xfa:l}];return null!==h&&f.push({ref:this.parent,data:h.join(""),xfa:null}),f}_getDefaultCheckedAppearance(t,e){const r=this.data.rect[2]-this.data.rect[0],i=this.data.rect[3]-this.data.rect[1],o=[0,0,r,i],a=.8*Math.min(r,i);let l,c;"check"===e?(l={width:.755*a,height:.705*a},c="3"):"disc"===e?(l={width:.791*a,height:.705*a},c="l"):(0,n.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${e}`);const h=`q BT /PdfJsZaDb ${a} Tf 0 g ${(r-l.width)/2} ${(i-l.height)/2} Td (${c}) Tj ET Q`,u=new s.Dict(t.xref);u.set("FormType",1),u.set("Subtype",s.Name.get("Form")),u.set("Type",s.Name.get("XObject")),u.set("BBox",o),u.set("Matrix",[1,0,0,1,0,0]),u.set("Length",h.length);const p=new s.Dict(t.xref),d=new s.Dict(t.xref);d.set("PdfJsZaDb",this.fallbackFontDict),p.set("Font",d),u.set("Resources",p),this.checkedAppearance=new f.StringStream(h),this.checkedAppearance.dict=u,this._streams.push(this.checkedAppearance)}_processCheckBox(t){const e=t.dict.get("AP");if(!(e instanceof s.Dict))return;const r=e.get("N");if(!(r instanceof s.Dict))return;const n=this._decodeFormValue(t.dict.get("AS"));"string"==typeof n&&(this.data.fieldValue=n);const i=null!==this.data.fieldValue&&"Off"!==this.data.fieldValue?this.data.fieldValue:"Yes",o=r.getKeys();if(0===o.length)o.push("Off",i);else if(1===o.length)"Off"===o[0]?o.push(i):o.unshift("Off");else if(o.includes(i))o.length=0,o.push("Off",i);else{const t=o.find((t=>"Off"!==t));o.length=0,o.push("Off",t)}o.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=o[1],this.checkedAppearance=r.get(this.data.exportValue)||null,this.uncheckedAppearance=r.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(t,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(t){this.data.fieldValue=this.data.buttonValue=null;const e=t.dict.get("Parent");if(e instanceof s.Dict){this.parent=t.dict.getRaw("Parent");const r=e.get("V");r instanceof s.Name&&(this.data.fieldValue=this._decodeFormValue(r))}const r=t.dict.get("AP");if(!(r instanceof s.Dict))return;const n=r.get("N");if(n instanceof s.Dict){for(const t of n.getKeys())if("Off"!==t){this.data.buttonValue=this._decodeFormValue(t);break}this.checkedAppearance=n.get(this.data.buttonValue)||null,this.uncheckedAppearance=n.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(t,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}_processPushButton(t){t.dict.has("A")||t.dict.has("AA")||this.data.alternativeText?(this.data.isTooltipOnly=!t.dict.has("A")&&!t.dict.has("AA"),c.Catalog.parseDestDictionary({destDict:t.dict,resultObj:this.data,docBaseUrl:t.pdfManager.docBaseUrl})):(0,n.warn)("Push buttons without action dictionaries are not supported")}getFieldObject(){let t,e="button";return this.data.checkBox?(e="checkbox",t=this.data.exportValue):this.data.radioButton&&(e="radiobutton",t=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:t,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:e}}get fallbackFontDict(){const t=new s.Dict;return t.set("BaseFont",s.Name.get("ZapfDingbats")),t.set("Type",s.Name.get("FallbackType")),t.set("Subtype",s.Name.get("FallbackType")),t.set("Encoding",s.Name.get("ZapfDingbatsEncoding")),(0,n.shadow)(this,"fallbackFontDict",t)}}class T extends A{constructor(t){super(t),this.data.options=[];const e=(0,i.getInheritableProperty)({dict:t.dict,key:"Opt"});if(Array.isArray(e)){const r=t.xref;for(let t=0,n=e.length;t<n;t++){const n=r.fetchIfRef(e[t]),i=Array.isArray(n);this.data.options[t]={exportValue:this._decodeFormValue(i?r.fetchIfRef(n[0]):n),displayValue:this._decodeFormValue(i?r.fetchIfRef(n[1]):n)}}}"string"==typeof this.data.fieldValue?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]),this.data.combo=this.hasFieldFlag(n.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(n.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const t=this.data.combo?"combobox":"listbox",e=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:e,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:t}}async _getAppearance(t,e,r){if(this.data.combo)return super._getAppearance(t,e,r);if(!r)return null;const n=r.get(this.data.id);let i=n&&n.value;if(void 0===i)return null;Array.isArray(i)||(i=[i]);const s=this.data.rect[3]-this.data.rect[1],a=this.data.rect[2]-this.data.rect[0],l=this.data.options.length,c=[];for(let t=0;t<l;t++){const{exportValue:e}=this.data.options[t];i.includes(e)&&c.push(t)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,o.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const h=await this._getFontData(t,e);let u,{fontSize:p}=this.data.defaultAppearanceData;if(p)u=this._defaultAppearance;else{const t=(s-2)/l;let e,r=-1;for(const{displayValue:t}of this.data.options){const n=this._getTextWidth(t);n>r&&(r=n,e=t)}[u,p]=this._computeFontSize(t,a-4,e,h,-1)}const d=p*y,f=(d-p)/2,g=Math.floor(s/d);let m;if(1===c.length){const t=c[0];m=t-t%g}else m=c.length?c[0]:0;const v=Math.min(m+g+1,l),b=["/Tx BMC q",`1 1 ${a} ${s} re W n`];if(c.length){b.push("0.600006 0.756866 0.854904 rg");for(const t of c)m<=t&&t<v&&b.push(`1 ${s-(t-m+1)*d} ${a} ${d} re f`)}b.push("BT",u,`1 0 0 1 0 ${s} Tm`);for(let t=m;t<v;t++){const{displayValue:e}=this.data.options[t],r=t===m?2:0,n=t===m?f:0;b.push(this._renderText(e,h,p,a,0,r,-d+n))}return b.push("ET Q EMC"),b.join("\n")}}class O extends A{constructor(t){super(t),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class M extends k{constructor(t){super(t);const e=t.dict;this.data.annotationType=n.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=e.has("Name")?e.get("Name").name:"Note"),e.has("State")?(this.data.state=e.get("State")||null,this.data.stateModel=e.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class E extends x{constructor(t){super(t),this.data.annotationType=n.AnnotationType.LINK;const e=b(t.dict,this.rectangle);e&&(this.data.quadPoints=e),c.Catalog.parseDestDictionary({destDict:t.dict,resultObj:this.data,docBaseUrl:t.pdfManager.docBaseUrl})}}class P extends x{constructor(t){super(t),this.data.annotationType=n.AnnotationType.POPUP;let e=t.dict.get("Parent");if(!e)return void(0,n.warn)("Popup annotation has a missing or invalid parent annotation.");const r=e.get("Subtype");this.data.parentType=r instanceof s.Name?r.name:null;const i=t.dict.getRaw("Parent");this.data.parentId=i instanceof s.Ref?i.toString():null;const o=e.getArray("Rect");Array.isArray(o)&&4===o.length?this.data.parentRect=n.Util.normalizeRect(o):this.data.parentRect=[0,0,0,0];const a=e.get("RT");if((0,s.isName)(a,n.AnnotationReplyType.GROUP)&&(e=e.get("IRT")),e.has("M")?(this.setModificationDate(e.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,e.has("C")?(this.setColor(e.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const t=e.get("F");this._isViewable(t)&&this.setFlags(t)}this.setTitle(e.get("T")),this.data.titleObj=this._title,this.setContents(e.get("Contents")),this.data.contentsObj=this._contents,e.has("RC")&&(this.data.richText=m.XFAFactory.getRichTextAsHtml(e.get("RC")))}}class I extends k{constructor(t){super(t),this.data.annotationType=n.AnnotationType.FREETEXT}}class F extends k{constructor(t){super(t);const{dict:e}=t;this.data.annotationType=n.AnnotationType.LINE;const r=e.getArray("L");if(this.data.lineCoordinates=n.Util.normalizeRect(r),this.setLineEndings(e.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const i=this.color?Array.from(this.color).map((t=>t/255)):[0,0,0],o=e.get("CA");let s=null,a=e.getArray("IC");a&&(a=v(a,null),s=a?Array.from(a).map((t=>t/255)):null);const l=s?o:null,c=this.borderStyle.width||1,h=2*c,u=[this.data.lineCoordinates[0]-h,this.data.lineCoordinates[1]-h,this.data.lineCoordinates[2]+h,this.data.lineCoordinates[3]+h];n.Util.intersect(this.rectangle,u)||(this.rectangle=u),this._setDefaultAppearance({xref:t.xref,extra:`${c} w`,strokeColor:i,fillColor:s,strokeAlpha:o,fillAlpha:l,pointsCallback:(t,e)=>(t.push(`${r[0]} ${r[1]} m`,`${r[2]} ${r[3]} l`,"S"),[e[0].x-c,e[1].x+c,e[3].y-c,e[1].y+c])})}}}class D extends k{constructor(t){if(super(t),this.data.annotationType=n.AnnotationType.SQUARE,!this.appearance){const e=this.color?Array.from(this.color).map((t=>t/255)):[0,0,0],r=t.dict.get("CA");let n=null,i=t.dict.getArray("IC");i&&(i=v(i,null),n=i?Array.from(i).map((t=>t/255)):null);const o=n?r:null;if(0===this.borderStyle.width&&!n)return;this._setDefaultAppearance({xref:t.xref,extra:`${this.borderStyle.width} w`,strokeColor:e,fillColor:n,strokeAlpha:r,fillAlpha:o,pointsCallback:(t,e)=>{const r=e[2].x+this.borderStyle.width/2,i=e[2].y+this.borderStyle.width/2,o=e[3].x-e[2].x-this.borderStyle.width,s=e[1].y-e[3].y-this.borderStyle.width;return t.push(`${r} ${i} ${o} ${s} re`),n?t.push("B"):t.push("S"),[e[0].x,e[1].x,e[3].y,e[1].y]}})}}}class R extends k{constructor(t){if(super(t),this.data.annotationType=n.AnnotationType.CIRCLE,!this.appearance){const e=this.color?Array.from(this.color).map((t=>t/255)):[0,0,0],r=t.dict.get("CA");let n=null,i=t.dict.getArray("IC");i&&(i=v(i,null),n=i?Array.from(i).map((t=>t/255)):null);const o=n?r:null;if(0===this.borderStyle.width&&!n)return;const s=4/3*Math.tan(Math.PI/8);this._setDefaultAppearance({xref:t.xref,extra:`${this.borderStyle.width} w`,strokeColor:e,fillColor:n,strokeAlpha:r,fillAlpha:o,pointsCallback:(t,e)=>{const r=e[0].x+this.borderStyle.width/2,i=e[0].y-this.borderStyle.width/2,o=e[3].x-this.borderStyle.width/2,a=e[3].y+this.borderStyle.width/2,l=r+(o-r)/2,c=i+(a-i)/2,h=(o-r)/2*s,u=(a-i)/2*s;return t.push(`${l} ${a} m`,`${l+h} ${a} ${o} ${c+u} ${o} ${c} c`,`${o} ${c-u} ${l+h} ${i} ${l} ${i} c`,`${l-h} ${i} ${r} ${c-u} ${r} ${c} c`,`${r} ${c+u} ${l-h} ${a} ${l} ${a} c`,"h"),n?t.push("B"):t.push("S"),[e[0].x,e[1].x,e[3].y,e[1].y]}})}}}class L extends k{constructor(t){super(t);const{dict:e}=t;this.data.annotationType=n.AnnotationType.POLYLINE,this.data.vertices=[],this instanceof N||(this.setLineEndings(e.getArray("LE")),this.data.lineEndings=this.lineEndings);const r=e.getArray("Vertices");if(Array.isArray(r)){for(let t=0,e=r.length;t<e;t+=2)this.data.vertices.push({x:r[t],y:r[t+1]});if(!this.appearance){const r=this.color?Array.from(this.color).map((t=>t/255)):[0,0,0],i=e.get("CA"),o=this.borderStyle.width||1,s=2*o,a=[1/0,1/0,-1/0,-1/0];for(const t of this.data.vertices)a[0]=Math.min(a[0],t.x-s),a[1]=Math.min(a[1],t.y-s),a[2]=Math.max(a[2],t.x+s),a[3]=Math.max(a[3],t.y+s);n.Util.intersect(this.rectangle,a)||(this.rectangle=a),this._setDefaultAppearance({xref:t.xref,extra:`${o} w`,strokeColor:r,strokeAlpha:i,pointsCallback:(t,e)=>{const r=this.data.vertices;for(let e=0,n=r.length;e<n;e++)t.push(`${r[e].x} ${r[e].y} ${0===e?"m":"l"}`);return t.push("S"),[e[0].x,e[1].x,e[3].y,e[1].y]}})}}}}class N extends L{constructor(t){super(t),this.data.annotationType=n.AnnotationType.POLYGON}}class B extends k{constructor(t){super(t),this.data.annotationType=n.AnnotationType.CARET}}class j extends k{constructor(t){super(t),this.data.annotationType=n.AnnotationType.INK,this.data.inkLists=[];const e=t.dict.getArray("InkList");if(!Array.isArray(e))return;const r=t.xref;for(let t=0,n=e.length;t<n;++t){this.data.inkLists.push([]);for(let n=0,i=e[t].length;n<i;n+=2)this.data.inkLists[t].push({x:r.fetchIfRef(e[t][n]),y:r.fetchIfRef(e[t][n+1])})}if(!this.appearance){const e=this.color?Array.from(this.color).map((t=>t/255)):[0,0,0],r=t.dict.get("CA"),i=this.borderStyle.width||1,o=2*i,s=[1/0,1/0,-1/0,-1/0];for(const t of this.data.inkLists)for(const e of t)s[0]=Math.min(s[0],e.x-o),s[1]=Math.min(s[1],e.y-o),s[2]=Math.max(s[2],e.x+o),s[3]=Math.max(s[3],e.y+o);n.Util.intersect(this.rectangle,s)||(this.rectangle=s),this._setDefaultAppearance({xref:t.xref,extra:`${i} w`,strokeColor:e,strokeAlpha:r,pointsCallback:(t,e)=>{for(const e of this.data.inkLists){for(let r=0,n=e.length;r<n;r++)t.push(`${e[r].x} ${e[r].y} ${0===r?"m":"l"}`);t.push("S")}return[e[0].x,e[1].x,e[3].y,e[1].y]}})}}}class z extends k{constructor(t){if(super(t),this.data.annotationType=n.AnnotationType.HIGHLIGHT,this.data.quadPoints=b(t.dict,null)){const e=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!e||!e.has("ExtGState")){this.appearance&&(0,n.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const e=this.color?Array.from(this.color).map((t=>t/255)):[1,1,0],r=t.dict.get("CA");this._setDefaultAppearance({xref:t.xref,fillColor:e,blendMode:"Multiply",fillAlpha:r,pointsCallback:(t,e)=>(t.push(`${e[0].x} ${e[0].y} m`,`${e[1].x} ${e[1].y} l`,`${e[3].x} ${e[3].y} l`,`${e[2].x} ${e[2].y} l`,"f"),[e[0].x,e[1].x,e[3].y,e[1].y])})}}else this.data.hasPopup=!1}}class U extends k{constructor(t){if(super(t),this.data.annotationType=n.AnnotationType.UNDERLINE,this.data.quadPoints=b(t.dict,null)){if(!this.appearance){const e=this.color?Array.from(this.color).map((t=>t/255)):[0,0,0],r=t.dict.get("CA");this._setDefaultAppearance({xref:t.xref,extra:"[] 0 d 1 w",strokeColor:e,strokeAlpha:r,pointsCallback:(t,e)=>(t.push(`${e[2].x} ${e[2].y} m`,`${e[3].x} ${e[3].y} l`,"S"),[e[0].x,e[1].x,e[3].y,e[1].y])})}}else this.data.hasPopup=!1}}class $ extends k{constructor(t){if(super(t),this.data.annotationType=n.AnnotationType.SQUIGGLY,this.data.quadPoints=b(t.dict,null)){if(!this.appearance){const e=this.color?Array.from(this.color).map((t=>t/255)):[0,0,0],r=t.dict.get("CA");this._setDefaultAppearance({xref:t.xref,extra:"[] 0 d 1 w",strokeColor:e,strokeAlpha:r,pointsCallback:(t,e)=>{const r=(e[0].y-e[2].y)/6;let n=r,i=e[2].x;const o=e[2].y,s=e[3].x;t.push(`${i} ${o+n} m`);do{i+=2,n=0===n?r:0,t.push(`${i} ${o+n} l`)}while(i<s);return t.push("S"),[e[2].x,s,o-2*r,o+2*r]}})}}else this.data.hasPopup=!1}}class H extends k{constructor(t){if(super(t),this.data.annotationType=n.AnnotationType.STRIKEOUT,this.data.quadPoints=b(t.dict,null)){if(!this.appearance){const e=this.color?Array.from(this.color).map((t=>t/255)):[0,0,0],r=t.dict.get("CA");this._setDefaultAppearance({xref:t.xref,extra:"[] 0 d 1 w",strokeColor:e,strokeAlpha:r,pointsCallback:(t,e)=>(t.push((e[0].x+e[2].x)/2+" "+(e[0].y+e[2].y)/2+" m",(e[1].x+e[3].x)/2+" "+(e[1].y+e[3].y)/2+" l","S"),[e[0].x,e[1].x,e[3].y,e[1].y])})}}else this.data.hasPopup=!1}}class V extends k{constructor(t){super(t),this.data.annotationType=n.AnnotationType.STAMP}}class q extends k{constructor(t){super(t);const e=new u.FileSpec(t.dict.get("FS"),t.xref);this.data.annotationType=n.AnnotationType.FILEATTACHMENT,this.data.file=e.serializable}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createDefaultAppearance=function({fontSize:t,fontName:e,fontColor:r}){let n;return n=r.every((t=>0===t))?"0 g":Array.from(r).map((t=>(t/255).toFixed(2))).join(" ")+" rg",`/${(0,o.escapePDFName)(e)} ${t} Tf ${n}`},e.parseDefaultAppearance=function(t){return new c(t).parse()};var n=r(2),i=r(24),o=r(8),s=r(25),a=r(5),l=r(10);class c extends s.EvaluatorPreprocessor{constructor(t){super(new l.StringStream(t))}parse(){const t={fn:0,args:[]},e={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;t.args.length=0,this.read(t);){if(0!==this.savedStatesDepth)continue;const{fn:r,args:o}=t;switch(0|r){case n.OPS.setFont:const[t,r]=o;t instanceof a.Name&&(e.fontName=t.name),"number"==typeof r&&r>0&&(e.fontSize=r);break;case n.OPS.setFillRGBColor:i.ColorSpace.singletons.rgb.getRgbItem(o,0,e.fontColor,0);break;case n.OPS.setFillGray:i.ColorSpace.singletons.gray.getRgbItem(o,0,e.fontColor,0);break;case n.OPS.setFillColorSpace:i.ColorSpace.singletons.cmyk.getRgbItem(o,0,e.fontColor,0)}}}catch(t){(0,n.warn)(`parseDefaultAppearance - ignoring errors: "${t}".`)}return e}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorSpace=void 0;var n=r(2),i=r(5),o=r(9),s=r(8);class a{constructor(t,e){this.constructor===a&&(0,n.unreachable)("Cannot initialize ColorSpace."),this.name=t,this.numComps=e}getRgb(t,e){const r=new Uint8ClampedArray(3);return this.getRgbItem(t,e,r,0),r}getRgbItem(t,e,r,i){(0,n.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(t,e,r,i,o,s,a){(0,n.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(t,e){(0,n.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(t){return!1}isDefaultDecode(t,e){return a.isDefaultDecode(t,this.numComps)}fillRgb(t,e,r,n,i,o,s,a,l){const c=e*r;let h=null;const u=1<<s,p=r!==i||e!==n;if(this.isPassthrough(s))h=a;else if(1===this.numComps&&c>u&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){const e=s<=8?new Uint8Array(u):new Uint16Array(u);for(let t=0;t<u;t++)e[t]=t;const r=new Uint8ClampedArray(3*u);if(this.getRgbBuffer(e,0,u,r,0,s,0),p){h=new Uint8Array(3*c);let t=0;for(let e=0;e<c;++e){const n=3*a[e];h[t++]=r[n],h[t++]=r[n+1],h[t++]=r[n+2]}}else{let e=0;for(let n=0;n<c;++n){const i=3*a[n];t[e++]=r[i],t[e++]=r[i+1],t[e++]=r[i+2],e+=l}}}else p?(h=new Uint8ClampedArray(3*c),this.getRgbBuffer(a,0,c,h,0,s,0)):this.getRgbBuffer(a,0,n*o,t,0,s,l);if(h)if(p)!function(t,e,r,n,i,o,s){s=1!==s?0:s;const a=r/i,l=n/o;let c,h=0;const u=new Uint16Array(i),p=3*r;for(let t=0;t<i;t++)u[t]=3*Math.floor(t*a);for(let r=0;r<o;r++){const n=Math.floor(r*l)*p;for(let r=0;r<i;r++)c=n+u[r],e[h++]=t[c++],e[h++]=t[c++],e[h++]=t[c++],h+=s}}(h,t,e,r,n,i,l);else{let e=0,r=0;for(let i=0,s=n*o;i<s;i++)t[e++]=h[r++],t[e++]=h[r++],t[e++]=h[r++],e+=l}}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!0)}static _cache(t,e,r,n){if(!r)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!n)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let o,s;t instanceof i.Ref&&(s=t,t=e.fetch(t)),t instanceof i.Name&&(o=t.name),(o||s)&&r.set(o,s,n)}static getCached(t,e,r){if(!r)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(t instanceof i.Ref){const n=r.getByRef(t);if(n)return n;try{t=e.fetch(t)}catch(t){if(t instanceof s.MissingDataException)throw t}}if(t instanceof i.Name){const e=r.getByName(t.name);if(e)return e}return null}static async parseAsync({cs:t,xref:e,resources:r=null,pdfFunctionFactory:n,localColorSpaceCache:i}){const o=this._parse(t,e,r,n);return this._cache(t,e,i,o),o}static parse({cs:t,xref:e,resources:r=null,pdfFunctionFactory:n,localColorSpaceCache:i}){const o=this.getCached(t,e,i);if(o)return o;const s=this._parse(t,e,r,n);return this._cache(t,e,i,s),s}static _parse(t,e,r=null,o){if((t=e.fetchIfRef(t))instanceof i.Name)switch(t.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new c(null);default:if(r instanceof i.Dict){const n=r.get("ColorSpace");if(n instanceof i.Dict){const s=n.get(t.name);if(s){if(s instanceof i.Name)return this._parse(s,e,r,o);t=s;break}}}throw new n.FormatError(`Unrecognized ColorSpace: ${t.name}`)}if(Array.isArray(t)){const i=e.fetchIfRef(t[0]).name;let s,a,u,p,d,y;switch(i){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return s=e.fetchIfRef(t[1]),p=s.getArray("WhitePoint"),d=s.getArray("BlackPoint"),y=s.get("Gamma"),new f(p,d,y);case"CalRGB":s=e.fetchIfRef(t[1]),p=s.getArray("WhitePoint"),d=s.getArray("BlackPoint"),y=s.getArray("Gamma");const v=s.getArray("Matrix");return new g(p,d,y,v);case"ICCBased":const b=e.fetchIfRef(t[1]).dict;a=b.get("N");const w=b.get("Alternate");if(w){const t=this._parse(w,e,r,o);if(t.numComps===a)return t;(0,n.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(1===a)return this.singletons.gray;if(3===a)return this.singletons.rgb;if(4===a)return this.singletons.cmyk;break;case"Pattern":return u=t[1]||null,u&&(u=this._parse(u,e,r,o)),new c(u);case"I":case"Indexed":u=this._parse(t[1],e,r,o);const x=e.fetchIfRef(t[2])+1,S=e.fetchIfRef(t[3]);return new h(u,x,S);case"Separation":case"DeviceN":const k=e.fetchIfRef(t[1]);a=Array.isArray(k)?k.length:1,u=this._parse(t[2],e,r,o);const A=o.create(t[3]);return new l(a,u,A);case"Lab":s=e.fetchIfRef(t[1]),p=s.getArray("WhitePoint"),d=s.getArray("BlackPoint");const C=s.getArray("Range");return new m(p,d,C);default:throw new n.FormatError(`Unimplemented ColorSpace object: ${i}`)}}throw new n.FormatError(`Unrecognized ColorSpace object: ${t}`)}static isDefaultDecode(t,e){if(!Array.isArray(t))return!0;if(2*e!==t.length)return(0,n.warn)("The decode map is not the correct length"),!0;for(let e=0,r=t.length;e<r;e+=2)if(0!==t[e]||1!==t[e+1])return!1;return!0}static get singletons(){return(0,n.shadow)(this,"singletons",{get gray(){return(0,n.shadow)(this,"gray",new u)},get rgb(){return(0,n.shadow)(this,"rgb",new p)},get cmyk(){return(0,n.shadow)(this,"cmyk",new d)}})}}e.ColorSpace=a;class l extends a{constructor(t,e,r){super("Alternate",t),this.base=e,this.tintFn=r,this.tmpBuf=new Float32Array(e.numComps)}getRgbItem(t,e,r,n){const i=this.tmpBuf;this.tintFn(t,e,i,0),this.base.getRgbItem(i,0,r,n)}getRgbBuffer(t,e,r,n,i,o,s){const a=this.tintFn,l=this.base,c=1/((1<<o)-1),h=l.numComps,u=l.usesZeroToOneRange,p=(l.isPassthrough(8)||!u)&&0===s;let d=p?i:0;const f=p?n:new Uint8ClampedArray(h*r),g=this.numComps,m=new Float32Array(g),y=new Float32Array(h);let v,b;for(v=0;v<r;v++){for(b=0;b<g;b++)m[b]=t[e++]*c;if(a(m,0,y,0),u)for(b=0;b<h;b++)f[d++]=255*y[b];else l.getRgbItem(y,0,f,d),d+=h}p||l.getRgbBuffer(f,0,r,n,i,8,s)}getOutputLength(t,e){return this.base.getOutputLength(t*this.base.numComps/this.numComps,e)}}class c extends a{constructor(t){super("Pattern",null),this.base=t}isDefaultDecode(t,e){(0,n.unreachable)("Should not call PatternCS.isDefaultDecode")}}class h extends a{constructor(t,e,r){super("Indexed",1),this.base=t,this.highVal=e;const i=t.numComps*e;if(this.lookup=new Uint8Array(i),r instanceof o.BaseStream){const t=r.getBytes(i);this.lookup.set(t)}else{if("string"!=typeof r)throw new n.FormatError(`IndexedCS - unrecognized lookup table: ${r}`);for(let t=0;t<i;++t)this.lookup[t]=255&r.charCodeAt(t)}}getRgbItem(t,e,r,n){const i=this.base.numComps,o=t[e]*i;this.base.getRgbBuffer(this.lookup,o,1,r,n,8,0)}getRgbBuffer(t,e,r,n,i,o,s){const a=this.base,l=a.numComps,c=a.getOutputLength(l,s),h=this.lookup;for(let o=0;o<r;++o){const r=t[e++]*l;a.getRgbBuffer(h,r,1,n,i,8,s),i+=c}}getOutputLength(t,e){return this.base.getOutputLength(t*this.base.numComps,e)}isDefaultDecode(t,e){return!Array.isArray(t)||(2!==t.length?((0,n.warn)("Decode map length is not correct"),!0):!Number.isInteger(e)||e<1?((0,n.warn)("Bits per component is not correct"),!0):0===t[0]&&t[1]===(1<<e)-1)}}class u extends a{constructor(){super("DeviceGray",1)}getRgbItem(t,e,r,n){const i=255*t[e];r[n]=r[n+1]=r[n+2]=i}getRgbBuffer(t,e,r,n,i,o,s){const a=255/((1<<o)-1);let l=e,c=i;for(let e=0;e<r;++e){const e=a*t[l++];n[c++]=e,n[c++]=e,n[c++]=e,c+=s}}getOutputLength(t,e){return t*(3+e)}}class p extends a{constructor(){super("DeviceRGB",3)}getRgbItem(t,e,r,n){r[n]=255*t[e],r[n+1]=255*t[e+1],r[n+2]=255*t[e+2]}getRgbBuffer(t,e,r,n,i,o,s){if(8===o&&0===s)return void n.set(t.subarray(e,e+3*r),i);const a=255/((1<<o)-1);let l=e,c=i;for(let e=0;e<r;++e)n[c++]=a*t[l++],n[c++]=a*t[l++],n[c++]=a*t[l++],c+=s}getOutputLength(t,e){return t*(3+e)/3|0}isPassthrough(t){return 8===t}}const d=function(){function t(t,e,r,n,i){const o=t[e]*r,s=t[e+1]*r,a=t[e+2]*r,l=t[e+3]*r;n[i]=255+o*(-4.387332384609988*o+54.48615194189176*s+18.82290502165302*a+212.25662451639585*l-285.2331026137004)+s*(1.7149763477362134*s-5.6096736904047315*a+-17.873870861415444*l-5.497006427196366)+a*(-2.5217340131683033*a-21.248923337353073*l+17.5119270841813)+l*(-21.86122147463605*l-189.48180835922747),n[i+1]=255+o*(8.841041422036149*o+60.118027045597366*s+6.871425592049007*a+31.159100130055922*l-79.2970844816548)+s*(-15.310361306967817*s+17.575251261109482*a+131.35250912493976*l-190.9453302588951)+a*(4.444339102852739*a+9.8632861493405*l-24.86741582555878)+l*(-20.737325471181034*l-187.80453709719578),n[i+2]=255+o*(.8842522430003296*o+8.078677503112928*s+30.89978309703729*a-.23883238689178934*l-14.183576799673286)+s*(10.49593273432072*s+63.02378494754052*a+50.606957656360734*l-112.23884253719248)+a*(.03296041114873217*a+115.60384449646641*l-193.58209356861505)+l*(-22.33816807309886*l-180.12613974708367)}return class extends a{constructor(){super("DeviceCMYK",4)}getRgbItem(e,r,n,i){t(e,r,1,n,i)}getRgbBuffer(e,r,n,i,o,s,a){const l=1/((1<<s)-1);for(let s=0;s<n;s++)t(e,r,l,i,o),r+=4,o+=3+a}getOutputLength(t,e){return t/4*(3+e)|0}}}(),f=function(){function t(t,e,r,n,i,o){const s=(e[r]*o)**t.G,a=t.YW*s,l=Math.max(295.8*a**.3333333333333333-40.8,0);n[i]=l,n[i+1]=l,n[i+2]=l}return class extends a{constructor(t,e,r){if(super("CalGray",1),!t)throw new n.FormatError("WhitePoint missing - required for color space CalGray");if(e=e||[0,0,0],r=r||1,this.XW=t[0],this.YW=t[1],this.ZW=t[2],this.XB=e[0],this.YB=e[1],this.ZB=e[2],this.G=r,this.XW<0||this.ZW<0||1!==this.YW)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),0===this.XB&&0===this.YB&&0===this.ZB||(0,n.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,n.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(e,r,n,i){t(this,e,r,n,i,1)}getRgbBuffer(e,r,n,i,o,s,a){const l=1/((1<<s)-1);for(let s=0;s<n;++s)t(this,e,r,i,o,l),r+=1,o+=3+a}getOutputLength(t,e){return t*(3+e)}}}(),g=function(){const t=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),e=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),r=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),i=new Float32Array([1,1,1]),o=new Float32Array(3),s=new Float32Array(3),l=new Float32Array(3);function c(t,e,r){r[0]=t[0]*e[0]+t[1]*e[1]+t[2]*e[2],r[1]=t[3]*e[0]+t[4]*e[1]+t[5]*e[2],r[2]=t[6]*e[0]+t[7]*e[1]+t[8]*e[2]}function h(t){return t<=.0031308?u(0,1,12.92*t):t>=.99554525?1:u(0,1,1.055*t**(1/2.4)-.055)}function u(t,e,r){return Math.max(t,Math.min(e,r))}function p(t){return t<0?-p(-t):t>8?((t+16)/116)**3:.0011070564598794539*t}function d(n,a,d,f,g,m){const y=u(0,1,a[d]*m),v=u(0,1,a[d+1]*m),b=u(0,1,a[d+2]*m),w=1===y?1:y**n.GR,x=1===v?1:v**n.GG,S=1===b?1:b**n.GB,k=n.MXA*w+n.MXB*x+n.MXC*S,A=n.MYA*w+n.MYB*x+n.MYC*S,C=n.MZA*w+n.MZB*x+n.MZC*S,_=s;_[0]=k,_[1]=A,_[2]=C;const T=l;!function(r,n,i){if(1===r[0]&&1===r[2])return i[0]=n[0],i[1]=n[1],void(i[2]=n[2]);const s=i;c(t,n,s);const a=o;!function(t,e,r){r[0]=1*e[0]/t[0],r[1]=1*e[1]/t[1],r[2]=1*e[2]/t[2]}(r,s,a),c(e,a,i)}(n.whitePoint,_,T);const O=s;!function(t,e,r){if(0===t[0]&&0===t[1]&&0===t[2])return r[0]=e[0],r[1]=e[1],void(r[2]=e[2]);const n=p(0),i=(1-n)/(1-p(t[0])),o=1-i,s=(1-n)/(1-p(t[1])),a=1-s,l=(1-n)/(1-p(t[2])),c=1-l;r[0]=e[0]*i+o,r[1]=e[1]*s+a,r[2]=e[2]*l+c}(n.blackPoint,T,O);const M=l;!function(r,n,i){const s=i;c(t,n,s);const a=o;!function(t,e,r){r[0]=.95047*e[0]/t[0],r[1]=1*e[1]/t[1],r[2]=1.08883*e[2]/t[2]}(r,s,a),c(e,a,i)}(i,O,M);const E=s;c(r,M,E),f[g]=255*h(E[0]),f[g+1]=255*h(E[1]),f[g+2]=255*h(E[2])}return class extends a{constructor(t,e,r,i){if(super("CalRGB",3),!t)throw new n.FormatError("WhitePoint missing - required for color space CalRGB");e=e||new Float32Array(3),r=r||new Float32Array([1,1,1]),i=i||new Float32Array([1,0,0,0,1,0,0,0,1]);const o=t[0],s=t[1],a=t[2];this.whitePoint=t;const l=e[0],c=e[1],h=e[2];if(this.blackPoint=e,this.GR=r[0],this.GG=r[1],this.GB=r[2],this.MXA=i[0],this.MYA=i[1],this.MZA=i[2],this.MXB=i[3],this.MYB=i[4],this.MZB=i[5],this.MXC=i[6],this.MYC=i[7],this.MZC=i[8],o<0||a<0||1!==s)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(l<0||c<0||h<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name} [${l}, ${c}, ${h}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,n.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(t,e,r,n){d(this,t,e,r,n,1)}getRgbBuffer(t,e,r,n,i,o,s){const a=1/((1<<o)-1);for(let o=0;o<r;++o)d(this,t,e,n,i,a),e+=3,i+=3+s}getOutputLength(t,e){return t*(3+e)/3|0}}}(),m=function(){function t(t){let e;return e=t>=6/29?t**3:108/841*(t-4/29),e}function e(t,e,r,n){return r+t*(n-r)/e}function r(r,n,i,o,s,a){let l=n[i],c=n[i+1],h=n[i+2];!1!==o&&(l=e(l,o,0,100),c=e(c,o,r.amin,r.amax),h=e(h,o,r.bmin,r.bmax)),c>r.amax?c=r.amax:c<r.amin&&(c=r.amin),h>r.bmax?h=r.bmax:h<r.bmin&&(h=r.bmin);const u=(l+16)/116,p=u+c/500,d=u-h/200,f=r.XW*t(p),g=r.YW*t(u),m=r.ZW*t(d);let y,v,b;r.ZW<1?(y=3.1339*f+-1.617*g+-.4906*m,v=-.9785*f+1.916*g+.0333*m,b=.072*f+-.229*g+1.4057*m):(y=3.2406*f+-1.5372*g+-.4986*m,v=-.9689*f+1.8758*g+.0415*m,b=.0557*f+-.204*g+1.057*m),s[a]=255*Math.sqrt(y),s[a+1]=255*Math.sqrt(v),s[a+2]=255*Math.sqrt(b)}return class extends a{constructor(t,e,r){if(super("Lab",3),!t)throw new n.FormatError("WhitePoint missing - required for color space Lab");if(e=e||[0,0,0],r=r||[-100,100,-100,100],this.XW=t[0],this.YW=t[1],this.ZW=t[2],this.amin=r[0],this.amax=r[1],this.bmin=r[2],this.bmax=r[3],this.XB=e[0],this.YB=e[1],this.ZB=e[2],this.XW<0||this.ZW<0||1!==this.YW)throw new n.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,n.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(t,e,n,i){r(this,t,e,!1,n,i)}getRgbBuffer(t,e,n,i,o,s,a){const l=(1<<s)-1;for(let s=0;s<n;s++)r(this,t,e,l,i,o),e+=3,o+=3+a}getOutputLength(t,e){return t*(3+e)/3|0}isDefaultDecode(t,e){return!0}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!1)}}}()},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PartialEvaluator=e.EvaluatorPreprocessor=void 0;var n=r(2),i=r(26),o=r(5),s=r(44),a=r(18),l=r(19),c=r(47),h=r(21),u=r(56),p=r(12),d=r(48),f=r(57),g=r(27),m=r(59),y=r(10),v=r(9),b=r(60),w=r(24),x=r(29),S=r(20),k=r(8),A=r(51),C=r(61),_=r(62),T=r(63);const O=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),M=1,E=2,P=Promise.resolve();function I(t,e=!1){if(Array.isArray(t)){for(let e=0,r=t.length;e<r;e++){const r=I(t[e],!0);if(r)return r}return(0,n.warn)(`Unsupported blend mode Array: ${t}`),"source-over"}if(!(t instanceof o.Name))return e?null:"source-over";switch(t.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return e?null:((0,n.warn)(`Unsupported blend mode: ${t.name}`),"source-over")}function F(t){t.fn===n.OPS.paintImageMaskXObject&&t.args[0]&&t.args[0].count>0&&t.args[0].count++}class D{static get TIME_SLOT_DURATION_MS(){return(0,n.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,n.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return!(++this.checked<D.CHECK_TIME_EVERY)&&(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+D.TIME_SLOT_DURATION_MS,this.checked=0}}class R{constructor({xref:t,handler:e,pageIndex:r,idFactory:n,fontCache:i,builtInCMapCache:o,standardFontDataCache:s,globalImageCache:a,options:l=null}){this.xref=t,this.handler=e,this.pageIndex=r,this.idFactory=n,this.fontCache=i,this.builtInCMapCache=o,this.standardFontDataCache=s,this.globalImageCache=a,this.options=l||O,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const t=new f.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,n.shadow)(this,"_pdfFunctionFactory",t)}clone(t=null){const e=Object.create(this);return e.options=Object.assign(Object.create(null),this.options,t),e}hasBlendModes(t,e){if(!(t instanceof o.Dict))return!1;if(t.objId&&e.has(t.objId))return!1;const r=new o.RefSet(e);t.objId&&r.put(t.objId);const i=[t],s=this.xref;for(;i.length;){const t=i.shift(),e=t.get("ExtGState");if(e instanceof o.Dict)for(let t of e.getRawValues()){if(t instanceof o.Ref){if(r.has(t))continue;try{t=s.fetch(t)}catch(e){r.put(t),(0,n.info)(`hasBlendModes - ignoring ExtGState: "${e}".`);continue}}if(!(t instanceof o.Dict))continue;t.objId&&r.put(t.objId);const e=t.get("BM");if(e instanceof o.Name){if("Normal"!==e.name)return!0}else if(void 0!==e&&Array.isArray(e))for(const t of e)if(t instanceof o.Name&&"Normal"!==t.name)return!0}const a=t.get("XObject");if(a instanceof o.Dict)for(let t of a.getRawValues()){if(t instanceof o.Ref){if(r.has(t))continue;try{t=s.fetch(t)}catch(e){r.put(t),(0,n.info)(`hasBlendModes - ignoring XObject: "${e}".`);continue}}if(!(t instanceof v.BaseStream))continue;t.dict.objId&&r.put(t.dict.objId);const e=t.dict.get("Resources");e instanceof o.Dict&&(e.objId&&r.has(e.objId)||(i.push(e),e.objId&&r.put(e.objId)))}}for(const t of r)e.put(t);return!1}async fetchBuiltInCMap(t){const e=this.builtInCMapCache.get(t);if(e)return e;let r;if(null!==this.options.cMapUrl){const e=`${this.options.cMapUrl}${t}.bcmap`,i=await fetch(e);if(!i.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${e}" with "${i.statusText}".`);r={cMapData:new Uint8Array(await i.arrayBuffer()),compressionType:n.CMapCompressionType.BINARY}}else r=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:t});return r.compressionType!==n.CMapCompressionType.NONE&&this.builtInCMapCache.set(t,r),r}async fetchStandardFontData(t){const e=this.standardFontDataCache.get(t);if(e)return new y.Stream(e);if(this.options.useSystemFonts&&"Symbol"!==t&&"ZapfDingbats"!==t)return null;const r=(0,c.getFontNameToFileMap)()[t];let i;if(null!==this.options.standardFontDataUrl){const t=`${this.options.standardFontDataUrl}${r}`,e=await fetch(t);e.ok?i=await e.arrayBuffer():(0,n.warn)(`fetchStandardFontData: failed to fetch file "${t}" with "${e.statusText}".`)}else try{i=await this.handler.sendWithPromise("FetchStandardFontData",{filename:r})}catch(t){(0,n.warn)(`fetchStandardFontData: failed to fetch file "${r}" with "${t}".`)}return i?(this.standardFontDataCache.set(t,i),new y.Stream(i)):null}async buildFormXObject(t,e,r,i,s,a,l){const c=e.dict,h=c.getArray("Matrix");let u,p,d=c.getArray("BBox");d=Array.isArray(d)&&4===d.length?n.Util.normalizeRect(d):null,c.has("OC")&&(u=await this.parseMarkedContentProps(c.get("OC"),t)),void 0!==u&&i.addOp(n.OPS.beginMarkedContentProps,["OC",u]);const f=c.get("Group");if(f){p={matrix:h,bbox:d,smask:r,isolated:!1,knockout:!1};const e=f.get("S");let s=null;if((0,o.isName)(e,"Transparency")&&(p.isolated=f.get("I")||!1,p.knockout=f.get("K")||!1,f.has("CS"))){const e=f.getRaw("CS"),r=w.ColorSpace.getCached(e,this.xref,l);s=r||await this.parseColorSpace({cs:e,resources:t,localColorSpaceCache:l})}r&&r.backdrop&&(s=s||w.ColorSpace.singletons.rgb,r.backdrop=s.getRgb(r.backdrop,0)),i.addOp(n.OPS.beginGroup,[p])}const g=f?[h,null]:[h,d];return i.addOp(n.OPS.paintFormXObjectBegin,g),this.getOperatorList({stream:e,task:s,resources:c.get("Resources")||t,operatorList:i,initialState:a}).then((function(){i.addOp(n.OPS.paintFormXObjectEnd,[]),f&&i.addOp(n.OPS.endGroup,[p]),void 0!==u&&i.addOp(n.OPS.endMarkedContent,[])}))}_sendImgData(t,e,r=!1){const n=e?[e.bitmap||e.data.buffer]:null;return this.parsingType3Font||r?this.handler.send("commonobj",[t,"Image",e],n):this.handler.send("obj",[t,this.pageIndex,"Image",e],n)}async buildPaintImageXObject({resources:t,image:e,isInline:r=!1,operatorList:i,cacheKey:o,localImageCache:s,localColorSpaceCache:a}){const l=e.dict,c=l.objId,h=l.get("W","Width"),u=l.get("H","Height");if(!h||"number"!=typeof h||!u||"number"!=typeof u)return void(0,n.warn)("Image dimensions are missing, or not numbers.");const p=this.options.maxImageSize;if(-1!==p&&h*u>p){const t="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors)return void(0,n.warn)(t);throw new Error(t)}let d,f,g;if(l.has("OC")&&(d=await this.parseMarkedContentProps(l.get("OC"),t)),l.get("IM","ImageMask")){const t=l.get("I","Interpolate"),r=h+7>>3,a=e.getBytes(r*u),p=l.getArray("D","Decode");if(this.parsingType3Font)return f=T.PDFImage.createRawMask({imgArray:a,width:h,height:u,imageIsFromDecodeStream:e instanceof x.DecodeStream,inverseDecode:!!p&&p[0]>0,interpolate:t}),f.cached=!!o,g=[f],i.addImageOps(n.OPS.paintImageMaskXObject,g,d),void(o&&s.set(o,c,{fn:n.OPS.paintImageMaskXObject,args:g,optionalContent:d}));if(f=T.PDFImage.createMask({imgArray:a,width:h,height:u,imageIsFromDecodeStream:e instanceof x.DecodeStream,inverseDecode:!!p&&p[0]>0,interpolate:t}),f.isSingleOpaquePixel)return i.addImageOps(n.OPS.paintSolidColorImageMask,[],d),void(o&&s.set(o,c,{fn:n.OPS.paintSolidColorImageMask,args:[],optionalContent:d}));const m=`mask_${this.idFactory.createObjId()}`;return i.addDependency(m),this._sendImgData(m,f),g=[{data:m,width:f.width,height:f.height,interpolate:f.interpolate,count:1}],i.addImageOps(n.OPS.paintImageMaskXObject,g,d),void(o&&s.set(o,c,{fn:n.OPS.paintImageMaskXObject,args:g,optionalContent:d}))}const m=l.get("SM","SMask")||!1,y=l.get("Mask")||!1;if(r&&!m&&!y&&h+u<200){const o=new T.PDFImage({xref:this.xref,res:t,image:e,isInline:r,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:a});return f=o.createImageData(!0),void i.addImageOps(n.OPS.paintInlineImageXObject,[f],d)}let v=`img_${this.idFactory.createObjId()}`,b=!1;this.parsingType3Font?v=`${this.idFactory.getDocId()}_type3_${v}`:c&&(b=this.globalImageCache.shouldCache(c,this.pageIndex),b&&(v=`${this.idFactory.getDocId()}_${v}`)),i.addDependency(v),g=[v,h,u],T.PDFImage.buildImage({xref:this.xref,res:t,image:e,isInline:r,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:a}).then((t=>(f=t.createImageData(!1),o&&c&&b&&this.globalImageCache.addByteSize(c,f.data.length),this._sendImgData(v,f,b)))).catch((t=>((0,n.warn)(`Unable to decode image "${v}": "${t}".`),this._sendImgData(v,null,b)))),i.addImageOps(n.OPS.paintImageXObject,g,d),o&&(s.set(o,c,{fn:n.OPS.paintImageXObject,args:g,optionalContent:d}),c&&((0,n.assert)(!r,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(c,this.pageIndex),b&&this.globalImageCache.setData(c,{objId:v,fn:n.OPS.paintImageXObject,args:g,optionalContent:d,byteSize:0})))}handleSMask(t,e,r,n,i,o){const s=t.get("G"),a={subtype:t.get("S").name,backdrop:t.get("BC")},l=t.get("TR");if((0,f.isPDFFunction)(l)){const t=this._pdfFunctionFactory.create(l),e=new Uint8Array(256),r=new Float32Array(1);for(let n=0;n<256;n++)r[0]=n/255,t(r,0,r,0),e[n]=255*r[0]|0;a.transferMap=e}return this.buildFormXObject(e,s,a,r,n,i.state.clone(),o)}handleTransferFunction(t){let e;if(Array.isArray(t))e=t;else{if(!(0,f.isPDFFunction)(t))return null;e=[t]}const r=[];let n=0,i=0;for(const t of e){const e=this.xref.fetchIfRef(t);if(n++,(0,o.isName)(e,"Identity")){r.push(null);continue}if(!(0,f.isPDFFunction)(e))return null;const s=this._pdfFunctionFactory.create(e),a=new Uint8Array(256),l=new Float32Array(1);for(let t=0;t<256;t++)l[0]=t/255,s(l,0,l,0),a[t]=255*l[0]|0;r.push(a),i++}return 1!==n&&4!==n||0===i?null:r}handleTilingType(t,e,r,i,s,a,l,c){const h=new _.OperatorList,p=o.Dict.merge({xref:this.xref,dictArray:[s.get("Resources"),r]});return this.getOperatorList({stream:i,task:l,resources:p,operatorList:h}).then((function(){const r=h.getIR(),n=(0,u.getTilingPatternIR)(r,s,e);a.addDependencies(h.dependencies),a.addOp(t,n),s.objId&&c.set(null,s.objId,{operatorListIR:r,dict:s})})).catch((t=>{if(!(t instanceof n.AbortException)){if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorTilingPattern}),void(0,n.warn)(`handleTilingType - ignoring pattern: "${t}".`);throw t}}))}handleSetFont(t,e,r,i,a,l,c=null,h=null){const u=e&&e[0]instanceof o.Name?e[0].name:null;return this.loadFont(u,r,t,c,h).then((e=>e.font.isType3Font?e.loadType3Data(this,t,a).then((function(){return i.addDependencies(e.type3Dependencies),e})).catch((t=>(this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorFontLoadType3}),new L({loadedName:"g_font_error",font:new s.ErrorFont(`Type3 font load error: ${t}`),dict:e.font,evaluatorOptions:this.options})))):e)).then((t=>(l.font=t.font,t.send(this.handler),t.loadedName)))}handleText(t,e){const r=e.font,i=r.charsToGlyphs(t);return r.data&&(e.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG||"Pattern"===e.fillColorSpace.name||r.disableFontFace||this.options.disableFontFace)&&R.buildFontPaths(r,i,this.handler,this.options),i}ensureStateFont(t){if(t.font)return;const e=new n.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorFontState}),void(0,n.warn)(`ensureStateFont: "${e}".`);throw e}async setGState({resources:t,gState:e,operatorList:r,cacheKey:i,task:s,stateManager:a,localGStateCache:l,localColorSpaceCache:c}){const h=e.objId;let u=!0;const p=[],d=e.getKeys();let f=Promise.resolve();for(let i=0,l=d.length;i<l;i++){const l=d[i],h=e.get(l);switch(l){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":p.push([l,h]);break;case"Font":u=!1,f=f.then((()=>this.handleSetFont(t,null,h[0],r,s,a.state).then((function(t){r.addDependency(t),p.push([l,[t,h[1]]])}))));break;case"BM":p.push([l,I(h)]);break;case"SMask":if((0,o.isName)(h,"None")){p.push([l,!1]);break}h instanceof o.Dict?(u=!1,f=f.then((()=>this.handleSMask(h,t,r,s,a,c))),p.push([l,!0])):(0,n.warn)("Unsupported SMask type");break;case"TR":const e=this.handleTransferFunction(h);p.push([l,e]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,n.info)("graphic state operator "+l);break;default:(0,n.info)("Unknown graphic state operator "+l)}}return f.then((function(){p.length>0&&r.addOp(n.OPS.setGState,[p]),u&&l.set(i,h,p)}))}loadFont(t,e,r,i=null,l=null){const c=async()=>new L({loadedName:"g_font_error",font:new s.ErrorFont(`Font "${t}" is not available.`),dict:e,evaluatorOptions:this.options}),h=this.xref;let u;if(e){if(!(e instanceof o.Ref))throw new n.FormatError('The "font" object should be a reference.');u=e}else{const e=r.get("Font");e&&(u=e.getRaw(t))}if(!u){const r=`Font "${t||e&&e.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,n.warn)(`${r}.`),c();this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorFontMissing}),(0,n.warn)(`${r} -- attempting to fallback to a default font.`),u=i||R.fallbackFontDict}if(this.parsingType3Font&&this.type3FontRefs.has(u))return c();if(this.fontCache.has(u))return this.fontCache.get(u);if(!((e=h.fetchIfRef(u))instanceof o.Dict))return c();if(e.cacheKey&&this.fontCache.has(e.cacheKey))return this.fontCache.get(e.cacheKey);const p=(0,n.createPromiseCapability)();let d;try{d=this.preEvaluateFont(e),d.cssFontInfo=l}catch(t){return(0,n.warn)(`loadFont - preEvaluateFont failed: "${t}".`),c()}const{descriptor:f,hash:g}=d,m=u instanceof o.Ref;let y;if(m&&(y=`f${u.toString()}`),g&&f instanceof o.Dict){f.fontAliases||(f.fontAliases=Object.create(null));const t=f.fontAliases;if(t[g]){const e=t[g].aliasRef;if(m&&e&&this.fontCache.has(e))return this.fontCache.putAlias(u,e),this.fontCache.get(u)}else t[g]={fontID:this.idFactory.createFontId()};m&&(t[g].aliasRef=u),y=t[g].fontID}return m?this.fontCache.put(u,p.promise):(y||(y=this.idFactory.createFontId()),e.cacheKey=`cacheKey_${y}`,this.fontCache.put(e.cacheKey,p.promise)),(0,n.assert)(y&&y.startsWith("f"),'The "fontID" must be (correctly) defined.'),e.loadedName=`${this.idFactory.getDocId()}_${y}`,this.translateFont(d).then((t=>{void 0!==t.fontType&&h.stats.addFontType(t.fontType),p.resolve(new L({loadedName:e.loadedName,font:t,dict:e,evaluatorOptions:this.options}))})).catch((t=>{this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,n.warn)(`loadFont - translateFont failed: "${t}".`);try{const t=f&&f.get("FontFile3"),e=t&&t.get("Subtype"),r=(0,a.getFontType)(d.type,e&&e.name);void 0!==r&&h.stats.addFontType(r)}catch(t){}p.resolve(new L({loadedName:e.loadedName,font:new s.ErrorFont(t instanceof Error?t.message:t),dict:e,evaluatorOptions:this.options}))})),p.promise}buildPath(t,e,r,i=!1){const o=t.length-1;let s;if(r||(r=[]),o<0||t.fnArray[o]!==n.OPS.constructPath)i&&((0,n.warn)(`Encountered path operator "${e}" inside of a text object.`),t.addOp(n.OPS.save,null)),s=[1/0,-1/0,1/0,-1/0],t.addOp(n.OPS.constructPath,[[e],r,s]),i&&t.addOp(n.OPS.restore,null);else{const n=t.argsArray[o];n[0].push(e),Array.prototype.push.apply(n[1],r),s=n[2]}switch(e){case n.OPS.rectangle:s[0]=Math.min(s[0],r[0],r[0]+r[2]),s[1]=Math.max(s[1],r[0],r[0]+r[2]),s[2]=Math.min(s[2],r[1],r[1]+r[3]),s[3]=Math.max(s[3],r[1],r[1]+r[3]);break;case n.OPS.moveTo:case n.OPS.lineTo:s[0]=Math.min(s[0],r[0]),s[1]=Math.max(s[1],r[0]),s[2]=Math.min(s[2],r[1]),s[3]=Math.max(s[3],r[1])}}parseColorSpace({cs:t,resources:e,localColorSpaceCache:r}){return w.ColorSpace.parseAsync({cs:t,xref:this.xref,resources:e,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:r}).catch((t=>{if(t instanceof n.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorColorSpace}),(0,n.warn)(`parseColorSpace - ignoring ColorSpace: "${t}".`),null;throw t}))}parseShading({shading:t,resources:e,localColorSpaceCache:r,localShadingPatternCache:n}){let i=n.get(t);if(!i){const o=u.Pattern.parseShading(t,this.xref,e,this.handler,this._pdfFunctionFactory,r).getIR();i=`pattern_${this.idFactory.createObjId()}`,n.set(t,i),this.handler.send("obj",[i,this.pageIndex,"Pattern",o])}return i}handleColorN(t,e,r,i,s,a,l,c,h,p){const d=r.pop();if(d instanceof o.Name){const f=s.getRaw(d.name),g=f instanceof o.Ref&&h.getByRef(f);if(g)try{const n=i.base?i.base.getRgb(r,0):null,o=(0,u.getTilingPatternIR)(g.operatorListIR,g.dict,n);return void t.addOp(e,o)}catch(t){}const m=this.xref.fetchIfRef(f);if(m){const o=m instanceof v.BaseStream?m.dict:m,s=o.get("PatternType");if(s===M){const n=i.base?i.base.getRgb(r,0):null;return this.handleTilingType(e,n,a,m,o,t,l,h)}if(s===E){const r=o.get("Shading"),n=o.getArray("Matrix"),i=this.parseShading({shading:r,resources:a,localColorSpaceCache:c,localShadingPatternCache:p});return void t.addOp(e,["Shading",i,n])}throw new n.FormatError(`Unknown PatternType: ${s}`)}}throw new n.FormatError(`Unknown PatternName: ${d}`)}_parseVisibilityExpression(t,e,r){if(++e>10)return void(0,n.warn)("Visibility expression is too deeply nested");const i=t.length,s=this.xref.fetchIfRef(t[0]);if(!(i<2)&&s instanceof o.Name){switch(s.name){case"And":case"Or":case"Not":r.push(s.name);break;default:return void(0,n.warn)(`Invalid operator ${s.name} in visibility expression`)}for(let n=1;n<i;n++){const i=t[n],s=this.xref.fetchIfRef(i);if(Array.isArray(s)){const t=[];r.push(t),this._parseVisibilityExpression(s,e,t)}else i instanceof o.Ref&&r.push(i.toString())}}else(0,n.warn)("Invalid visibility expression")}async parseMarkedContentProps(t,e){let r;if(t instanceof o.Name)r=e.get("Properties").get(t.name);else{if(!(t instanceof o.Dict))throw new n.FormatError("Optional content properties malformed.");r=t}const i=r.get("Type").name;if("OCG"===i)return{type:i,id:r.objId};if("OCMD"===i){const t=r.get("VE");if(Array.isArray(t)){const e=[];if(this._parseVisibilityExpression(t,0,e),e.length>0)return{type:"OCMD",expression:e}}const e=r.get("OCGs");if(Array.isArray(e)||e instanceof o.Dict){const t=[];if(Array.isArray(e))for(const r of e)t.push(r.toString());else t.push(e.objId);return{type:i,ids:t,policy:r.get("P")instanceof o.Name?r.get("P").name:null,expression:null}}if(e instanceof o.Ref)return{type:i,id:e.toString()}}return null}getOperatorList({stream:t,task:e,resources:r,operatorList:i,initialState:s=null,fallbackFontDict:a=null}){if(r=r||o.Dict.empty,s=s||new j,!i)throw new Error('getOperatorList: missing "operatorList" parameter');const l=this,c=this.xref;let h=!1;const u=new m.LocalImageCache,p=new m.LocalColorSpaceCache,d=new m.LocalGStateCache,f=new m.LocalTilingPatternCache,g=new Map,y=r.get("XObject")||o.Dict.empty,b=r.get("Pattern")||o.Dict.empty,x=new N(s),S=new z(t,c,x),k=new D;function A(t){for(let t=0,e=S.savedStatesDepth;t<e;t++)i.addOp(n.OPS.restore,[])}return new Promise((function t(s,m){const C=function(e){Promise.all([e,i.ready]).then((function(){try{t(s,m)}catch(t){m(t)}}),m)};e.ensureNotTerminated(),k.reset();const _={};let T,O,M,E,I,D;for(;!(T=k.check())&&(_.args=null,S.read(_));){let t=_.args,s=_.fn;switch(0|s){case n.OPS.paintXObject:if(D=t[0]instanceof o.Name,I=t[0].name,D){const e=u.getByName(I);if(e){i.addImageOps(e.fn,e.args,e.optionalContent),F(e),t=null;continue}}return void C(new Promise((function(t,s){if(!D)throw new n.FormatError("XObject must be referred to by name.");let a=y.getRaw(I);if(a instanceof o.Ref){const e=u.getByRef(a);if(e)return i.addImageOps(e.fn,e.args,e.optionalContent),F(e),void t();const r=l.globalImageCache.getData(a,l.pageIndex);if(r)return i.addDependency(r.objId),i.addImageOps(r.fn,r.args,r.optionalContent),void t();a=c.fetch(a)}if(!(a instanceof v.BaseStream))throw new n.FormatError("XObject should be a stream");const h=a.dict.get("Subtype");if(!(h instanceof o.Name))throw new n.FormatError("XObject should have a Name subtype");if("Form"===h.name)return x.save(),void l.buildFormXObject(r,a,null,i,e,x.state.clone(),p).then((function(){x.restore(),t()}),s);if("Image"!==h.name){if("PS"!==h.name)throw new n.FormatError(`Unhandled XObject subtype ${h.name}`);(0,n.info)("Ignored XObject subtype PS"),t()}else l.buildPaintImageXObject({resources:r,image:a,operatorList:i,cacheKey:I,localImageCache:u,localColorSpaceCache:p}).then(t,s)})).catch((function(t){if(!(t instanceof n.AbortException)){if(l.options.ignoreErrors)return l.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorXObject}),void(0,n.warn)(`getOperatorList - ignoring XObject: "${t}".`);throw t}})));case n.OPS.setFont:var R=t[1];return void C(l.handleSetFont(r,t,null,i,e,x.state,a).then((function(t){i.addDependency(t),i.addOp(n.OPS.setFont,[t,R])})));case n.OPS.beginText:h=!0;break;case n.OPS.endText:h=!1;break;case n.OPS.endInlineImage:var L=t[0].cacheKey;if(L){const e=u.getByName(L);if(e){i.addImageOps(e.fn,e.args,e.optionalContent),F(e),t=null;continue}}return void C(l.buildPaintImageXObject({resources:r,image:t[0],isInline:!0,operatorList:i,cacheKey:L,localImageCache:u,localColorSpaceCache:p}));case n.OPS.showText:if(!x.state.font){l.ensureStateFont(x.state);continue}t[0]=l.handleText(t[0],x.state);break;case n.OPS.showSpacedText:if(!x.state.font){l.ensureStateFont(x.state);continue}var N=t[0],B=[],j=N.length,z=x.state;for(O=0;O<j;++O){const t=N[O];"string"==typeof t?Array.prototype.push.apply(B,l.handleText(t,z)):"number"==typeof t&&B.push(t)}t[0]=B,s=n.OPS.showText;break;case n.OPS.nextLineShowText:if(!x.state.font){l.ensureStateFont(x.state);continue}i.addOp(n.OPS.nextLine),t[0]=l.handleText(t[0],x.state),s=n.OPS.showText;break;case n.OPS.nextLineSetSpacingShowText:if(!x.state.font){l.ensureStateFont(x.state);continue}i.addOp(n.OPS.nextLine),i.addOp(n.OPS.setWordSpacing,[t.shift()]),i.addOp(n.OPS.setCharSpacing,[t.shift()]),t[0]=l.handleText(t[0],x.state),s=n.OPS.showText;break;case n.OPS.setTextRenderingMode:x.state.textRenderingMode=t[0];break;case n.OPS.setFillColorSpace:{const e=w.ColorSpace.getCached(t[0],c,p);if(e){x.state.fillColorSpace=e;continue}return void C(l.parseColorSpace({cs:t[0],resources:r,localColorSpaceCache:p}).then((function(t){t&&(x.state.fillColorSpace=t)})))}case n.OPS.setStrokeColorSpace:{const e=w.ColorSpace.getCached(t[0],c,p);if(e){x.state.strokeColorSpace=e;continue}return void C(l.parseColorSpace({cs:t[0],resources:r,localColorSpaceCache:p}).then((function(t){t&&(x.state.strokeColorSpace=t)})))}case n.OPS.setFillColor:E=x.state.fillColorSpace,t=E.getRgb(t,0),s=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColor:E=x.state.strokeColorSpace,t=E.getRgb(t,0),s=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillGray:x.state.fillColorSpace=w.ColorSpace.singletons.gray,t=w.ColorSpace.singletons.gray.getRgb(t,0),s=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeGray:x.state.strokeColorSpace=w.ColorSpace.singletons.gray,t=w.ColorSpace.singletons.gray.getRgb(t,0),s=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillCMYKColor:x.state.fillColorSpace=w.ColorSpace.singletons.cmyk,t=w.ColorSpace.singletons.cmyk.getRgb(t,0),s=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeCMYKColor:x.state.strokeColorSpace=w.ColorSpace.singletons.cmyk,t=w.ColorSpace.singletons.cmyk.getRgb(t,0),s=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillRGBColor:x.state.fillColorSpace=w.ColorSpace.singletons.rgb,t=w.ColorSpace.singletons.rgb.getRgb(t,0);break;case n.OPS.setStrokeRGBColor:x.state.strokeColorSpace=w.ColorSpace.singletons.rgb,t=w.ColorSpace.singletons.rgb.getRgb(t,0);break;case n.OPS.setFillColorN:if(E=x.state.fillColorSpace,"Pattern"===E.name)return void C(l.handleColorN(i,n.OPS.setFillColorN,t,E,b,r,e,p,f,g));t=E.getRgb(t,0),s=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColorN:if(E=x.state.strokeColorSpace,"Pattern"===E.name)return void C(l.handleColorN(i,n.OPS.setStrokeColorN,t,E,b,r,e,p,f,g));t=E.getRgb(t,0),s=n.OPS.setStrokeRGBColor;break;case n.OPS.shadingFill:var U=r.get("Shading");if(!U)throw new n.FormatError("No shading resource found");var $=U.get(t[0].name);if(!$)throw new n.FormatError("No shading object found");t=[l.parseShading({shading:$,resources:r,localColorSpaceCache:p,localShadingPatternCache:g})],s=n.OPS.shadingFill;break;case n.OPS.setGState:if(D=t[0]instanceof o.Name,I=t[0].name,D){const e=d.getByName(I);if(e){e.length>0&&i.addOp(n.OPS.setGState,[e]),t=null;continue}}return void C(new Promise((function(t,s){if(!D)throw new n.FormatError("GState must be referred to by name.");const a=r.get("ExtGState");if(!(a instanceof o.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const c=a.get(I);if(!(c instanceof o.Dict))throw new n.FormatError("GState should be a dictionary.");l.setGState({resources:r,gState:c,operatorList:i,cacheKey:I,task:e,stateManager:x,localGStateCache:d,localColorSpaceCache:p}).then(t,s)})).catch((function(t){if(!(t instanceof n.AbortException)){if(l.options.ignoreErrors)return l.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorExtGState}),void(0,n.warn)(`getOperatorList - ignoring ExtGState: "${t}".`);throw t}})));case n.OPS.moveTo:case n.OPS.lineTo:case n.OPS.curveTo:case n.OPS.curveTo2:case n.OPS.curveTo3:case n.OPS.closePath:case n.OPS.rectangle:l.buildPath(i,s,t,h);continue;case n.OPS.markPoint:case n.OPS.markPointProps:case n.OPS.beginCompat:case n.OPS.endCompat:continue;case n.OPS.beginMarkedContentProps:if(!(t[0]instanceof o.Name)){(0,n.warn)(`Expected name for beginMarkedContentProps arg0=${t[0]}`);continue}if("OC"===t[0].name)return void C(l.parseMarkedContentProps(t[1],r).then((t=>{i.addOp(n.OPS.beginMarkedContentProps,["OC",t])})).catch((t=>{if(!(t instanceof n.AbortException)){if(l.options.ignoreErrors)return l.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorMarkedContent}),void(0,n.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${t}".`);throw t}})));t=[t[0].name,t[1]instanceof o.Dict?t[1].get("MCID"):null];break;case n.OPS.beginMarkedContent:case n.OPS.endMarkedContent:default:if(null!==t){for(O=0,M=t.length;O<M&&!(t[O]instanceof o.Dict);O++);if(O<M){(0,n.warn)("getOperatorList - ignoring operator: "+s);continue}}}i.addOp(s,t)}T?C(P):(A(),s())})).catch((t=>{if(!(t instanceof n.AbortException)){if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorOperatorList}),(0,n.warn)(`getOperatorList - ignoring errors during "${e.name}" task: "${t}".`),void A();throw t}}))}getTextContent({stream:t,task:e,resources:r,stateManager:i=null,combineTextItems:s=!1,includeMarkedContent:a=!1,sink:l,seenStyles:c=new Set,viewBox:u}){r=r||o.Dict.empty,i=i||new N(new B);const p=(0,h.getNormalizedUnicodes)(),d={items:[],styles:Object.create(null)},f={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},g=[" "," "];let y=0;function w(t){const e=(y+1)%2,r=" "!==g[y]&&" "===g[e];return g[y]=t,y=e,r}function x(){g[0]=g[1]=" ",y=0}const S=this,k=this.xref,A=[];let C=null;const _=new m.LocalImageCache,T=new m.LocalGStateCache,O=new z(t,k,i);let M;function E(){const t=M.font,e=[M.fontSize*M.textHScale,0,0,M.fontSize,0,M.textRise];if(t.isType3Font&&(M.fontSize<=1||t.isCharBBox)&&!(0,n.isArrayEqual)(M.fontMatrix,n.FONT_IDENTITY_MATRIX)){const r=t.bbox[3]-t.bbox[1];r>0&&(e[3]*=r*M.fontMatrix[3])}return n.Util.transform(M.ctm,n.Util.transform(M.textMatrix,e))}function I(){if(f.initialized)return f;const t=M.font,e=t.loadedName;c.has(e)||(c.add(e),d.styles[e]={fontFamily:t.fallbackName,ascent:t.ascent,descent:t.descent,vertical:t.vertical}),f.fontName=e;const r=f.transform=E();t.vertical?(f.width=f.totalWidth=Math.hypot(r[0],r[1]),f.height=f.totalHeight=0,f.vertical=!0):(f.width=f.totalWidth=0,f.height=f.totalHeight=Math.hypot(r[2],r[3]),f.vertical=!1);const n=Math.hypot(M.textLineMatrix[0],M.textLineMatrix[1]),i=Math.hypot(M.ctm[0],M.ctm[1]);return f.textAdvanceScale=i*n,f.trackingSpaceMin=.1*M.fontSize,f.notASpace=.03*M.fontSize,f.negativeSpaceMax=-.2*M.fontSize,f.spaceInFlowMin=.1*M.fontSize,f.spaceInFlowMax=.6*M.fontSize,f.hasEOL=!1,f.initialized=!0,f}function F(){if(!f.initialized)return;const t=Math.hypot(M.textLineMatrix[0],M.textLineMatrix[1]),e=Math.hypot(M.ctm[0],M.ctm[1])*t;e!==f.textAdvanceScale&&(f.vertical?(f.totalHeight+=f.height*f.textAdvanceScale,f.height=0):(f.totalWidth+=f.width*f.textAdvanceScale,f.width=0),f.textAdvanceScale=e)}function R(t,i){return S.loadFont(t,i,r).then((function(t){return t.font.isType3Font?t.loadType3Data(S,r,e).catch((function(){})).then((function(){return t})):t})).then((function(t){M.font=t.font,M.fontMatrix=t.font.fontMatrix||n.FONT_IDENTITY_MATRIX}))}function L(t,e,r){const n=Math.hypot(r[0],r[1]);return[(r[0]*t+r[1]*e)/n,(r[2]*t+r[3]*e)/n]}function j(){const t=E();let e=t[4],r=t[5];const n=e-u[0],i=r-u[1];if(n<0||n>u[2]||i<0||i>u[3])return!1;if(!s||!M.font||!f.prevTransform)return!0;let o=f.prevTransform[4],a=f.prevTransform[5];if(o===e&&a===r)return!0;let l=-1;switch(t[0]&&0===t[1]&&0===t[2]?l=t[0]>0?0:180:t[1]&&0===t[0]&&0===t[3]&&(l=t[1]>0?90:270),l){case 0:break;case 90:[e,r]=[r,e],[o,a]=[a,o];break;case 180:[e,r,o,a]=[-e,-r,-o,-a];break;case 270:[e,r]=[-r,-e],[o,a]=[-a,-o];break;default:[e,r]=L(e,r,t),[o,a]=L(o,a,f.prevTransform)}if(M.font.vertical){const t=(a-r)/f.textAdvanceScale,n=e-o,i=Math.sign(f.height);return t<i*f.negativeSpaceMax?Math.abs(n)>.5*f.width?($(),!0):(x(),V(),!0):Math.abs(n)>f.width?($(),!0):(t<=i*f.notASpace&&x(),t<=i*f.trackingSpaceMin?f.height+=t:H(t,f.prevTransform,i)||(0===f.str.length?(x(),d.items.push({str:" ",dir:"ltr",width:0,height:Math.abs(t),transform:f.prevTransform,fontName:f.fontName,hasEOL:!1})):f.height+=t),!0)}const c=(e-o)/f.textAdvanceScale,h=r-a,p=Math.sign(f.width);return c<p*f.negativeSpaceMax?Math.abs(h)>.5*f.height?($(),!0):(x(),V(),!0):Math.abs(h)>f.height?($(),!0):(c<=p*f.notASpace&&x(),c<=p*f.trackingSpaceMin?f.width+=c:H(c,f.prevTransform,p)||(0===f.str.length?(x(),d.items.push({str:" ",dir:"ltr",width:Math.abs(c),height:0,transform:f.prevTransform,fontName:f.fontName,hasEOL:!1})):f.width+=c),!0)}function U({chars:t,extraSpacing:e}){const r=M.font;if(!t){const t=M.charSpacing+e;return void(t&&(r.vertical?M.translateTextMatrix(0,-t):M.translateTextMatrix(t*M.textHScale,0)))}const n=r.charsToGlyphs(t),i=M.fontMatrix[0]*M.fontSize;for(let t=0,o=n.length;t<o;t++){const s=n[t];if(s.isInvisibleFormatMark)continue;let a=M.charSpacing+(t+1===o?e:0),l=s.width;r.vertical&&(l=s.vmetric?s.vmetric[0]:-l);let c=l*i;if(s.isWhitespace){r.vertical?(a+=-c+M.wordSpacing,M.translateTextMatrix(0,-a)):(a+=c+M.wordSpacing,M.translateTextMatrix(a*M.textHScale,0)),w(" ");continue}if(!j())continue;const u=I();s.isZeroWidthDiacritic&&(c=0),r.vertical?(M.translateTextMatrix(0,c),c=Math.abs(c),u.height+=c):(c*=M.textHScale,M.translateTextMatrix(c,0),u.width+=c),c&&(u.prevTransform=E());let d=s.unicode;d=p[d]||d,d=(0,h.reverseIfRtl)(d),w(d)&&u.str.push(" "),u.str.push(d),a&&(r.vertical?M.translateTextMatrix(0,-a):M.translateTextMatrix(a*M.textHScale,0))}}function $(){x(),f.initialized?(f.hasEOL=!0,V()):d.items.push({str:"",dir:"ltr",width:0,height:0,transform:E(),fontName:M.font.loadedName,hasEOL:!0})}function H(t,e,r){if(r*f.spaceInFlowMin<=t&&t<=r*f.spaceInFlowMax)return f.initialized&&(x(),f.str.push(" ")),!1;const n=f.fontName;let i=0;return f.vertical&&(i=t,t=0),V(),x(),d.items.push({str:" ",dir:"ltr",width:Math.abs(t),height:Math.abs(i),transform:e||E(),fontName:n,hasEOL:!1}),!0}function V(){f.initialized&&f.str&&(f.vertical?f.totalHeight+=f.height*f.textAdvanceScale:f.totalWidth+=f.width*f.textAdvanceScale,d.items.push(function(t){const e=t.str.join(""),r=(0,b.bidi)(e,-1,t.vertical);return{str:r.str,dir:r.dir,width:Math.abs(t.totalWidth),height:Math.abs(t.totalHeight),transform:t.transform,fontName:t.fontName,hasEOL:t.hasEOL}}(f)),f.initialized=!1,f.str.length=0)}function q(t=!1){const e=d.items.length;0!==e&&(t&&e<10||(l.enqueue(d,e),d.items=[],d.styles=Object.create(null)))}const W=new D;return new Promise((function t(h,p){const f=function(e){q(!0),Promise.all([e,l.ready]).then((function(){try{t(h,p)}catch(t){p(t)}}),p)};e.ensureNotTerminated(),W.reset();const g={};let m,y=[];for(;!(m=W.check())&&(y.length=0,g.args=y,O.read(g));){M=i.state;const t=g.fn;switch(y=g.args,0|t){case n.OPS.setFont:var b=y[0].name,w=y[1];if(M.font&&b===M.fontName&&w===M.fontSize)break;return V(),M.fontName=b,M.fontSize=w,void f(R(b,null));case n.OPS.setTextRise:M.textRise=y[0];break;case n.OPS.setHScale:M.textHScale=y[0]/100;break;case n.OPS.setLeading:M.leading=y[0];break;case n.OPS.moveText:M.translateTextLineMatrix(y[0],y[1]),M.textMatrix=M.textLineMatrix.slice();break;case n.OPS.setLeadingMoveText:M.leading=-y[1],M.translateTextLineMatrix(y[0],y[1]),M.textMatrix=M.textLineMatrix.slice();break;case n.OPS.nextLine:M.carriageReturn();break;case n.OPS.setTextMatrix:M.setTextMatrix(y[0],y[1],y[2],y[3],y[4],y[5]),M.setTextLineMatrix(y[0],y[1],y[2],y[3],y[4],y[5]),F();break;case n.OPS.setCharSpacing:M.charSpacing=y[0];break;case n.OPS.setWordSpacing:M.wordSpacing=y[0];break;case n.OPS.beginText:M.textMatrix=n.IDENTITY_MATRIX.slice(),M.textLineMatrix=n.IDENTITY_MATRIX.slice();break;case n.OPS.showSpacedText:if(!i.state.font){S.ensureStateFont(i.state);continue}const t=(M.font.vertical?1:-1)*M.fontSize/1e3,h=y[0];for(let e=0,r=h.length;e<r-1;e++){const r=h[e];if("string"==typeof r)A.push(r);else if("number"==typeof r&&0!==r){const e=A.join("");A.length=0,U({chars:e,extraSpacing:r*t})}}const p=h[h.length-1];if("string"==typeof p&&A.push(p),A.length>0){const t=A.join("");A.length=0,U({chars:t,extraSpacing:0})}break;case n.OPS.showText:if(!i.state.font){S.ensureStateFont(i.state);continue}U({chars:y[0],extraSpacing:0});break;case n.OPS.nextLineShowText:if(!i.state.font){S.ensureStateFont(i.state);continue}M.carriageReturn(),U({chars:y[0],extraSpacing:0});break;case n.OPS.nextLineSetSpacingShowText:if(!i.state.font){S.ensureStateFont(i.state);continue}M.wordSpacing=y[0],M.charSpacing=y[1],M.carriageReturn(),U({chars:y[2],extraSpacing:0});break;case n.OPS.paintXObject:V(),C||(C=r.get("XObject")||o.Dict.empty);var x=y[0]instanceof o.Name,E=y[0].name;if(x&&_.getByName(E))break;return void f(new Promise((function(t,h){if(!x)throw new n.FormatError("XObject must be referred to by name.");let p=C.getRaw(E);if(p instanceof o.Ref){if(_.getByRef(p))return void t();if(S.globalImageCache.getData(p,S.pageIndex))return void t();p=k.fetch(p)}if(!(p instanceof v.BaseStream))throw new n.FormatError("XObject should be a stream");const d=p.dict.get("Subtype");if(!(d instanceof o.Name))throw new n.FormatError("XObject should have a Name subtype");if("Form"!==d.name)return _.set(E,p.dict.objId,!0),void t();const f=i.state.clone(),g=new N(f),m=p.dict.getArray("Matrix");Array.isArray(m)&&6===m.length&&g.transform(m),q();const y={enqueueInvoked:!1,enqueue(t,e){this.enqueueInvoked=!0,l.enqueue(t,e)},get desiredSize(){return l.desiredSize},get ready(){return l.ready}};S.getTextContent({stream:p,task:e,resources:p.dict.get("Resources")||r,stateManager:g,combineTextItems:s,includeMarkedContent:a,sink:y,seenStyles:c,viewBox:u}).then((function(){y.enqueueInvoked||_.set(E,p.dict.objId,!0),t()}),h)})).catch((function(t){if(!(t instanceof n.AbortException)){if(!S.options.ignoreErrors)throw t;(0,n.warn)(`getTextContent - ignoring XObject: "${t}".`)}})));case n.OPS.setGState:if(x=y[0]instanceof o.Name,E=y[0].name,x&&T.getByName(E))break;return void f(new Promise((function(t,e){if(!x)throw new n.FormatError("GState must be referred to by name.");const i=r.get("ExtGState");if(!(i instanceof o.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const s=i.get(E);if(!(s instanceof o.Dict))throw new n.FormatError("GState should be a dictionary.");const a=s.get("Font");if(!a)return T.set(E,s.objId,!0),void t();V(),M.fontName=null,M.fontSize=a[1],R(null,a[0]).then(t,e)})).catch((function(t){if(!(t instanceof n.AbortException)){if(!S.options.ignoreErrors)throw t;(0,n.warn)(`getTextContent - ignoring ExtGState: "${t}".`)}})));case n.OPS.beginMarkedContent:a&&d.items.push({type:"beginMarkedContent",tag:y[0]instanceof o.Name?y[0].name:null});break;case n.OPS.beginMarkedContentProps:if(a){V();let t=null;y[1]instanceof o.Dict&&(t=y[1].get("MCID")),d.items.push({type:"beginMarkedContentProps",id:Number.isInteger(t)?`${S.idFactory.getPageObjId()}_mcid${t}`:null,tag:y[0]instanceof o.Name?y[0].name:null})}break;case n.OPS.endMarkedContent:a&&(V(),d.items.push({type:"endMarkedContent"}))}if(d.items.length>=l.desiredSize){m=!0;break}}m?f(P):(V(),q(),h())})).catch((t=>{if(!(t instanceof n.AbortException)){if(this.options.ignoreErrors)return(0,n.warn)(`getTextContent - ignoring errors during "${e.name}" task: "${t}".`),V(),void q();throw t}}))}extractDataStructures(t,e,r){const i=this.xref;let s;const c=this.readToUnicode(r.toUnicode||t.get("ToUnicode")||e.get("ToUnicode"));if(r.composite){const e=t.get("CIDSystemInfo");e instanceof o.Dict&&(r.cidSystemInfo={registry:(0,n.stringToPDFString)(e.get("Registry")),ordering:(0,n.stringToPDFString)(e.get("Ordering")),supplement:e.get("Supplement")});const i=t.get("CIDToGIDMap");i instanceof v.BaseStream&&(s=i.getBytes())}const h=[];let u,p=null;if(t.has("Encoding")){if(u=t.get("Encoding"),u instanceof o.Dict){if(p=u.get("BaseEncoding"),p=p instanceof o.Name?p.name:null,u.has("Differences")){const t=u.get("Differences");let e=0;for(let r=0,s=t.length;r<s;r++){const s=i.fetchIfRef(t[r]);if("number"==typeof s)e=s;else{if(!(s instanceof o.Name))throw new n.FormatError(`Invalid entry in 'Differences' array: ${s}`);h[e++]=s.name}}}}else if(u instanceof o.Name)p=u.name;else{const t="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new n.FormatError(t);(0,n.warn)(t)}"MacRomanEncoding"!==p&&"MacExpertEncoding"!==p&&"WinAnsiEncoding"!==p&&(p=null)}if(p)r.defaultEncoding=(0,l.getEncoding)(p);else{const t=!!(r.flags&a.FontFlags.Symbolic),e=!!(r.flags&a.FontFlags.Nonsymbolic);u=l.StandardEncoding,"TrueType"!==r.type||e||(u=l.WinAnsiEncoding),t&&(u=l.MacRomanEncoding,r.file&&!r.isInternalFont||(/Symbol/i.test(r.name)?u=l.SymbolSetEncoding:/Dingbats|Wingdings/i.test(r.name)&&(u=l.ZapfDingbatsEncoding))),r.defaultEncoding=u}return r.differences=h,r.baseEncodingName=p,r.hasEncoding=!!p||h.length>0,r.dict=t,c.then((t=>(r.toUnicode=t,this.buildToUnicode(r)))).then((t=>(r.toUnicode=t,s&&(r.cidToGidMap=this.readCidToGidMap(s,t)),r)))}_simpleFontToUnicode(t,e=!1){(0,n.assert)(!t.composite,"Must be a simple font.");const r=[],i=t.defaultEncoding.slice(),o=t.baseEncodingName,s=t.differences;for(const t in s){const e=s[t];".notdef"!==e&&(i[t]=e)}const a=(0,S.getGlyphsUnicode)();for(const n in i){let s=i[n];if(""!==s)if(void 0!==a[s])r[n]=String.fromCharCode(a[s]);else{let i=0;switch(s[0]){case"G":3===s.length&&(i=parseInt(s.substring(1),16));break;case"g":5===s.length&&(i=parseInt(s.substring(1),16));break;case"C":case"c":if(s.length>=3&&s.length<=4){const r=s.substring(1);if(e){i=parseInt(r,16);break}if(i=+r,Number.isNaN(i)&&Number.isInteger(parseInt(r,16)))return this._simpleFontToUnicode(t,!0)}break;default:const r=(0,h.getUnicodeForGlyph)(s,a);-1!==r&&(i=r)}if(i>0&&i<=1114111&&Number.isInteger(i)){if(o&&i===+n){const t=(0,l.getEncoding)(o);if(t&&(s=t[n])){r[n]=String.fromCharCode(a[s]);continue}}r[n]=String.fromCodePoint(i)}}}return r}async buildToUnicode(t){if(t.hasIncludedToUnicodeMap=!!t.toUnicode&&t.toUnicode.length>0,t.hasIncludedToUnicodeMap)return!t.composite&&t.hasEncoding&&(t.fallbackToUnicode=this._simpleFontToUnicode(t)),t.toUnicode;if(!t.composite)return new d.ToUnicodeMap(this._simpleFontToUnicode(t));if(t.composite&&(t.cMap.builtInCMap&&!(t.cMap instanceof i.IdentityCMap)||"Adobe"===t.cidSystemInfo.registry&&("GB1"===t.cidSystemInfo.ordering||"CNS1"===t.cidSystemInfo.ordering||"Japan1"===t.cidSystemInfo.ordering||"Korea1"===t.cidSystemInfo.ordering))){const{registry:e,ordering:r}=t.cidSystemInfo,s=o.Name.get(`${e}-${r}-UCS2`),a=await i.CMapFactory.create({encoding:s,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),l=[];return t.cMap.forEach((function(t,e){if(e>65535)throw new n.FormatError("Max size of CID is 65,535");const r=a.lookup(e);r&&(l[t]=String.fromCharCode((r.charCodeAt(0)<<8)+r.charCodeAt(1)))})),new d.ToUnicodeMap(l)}return new d.IdentityToUnicodeMap(t.firstChar,t.lastChar)}readToUnicode(t){return t?t instanceof o.Name?i.CMapFactory.create({encoding:t,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then((function(t){return t instanceof i.IdentityCMap?new d.IdentityToUnicodeMap(0,65535):new d.ToUnicodeMap(t.getMap())})):t instanceof v.BaseStream?i.CMapFactory.create({encoding:t,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then((function(t){if(t instanceof i.IdentityCMap)return new d.IdentityToUnicodeMap(0,65535);const e=new Array(t.length);return t.forEach((function(t,r){if("number"==typeof r)return void(e[t]=String.fromCodePoint(r));const n=[];for(let t=0;t<r.length;t+=2){const e=r.charCodeAt(t)<<8|r.charCodeAt(t+1);if(55296!=(63488&e)){n.push(e);continue}t+=2;const i=r.charCodeAt(t)<<8|r.charCodeAt(t+1);n.push(((1023&e)<<10)+(1023&i)+65536)}e[t]=String.fromCodePoint.apply(String,n)})),new d.ToUnicodeMap(e)}),(t=>{if(t instanceof n.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,n.warn)(`readToUnicode - ignoring ToUnicode data: "${t}".`),null;throw t})):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(t,e){const r=[];for(let n=0,i=t.length;n<i;n++){const i=t[n++]<<8|t[n],o=n>>1;(0!==i||e.has(o))&&(r[o]=i)}return r}extractWidths(t,e,r){const n=this.xref;let i=[],s=0;const l=[];let c,h,u,p,d,f,g,m;if(r.composite){if(s=t.has("DW")?t.get("DW"):1e3,m=t.get("W"),m)for(h=0,u=m.length;h<u;h++)if(f=n.fetchIfRef(m[h++]),g=n.fetchIfRef(m[h]),Array.isArray(g))for(p=0,d=g.length;p<d;p++)i[f++]=n.fetchIfRef(g[p]);else{const t=n.fetchIfRef(m[++h]);for(p=f;p<=g;p++)i[p]=t}if(r.vertical){let e=t.getArray("DW2")||[880,-1e3];if(c=[e[1],.5*s,e[0]],e=t.get("W2"),e)for(h=0,u=e.length;h<u;h++)if(f=n.fetchIfRef(e[h++]),g=n.fetchIfRef(e[h]),Array.isArray(g))for(p=0,d=g.length;p<d;p++)l[f++]=[n.fetchIfRef(g[p++]),n.fetchIfRef(g[p++]),n.fetchIfRef(g[p])];else{const t=[n.fetchIfRef(e[++h]),n.fetchIfRef(e[++h]),n.fetchIfRef(e[++h])];for(p=f;p<=g;p++)l[p]=t}}}else{const a=r.firstChar;if(m=t.get("Widths"),m){for(p=a,h=0,u=m.length;h<u;h++)i[p++]=n.fetchIfRef(m[h]);s=parseFloat(e.get("MissingWidth"))||0}else{const e=t.get("BaseFont");if(e instanceof o.Name){const t=this.getBaseFontMetrics(e.name);i=this.buildCharCodeToWidth(t.widths,r),s=t.defaultWidth}}}let y=!0,v=s;for(const t in i){const e=i[t];if(e)if(v){if(v!==e){y=!1;break}}else v=e}y&&(r.flags|=a.FontFlags.FixedPitch),r.defaultWidth=s,r.widths=i,r.defaultVMetrics=c,r.vmetrics=l}isSerifFont(t){const e=t.split("-")[0];return e in(0,c.getSerifFonts)()||-1!==e.search(/serif/gi)}getBaseFontMetrics(t){let e=0,r=Object.create(null),n=!1,i=(0,c.getStdFontMap)()[t]||t;const o=(0,A.getMetrics)();i in o||(i=this.isSerifFont(t)?"Times-Roman":"Helvetica");const s=o[i];return"number"==typeof s?(e=s,n=!0):r=s(),{defaultWidth:e,monospace:n,widths:r}}buildCharCodeToWidth(t,e){const r=Object.create(null),n=e.differences,i=e.defaultEncoding;for(let e=0;e<256;e++)e in n&&t[n[e]]?r[e]=t[n[e]]:e in i&&t[i[e]]&&(r[e]=t[i[e]]);return r}preEvaluateFont(t){const e=t;let r=t.get("Subtype");if(!(r instanceof o.Name))throw new n.FormatError("invalid font Subtype");let i,s,a=!1;if("Type0"===r.name){const e=t.get("DescendantFonts");if(!e)throw new n.FormatError("Descendant fonts are not specified");if(!((t=Array.isArray(e)?this.xref.fetchIfRef(e[0]):e)instanceof o.Dict))throw new n.FormatError("Descendant font is not a dictionary.");if(r=t.get("Subtype"),!(r instanceof o.Name))throw new n.FormatError("invalid font Subtype");a=!0}const l=t.get("FirstChar")||0,c=t.get("LastChar")||(a?65535:255),h=t.get("FontDescriptor");if(h){i=new C.MurmurHash3_64;const r=e.getRaw("Encoding");if(r instanceof o.Name)i.update(r.name);else if(r instanceof o.Ref)i.update(r.toString());else if(r instanceof o.Dict)for(const t of r.getRawValues())if(t instanceof o.Name)i.update(t.name);else if(t instanceof o.Ref)i.update(t.toString());else if(Array.isArray(t)){const e=t.length,r=new Array(e);for(let n=0;n<e;n++){const e=t[n];e instanceof o.Name?r[n]=e.name:("number"==typeof e||e instanceof o.Ref)&&(r[n]=e.toString())}i.update(r.join())}if(i.update(`${l}-${c}`),s=t.get("ToUnicode")||e.get("ToUnicode"),s instanceof v.BaseStream){const t=s.str||s,e=t.buffer?new Uint8Array(t.buffer.buffer,0,t.bufferLength):new Uint8Array(t.bytes.buffer,t.start,t.end-t.start);i.update(e)}else s instanceof o.Name&&i.update(s.name);const n=t.get("Widths")||e.get("Widths");if(Array.isArray(n)){const t=[];for(const e of n)("number"==typeof e||e instanceof o.Ref)&&t.push(e.toString());i.update(t.join())}if(a){i.update("compositeFont");const r=t.get("W")||e.get("W");if(Array.isArray(r)){const t=[];for(const e of r)if("number"==typeof e||e instanceof o.Ref)t.push(e.toString());else if(Array.isArray(e)){const r=[];for(const t of e)("number"==typeof t||t instanceof o.Ref)&&r.push(t.toString());t.push(`[${r.join()}]`)}i.update(t.join())}const n=t.getRaw("CIDToGIDMap")||e.getRaw("CIDToGIDMap");n instanceof o.Name?i.update(n.name):n instanceof o.Ref?i.update(n.toString()):n instanceof v.BaseStream&&i.update(n.peekBytes())}}return{descriptor:h,dict:t,baseDict:e,composite:a,type:r.name,firstChar:l,lastChar:c,toUnicode:s,hash:i?i.hexdigest():""}}async translateFont({descriptor:t,dict:e,baseDict:r,composite:l,type:h,firstChar:u,lastChar:d,toUnicode:f,cssFontInfo:g}){const m="Type3"===h;let v;if(!t){if(!m){let t=e.get("BaseFont");if(!(t instanceof o.Name))throw new n.FormatError("Base font is not specified");t=t.name.replace(/[,_]/g,"-");const i=this.getBaseFontMetrics(t),l=t.split("-")[0],p=(this.isSerifFont(l)?a.FontFlags.Serif:0)|(i.monospace?a.FontFlags.FixedPitch:0)|((0,c.getSymbolsFonts)()[l]?a.FontFlags.Symbolic:a.FontFlags.Nonsymbolic);v={type:h,name:t,loadedName:r.loadedName,widths:i.widths,defaultWidth:i.defaultWidth,isSimulatedFlags:!0,flags:p,firstChar:u,lastChar:d,toUnicode:f,xHeight:0,capHeight:0,italicAngle:0,isType3Font:m};const g=e.get("Widths"),y=(0,c.getStandardFontName)(t);let b=null;return y&&(v.isStandardFont=!0,b=await this.fetchStandardFontData(y),v.isInternalFont=!!b),this.extractDataStructures(e,e,v).then((e=>{if(g){const t=[];let r=u;for(let e=0,n=g.length;e<n;e++)t[r++]=this.xref.fetchIfRef(g[e]);e.widths=t}else e.widths=this.buildCharCodeToWidth(i.widths,e);return new s.Font(t,b,e)}))}(t=new o.Dict(null)).set("FontName",o.Name.get(h)),t.set("FontBBox",e.getArray("FontBBox")||[0,0,0,0])}let b,w,x,S,k,A=t.get("FontName"),C=e.get("BaseFont");if("string"==typeof A&&(A=o.Name.get(A)),"string"==typeof C&&(C=o.Name.get(C)),!m){const t=A&&A.name,e=C&&C.name;t!==e&&((0,n.info)(`The FontDescriptor's FontName is "${t}" but should be the same as the Font's BaseFont "${e}".`),t&&e&&e.startsWith(t)&&(A=C))}if(A=A||C,!(A instanceof o.Name))throw new n.FormatError("invalid font name");try{b=t.get("FontFile","FontFile2","FontFile3")}catch(t){if(!this.options.ignoreErrors)throw t;(0,n.warn)(`translateFont - fetching "${A.name}" font file: "${t}".`),b=new y.NullStream}let _=!1,T=!1,O=null;if(b){if(b.dict){const t=b.dict.get("Subtype");t instanceof o.Name&&(w=t.name),x=b.dict.get("Length1"),S=b.dict.get("Length2"),k=b.dict.get("Length3")}}else if(g){const t=(0,p.getXfaFontName)(A.name);t&&(g.fontFamily=`${g.fontFamily}-PdfJS-XFA`,g.metrics=t.metrics||null,O=t.factors||null,b=await this.fetchStandardFontData(t.name),T=!!b,r=e=(0,p.getXfaFontDict)(A.name),l=!0)}else if(!m){const t=(0,c.getStandardFontName)(A.name);t&&(_=!0,b=await this.fetchStandardFontData(t),T=!!b)}if(v={type:h,name:A.name,subtype:w,file:b,length1:x,length2:S,length3:k,isStandardFont:_,isInternalFont:T,loadedName:r.loadedName,composite:l,fixedPitch:!1,fontMatrix:e.getArray("FontMatrix")||n.FONT_IDENTITY_MATRIX,firstChar:u,lastChar:d,toUnicode:f,bbox:t.getArray("FontBBox")||e.getArray("FontBBox"),ascent:t.get("Ascent"),descent:t.get("Descent"),xHeight:t.get("XHeight")||0,capHeight:t.get("CapHeight")||0,flags:t.get("Flags"),italicAngle:t.get("ItalicAngle")||0,isType3Font:m,cssFontInfo:g,scaleFactors:O},l){const t=r.get("Encoding");t instanceof o.Name&&(v.cidEncoding=t.name);const e=await i.CMapFactory.create({encoding:t,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});v.cMap=e,v.vertical=v.cMap.vertical}return this.extractDataStructures(e,r,v).then((r=>(this.extractWidths(e,t,r),new s.Font(A.name,b,r))))}static buildFontPaths(t,e,r,i){function o(e){const o=`${t.loadedName}_path_${e}`;try{if(t.renderer.hasBuiltPath(e))return;r.send("commonobj",[o,"FontPath",t.renderer.getPathJs(e)])}catch(t){if(i.ignoreErrors)return r.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorFontBuildPath}),void(0,n.warn)(`buildFontPaths - ignoring ${o} glyph: "${t}".`);throw t}}for(const t of e){o(t.fontChar);const e=t.accent;e&&e.fontChar&&o(e.fontChar)}}static get fallbackFontDict(){const t=new o.Dict;return t.set("BaseFont",o.Name.get("PDFJS-FallbackFont")),t.set("Type",o.Name.get("FallbackType")),t.set("Subtype",o.Name.get("FallbackType")),t.set("Encoding",o.Name.get("WinAnsiEncoding")),(0,n.shadow)(this,"fallbackFontDict",t)}}e.PartialEvaluator=R;class L{constructor({loadedName:t,font:e,dict:r,evaluatorOptions:n}){this.loadedName=t,this.font=e,this.dict=r,this._evaluatorOptions=n||O,this.type3Loaded=null,this.type3Dependencies=e.isType3Font?new Set:null,this.sent=!1}send(t){this.sent||(this.sent=!0,t.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(t){this.font.data&&(this.font.disableFontFace=!0,R.buildFontPaths(this.font,this.font.glyphCacheValues,t,this._evaluatorOptions))}loadType3Data(t,e,r){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const i=t.clone({ignoreErrors:!1});i.parsingType3Font=!0;const s=new o.RefSet(t.type3FontRefs);this.dict.objId&&!s.has(this.dict.objId)&&s.put(this.dict.objId),i.type3FontRefs=s;const a=this.font,l=this.type3Dependencies;let c=Promise.resolve();const h=this.dict.get("CharProcs"),u=this.dict.get("Resources")||e,p=Object.create(null),d=!a.bbox||(0,n.isArrayEqual)(a.bbox,[0,0,0,0]);for(const t of h.getKeys())c=c.then((()=>{const e=h.get(t),o=new _.OperatorList;return i.getOperatorList({stream:e,task:r,resources:u,operatorList:o}).then((()=>{o.fnArray[0]===n.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(o,d),p[t]=o.getIR();for(const t of o.dependencies)l.add(t)})).catch((function(e){(0,n.warn)(`Type3 font resource "${t}" is not available.`);const r=new _.OperatorList;p[t]=r.getIR()}))}));return this.type3Loaded=c.then((()=>{a.charProcOperatorList=p,this._bbox&&(a.isCharBBox=!0,a.bbox=this._bbox)})),this.type3Loaded}_removeType3ColorOperators(t,e=!1){if(e){this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]);const e=n.Util.normalizeRect(t.argsArray[0].slice(2));this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[2]),this._bbox[3]=Math.max(this._bbox[3],e[3])}let r=1,i=t.length;for(;r<i;){switch(t.fnArray[r]){case n.OPS.setStrokeColorSpace:case n.OPS.setFillColorSpace:case n.OPS.setStrokeColor:case n.OPS.setStrokeColorN:case n.OPS.setFillColor:case n.OPS.setFillColorN:case n.OPS.setStrokeGray:case n.OPS.setFillGray:case n.OPS.setStrokeRGBColor:case n.OPS.setFillRGBColor:case n.OPS.setStrokeCMYKColor:case n.OPS.setFillCMYKColor:case n.OPS.shadingFill:case n.OPS.setRenderingIntent:t.fnArray.splice(r,1),t.argsArray.splice(r,1),i--;continue;case n.OPS.setGState:const[e]=t.argsArray[r];let o=0,s=e.length;for(;o<s;){const[t]=e[o];switch(t){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":e.splice(o,1),s--;continue}o++}}r++}}}class N{constructor(t=new j){this.state=t,this.stateStack=[]}save(){const t=this.state;this.stateStack.push(this.state),this.state=t.clone()}restore(){const t=this.stateStack.pop();t&&(this.state=t)}transform(t){this.state.ctm=n.Util.transform(this.state.ctm,t)}}class B{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.textMatrix=n.IDENTITY_MATRIX.slice(),this.textLineMatrix=n.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(t,e,r,n,i,o){const s=this.textMatrix;s[0]=t,s[1]=e,s[2]=r,s[3]=n,s[4]=i,s[5]=o}setTextLineMatrix(t,e,r,n,i,o){const s=this.textLineMatrix;s[0]=t,s[1]=e,s[2]=r,s[3]=n,s[4]=i,s[5]=o}translateTextMatrix(t,e){const r=this.textMatrix;r[4]=r[0]*t+r[2]*e+r[4],r[5]=r[1]*t+r[3]*e+r[5]}translateTextLineMatrix(t,e){const r=this.textLineMatrix;r[4]=r[0]*t+r[2]*e+r[4],r[5]=r[1]*t+r[3]*e+r[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const t=Object.create(this);return t.textMatrix=this.textMatrix.slice(),t.textLineMatrix=this.textLineMatrix.slice(),t.fontMatrix=this.fontMatrix.slice(),t}}class j{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=n.TextRenderingMode.FILL,this.fillColorSpace=w.ColorSpace.singletons.gray,this.strokeColorSpace=w.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class z{static get opMap(){const t=(0,k.getLookupTableFactory)((function(t){t.w={id:n.OPS.setLineWidth,numArgs:1,variableArgs:!1},t.J={id:n.OPS.setLineCap,numArgs:1,variableArgs:!1},t.j={id:n.OPS.setLineJoin,numArgs:1,variableArgs:!1},t.M={id:n.OPS.setMiterLimit,numArgs:1,variableArgs:!1},t.d={id:n.OPS.setDash,numArgs:2,variableArgs:!1},t.ri={id:n.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},t.i={id:n.OPS.setFlatness,numArgs:1,variableArgs:!1},t.gs={id:n.OPS.setGState,numArgs:1,variableArgs:!1},t.q={id:n.OPS.save,numArgs:0,variableArgs:!1},t.Q={id:n.OPS.restore,numArgs:0,variableArgs:!1},t.cm={id:n.OPS.transform,numArgs:6,variableArgs:!1},t.m={id:n.OPS.moveTo,numArgs:2,variableArgs:!1},t.l={id:n.OPS.lineTo,numArgs:2,variableArgs:!1},t.c={id:n.OPS.curveTo,numArgs:6,variableArgs:!1},t.v={id:n.OPS.curveTo2,numArgs:4,variableArgs:!1},t.y={id:n.OPS.curveTo3,numArgs:4,variableArgs:!1},t.h={id:n.OPS.closePath,numArgs:0,variableArgs:!1},t.re={id:n.OPS.rectangle,numArgs:4,variableArgs:!1},t.S={id:n.OPS.stroke,numArgs:0,variableArgs:!1},t.s={id:n.OPS.closeStroke,numArgs:0,variableArgs:!1},t.f={id:n.OPS.fill,numArgs:0,variableArgs:!1},t.F={id:n.OPS.fill,numArgs:0,variableArgs:!1},t["f*"]={id:n.OPS.eoFill,numArgs:0,variableArgs:!1},t.B={id:n.OPS.fillStroke,numArgs:0,variableArgs:!1},t["B*"]={id:n.OPS.eoFillStroke,numArgs:0,variableArgs:!1},t.b={id:n.OPS.closeFillStroke,numArgs:0,variableArgs:!1},t["b*"]={id:n.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},t.n={id:n.OPS.endPath,numArgs:0,variableArgs:!1},t.W={id:n.OPS.clip,numArgs:0,variableArgs:!1},t["W*"]={id:n.OPS.eoClip,numArgs:0,variableArgs:!1},t.BT={id:n.OPS.beginText,numArgs:0,variableArgs:!1},t.ET={id:n.OPS.endText,numArgs:0,variableArgs:!1},t.Tc={id:n.OPS.setCharSpacing,numArgs:1,variableArgs:!1},t.Tw={id:n.OPS.setWordSpacing,numArgs:1,variableArgs:!1},t.Tz={id:n.OPS.setHScale,numArgs:1,variableArgs:!1},t.TL={id:n.OPS.setLeading,numArgs:1,variableArgs:!1},t.Tf={id:n.OPS.setFont,numArgs:2,variableArgs:!1},t.Tr={id:n.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},t.Ts={id:n.OPS.setTextRise,numArgs:1,variableArgs:!1},t.Td={id:n.OPS.moveText,numArgs:2,variableArgs:!1},t.TD={id:n.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},t.Tm={id:n.OPS.setTextMatrix,numArgs:6,variableArgs:!1},t["T*"]={id:n.OPS.nextLine,numArgs:0,variableArgs:!1},t.Tj={id:n.OPS.showText,numArgs:1,variableArgs:!1},t.TJ={id:n.OPS.showSpacedText,numArgs:1,variableArgs:!1},t["'"]={id:n.OPS.nextLineShowText,numArgs:1,variableArgs:!1},t['"']={id:n.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},t.d0={id:n.OPS.setCharWidth,numArgs:2,variableArgs:!1},t.d1={id:n.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},t.CS={id:n.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},t.cs={id:n.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},t.SC={id:n.OPS.setStrokeColor,numArgs:4,variableArgs:!0},t.SCN={id:n.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},t.sc={id:n.OPS.setFillColor,numArgs:4,variableArgs:!0},t.scn={id:n.OPS.setFillColorN,numArgs:33,variableArgs:!0},t.G={id:n.OPS.setStrokeGray,numArgs:1,variableArgs:!1},t.g={id:n.OPS.setFillGray,numArgs:1,variableArgs:!1},t.RG={id:n.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},t.rg={id:n.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},t.K={id:n.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},t.k={id:n.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},t.sh={id:n.OPS.shadingFill,numArgs:1,variableArgs:!1},t.BI={id:n.OPS.beginInlineImage,numArgs:0,variableArgs:!1},t.ID={id:n.OPS.beginImageData,numArgs:0,variableArgs:!1},t.EI={id:n.OPS.endInlineImage,numArgs:1,variableArgs:!1},t.Do={id:n.OPS.paintXObject,numArgs:1,variableArgs:!1},t.MP={id:n.OPS.markPoint,numArgs:1,variableArgs:!1},t.DP={id:n.OPS.markPointProps,numArgs:2,variableArgs:!1},t.BMC={id:n.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},t.BDC={id:n.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},t.EMC={id:n.OPS.endMarkedContent,numArgs:0,variableArgs:!1},t.BX={id:n.OPS.beginCompat,numArgs:0,variableArgs:!1},t.EX={id:n.OPS.endCompat,numArgs:0,variableArgs:!1},t.BM=null,t.BD=null,t.true=null,t.fa=null,t.fal=null,t.fals=null,t.false=null,t.nu=null,t.nul=null,t.null=null}));return(0,n.shadow)(this,"opMap",t())}static get MAX_INVALID_PATH_OPS(){return(0,n.shadow)(this,"MAX_INVALID_PATH_OPS",10)}constructor(t,e,r=new N){this.parser=new g.Parser({lexer:new g.Lexer(t,z.opMap),xref:e}),this.stateManager=r,this.nonProcessedArgs=[],this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(t){let e=t.args;for(;;){const r=this.parser.getObj();if(r instanceof o.Cmd){const i=r.cmd,o=z.opMap[i];if(!o){(0,n.warn)(`Unknown command "${i}".`);continue}const s=o.id,a=o.numArgs;let l=null!==e?e.length:0;if(o.variableArgs)l>a&&(0,n.info)(`Command ${i}: expected [0, ${a}] args, but received ${l} args.`);else{if(l!==a){const t=this.nonProcessedArgs;for(;l>a;)t.push(e.shift()),l--;for(;l<a&&0!==t.length;)null===e&&(e=[]),e.unshift(t.pop()),l++}if(l<a){const t=`command ${i}: expected ${a} args, but received ${l} args.`;if(s>=n.OPS.moveTo&&s<=n.OPS.endPath&&++this._numInvalidPathOPS>z.MAX_INVALID_PATH_OPS)throw new n.FormatError(`Invalid ${t}`);(0,n.warn)(`Skipping ${t}`),null!==e&&(e.length=0);continue}}return this.preprocessCommand(s,e),t.fn=s,t.args=e,!0}if(r===o.EOF)return!1;if(null!==r&&(null===e&&(e=[]),e.push(r),e.length>33))throw new n.FormatError("Too many arguments")}}preprocessCommand(t,e){switch(0|t){case n.OPS.save:this.stateManager.save();break;case n.OPS.restore:this.stateManager.restore();break;case n.OPS.transform:this.stateManager.transform(e)}}}e.EvaluatorPreprocessor=z},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IdentityCMap=e.CMapFactory=e.CMap=void 0;var n=r(2),i=r(5),o=r(9),s=r(27),a=r(8),l=r(10);const c=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],h=2**24-1;class u{constructor(t=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=t}addCodespaceRange(t,e,r){this.codespaceRanges[t-1].push(e,r),this.numCodespaceRanges++}mapCidRange(t,e,r){if(e-t>h)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;t<=e;)this._map[t++]=r++}mapBfRange(t,e,r){if(e-t>h)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const n=r.length-1;for(;t<=e;){this._map[t++]=r;const e=r.charCodeAt(n)+1;r=e>255?r.substring(0,n-1)+String.fromCharCode(r.charCodeAt(n-1)+1)+"\0":r.substring(0,n)+String.fromCharCode(e)}}mapBfRangeToArray(t,e,r){if(e-t>h)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const n=r.length;let i=0;for(;t<=e&&i<n;)this._map[t]=r[i++],++t}mapOne(t,e){this._map[t]=e}lookup(t){return this._map[t]}contains(t){return void 0!==this._map[t]}forEach(t){const e=this._map,r=e.length;if(r<=65536)for(let n=0;n<r;n++)void 0!==e[n]&&t(n,e[n]);else for(const r in e)t(r,e[r])}charCodeOf(t){const e=this._map;if(e.length<=65536)return e.indexOf(t);for(const r in e)if(e[r]===t)return 0|r;return-1}getMap(){return this._map}readCharCode(t,e,r){let n=0;const i=this.codespaceRanges;for(let o=0,s=i.length;o<s;o++){n=(n<<8|t.charCodeAt(e+o))>>>0;const s=i[o];for(let t=0,e=s.length;t<e;){const e=s[t++],i=s[t++];if(n>=e&&n<=i)return r.charcode=n,void(r.length=o+1)}}r.charcode=0,r.length=1}getCharCodeLength(t){const e=this.codespaceRanges;for(let r=0,n=e.length;r<n;r++){const n=e[r];for(let e=0,i=n.length;e<i;){const i=n[e++],o=n[e++];if(t>=i&&t<=o)return r+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if("Identity-H"!==this.name&&"Identity-V"!==this.name)return!1;if(65536!==this._map.length)return!1;for(let t=0;t<65536;t++)if(this._map[t]!==t)return!1;return!0}}e.CMap=u;class p extends u{constructor(t,e){super(),this.vertical=t,this.addCodespaceRange(e,0,65535)}mapCidRange(t,e,r){(0,n.unreachable)("should not call mapCidRange")}mapBfRange(t,e,r){(0,n.unreachable)("should not call mapBfRange")}mapBfRangeToArray(t,e,r){(0,n.unreachable)("should not call mapBfRangeToArray")}mapOne(t,e){(0,n.unreachable)("should not call mapCidOne")}lookup(t){return Number.isInteger(t)&&t<=65535?t:void 0}contains(t){return Number.isInteger(t)&&t<=65535}forEach(t){for(let e=0;e<=65535;e++)t(e,e)}charCodeOf(t){return Number.isInteger(t)&&t<=65535?t:-1}getMap(){const t=new Array(65536);for(let e=0;e<=65535;e++)t[e]=e;return t}get length(){return 65536}get isIdentityCMap(){(0,n.unreachable)("should not access .isIdentityCMap")}}e.IdentityCMap=p;const d=function(){function t(t,e){let r=0;for(let n=0;n<=e;n++)r=r<<8|t[n];return r>>>0}function e(t,e){return 1===e?String.fromCharCode(t[0],t[1]):3===e?String.fromCharCode(t[0],t[1],t[2],t[3]):String.fromCharCode.apply(null,t.subarray(0,e+1))}function r(t,e,r){let n=0;for(let i=r;i>=0;i--)n+=t[i]+e[i],t[i]=255&n,n>>=8}function i(t,e){let r=1;for(let n=e;n>=0&&r>0;n--)r+=t[n],t[n]=255&r,r>>=8}const o=16;class s{constructor(t){this.buffer=t,this.pos=0,this.end=t.length,this.tmpBuf=new Uint8Array(19)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let t,e=0;do{const r=this.readByte();if(r<0)throw new n.FormatError("unexpected EOF in bcmap");t=!(128&r),e=e<<7|127&r}while(!t);return e}readSigned(){const t=this.readNumber();return 1&t?~(t>>>1):t>>>1}readHex(t,e){t.set(this.buffer.subarray(this.pos,this.pos+e+1)),this.pos+=e+1}readHexNumber(t,e){let r;const i=this.tmpBuf;let o=0;do{const t=this.readByte();if(t<0)throw new n.FormatError("unexpected EOF in bcmap");r=!(128&t),i[o++]=127&t}while(!r);let s=e,a=0,l=0;for(;s>=0;){for(;l<8&&i.length>0;)a|=i[--o]<<l,l+=7;t[s]=255&a,s--,a>>=8,l-=8}}readHexSigned(t,e){this.readHexNumber(t,e);const r=1&t[e]?255:0;let n=0;for(let i=0;i<=e;i++)n=(1&n)<<8|t[i],t[i]=n>>1^r}readString(){const t=this.readNumber();let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(this.readNumber());return e}}return class{async process(n,a,l){const c=new s(n),h=c.readByte();a.vertical=!!(1&h);let u=null;const p=new Uint8Array(o),d=new Uint8Array(o),f=new Uint8Array(o),g=new Uint8Array(o),m=new Uint8Array(o);let y,v;for(;(v=c.readByte())>=0;){const n=v>>5;if(7===n){switch(31&v){case 0:c.readString();break;case 1:u=c.readString()}continue}const s=!!(16&v),l=15&v;if(l+1>o)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const h=1,b=c.readNumber();switch(n){case 0:c.readHex(p,l),c.readHexNumber(d,l),r(d,p,l),a.addCodespaceRange(l+1,t(p,l),t(d,l));for(let e=1;e<b;e++)i(d,l),c.readHexNumber(p,l),r(p,d,l),c.readHexNumber(d,l),r(d,p,l),a.addCodespaceRange(l+1,t(p,l),t(d,l));break;case 1:c.readHex(p,l),c.readHexNumber(d,l),r(d,p,l),c.readNumber();for(let t=1;t<b;t++)i(d,l),c.readHexNumber(p,l),r(p,d,l),c.readHexNumber(d,l),r(d,p,l),c.readNumber();break;case 2:c.readHex(f,l),y=c.readNumber(),a.mapOne(t(f,l),y);for(let e=1;e<b;e++)i(f,l),s||(c.readHexNumber(m,l),r(f,m,l)),y=c.readSigned()+(y+1),a.mapOne(t(f,l),y);break;case 3:c.readHex(p,l),c.readHexNumber(d,l),r(d,p,l),y=c.readNumber(),a.mapCidRange(t(p,l),t(d,l),y);for(let e=1;e<b;e++)i(d,l),s?p.set(d):(c.readHexNumber(p,l),r(p,d,l)),c.readHexNumber(d,l),r(d,p,l),y=c.readNumber(),a.mapCidRange(t(p,l),t(d,l),y);break;case 4:c.readHex(f,h),c.readHex(g,l),a.mapOne(t(f,h),e(g,l));for(let n=1;n<b;n++)i(f,h),s||(c.readHexNumber(m,h),r(f,m,h)),i(g,l),c.readHexSigned(m,l),r(g,m,l),a.mapOne(t(f,h),e(g,l));break;case 5:c.readHex(p,h),c.readHexNumber(d,h),r(d,p,h),c.readHex(g,l),a.mapBfRange(t(p,h),t(d,h),e(g,l));for(let n=1;n<b;n++)i(d,h),s?p.set(d):(c.readHexNumber(p,h),r(p,d,h)),c.readHexNumber(d,h),r(d,p,h),c.readHex(g,l),a.mapBfRange(t(p,h),t(d,h),e(g,l));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${n}`)}}return u?l(u):a}}}(),f=function(){function t(t){let e=0;for(let r=0;r<t.length;r++)e=e<<8|t.charCodeAt(r);return e>>>0}function e(t){if("string"!=typeof t)throw new n.FormatError("Malformed CMap: expected string.")}function r(t){if(!Number.isInteger(t))throw new n.FormatError("Malformed CMap: expected int.")}function h(r,n){for(;;){let o=n.getObj();if(o===i.EOF)break;if((0,i.isCmd)(o,"endbfchar"))return;e(o);const s=t(o);o=n.getObj(),e(o);const a=o;r.mapOne(s,a)}}function f(r,o){for(;;){let n=o.getObj();if(n===i.EOF)break;if((0,i.isCmd)(n,"endbfrange"))return;e(n);const s=t(n);n=o.getObj(),e(n);const a=t(n);if(n=o.getObj(),Number.isInteger(n)||"string"==typeof n){const t=Number.isInteger(n)?String.fromCharCode(n):n;r.mapBfRange(s,a,t)}else{if(!(0,i.isCmd)(n,"["))break;{n=o.getObj();const t=[];for(;!(0,i.isCmd)(n,"]")&&n!==i.EOF;)t.push(n),n=o.getObj();r.mapBfRangeToArray(s,a,t)}}}throw new n.FormatError("Invalid bf range.")}function g(n,o){for(;;){let s=o.getObj();if(s===i.EOF)break;if((0,i.isCmd)(s,"endcidchar"))return;e(s);const a=t(s);s=o.getObj(),r(s);const l=s;n.mapOne(a,l)}}function m(n,o){for(;;){let s=o.getObj();if(s===i.EOF)break;if((0,i.isCmd)(s,"endcidrange"))return;e(s);const a=t(s);s=o.getObj(),e(s);const l=t(s);s=o.getObj(),r(s);const c=s;n.mapCidRange(a,l,c)}}function y(e,r){for(;;){let n=r.getObj();if(n===i.EOF)break;if((0,i.isCmd)(n,"endcodespacerange"))return;if("string"!=typeof n)break;const o=t(n);if(n=r.getObj(),"string"!=typeof n)break;const s=t(n);e.addCodespaceRange(n.length,o,s)}throw new n.FormatError("Invalid codespace range.")}function v(t,e){const r=e.getObj();Number.isInteger(r)&&(t.vertical=!!r)}function b(t,e){const r=e.getObj();r instanceof i.Name&&(t.name=r.name)}async function w(t,e,r,o){let s,l;t:for(;;)try{const r=e.getObj();if(r===i.EOF)break;if(r instanceof i.Name)"WMode"===r.name?v(t,e):"CMapName"===r.name&&b(t,e),s=r;else if(r instanceof i.Cmd)switch(r.cmd){case"endcmap":break t;case"usecmap":s instanceof i.Name&&(l=s.name);break;case"begincodespacerange":y(t,e);break;case"beginbfchar":h(t,e);break;case"begincidchar":g(t,e);break;case"beginbfrange":f(t,e);break;case"begincidrange":m(t,e)}}catch(t){if(t instanceof a.MissingDataException)throw t;(0,n.warn)("Invalid cMap data: "+t);continue}return!o&&l&&(o=l),o?x(t,r,o):t}async function x(t,e,r){if(t.useCMap=await S(r,e),0===t.numCodespaceRanges){const e=t.useCMap.codespaceRanges;for(let r=0;r<e.length;r++)t.codespaceRanges[r]=e[r].slice();t.numCodespaceRanges=t.useCMap.numCodespaceRanges}return t.useCMap.forEach((function(e,r){t.contains(e)||t.mapOne(e,t.useCMap.lookup(e))})),t}async function S(t,e){if("Identity-H"===t)return new p(!1,2);if("Identity-V"===t)return new p(!0,2);if(!c.includes(t))throw new Error("Unknown CMap name: "+t);if(!e)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:r,compressionType:i}=await e(t),o=new u(!0);if(i===n.CMapCompressionType.BINARY)return(new d).process(r,o,(t=>x(o,e,t)));if(i===n.CMapCompressionType.NONE){const t=new s.Lexer(new l.Stream(r));return w(o,t,e,null)}throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.")}return{async create(t){const e=t.encoding,r=t.fetchBuiltInCMap,n=t.useCMap;if(e instanceof i.Name)return S(e.name,r);if(e instanceof o.BaseStream){const t=await w(new u,new s.Lexer(e),r,n);return t.isIdentityCMap?S(t.name,r):t}throw new Error("Encoding required.")}}}();e.CMapFactory=f},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=e.Linearization=e.Lexer=void 0;var n=r(2),i=r(5),o=r(8),s=r(28),a=r(30),l=r(31),c=r(33),h=r(34),u=r(37),p=r(39),d=r(41),f=r(10),g=r(42),m=r(43);function y(t){const e=t.length;let r=1,n=0;for(let i=0;i<e;++i)r+=255&t[i],n+=r;return n%65521<<16|r%65521}class v{constructor({lexer:t,xref:e,allowStreams:r=!1,recoveryMode:n=!1}){this.lexer=t,this.xref=e,this.allowStreams=r,this.recoveryMode=n,this.imageCache=Object.create(null),this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof i.Cmd&&"ID"===this.buf2.cmd?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(t){if(t instanceof o.MissingDataException)throw t;return!1}}getObj(t=null){const e=this.buf1;if(this.shift(),e instanceof i.Cmd)switch(e.cmd){case"BI":return this.makeInlineImage(t);case"[":const r=[];for(;!(0,i.isCmd)(this.buf1,"]")&&this.buf1!==i.EOF;)r.push(this.getObj(t));if(this.buf1===i.EOF){if(this.recoveryMode)return r;throw new o.ParserEOFException("End of file inside array.")}return this.shift(),r;case"<<":const s=new i.Dict(this.xref);for(;!(0,i.isCmd)(this.buf1,">>")&&this.buf1!==i.EOF;){if(!(this.buf1 instanceof i.Name)){(0,n.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const e=this.buf1.name;if(this.shift(),this.buf1===i.EOF)break;s.set(e,this.getObj(t))}if(this.buf1===i.EOF){if(this.recoveryMode)return s;throw new o.ParserEOFException("End of file inside dictionary.")}return(0,i.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(s,t):s:(this.shift(),s);default:return e}if(Number.isInteger(e)){if(Number.isInteger(this.buf1)&&(0,i.isCmd)(this.buf2,"R")){const t=i.Ref.get(e,this.buf1);return this.shift(),this.shift(),t}return e}return"string"==typeof e&&t?t.decryptString(e):e}findDefaultInlineStreamEnd(t){const e=this.lexer,r=t.pos;let s,a,l=0;for(;-1!==(s=t.getByte());)if(0===l)l=69===s?1:0;else if(1===l)l=73===s?2:0;else if((0,n.assert)(2===l,"findDefaultInlineStreamEnd - invalid state."),32===s||10===s||13===s){a=t.pos;const r=t.peekBytes(10);for(let t=0,e=r.length;t<e;t++)if(s=r[t],(0!==s||0===r[t+1])&&10!==s&&13!==s&&(s<32||s>127)){l=0;break}if(2!==l)continue;if(e.knownCommands){const t=e.peekObj();t instanceof i.Cmd&&!e.knownCommands[t.cmd]&&(l=0)}else(0,n.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(2===l)break}else l=0;-1===s&&((0,n.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),a&&((0,n.warn)('... trying to recover by using the last "EI" occurrence.'),t.skip(-(t.pos-a))));let c=4;return t.skip(-c),s=t.peekByte(),t.skip(c),(0,o.isWhiteSpace)(s)||c--,t.pos-c-r}findDCTDecodeInlineStreamEnd(t){const e=t.pos;let r,i,o=!1;for(;-1!==(r=t.getByte());)if(255===r){switch(t.getByte()){case 0:break;case 255:t.skip(-1);break;case 217:o=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:i=t.getUint16(),i>2?t.skip(i-2):t.skip(-2)}if(o)break}const s=t.pos-e;return-1===r?((0,n.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),t.skip(-s),this.findDefaultInlineStreamEnd(t)):(this.inlineStreamSkipEI(t),s)}findASCII85DecodeInlineStreamEnd(t){const e=t.pos;let r;for(;-1!==(r=t.getByte());)if(126===r){const e=t.pos;for(r=t.peekByte();(0,o.isWhiteSpace)(r);)t.skip(),r=t.peekByte();if(62===r){t.skip();break}if(t.pos>e){const e=t.peekBytes(2);if(69===e[0]&&73===e[1])break}}const i=t.pos-e;return-1===r?((0,n.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),t.skip(-i),this.findDefaultInlineStreamEnd(t)):(this.inlineStreamSkipEI(t),i)}findASCIIHexDecodeInlineStreamEnd(t){const e=t.pos;let r;for(;-1!==(r=t.getByte())&&62!==r;);const i=t.pos-e;return-1===r?((0,n.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),t.skip(-i),this.findDefaultInlineStreamEnd(t)):(this.inlineStreamSkipEI(t),i)}inlineStreamSkipEI(t){let e,r=0;for(;-1!==(e=t.getByte());)if(0===r)r=69===e?1:0;else if(1===r)r=73===e?2:0;else if(2===r)break}makeInlineImage(t){const e=this.lexer,r=e.stream,o=new i.Dict(this.xref);let s;for(;!(0,i.isCmd)(this.buf1,"ID")&&this.buf1!==i.EOF;){if(!(this.buf1 instanceof i.Name))throw new n.FormatError("Dictionary key must be a name object");const e=this.buf1.name;if(this.shift(),this.buf1===i.EOF)break;o.set(e,this.getObj(t))}-1!==e.beginInlineImagePos&&(s=r.pos-e.beginInlineImagePos);const a=o.get("F","Filter");let l;if(a instanceof i.Name)l=a.name;else if(Array.isArray(a)){const t=this.xref.fetchIfRef(a[0]);t instanceof i.Name&&(l=t.name)}const c=r.pos;let h;switch(l){case"DCT":case"DCTDecode":h=this.findDCTDecodeInlineStreamEnd(r);break;case"A85":case"ASCII85Decode":h=this.findASCII85DecodeInlineStreamEnd(r);break;case"AHx":case"ASCIIHexDecode":h=this.findASCIIHexDecodeInlineStreamEnd(r);break;default:h=this.findDefaultInlineStreamEnd(r)}let u,p=r.makeSubStream(c,h,o);if(h<1e3&&s<5552){const t=p.getBytes();p.reset();const n=r.pos;r.pos=e.beginInlineImagePos;const o=r.getBytes(s);r.pos=n,u=y(t)+"_"+y(o);const a=this.imageCache[u];if(void 0!==a)return this.buf2=i.Cmd.get("EI"),this.shift(),a.reset(),a}return t&&(p=t.createStream(p,h)),p=this.filter(p,o,h),p.dict=o,void 0!==u&&(p.cacheKey=`inline_${h}_${u}`,this.imageCache[u]=p),this.buf2=i.Cmd.get("EI"),this.shift(),p}_findStreamLength(t,e){const{stream:r}=this.lexer;r.pos=t;const n=e.length;for(;r.pos<r.end;){const i=r.peekBytes(2048),o=i.length-n;if(o<=0)break;let s=0;for(;s<o;){let o=0;for(;o<n&&i[s+o]===e[o];)o++;if(o>=n)return r.pos+=s,r.pos-t;s++}r.pos+=o}return-1}makeStream(t,e){const r=this.lexer;let s=r.stream;r.skipToNextLine();const a=s.pos-1;let l=t.get("Length");if(Number.isInteger(l)||((0,n.info)(`Bad length "${l&&l.toString()}" in stream.`),l=0),s.pos=a+l,r.nextChar(),this.tryShift()&&(0,i.isCmd)(this.buf2,"endstream"))this.shift();else{const t=new Uint8Array([101,110,100,115,116,114,101,97,109]);let e=this._findStreamLength(a,t);if(e<0){const r=1;for(let i=1;i<=r;i++){const r=t.length-i,l=t.slice(0,r),c=this._findStreamLength(a,l);if(c>=0){const t=s.peekBytes(r+1)[r];if(!(0,o.isWhiteSpace)(t))break;(0,n.info)(`Found "${(0,n.bytesToString)(l)}" when searching for endstream command.`),e=c;break}}if(e<0)throw new n.FormatError("Missing endstream command.")}l=e,r.nextChar(),this.shift(),this.shift()}return this.shift(),s=s.makeSubStream(a,l,t),e&&(s=e.createStream(s,l)),s=this.filter(s,t,l),s.dict=t,s}filter(t,e,r){let o=e.get("F","Filter"),s=e.get("DP","DecodeParms");if(o instanceof i.Name)return Array.isArray(s)&&(0,n.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(t,o.name,r,s);let a=r;if(Array.isArray(o)){const e=o,r=s;for(let l=0,c=e.length;l<c;++l){if(o=this.xref.fetchIfRef(e[l]),!(o instanceof i.Name))throw new n.FormatError(`Bad filter name "${o}"`);s=null,Array.isArray(r)&&l in r&&(s=this.xref.fetchIfRef(r[l])),t=this.makeFilter(t,o.name,a,s),a=null}}return t}makeFilter(t,e,r,i){if(0===r)return(0,n.warn)(`Empty "${e}" stream.`),new f.NullStream;const y=this.xref.stats;try{switch(e){case"Fl":case"FlateDecode":return y.addStreamType(n.StreamType.FLATE),i?new g.PredictorStream(new c.FlateStream(t,r),r,i):new c.FlateStream(t,r);case"LZW":case"LZWDecode":y.addStreamType(n.StreamType.LZW);let e=1;return i?(i.has("EarlyChange")&&(e=i.get("EarlyChange")),new g.PredictorStream(new d.LZWStream(t,r,e),r,i)):new d.LZWStream(t,r,e);case"DCT":case"DCTDecode":return y.addStreamType(n.StreamType.DCT),new u.JpegStream(t,r,i);case"JPX":case"JPXDecode":return y.addStreamType(n.StreamType.JPX),new p.JpxStream(t,r,i);case"A85":case"ASCII85Decode":return y.addStreamType(n.StreamType.A85),new s.Ascii85Stream(t,r);case"AHx":case"ASCIIHexDecode":return y.addStreamType(n.StreamType.AHX),new a.AsciiHexStream(t,r);case"CCF":case"CCITTFaxDecode":return y.addStreamType(n.StreamType.CCF),new l.CCITTFaxStream(t,r,i);case"RL":case"RunLengthDecode":return y.addStreamType(n.StreamType.RLX),new m.RunLengthStream(t,r);case"JBIG2Decode":return y.addStreamType(n.StreamType.JBIG),new h.Jbig2Stream(t,r,i)}return(0,n.warn)(`Filter "${e}" is not supported.`),t}catch(t){if(t instanceof o.MissingDataException)throw t;return(0,n.warn)(`Invalid stream: "${t}"`),new f.NullStream}}}e.Parser=v;const b=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function w(t){return t>=48&&t<=57?15&t:t>=65&&t<=70||t>=97&&t<=102?9+(15&t):-1}class x{constructor(t,e=null){this.stream=t,this.nextChar(),this.strBuf=[],this.knownCommands=e,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let t=this.currentChar,e=!1,r=0,i=0;if(45===t?(i=-1,t=this.nextChar(),45===t&&(t=this.nextChar())):43===t&&(i=1,t=this.nextChar()),10===t||13===t)do{t=this.nextChar()}while(10===t||13===t);if(46===t&&(r=10,t=this.nextChar()),t<48||t>57){if((0,o.isWhiteSpace)(t)||-1===t){if(10===r&&0===i)return(0,n.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;if(0===r&&-1===i)return(0,n.warn)("Lexer.getNumber - treating a single minus sign as zero."),0}throw new n.FormatError(`Invalid number: ${String.fromCharCode(t)} (charCode ${t})`)}i=i||1;let s=t-48,a=0,l=1;for(;(t=this.nextChar())>=0;)if(t>=48&&t<=57){const n=t-48;e?a=10*a+n:(0!==r&&(r*=10),s=10*s+n)}else if(46===t){if(0!==r)break;r=1}else if(45===t)(0,n.warn)("Badly formatted number: minus sign in the middle");else{if(69!==t&&101!==t)break;if(t=this.peekChar(),43===t||45===t)l=45===t?-1:1,this.nextChar();else if(t<48||t>57)break;e=!0}return 0!==r&&(s/=r),e&&(s*=10**(l*a)),i*s}getString(){let t=1,e=!1;const r=this.strBuf;r.length=0;let i=this.nextChar();for(;;){let o=!1;switch(0|i){case-1:(0,n.warn)("Unterminated string"),e=!0;break;case 40:++t,r.push("(");break;case 41:0==--t?(this.nextChar(),e=!0):r.push(")");break;case 92:switch(i=this.nextChar(),i){case-1:(0,n.warn)("Unterminated string"),e=!0;break;case 110:r.push("\n");break;case 114:r.push("\r");break;case 116:r.push("\t");break;case 98:r.push("\b");break;case 102:r.push("\f");break;case 92:case 40:case 41:r.push(String.fromCharCode(i));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let t=15&i;i=this.nextChar(),o=!0,i>=48&&i<=55&&(t=(t<<3)+(15&i),i=this.nextChar(),i>=48&&i<=55&&(o=!1,t=(t<<3)+(15&i))),r.push(String.fromCharCode(t));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:r.push(String.fromCharCode(i))}break;default:r.push(String.fromCharCode(i))}if(e)break;o||(i=this.nextChar())}return r.join("")}getName(){let t,e;const r=this.strBuf;for(r.length=0;(t=this.nextChar())>=0&&!b[t];)if(35===t){if(t=this.nextChar(),b[t]){(0,n.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),r.push("#");break}const i=w(t);if(-1!==i){e=t,t=this.nextChar();const o=w(t);if(-1===o){if((0,n.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(t)}) in hexadecimal number.`),r.push("#",String.fromCharCode(e)),b[t])break;r.push(String.fromCharCode(t));continue}r.push(String.fromCharCode(i<<4|o))}else r.push("#",String.fromCharCode(t))}else r.push(String.fromCharCode(t));return r.length>127&&(0,n.warn)(`Name token is longer than allowed by the spec: ${r.length}`),i.Name.get(r.join(""))}_hexStringWarn(t){5!=this._hexStringNumWarn++?this._hexStringNumWarn>5||(0,n.warn)(`getHexString - ignoring invalid character: ${t}`):(0,n.warn)("getHexString - ignoring additional invalid characters.")}getHexString(){const t=this.strBuf;t.length=0;let e,r,i=this.currentChar,o=!0;for(this._hexStringNumWarn=0;;){if(i<0){(0,n.warn)("Unterminated hex string");break}if(62===i){this.nextChar();break}if(1!==b[i]){if(o){if(e=w(i),-1===e){this._hexStringWarn(i),i=this.nextChar();continue}}else{if(r=w(i),-1===r){this._hexStringWarn(i),i=this.nextChar();continue}t.push(String.fromCharCode(e<<4|r))}o=!o,i=this.nextChar()}else i=this.nextChar()}return t.join("")}getObj(){let t=!1,e=this.currentChar;for(;;){if(e<0)return i.EOF;if(t)10!==e&&13!==e||(t=!1);else if(37===e)t=!0;else if(1!==b[e])break;e=this.nextChar()}switch(0|e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),i.Cmd.get("[");case 93:return this.nextChar(),i.Cmd.get("]");case 60:return e=this.nextChar(),60===e?(this.nextChar(),i.Cmd.get("<<")):this.getHexString();case 62:return e=this.nextChar(),62===e?(this.nextChar(),i.Cmd.get(">>")):i.Cmd.get(">");case 123:return this.nextChar(),i.Cmd.get("{");case 125:return this.nextChar(),i.Cmd.get("}");case 41:throw this.nextChar(),new n.FormatError(`Illegal character: ${e}`)}let r=String.fromCharCode(e);if(e<32||e>127){const t=this.peekChar();if(t>=32&&t<=127)return this.nextChar(),i.Cmd.get(r)}const o=this.knownCommands;let s=o&&void 0!==o[r];for(;(e=this.nextChar())>=0&&!b[e];){const t=r+String.fromCharCode(e);if(s&&void 0===o[t])break;if(128===r.length)throw new n.FormatError(`Command token too long: ${r.length}`);r=t,s=o&&void 0!==o[r]}return"true"===r||"false"!==r&&("null"===r?null:("BI"===r&&(this.beginInlineImagePos=this.stream.pos),i.Cmd.get(r)))}peekObj(){const t=this.stream.pos,e=this.currentChar,r=this.beginInlineImagePos;let i;try{i=this.getObj()}catch(t){if(t instanceof o.MissingDataException)throw t;(0,n.warn)(`peekObj: ${t}`)}return this.stream.pos=t,this.currentChar=e,this.beginInlineImagePos=r,i}skipToNextLine(){let t=this.currentChar;for(;t>=0;){if(13===t){t=this.nextChar(),10===t&&this.nextChar();break}if(10===t){this.nextChar();break}t=this.nextChar()}}}e.Lexer=x,e.Linearization=class{static create(t){function e(t,e,r=!1){const n=t.get(e);if(Number.isInteger(n)&&(r?n>=0:n>0))return n;throw new Error(`The "${e}" parameter in the linearization dictionary is invalid.`)}const r=new v({lexer:new x(t),xref:null}),n=r.getObj(),o=r.getObj(),s=r.getObj(),a=r.getObj();let l,c;if(!(Number.isInteger(n)&&Number.isInteger(o)&&(0,i.isCmd)(s,"obj")&&a instanceof i.Dict&&"number"==typeof(l=a.get("Linearized"))&&l>0))return null;if((c=e(a,"L"))!==t.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:c,hints:function(t){const e=t.get("H");let r;if(Array.isArray(e)&&(2===(r=e.length)||4===r)){for(let t=0;t<r;t++){const r=e[t];if(!(Number.isInteger(r)&&r>0))throw new Error(`Hint (${t}) in the linearization dictionary is invalid.`)}return e}throw new Error("Hint array in the linearization dictionary is invalid.")}(a),objectNumberFirst:e(a,"O"),endFirst:e(a,"E"),numPages:e(a,"N"),mainXRefEntriesOffset:e(a,"T"),pageFirst:a.has("P")?e(a,"P",!0):0}}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Ascii85Stream=void 0;var n=r(29),i=r(8);class o extends n.DecodeStream{constructor(t,e){e&&(e*=.8),super(e),this.str=t,this.dict=t.dict,this.input=new Uint8Array(5)}readBlock(){const t=this.str;let e=t.getByte();for(;(0,i.isWhiteSpace)(e);)e=t.getByte();if(-1===e||126===e)return void(this.eof=!0);const r=this.bufferLength;let n,o;if(122===e){for(n=this.ensureBuffer(r+4),o=0;o<4;++o)n[r+o]=0;this.bufferLength+=4}else{const s=this.input;for(s[0]=e,o=1;o<5;++o){for(e=t.getByte();(0,i.isWhiteSpace)(e);)e=t.getByte();if(s[o]=e,-1===e||126===e)break}if(n=this.ensureBuffer(r+o-1),this.bufferLength+=o-1,o<5){for(;o<5;++o)s[o]=117;this.eof=!0}let a=0;for(o=0;o<5;++o)a=85*a+(s[o]-33);for(o=3;o>=0;--o)n[r+o]=255&a,a>>=8}}}e.Ascii85Stream=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StreamsSequenceStream=e.DecodeStream=void 0;var n=r(9),i=r(10);const o=new Uint8Array(0);class s extends n.BaseStream{constructor(t){if(super(),this._rawMinBufferLength=t||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=o,this.minBufferLength=512,t)for(;this.minBufferLength<t;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength}ensureBuffer(t){const e=this.buffer;if(t<=e.byteLength)return e;let r=this.minBufferLength;for(;r<t;)r*=2;const n=new Uint8Array(r);return n.set(e),this.buffer=n}getByte(){const t=this.pos;for(;this.bufferLength<=t;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(t){const e=this.pos;let r;if(t){for(this.ensureBuffer(e+t),r=e+t;!this.eof&&this.bufferLength<r;)this.readBlock();const n=this.bufferLength;r>n&&(r=n)}else{for(;!this.eof;)this.readBlock();r=this.bufferLength}return this.pos=r,this.buffer.subarray(e,r)}reset(){this.pos=0}makeSubStream(t,e,r=null){if(void 0===e)for(;!this.eof;)this.readBlock();else{const r=t+e;for(;this.bufferLength<=r&&!this.eof;)this.readBlock()}return new i.Stream(this.buffer,t,e,r)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}e.DecodeStream=s,e.StreamsSequenceStream=class extends s{constructor(t,e=null){let r=0;for(const e of t)r+=e instanceof s?e._rawMinBufferLength:e.length;super(r),this.streams=t,this._onError=e}readBlock(){const t=this.streams;if(0===t.length)return void(this.eof=!0);const e=t.shift();let r;try{r=e.getBytes()}catch(t){if(this._onError)return void this._onError(t,e.dict&&e.dict.objId);throw t}const n=this.bufferLength,i=n+r.length;this.ensureBuffer(i).set(r,n),this.bufferLength=i}getBaseStreams(){const t=[];for(const e of this.streams){const r=e.getBaseStreams();r&&t.push(...r)}return t.length>0?t:null}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AsciiHexStream=void 0;var n=r(29);class i extends n.DecodeStream{constructor(t,e){e&&(e*=.5),super(e),this.str=t,this.dict=t.dict,this.firstDigit=-1}readBlock(){const t=this.str.getBytes(8e3);if(!t.length)return void(this.eof=!0);const e=t.length+1>>1,r=this.ensureBuffer(this.bufferLength+e);let n=this.bufferLength,i=this.firstDigit;for(const e of t){let t;if(e>=48&&e<=57)t=15&e;else{if(!(e>=65&&e<=70||e>=97&&e<=102)){if(62===e){this.eof=!0;break}continue}t=9+(15&e)}i<0?i=t:(r[n++]=i<<4|t,i=-1)}i>=0&&this.eof&&(r[n++]=i<<4,i=-1),this.firstDigit=i,this.bufferLength=n}}e.AsciiHexStream=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CCITTFaxStream=void 0;var n=r(32),i=r(29),o=r(5);class s extends i.DecodeStream{constructor(t,e,r){super(e),this.str=t,this.dict=t.dict,r instanceof o.Dict||(r=o.Dict.empty);const i={next:()=>t.getByte()};this.ccittFaxDecoder=new n.CCITTFaxDecoder(i,{K:r.get("K"),EndOfLine:r.get("EndOfLine"),EncodedByteAlign:r.get("EncodedByteAlign"),Columns:r.get("Columns"),Rows:r.get("Rows"),EndOfBlock:r.get("EndOfBlock"),BlackIs1:r.get("BlackIs1")})}readBlock(){for(;!this.eof;){const t=this.ccittFaxDecoder.readNextChar();if(-1===t)return void(this.eof=!0);this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=t}}}e.CCITTFaxStream=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CCITTFaxDecoder=void 0;var n=r(2);const i=-1,o=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],s=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],a=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],l=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],c=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],h=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];e.CCITTFaxDecoder=class{constructor(t,e={}){if(!t||"function"!=typeof t.next)throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=t,this.eof=!1,this.encoding=e.K||0,this.eoline=e.EndOfLine||!1,this.byteAlign=e.EncodedByteAlign||!1,this.columns=e.Columns||1728,this.rows=e.Rows||0;let r,n=e.EndOfBlock;for(null==n&&(n=!0),this.eoblock=n,this.black=e.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;0===(r=this._lookBits(12));)this._eatBits(1);1===r&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const t=this.refLine,e=this.codingLine,r=this.columns;let o,s,a,l,c;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;let a,c,h;if(this.err=!1,this.nextLine2D){for(l=0;e[l]<r;++l)t[l]=e[l];for(t[l++]=r,t[l]=r,e[0]=0,this.codingPos=0,o=0,s=0;e[this.codingPos]<r;)switch(a=this._getTwoDimCode(),a){case 0:this._addPixels(t[o+1],s),t[o+1]<r&&(o+=2);break;case 1:if(a=c=0,s){do{a+=h=this._getBlackCode()}while(h>=64);do{c+=h=this._getWhiteCode()}while(h>=64)}else{do{a+=h=this._getWhiteCode()}while(h>=64);do{c+=h=this._getBlackCode()}while(h>=64)}for(this._addPixels(e[this.codingPos]+a,s),e[this.codingPos]<r&&this._addPixels(e[this.codingPos]+c,1^s);t[o]<=e[this.codingPos]&&t[o]<r;)o+=2;break;case 7:if(this._addPixels(t[o]+3,s),s^=1,e[this.codingPos]<r)for(++o;t[o]<=e[this.codingPos]&&t[o]<r;)o+=2;break;case 5:if(this._addPixels(t[o]+2,s),s^=1,e[this.codingPos]<r)for(++o;t[o]<=e[this.codingPos]&&t[o]<r;)o+=2;break;case 3:if(this._addPixels(t[o]+1,s),s^=1,e[this.codingPos]<r)for(++o;t[o]<=e[this.codingPos]&&t[o]<r;)o+=2;break;case 2:if(this._addPixels(t[o],s),s^=1,e[this.codingPos]<r)for(++o;t[o]<=e[this.codingPos]&&t[o]<r;)o+=2;break;case 8:if(this._addPixelsNeg(t[o]-3,s),s^=1,e[this.codingPos]<r)for(o>0?--o:++o;t[o]<=e[this.codingPos]&&t[o]<r;)o+=2;break;case 6:if(this._addPixelsNeg(t[o]-2,s),s^=1,e[this.codingPos]<r)for(o>0?--o:++o;t[o]<=e[this.codingPos]&&t[o]<r;)o+=2;break;case 4:if(this._addPixelsNeg(t[o]-1,s),s^=1,e[this.codingPos]<r)for(o>0?--o:++o;t[o]<=e[this.codingPos]&&t[o]<r;)o+=2;break;case i:this._addPixels(r,0),this.eof=!0;break;default:(0,n.info)("bad 2d code"),this._addPixels(r,0),this.err=!0}}else for(e[0]=0,this.codingPos=0,s=0;e[this.codingPos]<r;){if(a=0,s)do{a+=h=this._getBlackCode()}while(h>=64);else do{a+=h=this._getWhiteCode()}while(h>=64);this._addPixels(e[this.codingPos]+a,s),s^=1}let u=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(a=this._lookBits(12),this.eoline)for(;a!==i&&1!==a;)this._eatBits(1),a=this._lookBits(12);else for(;0===a;)this._eatBits(1),a=this._lookBits(12);1===a?(this._eatBits(12),u=!0):a===i&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&u&&this.byteAlign){if(a=this._lookBits(12),1===a){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(l=0;l<4;++l)a=this._lookBits(12),1!==a&&(0,n.info)("bad rtc code: "+a),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(a=this._lookBits(13),a===i)return this.eof=!0,-1;if(a>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&a))}e[0]>0?this.outputBits=e[this.codingPos=0]:this.outputBits=e[this.codingPos=1],this.row++}if(this.outputBits>=8)c=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&e[this.codingPos]<r&&(this.codingPos++,this.outputBits=e[this.codingPos]-e[this.codingPos-1]);else{a=8,c=0;do{if("number"!=typeof this.outputBits)throw new n.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>a?(c<<=a,1&this.codingPos||(c|=255>>8-a),this.outputBits-=a,a=0):(c<<=this.outputBits,1&this.codingPos||(c|=255>>8-this.outputBits),a-=this.outputBits,this.outputBits=0,e[this.codingPos]<r?(this.codingPos++,this.outputBits=e[this.codingPos]-e[this.codingPos-1]):a>0&&(c<<=a,a=0))}while(a)}return this.black&&(c^=255),c}_addPixels(t,e){const r=this.codingLine;let i=this.codingPos;t>r[i]&&(t>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,t=this.columns),1&i^e&&++i,r[i]=t),this.codingPos=i}_addPixelsNeg(t,e){const r=this.codingLine;let i=this.codingPos;if(t>r[i])t>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,t=this.columns),1&i^e&&++i,r[i]=t;else if(t<r[i]){for(t<0&&((0,n.info)("invalid code"),this.err=!0,t=0);i>0&&t<r[i-1];)--i;r[i]=t}this.codingPos=i}_findTableCode(t,e,r,n){const o=n||0;for(let n=t;n<=e;++n){let t=this._lookBits(n);if(t===i)return[!0,1,!1];if(n<e&&(t<<=e-n),!o||t>=o){const e=r[t-o];if(e[0]===n)return this._eatBits(n),[!0,e[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let t,e=0;if(this.eoblock){if(e=this._lookBits(7),t=o[e],t&&t[0]>0)return this._eatBits(t[0]),t[1]}else{const t=this._findTableCode(1,7,o);if(t[0]&&t[2])return t[1]}return(0,n.info)("Bad two dim code"),i}_getWhiteCode(){let t,e=0;if(this.eoblock){if(e=this._lookBits(12),e===i)return 1;if(t=e>>5==0?s[e]:a[e>>3],t[0]>0)return this._eatBits(t[0]),t[1]}else{let t=this._findTableCode(1,9,a);if(t[0])return t[1];if(t=this._findTableCode(11,12,s),t[0])return t[1]}return(0,n.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let t,e;if(this.eoblock){if(t=this._lookBits(13),t===i)return 1;if(e=t>>7==0?l[t]:t>>9==0&&t>>7!=0?c[(t>>1)-64]:h[t>>7],e[0]>0)return this._eatBits(e[0]),e[1]}else{let t=this._findTableCode(2,6,h);if(t[0])return t[1];if(t=this._findTableCode(7,12,c,64),t[0])return t[1];if(t=this._findTableCode(10,13,l),t[0])return t[1]}return(0,n.info)("bad black code"),this._eatBits(1),1}_lookBits(t){let e;for(;this.inputBits<t;){if(-1===(e=this.source.next()))return 0===this.inputBits?i:this.inputBuf<<t-this.inputBits&65535>>16-t;this.inputBuf=this.inputBuf<<8|e,this.inputBits+=8}return this.inputBuf>>this.inputBits-t&65535>>16-t}_eatBits(t){(this.inputBits-=t)<0&&(this.inputBits=0)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FlateStream=void 0;var n=r(29),i=r(2);const o=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),a=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),l=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],c=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class h extends n.DecodeStream{constructor(t,e){super(e),this.str=t,this.dict=t.dict;const r=t.getByte(),n=t.getByte();if(-1===r||-1===n)throw new i.FormatError(`Invalid header in flate stream: ${r}, ${n}`);if(8!=(15&r))throw new i.FormatError(`Unknown compression method in flate stream: ${r}, ${n}`);if(((r<<8)+n)%31!=0)throw new i.FormatError(`Bad FCHECK in flate stream: ${r}, ${n}`);if(32&n)throw new i.FormatError(`FDICT bit set in flate stream: ${r}, ${n}`);this.codeSize=0,this.codeBuf=0}getBits(t){const e=this.str;let r,n=this.codeSize,o=this.codeBuf;for(;n<t;){if(-1===(r=e.getByte()))throw new i.FormatError("Bad encoding in flate stream");o|=r<<n,n+=8}return r=o&(1<<t)-1,this.codeBuf=o>>t,this.codeSize=n-=t,r}getCode(t){const e=this.str,r=t[0],n=t[1];let o,s=this.codeSize,a=this.codeBuf;for(;s<n&&-1!==(o=e.getByte());)a|=o<<s,s+=8;const l=r[a&(1<<n)-1],c=l>>16,h=65535&l;if(c<1||s<c)throw new i.FormatError("Bad encoding in flate stream");return this.codeBuf=a>>c,this.codeSize=s-c,h}generateHuffmanTable(t){const e=t.length;let r,n=0;for(r=0;r<e;++r)t[r]>n&&(n=t[r]);const i=1<<n,o=new Int32Array(i);for(let s=1,a=0,l=2;s<=n;++s,a<<=1,l<<=1)for(let n=0;n<e;++n)if(t[n]===s){let t=0,e=a;for(r=0;r<s;++r)t=t<<1|1&e,e>>=1;for(r=t;r<i;r+=l)o[r]=s<<16|n;++a}return[o,n]}readBlock(){let t,e;const r=this.str;let n,h,u=this.getBits(3);if(1&u&&(this.eof=!0),u>>=1,0===u){let e;if(-1===(e=r.getByte()))throw new i.FormatError("Bad block header in flate stream");let n=e;if(-1===(e=r.getByte()))throw new i.FormatError("Bad block header in flate stream");if(n|=e<<8,-1===(e=r.getByte()))throw new i.FormatError("Bad block header in flate stream");let o=e;if(-1===(e=r.getByte()))throw new i.FormatError("Bad block header in flate stream");if(o|=e<<8,o!==(65535&~n)&&(0!==n||0!==o))throw new i.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const s=this.bufferLength,a=s+n;if(t=this.ensureBuffer(a),this.bufferLength=a,0===n)-1===r.peekByte()&&(this.eof=!0);else{const e=r.getBytes(n);t.set(e,s),e.length<n&&(this.eof=!0)}return}if(1===u)n=l,h=c;else{if(2!==u)throw new i.FormatError("Unknown block type in flate stream");{const t=this.getBits(5)+257,r=this.getBits(5)+1,i=this.getBits(4)+4,s=new Uint8Array(o.length);let a;for(a=0;a<i;++a)s[o[a]]=this.getBits(3);const l=this.generateHuffmanTable(s);e=0,a=0;const c=t+r,u=new Uint8Array(c);let p,d,f;for(;a<c;){const t=this.getCode(l);if(16===t)p=2,d=3,f=e;else if(17===t)p=3,d=3,f=e=0;else{if(18!==t){u[a++]=e=t;continue}p=7,d=11,f=e=0}let r=this.getBits(p)+d;for(;r-- >0;)u[a++]=f}n=this.generateHuffmanTable(u.subarray(0,t)),h=this.generateHuffmanTable(u.subarray(t,c))}}t=this.buffer;let p=t?t.length:0,d=this.bufferLength;for(;;){let r=this.getCode(n);if(r<256){d+1>=p&&(t=this.ensureBuffer(d+1),p=t.length),t[d++]=r;continue}if(256===r)return void(this.bufferLength=d);r-=257,r=s[r];let i=r>>16;i>0&&(i=this.getBits(i)),e=(65535&r)+i,r=this.getCode(h),r=a[r],i=r>>16,i>0&&(i=this.getBits(i));const o=(65535&r)+i;d+e>=p&&(t=this.ensureBuffer(d+e),p=t.length);for(let r=0;r<e;++r,++d)t[d]=t[d-o]}}}e.FlateStream=h},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Jbig2Stream=void 0;var n=r(9),i=r(29),o=r(5),s=r(35),a=r(2);class l extends i.DecodeStream{constructor(t,e,r){super(e),this.stream=t,this.dict=t.dict,this.maybeLength=e,this.params=r}get bytes(){return(0,a.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(t){}readBlock(){if(this.eof)return;const t=new s.Jbig2Image,e=[];if(this.params instanceof o.Dict){const t=this.params.get("JBIG2Globals");if(t instanceof n.BaseStream){const r=t.getBytes();e.push({data:r,start:0,end:r.length})}}e.push({data:this.bytes,start:0,end:this.bytes.length});const r=t.parseChunks(e),i=r.length;for(let t=0;t<i;t++)r[t]^=255;this.buffer=r,this.bufferLength=i,this.eof=!0}}e.Jbig2Stream=l},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Jbig2Image=void 0;var n=r(2),i=r(8),o=r(36),s=r(32);class a extends n.BaseException{constructor(t){super(`JBIG2 error: ${t}`,"Jbig2Error")}}class l{getContexts(t){return t in this?this[t]:this[t]=new Int8Array(65536)}}class c{constructor(t,e,r){this.data=t,this.start=e,this.end=r}get decoder(){const t=new o.ArithmeticDecoder(this.data,this.start,this.end);return(0,n.shadow)(this,"decoder",t)}get contextCache(){const t=new l;return(0,n.shadow)(this,"contextCache",t)}}function h(t,e,r){const n=t.getContexts(e);let i=1;function o(t){let e=0;for(let o=0;o<t;o++){const t=r.readBit(n,i);i=i<256?i<<1|t:511&(i<<1|t)|256,e=e<<1|t}return e>>>0}const s=o(1),a=o(1)?o(1)?o(1)?o(1)?o(1)?o(32)+4436:o(12)+340:o(8)+84:o(6)+20:o(4)+4:o(2);return 0===s?a:a>0?-a:null}function u(t,e,r){const n=t.getContexts("IAID");let i=1;for(let t=0;t<r;t++)i=i<<1|e.readBit(n,i);return r<31?i&(1<<r)-1:2147483647&i}const p=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],d=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],f=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],g=[39717,1941,229,405],m=[32,8];function y(t,e,r,n,i,o,s,a){if(t)return R(new I(a.data,a.start,a.end),e,r,!1);if(0===n&&!o&&!i&&4===s.length&&3===s[0].x&&-1===s[0].y&&-3===s[1].x&&-1===s[1].y&&2===s[2].x&&-2===s[2].y&&-2===s[3].x&&-2===s[3].y)return function(t,e,r){const n=r.decoder,i=r.contextCache.getContexts("GB"),o=[];let s,a,l,c,h,u,p;for(a=0;a<e;a++)for(h=o[a]=new Uint8Array(t),u=a<1?h:o[a-1],p=a<2?h:o[a-2],s=p[0]<<13|p[1]<<12|p[2]<<11|u[0]<<7|u[1]<<6|u[2]<<5|u[3]<<4,l=0;l<t;l++)h[l]=c=n.readBit(i,s),s=(31735&s)<<1|(l+3<t?p[l+3]<<11:0)|(l+4<t?u[l+4]<<4:0)|c;return o}(e,r,a);const l=!!o,c=d[n].concat(s);c.sort((function(t,e){return t.y-e.y||t.x-e.x}));const h=c.length,u=new Int8Array(h),p=new Int8Array(h),f=[];let m,y,v=0,b=0,w=0,x=0;for(y=0;y<h;y++)u[y]=c[y].x,p[y]=c[y].y,b=Math.min(b,c[y].x),w=Math.max(w,c[y].x),x=Math.min(x,c[y].y),y<h-1&&c[y].y===c[y+1].y&&c[y].x===c[y+1].x-1?v|=1<<h-1-y:f.push(y);const S=f.length,k=new Int8Array(S),A=new Int8Array(S),C=new Uint16Array(S);for(m=0;m<S;m++)y=f[m],k[m]=c[y].x,A[m]=c[y].y,C[m]=1<<h-1-y;const _=-b,T=-x,O=e-w,M=g[n];let E=new Uint8Array(e);const P=[],F=a.decoder,D=a.contextCache.getContexts("GB");let L,N,B,j,z,U=0,$=0;for(let t=0;t<r;t++)if(i&&(U^=F.readBit(D,M),U))P.push(E);else for(E=new Uint8Array(E),P.push(E),L=0;L<e;L++){if(l&&o[t][L]){E[L]=0;continue}if(L>=_&&L<O&&t>=T)for($=$<<1&v,y=0;y<S;y++)N=t+A[y],B=L+k[y],j=P[N][B],j&&(j=C[y],$|=j);else for($=0,z=h-1,y=0;y<h;y++,z--)B=L+u[y],B>=0&&B<e&&(N=t+p[y],N>=0&&(j=P[N][B],j&&($|=j<<z)));const r=F.readBit(D,$);E[L]=r}return P}function v(t,e,r,n,i,o,s,l,c){let h=f[r].coding;0===r&&(h=h.concat([l[0]]));const u=h.length,p=new Int32Array(u),d=new Int32Array(u);let g;for(g=0;g<u;g++)p[g]=h[g].x,d[g]=h[g].y;let y=f[r].reference;0===r&&(y=y.concat([l[1]]));const v=y.length,b=new Int32Array(v),w=new Int32Array(v);for(g=0;g<v;g++)b[g]=y[g].x,w[g]=y[g].y;const x=n[0].length,S=n.length,k=m[r],A=[],C=c.decoder,_=c.contextCache.getContexts("GR");let T=0;for(let r=0;r<e;r++){if(s&&(T^=C.readBit(_,k),T))throw new a("prediction is not supported");const e=new Uint8Array(t);A.push(e);for(let s=0;s<t;s++){let a,l,c=0;for(g=0;g<u;g++)a=r+d[g],l=s+p[g],a<0||l<0||l>=t?c<<=1:c=c<<1|A[a][l];for(g=0;g<v;g++)a=r+w[g]-o,l=s+b[g]-i,a<0||a>=S||l<0||l>=x?c<<=1:c=c<<1|n[a][l];const h=C.readBit(_,c);e[s]=h}}return A}function b(t,e,r,n,i,o,s,l,c,p,d,f,g,m,y,b,w,x,S){if(t&&e)throw new a("refinement with Huffman is not supported");const k=[];let A,C;for(A=0;A<n;A++){if(C=new Uint8Array(r),i)for(let t=0;t<r;t++)C[t]=i;k.push(C)}const _=w.decoder,T=w.contextCache;let O=t?-m.tableDeltaT.decode(S):-h(T,"IADT",_),M=0;for(A=0;A<o;){O+=t?m.tableDeltaT.decode(S):h(T,"IADT",_),M+=t?m.tableFirstS.decode(S):h(T,"IAFS",_);let n=M;for(;;){let i=0;s>1&&(i=t?S.readBits(x):h(T,"IAIT",_));const o=s*O+i,M=t?m.symbolIDTable.decode(S):u(T,_,c),E=e&&(t?S.readBit():h(T,"IARI",_));let P=l[M],I=P[0].length,F=P.length;if(E){const t=h(T,"IARDW",_),e=h(T,"IARDH",_),r=h(T,"IARDX",_),n=h(T,"IARDY",_);I+=t,F+=e,P=v(I,F,y,P,(t>>1)+r,(e>>1)+n,!1,b,w)}const D=o-(1&f?0:F-1),R=n-(2&f?I-1:0);let L,N,B;if(p){for(L=0;L<F;L++){if(C=k[R+L],!C)continue;B=P[L];const t=Math.min(r-D,I);switch(g){case 0:for(N=0;N<t;N++)C[D+N]|=B[N];break;case 2:for(N=0;N<t;N++)C[D+N]^=B[N];break;default:throw new a(`operator ${g} is not supported`)}}n+=F-1}else{for(N=0;N<F;N++)if(C=k[D+N],C)switch(B=P[N],g){case 0:for(L=0;L<I;L++)C[R+L]|=B[L];break;case 2:for(L=0;L<I;L++)C[R+L]^=B[L];break;default:throw new a(`operator ${g} is not supported`)}n+=I-1}A++;const j=t?m.tableDeltaS.decode(S):h(T,"IADS",_);if(null===j)break;n+=j+d}}return k}function w(t,e){const r={};r.number=(0,i.readUint32)(t,e);const n=t[e+4],o=63&n;if(!p[o])throw new a("invalid segment type: "+o);r.type=o,r.typeName=p[o],r.deferredNonRetain=!!(128&n);const s=!!(64&n),l=t[e+5];let c=l>>5&7;const h=[31&l];let u=e+6;if(7===l){c=536870911&(0,i.readUint32)(t,u-1),u+=3;let e=c+7>>3;for(h[0]=t[u++];--e>0;)h.push(t[u++])}else if(5===l||6===l)throw new a("invalid referred-to flags");r.retainBits=h;let d=4;r.number<=256?d=1:r.number<=65536&&(d=2);const f=[];let g,m;for(g=0;g<c;g++){let e;e=1===d?t[u]:2===d?(0,i.readUint16)(t,u):(0,i.readUint32)(t,u),f.push(e),u+=d}if(r.referredTo=f,s?(r.pageAssociation=(0,i.readUint32)(t,u),u+=4):r.pageAssociation=t[u++],r.length=(0,i.readUint32)(t,u),u+=4,4294967295===r.length){if(38!==o)throw new a("invalid unknown segment length");{const e=S(t,u),n=!!(1&t[u+k]),i=6,o=new Uint8Array(i);for(n||(o[0]=255,o[1]=172),o[2]=e.height>>>24&255,o[3]=e.height>>16&255,o[4]=e.height>>8&255,o[5]=255&e.height,g=u,m=t.length;g<m;g++){let e=0;for(;e<i&&o[e]===t[g+e];)e++;if(e===i){r.length=g+i;break}}if(4294967295===r.length)throw new a("segment end was not found")}}return r.headerEnd=u,r}function x(t,e,r,n){const i=[];let o=r;for(;o<n;){const r=w(e,o);o=r.headerEnd;const n={header:r,data:e};if(t.randomAccess||(n.start=o,o+=r.length,n.end=o),i.push(n),51===r.type)break}if(t.randomAccess)for(let t=0,e=i.length;t<e;t++)i[t].start=o,o+=i[t].header.length,i[t].end=o;return i}function S(t,e){return{width:(0,i.readUint32)(t,e),height:(0,i.readUint32)(t,e+4),x:(0,i.readUint32)(t,e+8),y:(0,i.readUint32)(t,e+12),combinationOperator:7&t[e+16]}}const k=17;function A(t,e){const r=t.header,n=t.data,o=t.end;let s,l,c,h,u=t.start;switch(r.type){case 0:const t={},e=(0,i.readUint16)(n,u);if(t.huffman=!!(1&e),t.refinement=!!(2&e),t.huffmanDHSelector=e>>2&3,t.huffmanDWSelector=e>>4&3,t.bitmapSizeSelector=e>>6&1,t.aggregationInstancesSelector=e>>7&1,t.bitmapCodingContextUsed=!!(256&e),t.bitmapCodingContextRetained=!!(512&e),t.template=e>>10&3,t.refinementTemplate=e>>12&1,u+=2,!t.huffman){for(h=0===t.template?4:1,l=[],c=0;c<h;c++)l.push({x:(0,i.readInt8)(n,u),y:(0,i.readInt8)(n,u+1)}),u+=2;t.at=l}if(t.refinement&&!t.refinementTemplate){for(l=[],c=0;c<2;c++)l.push({x:(0,i.readInt8)(n,u),y:(0,i.readInt8)(n,u+1)}),u+=2;t.refinementAt=l}t.numberOfExportedSymbols=(0,i.readUint32)(n,u),u+=4,t.numberOfNewSymbols=(0,i.readUint32)(n,u),u+=4,s=[t,r.number,r.referredTo,n,u,o];break;case 6:case 7:const p={};p.info=S(n,u),u+=k;const d=(0,i.readUint16)(n,u);if(u+=2,p.huffman=!!(1&d),p.refinement=!!(2&d),p.logStripSize=d>>2&3,p.stripSize=1<<p.logStripSize,p.referenceCorner=d>>4&3,p.transposed=!!(64&d),p.combinationOperator=d>>7&3,p.defaultPixelValue=d>>9&1,p.dsOffset=d<<17>>27,p.refinementTemplate=d>>15&1,p.huffman){const t=(0,i.readUint16)(n,u);u+=2,p.huffmanFS=3&t,p.huffmanDS=t>>2&3,p.huffmanDT=t>>4&3,p.huffmanRefinementDW=t>>6&3,p.huffmanRefinementDH=t>>8&3,p.huffmanRefinementDX=t>>10&3,p.huffmanRefinementDY=t>>12&3,p.huffmanRefinementSizeSelector=!!(16384&t)}if(p.refinement&&!p.refinementTemplate){for(l=[],c=0;c<2;c++)l.push({x:(0,i.readInt8)(n,u),y:(0,i.readInt8)(n,u+1)}),u+=2;p.refinementAt=l}p.numberOfSymbolInstances=(0,i.readUint32)(n,u),u+=4,s=[p,r.referredTo,n,u,o];break;case 16:const f={},g=n[u++];f.mmr=!!(1&g),f.template=g>>1&3,f.patternWidth=n[u++],f.patternHeight=n[u++],f.maxPatternIndex=(0,i.readUint32)(n,u),u+=4,s=[f,r.number,n,u,o];break;case 22:case 23:const m={};m.info=S(n,u),u+=k;const y=n[u++];m.mmr=!!(1&y),m.template=y>>1&3,m.enableSkip=!!(8&y),m.combinationOperator=y>>4&7,m.defaultPixelValue=y>>7&1,m.gridWidth=(0,i.readUint32)(n,u),u+=4,m.gridHeight=(0,i.readUint32)(n,u),u+=4,m.gridOffsetX=4294967295&(0,i.readUint32)(n,u),u+=4,m.gridOffsetY=4294967295&(0,i.readUint32)(n,u),u+=4,m.gridVectorX=(0,i.readUint16)(n,u),u+=2,m.gridVectorY=(0,i.readUint16)(n,u),u+=2,s=[m,r.referredTo,n,u,o];break;case 38:case 39:const v={};v.info=S(n,u),u+=k;const b=n[u++];if(v.mmr=!!(1&b),v.template=b>>1&3,v.prediction=!!(8&b),!v.mmr){for(h=0===v.template?4:1,l=[],c=0;c<h;c++)l.push({x:(0,i.readInt8)(n,u),y:(0,i.readInt8)(n,u+1)}),u+=2;v.at=l}s=[v,n,u,o];break;case 48:const w={width:(0,i.readUint32)(n,u),height:(0,i.readUint32)(n,u+4),resolutionX:(0,i.readUint32)(n,u+8),resolutionY:(0,i.readUint32)(n,u+12)};4294967295===w.height&&delete w.height;const x=n[u+16];(0,i.readUint16)(n,u+17),w.lossless=!!(1&x),w.refinement=!!(2&x),w.defaultPixelValue=x>>2&1,w.combinationOperator=x>>3&3,w.requiresBuffer=!!(32&x),w.combinationOperatorOverride=!!(64&x),s=[w];break;case 49:case 50:case 51:case 62:break;case 53:s=[r.number,n,u,o];break;default:throw new a(`segment type ${r.typeName}(${r.type}) is not implemented`)}const p="on"+r.typeName;p in e&&e[p].apply(e,s)}function C(t,e){for(let r=0,n=t.length;r<n;r++)A(t[r],e)}class _{onPageInformation(t){this.currentPageInfo=t;const e=t.width+7>>3,r=new Uint8ClampedArray(e*t.height);t.defaultPixelValue&&r.fill(255),this.buffer=r}drawBitmap(t,e){const r=this.currentPageInfo,n=t.width,i=t.height,o=r.width+7>>3,s=r.combinationOperatorOverride?t.combinationOperator:r.combinationOperator,l=this.buffer,c=128>>(7&t.x);let h,u,p,d,f=t.y*o+(t.x>>3);switch(s){case 0:for(h=0;h<i;h++){for(p=c,d=f,u=0;u<n;u++)e[h][u]&&(l[d]|=p),p>>=1,p||(p=128,d++);f+=o}break;case 2:for(h=0;h<i;h++){for(p=c,d=f,u=0;u<n;u++)e[h][u]&&(l[d]^=p),p>>=1,p||(p=128,d++);f+=o}break;default:throw new a(`operator ${s} is not supported`)}}onImmediateGenericRegion(t,e,r,n){const i=t.info,o=new c(e,r,n),s=y(t.mmr,i.width,i.height,t.template,t.prediction,null,t.at,o);this.drawBitmap(i,s)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion.apply(this,arguments)}onSymbolDictionary(t,e,r,n,o,s){let l,p;t.huffman&&(l=function(t,e,r){let n,i,o,s,l=0;switch(t.huffmanDHSelector){case 0:case 1:n=P(t.huffmanDHSelector+4);break;case 3:n=F(l,e,r),l++;break;default:throw new a("invalid Huffman DH selector")}switch(t.huffmanDWSelector){case 0:case 1:i=P(t.huffmanDWSelector+2);break;case 3:i=F(l,e,r),l++;break;default:throw new a("invalid Huffman DW selector")}return t.bitmapSizeSelector?(o=F(l,e,r),l++):o=P(1),s=t.aggregationInstancesSelector?F(l,e,r):P(1),{tableDeltaHeight:n,tableDeltaWidth:i,tableBitmapSize:o,tableAggregateInstances:s}}(t,r,this.customTables),p=new I(n,o,s));let d=this.symbols;d||(this.symbols=d={});let f=[];for(let t=0,e=r.length;t<e;t++){const e=d[r[t]];e&&(f=f.concat(e))}const g=new c(n,o,s);d[e]=function(t,e,r,n,o,s,l,c,p,d,f,g){if(t&&e)throw new a("symbol refinement with Huffman is not supported");const m=[];let w=0,x=(0,i.log2)(r.length+n);const S=f.decoder,k=f.contextCache;let A,C;for(t&&(A=P(1),C=[],x=Math.max(x,1));m.length<n;){w+=t?s.tableDeltaHeight.decode(g):h(k,"IADH",S);let n=0,i=0;const o=t?C.length:0;for(;;){const o=t?s.tableDeltaWidth.decode(g):h(k,"IADW",S);if(null===o)break;let a;if(n+=o,i+=n,e){const i=h(k,"IAAI",S);if(i>1)a=b(t,e,n,w,0,i,1,r.concat(m),x,0,0,1,0,s,p,d,f,0,g);else{const t=u(k,S,x),e=h(k,"IARDX",S),i=h(k,"IARDY",S);a=v(n,w,p,t<r.length?r[t]:m[t-r.length],e,i,!1,d,f)}m.push(a)}else t?C.push(n):(a=y(!1,n,w,l,!1,null,c,f),m.push(a))}if(t&&!e){const t=s.tableBitmapSize.decode(g);let e;if(g.byteAlign(),0===t)e=D(g,i,w);else{const r=g.end,n=g.position+t;g.end=n,e=R(g,i,w,!1),g.end=r,g.position=n}const r=C.length;if(o===r-1)m.push(e);else{let t,n,i,s,a,l=0;for(t=o;t<r;t++){for(s=C[t],i=l+s,a=[],n=0;n<w;n++)a.push(e[n].subarray(l,i));m.push(a),l=i}}}}const _=[],T=[];let O,M,E=!1;const I=r.length+n;for(;T.length<I;){let e=t?A.decode(g):h(k,"IAEX",S);for(;e--;)T.push(E);E=!E}for(O=0,M=r.length;O<M;O++)T[O]&&_.push(r[O]);for(let t=0;t<n;O++,t++)T[O]&&_.push(m[t]);return _}(t.huffman,t.refinement,f,t.numberOfNewSymbols,t.numberOfExportedSymbols,l,t.template,t.at,t.refinementTemplate,t.refinementAt,g,p)}onImmediateTextRegion(t,e,r,n,o){const s=t.info;let l,h;const u=this.symbols;let p=[];for(let t=0,r=e.length;t<r;t++){const r=u[e[t]];r&&(p=p.concat(r))}const d=(0,i.log2)(p.length);t.huffman&&(h=new I(r,n,o),l=function(t,e,r,n,i){const o=[];for(let t=0;t<=34;t++){const e=i.readBits(4);o.push(new T([t,e,0,0]))}const s=new M(o,!1);o.length=0;for(let t=0;t<n;){const e=s.decode(i);if(e>=32){let r,n,s;switch(e){case 32:if(0===t)throw new a("no previous value in symbol ID table");n=i.readBits(2)+3,r=o[t-1].prefixLength;break;case 33:n=i.readBits(3)+3,r=0;break;case 34:n=i.readBits(7)+11,r=0;break;default:throw new a("invalid code length in symbol ID table")}for(s=0;s<n;s++)o.push(new T([t,r,0,0])),t++}else o.push(new T([t,e,0,0])),t++}i.byteAlign();const l=new M(o,!1);let c,h,u,p=0;switch(t.huffmanFS){case 0:case 1:c=P(t.huffmanFS+6);break;case 3:c=F(p,e,r),p++;break;default:throw new a("invalid Huffman FS selector")}switch(t.huffmanDS){case 0:case 1:case 2:h=P(t.huffmanDS+8);break;case 3:h=F(p,e,r),p++;break;default:throw new a("invalid Huffman DS selector")}switch(t.huffmanDT){case 0:case 1:case 2:u=P(t.huffmanDT+11);break;case 3:u=F(p,e,r),p++;break;default:throw new a("invalid Huffman DT selector")}if(t.refinement)throw new a("refinement with Huffman is not supported");return{symbolIDTable:l,tableFirstS:c,tableDeltaS:h,tableDeltaT:u}}(t,e,this.customTables,p.length,h));const f=new c(r,n,o),g=b(t.huffman,t.refinement,s.width,s.height,t.defaultPixelValue,t.numberOfSymbolInstances,t.stripSize,p,d,t.transposed,t.dsOffset,t.referenceCorner,t.combinationOperator,l,t.refinementTemplate,t.refinementAt,f,t.logStripSize,h);this.drawBitmap(s,g)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion.apply(this,arguments)}onPatternDictionary(t,e,r,n,i){let o=this.patterns;o||(this.patterns=o={});const s=new c(r,n,i);o[e]=function(t,e,r,n,i,o){const s=[];t||(s.push({x:-e,y:0}),0===i&&s.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const a=y(t,(n+1)*e,r,i,!1,null,s,o),l=[];for(let t=0;t<=n;t++){const n=[],i=e*t,o=i+e;for(let t=0;t<r;t++)n.push(a[t].subarray(i,o));l.push(n)}return l}(t.mmr,t.patternWidth,t.patternHeight,t.maxPatternIndex,t.template,s)}onImmediateHalftoneRegion(t,e,r,n,o){const s=this.patterns[e[0]],l=t.info,h=new c(r,n,o),u=function(t,e,r,n,o,s,l,c,h,u,p,d,f,g,m){if(l)throw new a("skip is not supported");if(0!==c)throw new a(`operator "${c}" is not supported in halftone region`);const v=[];let b,w,x;for(b=0;b<o;b++){if(x=new Uint8Array(n),s)for(w=0;w<n;w++)x[w]=s;v.push(x)}const S=e.length,k=e[0],A=k[0].length,C=k.length,_=(0,i.log2)(S),T=[];t||(T.push({x:r<=1?3:2,y:-1}),0===r&&T.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const O=[];let M,E,P,F,D,L,N,B,j,z,U;for(t&&(M=new I(m.data,m.start,m.end)),b=_-1;b>=0;b--)E=t?R(M,h,u,!0):y(!1,h,u,r,!1,null,T,m),O[b]=E;for(P=0;P<u;P++)for(F=0;F<h;F++){for(D=0,L=0,w=_-1;w>=0;w--)D^=O[w][P][F],L|=D<<w;if(N=e[L],B=p+P*g+F*f>>8,j=d+P*f-F*g>>8,B>=0&&B+A<=n&&j>=0&&j+C<=o)for(b=0;b<C;b++)for(U=v[j+b],z=N[b],w=0;w<A;w++)U[B+w]|=z[w];else{let t,e;for(b=0;b<C;b++)if(e=j+b,!(e<0||e>=o))for(U=v[e],z=N[b],w=0;w<A;w++)t=B+w,t>=0&&t<n&&(U[t]|=z[w])}}return v}(t.mmr,s,t.template,l.width,l.height,t.defaultPixelValue,t.enableSkip,t.combinationOperator,t.gridWidth,t.gridHeight,t.gridOffsetX,t.gridOffsetY,t.gridVectorX,t.gridVectorY,h);this.drawBitmap(l,u)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion.apply(this,arguments)}onTables(t,e,r,n){let o=this.customTables;o||(this.customTables=o={}),o[t]=function(t,e,r){const n=t[e],o=4294967295&(0,i.readUint32)(t,e+1),s=4294967295&(0,i.readUint32)(t,e+5),a=new I(t,e+9,r),l=1+(n>>1&7),c=1+(n>>4&7),h=[];let u,p,d=o;do{u=a.readBits(l),p=a.readBits(c),h.push(new T([d,u,p,0])),d+=1<<p}while(d<s);return u=a.readBits(l),h.push(new T([o-1,u,32,0,"lower"])),u=a.readBits(l),h.push(new T([s,u,32,0])),1&n&&(u=a.readBits(l),h.push(new T([u,0]))),new M(h,!1)}(e,r,n)}}class T{constructor(t){2===t.length?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=t[0],this.rangeLength=0,this.prefixCode=t[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=t[0],this.prefixLength=t[1],this.rangeLength=t[2],this.prefixCode=t[3],this.isLowerRange="lower"===t[4])}}class O{constructor(t){this.children=[],t?(this.isLeaf=!0,this.rangeLength=t.rangeLength,this.rangeLow=t.rangeLow,this.isLowerRange=t.isLowerRange,this.isOOB=t.isOOB):this.isLeaf=!1}buildTree(t,e){const r=t.prefixCode>>e&1;if(e<=0)this.children[r]=new O(t);else{let n=this.children[r];n||(this.children[r]=n=new O(null)),n.buildTree(t,e-1)}}decodeNode(t){if(this.isLeaf){if(this.isOOB)return null;const e=t.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-e:e)}const e=this.children[t.readBit()];if(!e)throw new a("invalid Huffman data");return e.decodeNode(t)}}class M{constructor(t,e){e||this.assignPrefixCodes(t),this.rootNode=new O(null);for(let e=0,r=t.length;e<r;e++){const r=t[e];r.prefixLength>0&&this.rootNode.buildTree(r,r.prefixLength-1)}}decode(t){return this.rootNode.decodeNode(t)}assignPrefixCodes(t){const e=t.length;let r=0;for(let n=0;n<e;n++)r=Math.max(r,t[n].prefixLength);const n=new Uint32Array(r+1);for(let r=0;r<e;r++)n[t[r].prefixLength]++;let i,o,s,a=1,l=0;for(n[0]=0;a<=r;){for(l=l+n[a-1]<<1,i=l,o=0;o<e;)s=t[o],s.prefixLength===a&&(s.prefixCode=i,i++),o++;a++}}}const E={};function P(t){let e,r=E[t];if(r)return r;switch(t){case 1:e=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:e=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:e=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:e=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:e=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:e=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:e=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:e=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:e=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:e=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:e=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:e=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:e=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:e=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:e=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new a(`standard table B.${t} does not exist`)}for(let t=0,r=e.length;t<r;t++)e[t]=new T(e[t]);return r=new M(e,!0),E[t]=r,r}class I{constructor(t,e,r){this.data=t,this.start=e,this.end=r,this.position=e,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new a("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const t=this.currentByte>>this.shift&1;return this.shift--,t}readBits(t){let e,r=0;for(e=t-1;e>=0;e--)r|=this.readBit()<<e;return r}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function F(t,e,r){let n=0;for(let i=0,o=e.length;i<o;i++){const o=r[e[i]];if(o){if(t===n)return o;n++}}throw new a("can't find custom Huffman table")}function D(t,e,r){const n=[];for(let i=0;i<r;i++){const r=new Uint8Array(e);n.push(r);for(let n=0;n<e;n++)r[n]=t.readBit();t.byteAlign()}return n}function R(t,e,r,n){const i={K:-1,Columns:e,Rows:r,BlackIs1:!0,EndOfBlock:n},o=new s.CCITTFaxDecoder(t,i),a=[];let l,c=!1;for(let t=0;t<r;t++){const t=new Uint8Array(e);a.push(t);let r=-1;for(let n=0;n<e;n++)r<0&&(l=o.readNextChar(),-1===l&&(l=0,c=!0),r=7),t[n]=l>>r&1,r--}if(n&&!c){const t=5;for(let e=0;e<t&&-1!==o.readNextChar();e++);}return a}e.Jbig2Image=class{parseChunks(t){return function(t){const e=new _;for(let r=0,n=t.length;r<n;r++){const n=t[r];C(x({},n.data,n.start,n.end),e)}return e.buffer}(t)}parse(t){const{imgData:e,width:r,height:n}=function(t){const e=t.length;let r=0;if(151!==t[r]||74!==t[r+1]||66!==t[r+2]||50!==t[r+3]||13!==t[r+4]||10!==t[r+5]||26!==t[r+6]||10!==t[r+7])throw new a("parseJbig2 - invalid header.");const n=Object.create(null);r+=8;const o=t[r++];n.randomAccess=!(1&o),2&o||(n.numberOfPages=(0,i.readUint32)(t,r),r+=4);const s=x(n,t,r,e),l=new _;C(s,l);const{width:c,height:h}=l.currentPageInfo,u=l.buffer,p=new Uint8ClampedArray(c*h);let d=0,f=0;for(let t=0;t<h;t++){let t,e=0;for(let r=0;r<c;r++)e||(e=128,t=u[f++]),p[d++]=t&e?0:255,e>>=1}return{imgData:p,width:c,height:h}}(t);return this.width=r,this.height=n,e}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ArithmeticDecoder=void 0;const r=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];e.ArithmeticDecoder=class{constructor(t,e,r){this.data=t,this.bp=e,this.dataEnd=r,this.chigh=t[e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const t=this.data;let e=this.bp;255===t[e]?t[e+1]>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=t[e]<<9,this.ct=7,this.bp=e):(e++,this.clow+=e<this.dataEnd?t[e]<<8:65280,this.ct=8,this.bp=e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(t,e){let n=t[e]>>1,i=1&t[e];const o=r[n],s=o.qe;let a,l=this.a-s;if(this.chigh<s)l<s?(l=s,a=i,n=o.nmps):(l=s,a=1^i,1===o.switchFlag&&(i=a),n=o.nlps);else{if(this.chigh-=s,0!=(32768&l))return this.a=l,i;l<s?(a=1^i,1===o.switchFlag&&(i=a),n=o.nlps):(a=i,n=o.nmps)}do{0===this.ct&&this.byteIn(),l<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(0==(32768&l));return this.a=l,t[e]=n<<1|i,a}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JpegStream=void 0;var n=r(29),i=r(5),o=r(38),s=r(2);class a extends n.DecodeStream{constructor(t,e,r){let n;for(;-1!==(n=t.getByte());)if(255===n){t.skip(-1);break}super(e),this.stream=t,this.dict=t.dict,this.maybeLength=e,this.params=r}get bytes(){return(0,s.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(t){}readBlock(){if(this.eof)return;const t={decodeTransform:void 0,colorTransform:void 0},e=this.dict.getArray("D","Decode");if(this.forceRGB&&Array.isArray(e)){const r=this.dict.get("BPC","BitsPerComponent")||8,n=e.length,i=new Int32Array(n);let o=!1;const s=(1<<r)-1;for(let t=0;t<n;t+=2)i[t]=256*(e[t+1]-e[t])|0,i[t+1]=e[t]*s|0,256===i[t]&&0===i[t+1]||(o=!0);o&&(t.decodeTransform=i)}if(this.params instanceof i.Dict){const e=this.params.get("ColorTransform");Number.isInteger(e)&&(t.colorTransform=e)}const r=new o.JpegImage(t);r.parse(this.bytes);const n=r.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=n,this.bufferLength=n.length,this.eof=!0}}e.JpegStream=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JpegImage=void 0;var n=r(2),i=r(8);class o extends n.BaseException{constructor(t){super(`JPEG error: ${t}`,"JpegError")}}class s extends n.BaseException{constructor(t,e){super(t,"DNLMarkerError"),this.scanLines=e}}class a extends n.BaseException{constructor(t){super(t,"EOIMarkerError")}}const l=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),c=4017,h=799,u=3406,p=2276,d=1567,f=3784,g=5793,m=2896;function y(t,e){let r,n,i=0,o=16;for(;o>0&&!t[o-1];)o--;const s=[{children:[],index:0}];let a,l=s[0];for(r=0;r<o;r++){for(n=0;n<t[r];n++){for(l=s.pop(),l.children[l.index]=e[i];l.index>0;)l=s.pop();for(l.index++,s.push(l);s.length<=r;)s.push(a={children:[],index:0}),l.children[l.index]=a.children,l=a;i++}r+1<o&&(s.push(a={children:[],index:0}),l.children[l.index]=a.children,l=a)}return s[0].children}function v(t,e,r){return 64*((t.blocksPerLine+1)*e+r)}function b(t,e,r,c,h,u,p,d,f,g=!1){const m=r.mcusPerLine,y=r.progressive,b=e;let w=0,x=0;function k(){if(x>0)return x--,w>>x&1;if(w=t[e++],255===w){const n=t[e++];if(n){if(220===n&&g){e+=2;const n=(0,i.readUint16)(t,e);if(e+=2,n>0&&n!==r.scanLines)throw new s("Found DNL marker (0xFFDC) while parsing scan data",n)}else if(217===n){if(g){const t=E*(8===r.precision?8:0);if(t>0&&Math.round(r.scanLines/t)>=10)throw new s("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",t)}throw new a("Found EOI marker (0xFFD9) while parsing scan data")}throw new o(`unexpected marker ${(w<<8|n).toString(16)}`)}}return x=7,w>>>7}function A(t){let e=t;for(;;){switch(e=e[k()],typeof e){case"number":return e;case"object":continue}throw new o("invalid huffman sequence")}}function C(t){let e=0;for(;t>0;)e=e<<1|k(),t--;return e}function _(t){if(1===t)return 1===k()?1:-1;const e=C(t);return e>=1<<t-1?e:e+(-1<<t)+1}let T,O=0,M=0,E=0;function P(t,e,r,n,i){const o=r%m;E=(r/m|0)*t.v+n;const s=o*t.h+i;e(t,v(t,E,s))}function I(t,e,r){E=r/t.blocksPerLine|0;const n=r%t.blocksPerLine;e(t,v(t,E,n))}const F=c.length;let D,R,L,N,B,j;j=y?0===u?0===d?function(t,e){const r=A(t.huffmanTableDC),n=0===r?0:_(r)<<f;t.blockData[e]=t.pred+=n}:function(t,e){t.blockData[e]|=k()<<f}:0===d?function(t,e){if(O>0)return void O--;let r=u;const n=p;for(;r<=n;){const n=A(t.huffmanTableAC),i=15&n,o=n>>4;if(0===i){if(o<15){O=C(o)+(1<<o)-1;break}r+=16;continue}r+=o;const s=l[r];t.blockData[e+s]=_(i)*(1<<f),r++}}:function(t,e){let r=u;const n=p;let i,s,a=0;for(;r<=n;){const n=e+l[r],c=t.blockData[n]<0?-1:1;switch(M){case 0:if(s=A(t.huffmanTableAC),i=15&s,a=s>>4,0===i)a<15?(O=C(a)+(1<<a),M=4):(a=16,M=1);else{if(1!==i)throw new o("invalid ACn encoding");T=_(i),M=a?2:3}continue;case 1:case 2:t.blockData[n]?t.blockData[n]+=c*(k()<<f):(a--,0===a&&(M=2===M?3:0));break;case 3:t.blockData[n]?t.blockData[n]+=c*(k()<<f):(t.blockData[n]=T<<f,M=0);break;case 4:t.blockData[n]&&(t.blockData[n]+=c*(k()<<f))}r++}4===M&&(O--,0===O&&(M=0))}:function(t,e){const r=A(t.huffmanTableDC),n=0===r?0:_(r);t.blockData[e]=t.pred+=n;let i=1;for(;i<64;){const r=A(t.huffmanTableAC),n=15&r,o=r>>4;if(0===n){if(o<15)break;i+=16;continue}i+=o;const s=l[i];t.blockData[e+s]=_(n),i++}};let z,U,$,H,V=0;for(U=1===F?c[0].blocksPerLine*c[0].blocksPerColumn:m*r.mcusPerColumn;V<=U;){const r=h?Math.min(U-V,h):U;if(r>0){for(R=0;R<F;R++)c[R].pred=0;if(O=0,1===F)for(D=c[0],B=0;B<r;B++)I(D,j,V),V++;else for(B=0;B<r;B++){for(R=0;R<F;R++)for(D=c[R],$=D.h,H=D.v,L=0;L<H;L++)for(N=0;N<$;N++)P(D,j,V,L,N);V++}}if(x=0,z=S(t,e),!z)break;if(z.invalid){const t=r>0?"unexpected":"excessive";(0,n.warn)(`decodeScan - ${t} MCU data, current marker is: ${z.invalid}`),e=z.offset}if(!(z.marker>=65488&&z.marker<=65495))break;e+=2}return e-b}function w(t,e,r){const n=t.quantizationTable,i=t.blockData;let s,a,l,y,v,b,w,x,S,k,A,C,_,T,O,M,E;if(!n)throw new o("missing required Quantization Table.");for(let t=0;t<64;t+=8)S=i[e+t],k=i[e+t+1],A=i[e+t+2],C=i[e+t+3],_=i[e+t+4],T=i[e+t+5],O=i[e+t+6],M=i[e+t+7],S*=n[t],0!=(k|A|C|_|T|O|M)?(k*=n[t+1],A*=n[t+2],C*=n[t+3],_*=n[t+4],T*=n[t+5],O*=n[t+6],M*=n[t+7],s=g*S+128>>8,a=g*_+128>>8,l=A,y=O,v=m*(k-M)+128>>8,x=m*(k+M)+128>>8,b=C<<4,w=T<<4,s=s+a+1>>1,a=s-a,E=l*f+y*d+128>>8,l=l*d-y*f+128>>8,y=E,v=v+w+1>>1,w=v-w,x=x+b+1>>1,b=x-b,s=s+y+1>>1,y=s-y,a=a+l+1>>1,l=a-l,E=v*p+x*u+2048>>12,v=v*u-x*p+2048>>12,x=E,E=b*h+w*c+2048>>12,b=b*c-w*h+2048>>12,w=E,r[t]=s+x,r[t+7]=s-x,r[t+1]=a+w,r[t+6]=a-w,r[t+2]=l+b,r[t+5]=l-b,r[t+3]=y+v,r[t+4]=y-v):(E=g*S+512>>10,r[t]=E,r[t+1]=E,r[t+2]=E,r[t+3]=E,r[t+4]=E,r[t+5]=E,r[t+6]=E,r[t+7]=E);for(let t=0;t<8;++t)S=r[t],k=r[t+8],A=r[t+16],C=r[t+24],_=r[t+32],T=r[t+40],O=r[t+48],M=r[t+56],0!=(k|A|C|_|T|O|M)?(s=g*S+2048>>12,a=g*_+2048>>12,l=A,y=O,v=m*(k-M)+2048>>12,x=m*(k+M)+2048>>12,b=C,w=T,s=4112+(s+a+1>>1),a=s-a,E=l*f+y*d+2048>>12,l=l*d-y*f+2048>>12,y=E,v=v+w+1>>1,w=v-w,x=x+b+1>>1,b=x-b,s=s+y+1>>1,y=s-y,a=a+l+1>>1,l=a-l,E=v*p+x*u+2048>>12,v=v*u-x*p+2048>>12,x=E,E=b*h+w*c+2048>>12,b=b*c-w*h+2048>>12,w=E,S=s+x,M=s-x,k=a+w,O=a-w,A=l+b,T=l-b,C=y+v,_=y-v,S<16?S=0:S>=4080?S=255:S>>=4,k<16?k=0:k>=4080?k=255:k>>=4,A<16?A=0:A>=4080?A=255:A>>=4,C<16?C=0:C>=4080?C=255:C>>=4,_<16?_=0:_>=4080?_=255:_>>=4,T<16?T=0:T>=4080?T=255:T>>=4,O<16?O=0:O>=4080?O=255:O>>=4,M<16?M=0:M>=4080?M=255:M>>=4,i[e+t]=S,i[e+t+8]=k,i[e+t+16]=A,i[e+t+24]=C,i[e+t+32]=_,i[e+t+40]=T,i[e+t+48]=O,i[e+t+56]=M):(E=g*S+8192>>14,E=E<-2040?0:E>=2024?255:E+2056>>4,i[e+t]=E,i[e+t+8]=E,i[e+t+16]=E,i[e+t+24]=E,i[e+t+32]=E,i[e+t+40]=E,i[e+t+48]=E,i[e+t+56]=E)}function x(t,e){const r=e.blocksPerLine,n=e.blocksPerColumn,i=new Int16Array(64);for(let t=0;t<n;t++)for(let n=0;n<r;n++)w(e,v(e,t,n),i);return e.blockData}function S(t,e,r=e){const n=t.length-1;let o=r<e?r:e;if(e>=n)return null;const s=(0,i.readUint16)(t,e);if(s>=65472&&s<=65534)return{invalid:null,marker:s,offset:e};let a=(0,i.readUint16)(t,o);for(;!(a>=65472&&a<=65534);){if(++o>=n)return null;a=(0,i.readUint16)(t,o)}return{invalid:s.toString(16),marker:a,offset:o}}e.JpegImage=class{constructor({decodeTransform:t=null,colorTransform:e=-1}={}){this._decodeTransform=t,this._colorTransform=e}parse(t,{dnlScanLines:e=null}={}){function r(){const e=(0,i.readUint16)(t,p);p+=2;let r=p+e-2;const o=S(t,r,p);o&&o.invalid&&((0,n.warn)("readDataBlock - incorrect length, current marker is: "+o.invalid),r=o.offset);const s=t.subarray(p,r);return p+=s.length,s}function c(t){const e=Math.ceil(t.samplesPerLine/8/t.maxH),r=Math.ceil(t.scanLines/8/t.maxV);for(let n=0,i=t.components.length;n<i;n++){const i=t.components[n],o=Math.ceil(Math.ceil(t.samplesPerLine/8)*i.h/t.maxH),s=Math.ceil(Math.ceil(t.scanLines/8)*i.v/t.maxV),a=e*i.h,l=r*i.v*64*(a+1);i.blockData=new Int16Array(l),i.blocksPerLine=o,i.blocksPerColumn=s}t.mcusPerLine=e,t.mcusPerColumn=r}let h,u,p=0,d=null,f=null,g=0;const m=[],v=[],w=[];let k=(0,i.readUint16)(t,p);if(p+=2,65496!==k)throw new o("SOI not found");k=(0,i.readUint16)(t,p),p+=2;t:for(;65497!==k;){let x,A,C;switch(k){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const _=r();65504===k&&74===_[0]&&70===_[1]&&73===_[2]&&70===_[3]&&0===_[4]&&(d={version:{major:_[5],minor:_[6]},densityUnits:_[7],xDensity:_[8]<<8|_[9],yDensity:_[10]<<8|_[11],thumbWidth:_[12],thumbHeight:_[13],thumbData:_.subarray(14,14+3*_[12]*_[13])}),65518===k&&65===_[0]&&100===_[1]&&111===_[2]&&98===_[3]&&101===_[4]&&(f={version:_[5]<<8|_[6],flags0:_[7]<<8|_[8],flags1:_[9]<<8|_[10],transformCode:_[11]});break;case 65499:const T=(0,i.readUint16)(t,p);p+=2;const O=T+p-2;let M;for(;p<O;){const e=t[p++],r=new Uint16Array(64);if(e>>4==0)for(A=0;A<64;A++)M=l[A],r[M]=t[p++];else{if(e>>4!=1)throw new o("DQT - invalid table spec");for(A=0;A<64;A++)M=l[A],r[M]=(0,i.readUint16)(t,p),p+=2}m[15&e]=r}break;case 65472:case 65473:case 65474:if(h)throw new o("Only single frame JPEGs supported");p+=2,h={},h.extended=65473===k,h.progressive=65474===k,h.precision=t[p++];const E=(0,i.readUint16)(t,p);p+=2,h.scanLines=e||E,h.samplesPerLine=(0,i.readUint16)(t,p),p+=2,h.components=[],h.componentIds={};const P=t[p++];let I=0,F=0;for(x=0;x<P;x++){const e=t[p],r=t[p+1]>>4,n=15&t[p+1];I<r&&(I=r),F<n&&(F=n);const i=t[p+2];C=h.components.push({h:r,v:n,quantizationId:i,quantizationTable:null}),h.componentIds[e]=C-1,p+=3}h.maxH=I,h.maxV=F,c(h);break;case 65476:const D=(0,i.readUint16)(t,p);for(p+=2,x=2;x<D;){const e=t[p++],r=new Uint8Array(16);let n=0;for(A=0;A<16;A++,p++)n+=r[A]=t[p];const i=new Uint8Array(n);for(A=0;A<n;A++,p++)i[A]=t[p];x+=17+n,(e>>4==0?w:v)[15&e]=y(r,i)}break;case 65501:p+=2,u=(0,i.readUint16)(t,p),p+=2;break;case 65498:const R=1==++g&&!e;p+=2;const L=t[p++],N=[];for(x=0;x<L;x++){const e=t[p++],r=h.componentIds[e],n=h.components[r];n.index=e;const i=t[p++];n.huffmanTableDC=w[i>>4],n.huffmanTableAC=v[15&i],N.push(n)}const B=t[p++],j=t[p++],z=t[p++];try{const e=b(t,p,h,N,u,B,j,z>>4,15&z,R);p+=e}catch(e){if(e instanceof s)return(0,n.warn)(`${e.message} -- attempting to re-parse the JPEG image.`),this.parse(t,{dnlScanLines:e.scanLines});if(e instanceof a){(0,n.warn)(`${e.message} -- ignoring the rest of the image data.`);break t}throw e}break;case 65500:p+=4;break;case 65535:255!==t[p]&&p--;break;default:const U=S(t,p-2,p-3);if(U&&U.invalid){(0,n.warn)("JpegImage.parse - unexpected data, current marker is: "+U.invalid),p=U.offset;break}if(!U||p>=t.length-1){(0,n.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break t}throw new o("JpegImage.parse - unknown marker: "+k.toString(16))}k=(0,i.readUint16)(t,p),p+=2}this.width=h.samplesPerLine,this.height=h.scanLines,this.jfif=d,this.adobe=f,this.components=[];for(let t=0,e=h.components.length;t<e;t++){const e=h.components[t],r=m[e.quantizationId];r&&(e.quantizationTable=r),this.components.push({index:e.index,output:x(0,e),scaleX:e.h/h.maxH,scaleY:e.v/h.maxV,blocksPerLine:e.blocksPerLine,blocksPerColumn:e.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(t,e,r=!1){const n=this.width/t,i=this.height/e;let o,s,a,l,c,h,u,p,d,f,g,m=0;const y=this.components.length,v=t*e*y,b=new Uint8ClampedArray(v),w=new Uint32Array(t),x=4294967288;let S;for(u=0;u<y;u++){if(o=this.components[u],s=o.scaleX*n,a=o.scaleY*i,m=u,g=o.output,l=o.blocksPerLine+1<<3,s!==S){for(c=0;c<t;c++)p=0|c*s,w[c]=(p&x)<<3|7&p;S=s}for(h=0;h<e;h++)for(p=0|h*a,f=l*(p&x)|(7&p)<<3,c=0;c<t;c++)b[m]=g[f+w[c]],m+=y}let k=this._decodeTransform;if(r||4!==y||k||(k=new Int32Array([-256,255,-256,255,-256,255,-256,255])),k)for(u=0;u<v;)for(p=0,d=0;p<y;p++,u++,d+=2)b[u]=(b[u]*k[d]>>8)+k[d+1];return b}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform&&(82!==this.components[0].index||71!==this.components[1].index||66!==this.components[2].index):1===this._colorTransform}_convertYccToRgb(t){let e,r,n;for(let i=0,o=t.length;i<o;i+=3)e=t[i],r=t[i+1],n=t[i+2],t[i]=e-179.456+1.402*n,t[i+1]=e+135.459-.344*r-.714*n,t[i+2]=e-226.816+1.772*r;return t}_convertYcckToRgb(t){let e,r,n,i,o=0;for(let s=0,a=t.length;s<a;s+=4)e=t[s],r=t[s+1],n=t[s+2],i=t[s+3],t[o++]=r*(-660635669420364e-19*r+.000437130475926232*n-54080610064599e-18*e+.00048449797120281*i-.154362151871126)-122.67195406894+n*(-.000957964378445773*n+.000817076911346625*e-.00477271405408747*i+1.53380253221734)+e*(.000961250184130688*e-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),t[o++]=107.268039397724+r*(219927104525741e-19*r-.000640992018297945*n+.000659397001245577*e+.000426105652938837*i-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*e+.000770482631801132*i-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),t[o++]=r*(-.000570115196973677*r-263409051004589e-19*n+.0020741088115012*e-.00288260236853442*i+.814272968359295)-20.810012546947+n*(-153496057440975e-19*n-.000132689043961446*e+.000560833691242812*i-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return t.subarray(0,o)}_convertYcckToCmyk(t){let e,r,n;for(let i=0,o=t.length;i<o;i+=4)e=t[i],r=t[i+1],n=t[i+2],t[i]=434.456-e-1.402*n,t[i+1]=119.541-e+.344*r+.714*n,t[i+2]=481.816-e-1.772*r;return t}_convertCmykToRgb(t){let e,r,n,i,o=0;for(let s=0,a=t.length;s<a;s+=4)e=t[s],r=t[s+1],n=t[s+2],i=t[s+3],t[o++]=255+e*(-6747147073602441e-20*e+.0008379262121013727*r+.0002894718188643294*n+.003264231057537806*i-1.1185611867203937)+r*(26374107616089405e-21*r-8626949158638572e-20*n-.0002748769067499491*i-.02155688794978967)+n*(-3878099212869363e-20*n-.0003267808279485286*i+.0686742238595345)-i*(.0003361971776183937*i+.7430659151342254),t[o++]=255+e*(.00013596372813588848*e+.000924537132573585*r+.00010567359618683593*n+.0004791864687436512*i-.3109689587515875)+r*(-.00023545346108370344*r+.0002702845253534714*n+.0020200308977307156*i-.7488052167015494)+n*(6834815998235662e-20*n+.00015168452363460973*i-.09751927774728933)-i*(.0003189131175883281*i+.7364883807733168),t[o++]=255+e*(13598650411385307e-21*e+.00012423956175490851*r+.0004751985097583589*n-36729317476630422e-22*i-.05562186980264034)+r*(.00016141380598724676*r+.0009692239130725186*n+.0007782692450036253*i-.44015232367526463)+n*(5.068882914068769e-7*n+.0017778369011375071*i-.7591454649749609)-i*(.0003435319965105553*i+.7063770186160144);return t.subarray(0,o)}getData({width:t,height:e,forceRGB:r=!1,isSourcePDF:n=!1}){if(this.numComponents>4)throw new o("Unsupported color mode");const i=this._getLinearizedBlockData(t,e,n);if(1===this.numComponents&&r){const t=i.length,e=new Uint8ClampedArray(3*t);let r=0;for(let n=0;n<t;n++){const t=i[n];e[r++]=t,e[r++]=t,e[r++]=t}return e}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb(i);if(4===this.numComponents){if(this._isColorConversionNeeded)return r?this._convertYcckToRgb(i):this._convertYcckToCmyk(i);if(r)return this._convertCmykToRgb(i)}return i}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JpxStream=void 0;var n=r(29),i=r(40),o=r(2);class s extends n.DecodeStream{constructor(t,e,r){super(e),this.stream=t,this.dict=t.dict,this.maybeLength=e,this.params=r}get bytes(){return(0,o.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(t){}readBlock(){if(this.eof)return;const t=new i.JpxImage;t.parse(this.bytes);const e=t.width,r=t.height,n=t.componentsCount,o=t.tiles.length;if(1===o)this.buffer=t.tiles[0].items;else{const i=new Uint8ClampedArray(e*r*n);for(let r=0;r<o;r++){const o=t.tiles[r],s=o.width,a=o.height,l=o.left,c=o.top,h=o.items;let u=0,p=(e*c+l)*n;const d=e*n,f=s*n;for(let t=0;t<a;t++){const t=h.subarray(u,u+f);i.set(t,p),u+=f,p+=d}}this.buffer=i}this.bufferLength=this.buffer.length,this.eof=!0}}e.JpxStream=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JpxImage=void 0;var n=r(2),i=r(8),o=r(36);class s extends n.BaseException{constructor(t){super(`JPX error: ${t}`,"JpxError")}}const a={LL:0,LH:1,HL:1,HH:2};function l(t,e){t.x0=Math.ceil(e.XOsiz/t.XRsiz),t.x1=Math.ceil(e.Xsiz/t.XRsiz),t.y0=Math.ceil(e.YOsiz/t.YRsiz),t.y1=Math.ceil(e.Ysiz/t.YRsiz),t.width=t.x1-t.x0,t.height=t.y1-t.y0}function c(t,e){const r=t.SIZ,n=[];let i;const o=Math.ceil((r.Xsiz-r.XTOsiz)/r.XTsiz),s=Math.ceil((r.Ysiz-r.YTOsiz)/r.YTsiz);for(let t=0;t<s;t++)for(let e=0;e<o;e++)i={},i.tx0=Math.max(r.XTOsiz+e*r.XTsiz,r.XOsiz),i.ty0=Math.max(r.YTOsiz+t*r.YTsiz,r.YOsiz),i.tx1=Math.min(r.XTOsiz+(e+1)*r.XTsiz,r.Xsiz),i.ty1=Math.min(r.YTOsiz+(t+1)*r.YTsiz,r.Ysiz),i.width=i.tx1-i.tx0,i.height=i.ty1-i.ty0,i.components=[],n.push(i);t.tiles=n;for(let t=0,o=r.Csiz;t<o;t++){const r=e[t];for(let e=0,o=n.length;e<o;e++){const o={};i=n[e],o.tcx0=Math.ceil(i.tx0/r.XRsiz),o.tcy0=Math.ceil(i.ty0/r.YRsiz),o.tcx1=Math.ceil(i.tx1/r.XRsiz),o.tcy1=Math.ceil(i.ty1/r.YRsiz),o.width=o.tcx1-o.tcx0,o.height=o.tcy1-o.tcy0,i.components[t]=o}}}function h(t,e,r){const n=e.codingStyleParameters,i={};return n.entropyCoderWithCustomPrecincts?(i.PPx=n.precinctsSizes[r].PPx,i.PPy=n.precinctsSizes[r].PPy):(i.PPx=15,i.PPy=15),i.xcb_=r>0?Math.min(n.xcb,i.PPx-1):Math.min(n.xcb,i.PPx),i.ycb_=r>0?Math.min(n.ycb,i.PPy-1):Math.min(n.ycb,i.PPy),i}function u(t,e,r){const n=1<<r.PPx,i=1<<r.PPy,o=0===e.resLevel,s=1<<r.PPx+(o?0:-1),a=1<<r.PPy+(o?0:-1),l=e.trx1>e.trx0?Math.ceil(e.trx1/n)-Math.floor(e.trx0/n):0,c=e.try1>e.try0?Math.ceil(e.try1/i)-Math.floor(e.try0/i):0,h=l*c;e.precinctParameters={precinctWidth:n,precinctHeight:i,numprecinctswide:l,numprecinctshigh:c,numprecincts:h,precinctWidthInSubband:s,precinctHeightInSubband:a}}function p(t,e,r){const n=r.xcb_,i=r.ycb_,o=1<<n,s=1<<i,a=e.tbx0>>n,l=e.tby0>>i,c=e.tbx1+o-1>>n,h=e.tby1+s-1>>i,u=e.resolution.precinctParameters,p=[],d=[];let f,g,m,y;for(g=l;g<h;g++)for(f=a;f<c;f++){if(m={cbx:f,cby:g,tbx0:o*f,tby0:s*g,tbx1:o*(f+1),tby1:s*(g+1)},m.tbx0_=Math.max(e.tbx0,m.tbx0),m.tby0_=Math.max(e.tby0,m.tby0),m.tbx1_=Math.min(e.tbx1,m.tbx1),m.tby1_=Math.min(e.tby1,m.tby1),y=Math.floor((m.tbx0_-e.tbx0)/u.precinctWidthInSubband)+Math.floor((m.tby0_-e.tby0)/u.precinctHeightInSubband)*u.numprecinctswide,m.precinctNumber=y,m.subbandType=e.type,m.Lblock=3,m.tbx1_<=m.tbx0_||m.tby1_<=m.tby0_)continue;p.push(m);let t=d[y];void 0!==t?(f<t.cbxMin?t.cbxMin=f:f>t.cbxMax&&(t.cbxMax=f),g<t.cbyMin?t.cbxMin=g:g>t.cbyMax&&(t.cbyMax=g)):d[y]=t={cbxMin:f,cbyMin:g,cbxMax:f,cbyMax:g},m.precinct=t}e.codeblockParameters={codeblockWidth:n,codeblockHeight:i,numcodeblockwide:c-a+1,numcodeblockhigh:h-l+1},e.codeblocks=p,e.precincts=d}function d(t,e,r){const n=[],i=t.subbands;for(let t=0,r=i.length;t<r;t++){const r=i[t].codeblocks;for(let t=0,i=r.length;t<i;t++){const i=r[t];i.precinctNumber===e&&n.push(i)}}return{layerNumber:r,codeblocks:n}}function f(t){const e=t.SIZ,r=t.currentTile.index,n=t.tiles[r],i=n.codingStyleDefaultParameters.layersCount,o=e.Csiz;let a=0;for(let t=0;t<o;t++)a=Math.max(a,n.components[t].codingStyleParameters.decompositionLevelsCount);let l=0,c=0,h=0,u=0;this.nextPacket=function(){for(;l<i;l++){for(;c<=a;c++){for(;h<o;h++){const t=n.components[h];if(c>t.codingStyleParameters.decompositionLevelsCount)continue;const e=t.resolutions[c],r=e.precinctParameters.numprecincts;for(;u<r;){const t=d(e,u,l);return u++,t}u=0}h=0}c=0}throw new s("Out of packets")}}function g(t){const e=t.SIZ,r=t.currentTile.index,n=t.tiles[r],i=n.codingStyleDefaultParameters.layersCount,o=e.Csiz;let a=0;for(let t=0;t<o;t++)a=Math.max(a,n.components[t].codingStyleParameters.decompositionLevelsCount);let l=0,c=0,h=0,u=0;this.nextPacket=function(){for(;l<=a;l++){for(;c<i;c++){for(;h<o;h++){const t=n.components[h];if(l>t.codingStyleParameters.decompositionLevelsCount)continue;const e=t.resolutions[l],r=e.precinctParameters.numprecincts;for(;u<r;){const t=d(e,u,c);return u++,t}u=0}h=0}c=0}throw new s("Out of packets")}}function m(t){const e=t.SIZ,r=t.currentTile.index,n=t.tiles[r],i=n.codingStyleDefaultParameters.layersCount,o=e.Csiz;let a,l,c,h,u=0;for(c=0;c<o;c++){const t=n.components[c];u=Math.max(u,t.codingStyleParameters.decompositionLevelsCount)}const p=new Int32Array(u+1);for(l=0;l<=u;++l){let t=0;for(c=0;c<o;++c){const e=n.components[c].resolutions;l<e.length&&(t=Math.max(t,e[l].precinctParameters.numprecincts))}p[l]=t}a=0,l=0,c=0,h=0,this.nextPacket=function(){for(;l<=u;l++){for(;h<p[l];h++){for(;c<o;c++){const t=n.components[c];if(l>t.codingStyleParameters.decompositionLevelsCount)continue;const e=t.resolutions[l],r=e.precinctParameters.numprecincts;if(!(h>=r)){for(;a<i;){const t=d(e,h,a);return a++,t}a=0}}c=0}h=0}throw new s("Out of packets")}}function y(t){const e=t.SIZ,r=t.currentTile.index,n=t.tiles[r],i=n.codingStyleDefaultParameters.layersCount,o=e.Csiz,a=w(n),l=a;let c=0,h=0,u=0,p=0,f=0;this.nextPacket=function(){for(;f<l.maxNumHigh;f++){for(;p<l.maxNumWide;p++){for(;u<o;u++){const t=n.components[u],e=t.codingStyleParameters.decompositionLevelsCount;for(;h<=e;h++){const e=t.resolutions[h],r=a.components[u].resolutions[h],n=b(p,f,r,l,e);if(null!==n){for(;c<i;){const t=d(e,n,c);return c++,t}c=0}}h=0}u=0}p=0}throw new s("Out of packets")}}function v(t){const e=t.SIZ,r=t.currentTile.index,n=t.tiles[r],i=n.codingStyleDefaultParameters.layersCount,o=e.Csiz,a=w(n);let l=0,c=0,h=0,u=0,p=0;this.nextPacket=function(){for(;h<o;++h){const t=n.components[h],e=a.components[h],r=t.codingStyleParameters.decompositionLevelsCount;for(;p<e.maxNumHigh;p++){for(;u<e.maxNumWide;u++){for(;c<=r;c++){const r=t.resolutions[c],n=e.resolutions[c],o=b(u,p,n,e,r);if(null!==o){for(;l<i;){const t=d(r,o,l);return l++,t}l=0}}c=0}u=0}p=0}throw new s("Out of packets")}}function b(t,e,r,n,i){const o=t*n.minWidth,s=e*n.minHeight;if(o%r.width!=0||s%r.height!=0)return null;const a=s/r.width*i.precinctParameters.numprecinctswide;return o/r.height+a}function w(t){const e=t.components.length;let r=Number.MAX_VALUE,n=Number.MAX_VALUE,i=0,o=0;const s=new Array(e);for(let a=0;a<e;a++){const e=t.components[a],l=e.codingStyleParameters.decompositionLevelsCount,c=new Array(l+1);let h=Number.MAX_VALUE,u=Number.MAX_VALUE,p=0,d=0,f=1;for(let t=l;t>=0;--t){const r=e.resolutions[t],n=f*r.precinctParameters.precinctWidth,i=f*r.precinctParameters.precinctHeight;h=Math.min(h,n),u=Math.min(u,i),p=Math.max(p,r.precinctParameters.numprecinctswide),d=Math.max(d,r.precinctParameters.numprecinctshigh),c[t]={width:n,height:i},f<<=1}r=Math.min(r,h),n=Math.min(n,u),i=Math.max(i,p),o=Math.max(o,d),s[a]={resolutions:c,minWidth:h,minHeight:u,maxNumWide:p,maxNumHigh:d}}return{components:s,minWidth:r,minHeight:n,maxNumWide:i,maxNumHigh:o}}function x(t){const e=t.SIZ,r=t.currentTile.index,n=t.tiles[r],i=e.Csiz;for(let t=0;t<i;t++){const e=n.components[t],r=e.codingStyleParameters.decompositionLevelsCount,i=[],o=[];for(let t=0;t<=r;t++){const n=h(0,e,t),s={},a=1<<r-t;let l;if(s.trx0=Math.ceil(e.tcx0/a),s.try0=Math.ceil(e.tcy0/a),s.trx1=Math.ceil(e.tcx1/a),s.try1=Math.ceil(e.tcy1/a),s.resLevel=t,u(0,s,n),i.push(s),0===t)l={},l.type="LL",l.tbx0=Math.ceil(e.tcx0/a),l.tby0=Math.ceil(e.tcy0/a),l.tbx1=Math.ceil(e.tcx1/a),l.tby1=Math.ceil(e.tcy1/a),l.resolution=s,p(0,l,n),o.push(l),s.subbands=[l];else{const i=1<<r-t+1,a=[];l={},l.type="HL",l.tbx0=Math.ceil(e.tcx0/i-.5),l.tby0=Math.ceil(e.tcy0/i),l.tbx1=Math.ceil(e.tcx1/i-.5),l.tby1=Math.ceil(e.tcy1/i),l.resolution=s,p(0,l,n),o.push(l),a.push(l),l={},l.type="LH",l.tbx0=Math.ceil(e.tcx0/i),l.tby0=Math.ceil(e.tcy0/i-.5),l.tbx1=Math.ceil(e.tcx1/i),l.tby1=Math.ceil(e.tcy1/i-.5),l.resolution=s,p(0,l,n),o.push(l),a.push(l),l={},l.type="HH",l.tbx0=Math.ceil(e.tcx0/i-.5),l.tby0=Math.ceil(e.tcy0/i-.5),l.tbx1=Math.ceil(e.tcx1/i-.5),l.tby1=Math.ceil(e.tcy1/i-.5),l.resolution=s,p(0,l,n),o.push(l),a.push(l),s.subbands=a}}e.resolutions=i,e.subbands=o}const o=n.codingStyleDefaultParameters.progressionOrder;switch(o){case 0:n.packetsIterator=new f(t);break;case 1:n.packetsIterator=new g(t);break;case 2:n.packetsIterator=new m(t);break;case 3:n.packetsIterator=new y(t);break;case 4:n.packetsIterator=new v(t);break;default:throw new s(`Unsupported progression order ${o}`)}}function S(t,e,r,n){let o,a=0,l=0,c=!1;function h(t){for(;l<t;){const t=e[r+a];a++,c?(o=o<<7|t,l+=7,c=!1):(o=o<<8|t,l+=8),255===t&&(c=!0)}return l-=t,o>>>l&(1<<t)-1}function u(t){return 255===e[r+a-1]&&e[r+a]===t?(p(1),!0):255===e[r+a]&&e[r+a+1]===t&&(p(2),!0)}function p(t){a+=t}function d(){l=0,c&&(a++,c=!1)}function f(){if(0===h(1))return 1;if(0===h(1))return 2;let t=h(2);return t<3?t+3:(t=h(5),t<31?t+6:(t=h(7),t+37))}const g=t.currentTile.index,m=t.tiles[g],y=t.COD.sopMarkerUsed,v=t.COD.ephMarkerUsed,b=m.packetsIterator;for(;a<n;){d(),y&&u(145)&&p(4);const t=b.nextPacket();if(!h(1))continue;const n=t.layerNumber,o=[];let l;for(let e=0,r=t.codeblocks.length;e<r;e++){l=t.codeblocks[e];let r=l.precinct;const a=l.cbx-r.cbxMin,c=l.cby-r.cbyMin;let u,p,d=!1,g=!1;if(void 0!==l.included)d=!!h(1);else{let t;if(r=l.precinct,void 0!==r.inclusionTree)t=r.inclusionTree;else{const e=r.cbxMax-r.cbxMin+1,i=r.cbyMax-r.cbyMin+1;t=new T(e,i,n),p=new _(e,i),r.inclusionTree=t,r.zeroBitPlanesTree=p;for(let t=0;t<n;t++)if(0!==h(1))throw new s("Invalid tag tree")}if(t.reset(a,c,n))for(;;){if(!h(1)){t.incrementValue(n);break}if(u=!t.nextLevel(),u){l.included=!0,d=g=!0;break}}}if(!d)continue;if(g){for(p=r.zeroBitPlanesTree,p.reset(a,c);;)if(h(1)){if(u=!p.nextLevel(),u)break}else p.incrementValue();l.zeroBitPlanes=p.value}const m=f();for(;h(1);)l.Lblock++;const y=(0,i.log2)(m),v=h((m<1<<y?y-1:y)+l.Lblock);o.push({codeblock:l,codingpasses:m,dataLength:v})}for(d(),v&&u(146);o.length>0;){const t=o.shift();l=t.codeblock,void 0===l.data&&(l.data=[]),l.data.push({data:e,start:r+a,end:r+a+t.dataLength,codingpasses:t.codingpasses}),a+=t.dataLength}}return a}function k(t,e,r,n,i,s,a,l,c){const h=n.tbx0,u=n.tby0,p=n.tbx1-n.tbx0,d=n.codeblocks,f="H"===n.type.charAt(0)?1:0,g="H"===n.type.charAt(1)?e:0;for(let r=0,m=d.length;r<m;++r){const m=d[r],y=m.tbx1_-m.tbx0_,v=m.tby1_-m.tby0_;if(0===y||0===v)continue;if(void 0===m.data)continue;const b=new O(y,v,m.subbandType,m.zeroBitPlanes,s);let w=2;const x=m.data;let S,k,A,C=0,_=0;for(S=0,k=x.length;S<k;S++)A=x[S],C+=A.end-A.start,_+=A.codingpasses;const T=new Uint8Array(C);let M=0;for(S=0,k=x.length;S<k;S++){A=x[S];const t=A.data.subarray(A.start,A.end);T.set(t,M),M+=t.length}const E=new o.ArithmeticDecoder(T,0,C);for(b.setDecoder(E),S=0;S<_;S++){switch(w){case 0:b.runSignificancePropagationPass();break;case 1:b.runMagnitudeRefinementPass();break;case 2:b.runCleanupPass(),l&&b.checkSegmentationSymbol()}c&&b.reset(),w=(w+1)%3}let P=m.tbx0_-h+(m.tby0_-u)*p;const I=b.coefficentsSign,F=b.coefficentsMagnitude,D=b.bitsDecoded,R=a?0:.5;let L,N,B;M=0;const j="LL"!==n.type;for(S=0;S<v;S++){const r=2*(P/p|0)*(e-p)+f+g;for(L=0;L<y;L++){if(N=F[M],0!==N){N=(N+R)*i,0!==I[M]&&(N=-N),B=D[M];const e=j?r+(P<<1):P;t[e]=a&&B>=s?N:N*(1<<s-B)}P++,M++}P+=p-y}}}function A(t,e,r){const n=e.components[r],i=n.codingStyleParameters,o=n.quantizationParameters,s=i.decompositionLevelsCount,l=o.SPqcds,c=o.scalarExpounded,h=o.guardBits,u=i.segmentationSymbolUsed,p=i.resetContextProbabilities,d=t.components[r].precision,f=i.reversibleTransformation,g=f?new P:new E,m=[];let y=0;for(let t=0;t<=s;t++){const e=n.resolutions[t],r=e.trx1-e.trx0,i=e.try1-e.try0,o=new Float32Array(r*i);for(let n=0,i=e.subbands.length;n<i;n++){let i,s;c?(i=l[y].mu,s=l[y].epsilon,y++):(i=l[0].mu,s=l[0].epsilon+(t>0?1-t:0));const g=e.subbands[n],m=a[g.type];k(o,r,0,g,f?1:2**(d+m-s)*(1+i/2048),h+s-1,f,u,p)}m.push({width:r,height:i,items:o})}const v=g.calculate(m,n.tcx0,n.tcy0);return{left:n.tcx0,top:n.tcy0,width:v.width,height:v.height,items:v.items}}function C(t,e){const r=t.SIZ.Csiz,n=t.tiles[e];for(let e=0;e<r;e++){const r=n.components[e],i=void 0!==t.currentTile.QCC[e]?t.currentTile.QCC[e]:t.currentTile.QCD;r.quantizationParameters=i;const o=void 0!==t.currentTile.COC[e]?t.currentTile.COC[e]:t.currentTile.COD;r.codingStyleParameters=o}n.codingStyleDefaultParameters=t.currentTile.COD}e.JpxImage=class{constructor(){this.failOnCorruptedImage=!1}parse(t){if(65359===(0,i.readUint16)(t,0))return void this.parseCodestream(t,0,t.length);const e=t.length;let r=0;for(;r<e;){let o=8,a=(0,i.readUint32)(t,r);const l=(0,i.readUint32)(t,r+4);if(r+=o,1===a&&(a=4294967296*(0,i.readUint32)(t,r)+(0,i.readUint32)(t,r+4),r+=8,o+=8),0===a&&(a=e-r+o),a<o)throw new s("Invalid box field size");const c=a-o;let h=!0;switch(l){case 1785737832:h=!1;break;case 1668246642:const e=t[r];if(1===e){const e=(0,i.readUint32)(t,r+3);switch(e){case 16:case 17:case 18:break;default:(0,n.warn)("Unknown colorspace "+e)}}else 2===e&&(0,n.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(t,r,r+c);break;case 1783636e3:218793738!==(0,i.readUint32)(t,r)&&(0,n.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const o=String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,255&l);(0,n.warn)(`Unsupported header type ${l} (${o}).`)}h&&(r+=c)}}parseImageProperties(t){let e=t.getByte();for(;e>=0;){const r=e;if(e=t.getByte(),65361==(r<<8|e)){t.skip(4);const e=t.getInt32()>>>0,r=t.getInt32()>>>0,n=t.getInt32()>>>0,i=t.getInt32()>>>0;t.skip(16);const o=t.getUint16();return this.width=e-n,this.height=r-i,this.componentsCount=o,void(this.bitsPerComponent=8)}}throw new s("No size marker found in JPX stream")}parseCodestream(t,e,r){const o={};let a=!1;try{let s=e;for(;s+1<r;){const e=(0,i.readUint16)(t,s);s+=2;let r,h,u,p,d,f,g=0;switch(e){case 65359:o.mainHeader=!0;break;case 65497:break;case 65361:g=(0,i.readUint16)(t,s);const m={};m.Xsiz=(0,i.readUint32)(t,s+4),m.Ysiz=(0,i.readUint32)(t,s+8),m.XOsiz=(0,i.readUint32)(t,s+12),m.YOsiz=(0,i.readUint32)(t,s+16),m.XTsiz=(0,i.readUint32)(t,s+20),m.YTsiz=(0,i.readUint32)(t,s+24),m.XTOsiz=(0,i.readUint32)(t,s+28),m.YTOsiz=(0,i.readUint32)(t,s+32);const y=(0,i.readUint16)(t,s+36);m.Csiz=y;const v=[];r=s+38;for(let e=0;e<y;e++){const e={precision:1+(127&t[r]),isSigned:!!(128&t[r]),XRsiz:t[r+1],YRsiz:t[r+2]};r+=3,l(e,m),v.push(e)}o.SIZ=m,o.components=v,c(o,v),o.QCC=[],o.COC=[];break;case 65372:g=(0,i.readUint16)(t,s);const b={};switch(r=s+2,h=t[r++],31&h){case 0:p=8,d=!0;break;case 1:p=16,d=!1;break;case 2:p=16,d=!0;break;default:throw new Error("Invalid SQcd value "+h)}for(b.noQuantization=8===p,b.scalarExpounded=d,b.guardBits=h>>5,u=[];r<g+s;){const e={};8===p?(e.epsilon=t[r++]>>3,e.mu=0):(e.epsilon=t[r]>>3,e.mu=(7&t[r])<<8|t[r+1],r+=2),u.push(e)}b.SPqcds=u,o.mainHeader?o.QCD=b:(o.currentTile.QCD=b,o.currentTile.QCC=[]);break;case 65373:g=(0,i.readUint16)(t,s);const w={};let k;switch(r=s+2,o.SIZ.Csiz<257?k=t[r++]:(k=(0,i.readUint16)(t,r),r+=2),h=t[r++],31&h){case 0:p=8,d=!0;break;case 1:p=16,d=!1;break;case 2:p=16,d=!0;break;default:throw new Error("Invalid SQcd value "+h)}for(w.noQuantization=8===p,w.scalarExpounded=d,w.guardBits=h>>5,u=[];r<g+s;){const e={};8===p?(e.epsilon=t[r++]>>3,e.mu=0):(e.epsilon=t[r]>>3,e.mu=(7&t[r])<<8|t[r+1],r+=2),u.push(e)}w.SPqcds=u,o.mainHeader?o.QCC[k]=w:o.currentTile.QCC[k]=w;break;case 65362:g=(0,i.readUint16)(t,s);const A={};r=s+2;const _=t[r++];A.entropyCoderWithCustomPrecincts=!!(1&_),A.sopMarkerUsed=!!(2&_),A.ephMarkerUsed=!!(4&_),A.progressionOrder=t[r++],A.layersCount=(0,i.readUint16)(t,r),r+=2,A.multipleComponentTransform=t[r++],A.decompositionLevelsCount=t[r++],A.xcb=2+(15&t[r++]),A.ycb=2+(15&t[r++]);const T=t[r++];if(A.selectiveArithmeticCodingBypass=!!(1&T),A.resetContextProbabilities=!!(2&T),A.terminationOnEachCodingPass=!!(4&T),A.verticallyStripe=!!(8&T),A.predictableTermination=!!(16&T),A.segmentationSymbolUsed=!!(32&T),A.reversibleTransformation=t[r++],A.entropyCoderWithCustomPrecincts){const e=[];for(;r<g+s;){const n=t[r++];e.push({PPx:15&n,PPy:n>>4})}A.precinctsSizes=e}const O=[];A.selectiveArithmeticCodingBypass&&O.push("selectiveArithmeticCodingBypass"),A.terminationOnEachCodingPass&&O.push("terminationOnEachCodingPass"),A.verticallyStripe&&O.push("verticallyStripe"),A.predictableTermination&&O.push("predictableTermination"),O.length>0&&(a=!0,(0,n.warn)(`JPX: Unsupported COD options (${O.join(", ")}).`)),o.mainHeader?o.COD=A:(o.currentTile.COD=A,o.currentTile.COC=[]);break;case 65424:g=(0,i.readUint16)(t,s),f={},f.index=(0,i.readUint16)(t,s+2),f.length=(0,i.readUint32)(t,s+4),f.dataEnd=f.length+s-2,f.partIndex=t[s+8],f.partsCount=t[s+9],o.mainHeader=!1,0===f.partIndex&&(f.COD=o.COD,f.COC=o.COC.slice(0),f.QCD=o.QCD,f.QCC=o.QCC.slice(0)),o.currentTile=f;break;case 65427:f=o.currentTile,0===f.partIndex&&(C(o,f.index),x(o)),g=f.dataEnd-s,S(o,t,s,g);break;case 65363:(0,n.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:g=(0,i.readUint16)(t,s);break;default:throw new Error("Unknown codestream code: "+e.toString(16))}s+=g}}catch(t){if(a||this.failOnCorruptedImage)throw new s(t.message);(0,n.warn)(`JPX: Trying to recover from: "${t.message}".`)}this.tiles=function(t){const e=t.SIZ,r=t.components,n=e.Csiz,i=[];for(let e=0,o=t.tiles.length;e<o;e++){const o=t.tiles[e],s=[];for(let e=0;e<n;e++)s[e]=A(t,o,e);const a=s[0],l=new Uint8ClampedArray(a.items.length*n),c={left:a.left,top:a.top,width:a.width,height:a.height,items:l};let h,u,p,d,f,g,m,y=0;if(o.codingStyleDefaultParameters.multipleComponentTransform){const t=4===n,e=s[0].items,i=s[1].items,a=s[2].items,c=t?s[3].items:null;h=r[0].precision-8,u=.5+(128<<h);const v=o.components[0],b=n-3;if(d=e.length,v.codingStyleParameters.reversibleTransformation)for(p=0;p<d;p++,y+=b){f=e[p]+u,g=i[p],m=a[p];const t=f-(m+g>>2);l[y++]=t+m>>h,l[y++]=t>>h,l[y++]=t+g>>h}else for(p=0;p<d;p++,y+=b)f=e[p]+u,g=i[p],m=a[p],l[y++]=f+1.402*m>>h,l[y++]=f-.34413*g-.71414*m>>h,l[y++]=f+1.772*g>>h;if(t)for(p=0,y=3;p<d;p++,y+=4)l[y]=c[p]+u>>h}else for(let t=0;t<n;t++){const e=s[t].items;for(h=r[t].precision-8,u=.5+(128<<h),y=t,p=0,d=e.length;p<d;p++)l[y]=e[p]+u>>h,y+=n}i.push(c)}return i}(o),this.width=o.SIZ.Xsiz-o.SIZ.XOsiz,this.height=o.SIZ.Ysiz-o.SIZ.YOsiz,this.componentsCount=o.SIZ.Csiz}};class _{constructor(t,e){const r=(0,i.log2)(Math.max(t,e))+1;this.levels=[];for(let n=0;n<r;n++){const r={width:t,height:e,items:[]};this.levels.push(r),t=Math.ceil(t/2),e=Math.ceil(e/2)}}reset(t,e){let r,n=0,i=0;for(;n<this.levels.length;){r=this.levels[n];const o=t+e*r.width;if(void 0!==r.items[o]){i=r.items[o];break}r.index=o,t>>=1,e>>=1,n++}n--,r=this.levels[n],r.items[r.index]=i,this.currentLevel=n,delete this.value}incrementValue(){const t=this.levels[this.currentLevel];t.items[t.index]++}nextLevel(){let t=this.currentLevel,e=this.levels[t];const r=e.items[e.index];return t--,t<0?(this.value=r,!1):(this.currentLevel=t,e=this.levels[t],e.items[e.index]=r,!0)}}class T{constructor(t,e,r){const n=(0,i.log2)(Math.max(t,e))+1;this.levels=[];for(let i=0;i<n;i++){const n=new Uint8Array(t*e);for(let t=0,e=n.length;t<e;t++)n[t]=r;const i={width:t,height:e,items:n};this.levels.push(i),t=Math.ceil(t/2),e=Math.ceil(e/2)}}reset(t,e,r){let n=0;for(;n<this.levels.length;){const i=this.levels[n],o=t+e*i.width;i.index=o;const s=i.items[o];if(255===s)break;if(s>r)return this.currentLevel=n,this.propagateValues(),!1;t>>=1,e>>=1,n++}return this.currentLevel=n-1,!0}incrementValue(t){const e=this.levels[this.currentLevel];e.items[e.index]=t+1,this.propagateValues()}propagateValues(){let t=this.currentLevel,e=this.levels[t];const r=e.items[e.index];for(;--t>=0;)e=this.levels[t],e.items[e.index]=r}nextLevel(){let t=this.currentLevel,e=this.levels[t];const r=e.items[e.index];return e.items[e.index]=255,t--,!(t<0||(this.currentLevel=t,e=this.levels[t],e.items[e.index]=r,0))}}const O=function(){const t=17,e=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),r=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),n=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);return class{constructor(t,i,o,s,a){let l;this.width=t,this.height=i,l="HH"===o?n:"HL"===o?r:e,this.contextLabelTable=l;const c=t*i;let h;this.neighborsSignificance=new Uint8Array(c),this.coefficentsSign=new Uint8Array(c),h=a>14?new Uint32Array(c):a>6?new Uint16Array(c):new Uint8Array(c),this.coefficentsMagnitude=h,this.processingFlags=new Uint8Array(c);const u=new Uint8Array(c);if(0!==s)for(let t=0;t<c;t++)u[t]=s;this.bitsDecoded=u,this.reset()}setDecoder(t){this.decoder=t}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6}setNeighborsSignificance(t,e,r){const n=this.neighborsSignificance,i=this.width,o=this.height,s=e>0,a=e+1<i;let l;t>0&&(l=r-i,s&&(n[l-1]+=16),a&&(n[l+1]+=16),n[l]+=4),t+1<o&&(l=r+i,s&&(n[l-1]+=16),a&&(n[l+1]+=16),n[l]+=4),s&&(n[r-1]+=1),a&&(n[r+1]+=1),n[r]|=128}runSignificancePropagationPass(){const t=this.decoder,e=this.width,r=this.height,n=this.coefficentsMagnitude,i=this.coefficentsSign,o=this.neighborsSignificance,s=this.processingFlags,a=this.contexts,l=this.contextLabelTable,c=this.bitsDecoded;for(let h=0;h<r;h+=4)for(let u=0;u<e;u++){let p=h*e+u;for(let d=0;d<4;d++,p+=e){const e=h+d;if(e>=r)break;if(s[p]&=-2,n[p]||!o[p])continue;const f=l[o[p]];if(t.readBit(a,f)){const t=this.decodeSignBit(e,u,p);i[p]=t,n[p]=1,this.setNeighborsSignificance(e,u,p),s[p]|=2}c[p]++,s[p]|=1}}}decodeSignBit(t,e,r){const n=this.width,i=this.height,o=this.coefficentsMagnitude,s=this.coefficentsSign;let a,l,c,h,u,p;h=e>0&&0!==o[r-1],e+1<n&&0!==o[r+1]?(c=s[r+1],h?(l=s[r-1],a=1-c-l):a=1-c-c):h?(l=s[r-1],a=1-l-l):a=0;const d=3*a;return h=t>0&&0!==o[r-n],t+1<i&&0!==o[r+n]?(c=s[r+n],h?(l=s[r-n],a=1-c-l+d):a=1-c-c+d):h?(l=s[r-n],a=1-l-l+d):a=d,a>=0?(u=9+a,p=this.decoder.readBit(this.contexts,u)):(u=9-a,p=1^this.decoder.readBit(this.contexts,u)),p}runMagnitudeRefinementPass(){const t=this.decoder,e=this.width,r=this.height,n=this.coefficentsMagnitude,i=this.neighborsSignificance,o=this.contexts,s=this.bitsDecoded,a=this.processingFlags,l=e*r,c=4*e;for(let r,h=0;h<l;h=r){r=Math.min(l,h+c);for(let l=0;l<e;l++)for(let c=h+l;c<r;c+=e){if(!n[c]||0!=(1&a[c]))continue;let e=16;0!=(2&a[c])&&(a[c]^=2,e=0==(127&i[c])?15:14);const r=t.readBit(o,e);n[c]=n[c]<<1|r,s[c]++,a[c]|=1}}}runCleanupPass(){const e=this.decoder,r=this.width,n=this.height,i=this.neighborsSignificance,o=this.coefficentsMagnitude,s=this.coefficentsSign,a=this.contexts,l=this.contextLabelTable,c=this.bitsDecoded,h=this.processingFlags,u=r,p=2*r,d=3*r;let f;for(let g=0;g<n;g=f){f=Math.min(g+4,n);const m=g*r,y=g+3<n;for(let n=0;n<r;n++){const v=m+n;let b,w=0,x=v,S=g;if(y&&0===h[v]&&0===h[v+u]&&0===h[v+p]&&0===h[v+d]&&0===i[v]&&0===i[v+u]&&0===i[v+p]&&0===i[v+d]){if(!e.readBit(a,18)){c[v]++,c[v+u]++,c[v+p]++,c[v+d]++;continue}w=e.readBit(a,t)<<1|e.readBit(a,t),0!==w&&(S=g+w,x+=w*r),b=this.decodeSignBit(S,n,x),s[x]=b,o[x]=1,this.setNeighborsSignificance(S,n,x),h[x]|=2,x=v;for(let t=g;t<=S;t++,x+=r)c[x]++;w++}for(S=g+w;S<f;S++,x+=r){if(o[x]||0!=(1&h[x]))continue;const t=l[i[x]];1===e.readBit(a,t)&&(b=this.decodeSignBit(S,n,x),s[x]=b,o[x]=1,this.setNeighborsSignificance(S,n,x),h[x]|=2),c[x]++}}}}checkSegmentationSymbol(){const e=this.decoder,r=this.contexts;if(10!=(e.readBit(r,t)<<3|e.readBit(r,t)<<2|e.readBit(r,t)<<1|e.readBit(r,t)))throw new s("Invalid segmentation symbol")}}}();class M{constructor(){this.constructor===M&&(0,n.unreachable)("Cannot initialize Transform.")}calculate(t,e,r){let n=t[0];for(let i=1,o=t.length;i<o;i++)n=this.iterate(n,t[i],e,r);return n}extend(t,e,r){let n=e-1,i=e+1,o=e+r-2,s=e+r;t[n--]=t[i++],t[s++]=t[o--],t[n--]=t[i++],t[s++]=t[o--],t[n--]=t[i++],t[s++]=t[o--],t[n]=t[i],t[s]=t[o]}filter(t,e,r){(0,n.unreachable)("Abstract method `filter` called")}iterate(t,e,r,n){const i=t.width,o=t.height;let s=t.items;const a=e.width,l=e.height,c=e.items;let h,u,p,d,f,g;for(p=0,h=0;h<o;h++)for(d=2*h*a,u=0;u<i;u++,p++,d+=2)c[d]=s[p];s=t.items=null;const m=new Float32Array(a+8);if(1===a){if(0!=(1&r))for(g=0,p=0;g<l;g++,p+=a)c[p]*=.5}else for(g=0,p=0;g<l;g++,p+=a)m.set(c.subarray(p,p+a),4),this.extend(m,4,a),this.filter(m,4,a),c.set(m.subarray(4,4+a),p);let y=16;const v=[];for(h=0;h<y;h++)v.push(new Float32Array(l+8));let b,w=0;if(t=4+l,1===l){if(0!=(1&n))for(f=0;f<a;f++)c[f]*=.5}else for(f=0;f<a;f++){if(0===w){for(y=Math.min(a-f,y),p=f,d=4;d<t;p+=a,d++)for(b=0;b<y;b++)v[b][d]=c[p+b];w=y}w--;const e=v[w];if(this.extend(e,4,l),this.filter(e,4,l),0===w)for(p=f-y+1,d=4;d<t;p+=a,d++)for(b=0;b<y;b++)c[p+b]=v[b][d]}return{width:a,height:l,items:c}}}class E extends M{filter(t,e,r){const n=r>>1;let i,o,s,a;const l=-1.586134342059924,c=-.052980118572961,h=.882911075530934,u=.443506852043971,p=1.230174104914001;for(i=(e|=0)-3,o=n+4;o--;i+=2)t[i]*=.8128930661159609;for(i=e-2,s=u*t[i-1],o=n+3;o--&&(a=u*t[i+1],t[i]=p*t[i]-s-a,o--);i+=2)i+=2,s=u*t[i+1],t[i]=p*t[i]-s-a;for(i=e-1,s=h*t[i-1],o=n+2;o--&&(a=h*t[i+1],t[i]-=s+a,o--);i+=2)i+=2,s=h*t[i+1],t[i]-=s+a;for(i=e,s=c*t[i-1],o=n+1;o--&&(a=c*t[i+1],t[i]-=s+a,o--);i+=2)i+=2,s=c*t[i+1],t[i]-=s+a;if(0!==n)for(i=e+1,s=l*t[i-1],o=n;o--&&(a=l*t[i+1],t[i]-=s+a,o--);i+=2)i+=2,s=l*t[i+1],t[i]-=s+a}}class P extends M{filter(t,e,r){const n=r>>1;let i,o;for(i=e|=0,o=n+1;o--;i+=2)t[i]-=t[i-1]+t[i+1]+2>>2;for(i=e+1,o=n;o--;i+=2)t[i]+=t[i-1]+t[i+1]>>1}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LZWStream=void 0;var n=r(29);class i extends n.DecodeStream{constructor(t,e,r){super(e),this.str=t,this.dict=t.dict,this.cachedData=0,this.bitsCached=0;const n=4096,i={earlyChange:r,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(n),dictionaryLengths:new Uint16Array(n),dictionaryPrevCodes:new Uint16Array(n),currentSequence:new Uint8Array(n),currentSequenceLength:0};for(let t=0;t<256;++t)i.dictionaryValues[t]=t,i.dictionaryLengths[t]=1;this.lzwState=i}readBits(t){let e=this.bitsCached,r=this.cachedData;for(;e<t;){const t=this.str.getByte();if(-1===t)return this.eof=!0,null;r=r<<8|t,e+=8}return this.bitsCached=e-=t,this.cachedData=r,this.lastCode=null,r>>>e&(1<<t)-1}readBlock(){let t,e,r,n=1024;const i=this.lzwState;if(!i)return;const o=i.earlyChange;let s=i.nextCode;const a=i.dictionaryValues,l=i.dictionaryLengths,c=i.dictionaryPrevCodes;let h=i.codeLength,u=i.prevCode;const p=i.currentSequence;let d=i.currentSequenceLength,f=0,g=this.bufferLength,m=this.ensureBuffer(this.bufferLength+n);for(t=0;t<512;t++){const t=this.readBits(h),i=d>0;if(t<256)p[0]=t,d=1;else{if(!(t>=258)){if(256===t){h=9,s=258,d=0;continue}this.eof=!0,delete this.lzwState;break}if(t<s)for(d=l[t],e=d-1,r=t;e>=0;e--)p[e]=a[r],r=c[r];else p[d++]=p[0]}if(i&&(c[s]=u,l[s]=l[u]+1,a[s]=p[0],s++,h=s+o&s+o-1?h:0|Math.min(Math.log(s+o)/.6931471805599453+1,12)),u=t,f+=d,n<f){do{n+=512}while(n<f);m=this.ensureBuffer(this.bufferLength+n)}for(e=0;e<d;e++)m[g++]=p[e]}i.nextCode=s,i.codeLength=h,i.prevCode=u,i.currentSequenceLength=d,this.bufferLength=g}}e.LZWStream=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PredictorStream=void 0;var n=r(29),i=r(5),o=r(2);class s extends n.DecodeStream{constructor(t,e,r){if(super(e),!(r instanceof i.Dict))return t;const n=this.predictor=r.get("Predictor")||1;if(n<=1)return t;if(2!==n&&(n<10||n>15))throw new o.FormatError(`Unsupported predictor: ${n}`);this.readBlock=2===n?this.readBlockTiff:this.readBlockPng,this.str=t,this.dict=t.dict;const s=this.colors=r.get("Colors")||1,a=this.bits=r.get("BPC","BitsPerComponent")||8,l=this.columns=r.get("Columns")||1;return this.pixBytes=s*a+7>>3,this.rowBytes=l*s*a+7>>3,this}readBlockTiff(){const t=this.rowBytes,e=this.bufferLength,r=this.ensureBuffer(e+t),n=this.bits,i=this.colors,o=this.str.getBytes(t);if(this.eof=!o.length,this.eof)return;let s,a=0,l=0,c=0,h=0,u=e;if(1===n&&1===i)for(s=0;s<t;++s){let t=o[s]^a;t^=t>>1,t^=t>>2,t^=t>>4,a=(1&t)<<7,r[u++]=t}else if(8===n){for(s=0;s<i;++s)r[u++]=o[s];for(;s<t;++s)r[u]=r[u-i]+o[s],u++}else if(16===n){const e=2*i;for(s=0;s<e;++s)r[u++]=o[s];for(;s<t;s+=2){const t=((255&o[s])<<8)+(255&o[s+1])+((255&r[u-e])<<8)+(255&r[u-e+1]);r[u++]=t>>8&255,r[u++]=255&t}}else{const t=new Uint8Array(i+1),u=(1<<n)-1;let p=0,d=e;const f=this.columns;for(s=0;s<f;++s)for(let e=0;e<i;++e)c<n&&(a=a<<8|255&o[p++],c+=8),t[e]=t[e]+(a>>c-n)&u,c-=n,l=l<<n|t[e],h+=n,h>=8&&(r[d++]=l>>h-8&255,h-=8);h>0&&(r[d++]=(l<<8-h)+(a&(1<<8-h)-1))}this.bufferLength+=t}readBlockPng(){const t=this.rowBytes,e=this.pixBytes,r=this.str.getByte(),n=this.str.getBytes(t);if(this.eof=!n.length,this.eof)return;const i=this.bufferLength,s=this.ensureBuffer(i+t);let a=s.subarray(i-t,i);0===a.length&&(a=new Uint8Array(t));let l,c,h,u=i;switch(r){case 0:for(l=0;l<t;++l)s[u++]=n[l];break;case 1:for(l=0;l<e;++l)s[u++]=n[l];for(;l<t;++l)s[u]=s[u-e]+n[l]&255,u++;break;case 2:for(l=0;l<t;++l)s[u++]=a[l]+n[l]&255;break;case 3:for(l=0;l<e;++l)s[u++]=(a[l]>>1)+n[l];for(;l<t;++l)s[u]=(a[l]+s[u-e]>>1)+n[l]&255,u++;break;case 4:for(l=0;l<e;++l)c=a[l],h=n[l],s[u++]=c+h;for(;l<t;++l){c=a[l];const t=a[l-e],r=s[u-e],i=r+c-t;let o=i-r;o<0&&(o=-o);let p=i-c;p<0&&(p=-p);let d=i-t;d<0&&(d=-d),h=n[l],s[u++]=o<=p&&o<=d?r+h:p<=d?c+h:t+h}break;default:throw new o.FormatError(`Unsupported predictor: ${r}`)}this.bufferLength+=t}}e.PredictorStream=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RunLengthStream=void 0;var n=r(29);class i extends n.DecodeStream{constructor(t,e){super(e),this.str=t,this.dict=t.dict}readBlock(){const t=this.str.getBytes(2);if(!t||t.length<2||128===t[0])return void(this.eof=!0);let e,r=this.bufferLength,n=t[0];if(n<128){if(e=this.ensureBuffer(r+n+1),e[r++]=t[1],n>0){const t=this.str.getBytes(n);e.set(t,r),r+=n}}else{n=257-n;const i=t[1];e=this.ensureBuffer(r+n+1);for(let t=0;t<n;t++)e[r++]=i}this.bufferLength=r}}e.RunLengthStream=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Font=e.ErrorFont=void 0;var n=r(2),i=r(45),o=r(18),s=r(21),a=r(20),l=r(19),c=r(47),h=r(48),u=r(49),p=r(50),d=r(51),f=r(52),g=r(26),m=r(53),y=r(8),v=r(10),b=r(54);const w=[[57344,63743],[1048576,1114109]],x=1e3,S=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],k=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function A(t){if(!t.fontMatrix)return;if(t.fontMatrix[0]===n.FONT_IDENTITY_MATRIX[0])return;const e=.001/t.fontMatrix[0],r=t.widths;for(const t in r)r[t]*=e;t.defaultWidth*=e}function C(t){if(!t.fallbackToUnicode)return;if(t.toUnicode instanceof h.IdentityToUnicodeMap)return;const e=[];for(const r in t.fallbackToUnicode)t.toUnicode.has(r)||(e[r]=t.fallbackToUnicode[r]);e.length>0&&t.toUnicode.amend(e)}class _{constructor(t,e,r,n,i,o,a,l,c){this.originalCharCode=t,this.fontChar=e,this.unicode=r,this.accent=n,this.width=i,this.vmetric=o,this.operatorListId=a,this.isSpace=l,this.isInFont=c;const h=(0,s.getCharUnicodeCategory)(r);this.isWhitespace=h.isWhitespace,this.isZeroWidthDiacritic=h.isZeroWidthDiacritic,this.isInvisibleFormatMark=h.isInvisibleFormatMark}matchesForCache(t,e,r,n,i,o,s,a,l){return this.originalCharCode===t&&this.fontChar===e&&this.unicode===r&&this.accent===n&&this.width===i&&this.vmetric===o&&this.operatorListId===s&&this.isSpace===a&&this.isInFont===l}}function T(t,e){return(t<<8)+e}function O(t,e,r){t[e+1]=r,t[e]=r>>>8}function M(t,e){const r=(t<<8)+e;return 32768&r?r-65536:r}function E(t){return String.fromCharCode(t>>8&255,255&t)}function P(t){return t>32767?t=32767:t<-32768&&(t=-32768),String.fromCharCode(t>>8&255,255&t)}function I(t){const e=t.peekBytes(4);return"ttcf"===(0,n.bytesToString)(e)}function F(t,{type:e,subtype:r,composite:i}){let o,s;return function(t){const e=t.peekBytes(4);return 65536===(0,y.readUint32)(e,0)||"true"===(0,n.bytesToString)(e)}(t)||I(t)?o=i?"CIDFontType2":"TrueType":function(t){const e=t.peekBytes(4);return"OTTO"===(0,n.bytesToString)(e)}(t)?o=i?"CIDFontType2":"OpenType":function(t){const e=t.peekBytes(2);return 37===e[0]&&33===e[1]||128===e[0]&&1===e[1]}(t)?o=i?"CIDFontType0":"MMType1"===e?"MMType1":"Type1":function(t){const e=t.peekBytes(4);return e[0]>=1&&e[3]>=1&&e[3]<=4}(t)?i?(o="CIDFontType0",s="CIDFontType0C"):(o="MMType1"===e?"MMType1":"Type1",s="Type1C"):((0,n.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),o=e,s=r),[o,s]}function D(t,e){for(const r in e)t[+r]=e[r]}function R(t,e,r){const n=[];let i;for(let r=0,o=t.length;r<o;r++)i=(0,s.getUnicodeForGlyph)(t[r],e),-1!==i&&(n[r]=i);for(const t in r)i=(0,s.getUnicodeForGlyph)(r[t],e),-1!==i&&(n[+t]=i);return n}function L(t,e,r=!1){switch(e.length){case 1:return e.charCodeAt(0);case 2:return e.charCodeAt(0)<<8|e.charCodeAt(1)}const i=`Unsupported CID string (charCode ${t}): "${e}".`;if(r)throw new n.FormatError(i);return(0,n.warn)(i),e}function N(t,e,r){const i=Object.create(null),o=[];let s=0,a=w[s][0],l=w[s][1];for(let c in t){c|=0;let h=t[c];if(!e(h))continue;if(a>l){if(s++,s>=w.length){(0,n.warn)("Ran out of space in font private use area.");break}a=w[s][0],l=w[s][1]}const u=a++;0===h&&(h=r),i[u]=h,o[c]=u}return{toFontChar:o,charCodeToGlyphId:i,nextAvailableFontCharCode:a}}function B(t,e){const r=function(t,e){const r=[];for(const n in t)t[n]>=e||r.push({fontCharCode:0|n,glyphId:t[n]});0===r.length&&r.push({fontCharCode:0,glyphId:0}),r.sort((function(t,e){return t.fontCharCode-e.fontCharCode}));const n=[],i=r.length;for(let t=0;t<i;){const e=r[t].fontCharCode,o=[r[t].glyphId];++t;let s=e;for(;t<i&&s+1===r[t].fontCharCode&&(o.push(r[t].glyphId),++s,++t,65535!==s););n.push([e,s,o])}return n}(t,e),i=r[r.length-1][1]>65535?2:1;let o,s,a,l,c="\0\0"+E(i)+"\0\0"+(0,n.string32)(4+8*i);for(o=r.length-1;o>=0&&!(r[o][0]<=65535);--o);const h=o+1;r[o][0]<65535&&65535===r[o][1]&&(r[o][1]=65534);const u=r[o][1]<65535?1:0,p=h+u,d=m.OpenTypeFileBuilder.getSearchParams(p,2);let f,g,y,v,b="",w="",x="",S="",k="",A=0;for(o=0,s=h;o<s;o++){f=r[o],g=f[0],y=f[1],b+=E(g),w+=E(y),v=f[2];let t=!0;for(a=1,l=v.length;a<l;++a)if(v[a]!==v[a-1]+1){t=!1;break}if(t)x+=E(v[0]-g&65535),S+=E(0);else{const t=2*(p-o)+2*A;for(A+=y-g+1,x+=E(0),S+=E(t),a=0,l=v.length;a<l;++a)k+=E(v[a])}}u>0&&(w+="ÿÿ",b+="ÿÿ",x+="\0",S+="\0\0");const C="\0\0"+E(2*p)+E(d.range)+E(d.entry)+E(d.rangeShift)+w+"\0\0"+b+x+S+k;let _="",T="";if(i>1){for(c+="\0\0\n"+(0,n.string32)(4+8*i+4+C.length),_="",o=0,s=r.length;o<s;o++){f=r[o],g=f[0],v=f[2];let t=v[0];for(a=1,l=v.length;a<l;++a)v[a]!==v[a-1]+1&&(y=f[0]+a-1,_+=(0,n.string32)(g)+(0,n.string32)(y)+(0,n.string32)(t),g=y+1,t=v[a]);_+=(0,n.string32)(g)+(0,n.string32)(f[1])+(0,n.string32)(t)}T="\0\f\0\0"+(0,n.string32)(_.length+16)+"\0\0\0\0"+(0,n.string32)(_.length/12)}return c+"\0"+E(C.length+4)+C+T+_}function j(t,e,r){r=r||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let i=0,o=0,a=0,l=0,c=null,h=0;if(e){for(let t in e){t|=0,(c>t||!c)&&(c=t),h<t&&(h=t);const e=(0,s.getUnicodeRangeFor)(t);if(e<32)i|=1<<e;else if(e<64)o|=1<<e-32;else if(e<96)a|=1<<e-64;else{if(!(e<123))throw new n.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");l|=1<<e-96}}h>65535&&(h=65535)}else c=0,h=255;const u=t.bbox||[0,0,0,0],p=r.unitsPerEm||1/(t.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],d=t.ascentScaled?1:p/x,f=r.ascent||Math.round(d*(t.ascent||u[3]));let g=r.descent||Math.round(d*(t.descent||u[1]));g>0&&t.descent>0&&u[1]<0&&(g=-g);const m=r.yMax||f,y=-r.yMin||-g;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode(t.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,n.string32)(i)+(0,n.string32)(o)+(0,n.string32)(a)+(0,n.string32)(l)+"*21*"+E(t.italicAngle?1:0)+E(c||t.firstChar)+E(h||t.lastChar)+E(f)+E(g)+"\0d"+E(m)+E(y)+"\0\0\0\0\0\0\0\0"+E(t.xHeight)+E(t.capHeight)+E(0)+E(c||t.firstChar)+"\0"}function z(t){const e=Math.floor(65536*t.italicAngle);return"\0\0\0"+(0,n.string32)(e)+"\0\0\0\0"+(0,n.string32)(t.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function U(t){return t.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function $(t,e){e||(e=[[],[]]);const r=[e[0][0]||"Original licence",e[0][1]||t,e[0][2]||"Unknown",e[0][3]||"uniqueID",e[0][4]||t,e[0][5]||"Version 0.11",e[0][6]||U(t),e[0][7]||"Unknown",e[0][8]||"Unknown",e[0][9]||"Unknown"],n=[];let i,o,s,a,l;for(i=0,o=r.length;i<o;i++){l=e[1][i]||r[i];const t=[];for(s=0,a=l.length;s<a;s++)t.push(E(l.charCodeAt(s)));n.push(t.join(""))}const c=[r,n],h=["\0","\0"],u=["\0\0","\0"],p=["\0\0","\t"],d=r.length*h.length;let f="\0\0"+E(d)+E(12*d+6),g=0;for(i=0,o=h.length;i<o;i++){const t=c[i];for(s=0,a=t.length;s<a;s++)l=t[s],f+=h[i]+u[i]+p[i]+E(s)+E(l.length)+E(g),g+=l.length}return f+=r.join("")+n.join(""),f}e.Font=class{constructor(t,e,r){this.name=t,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=r.loadedName,this.isType3Font=r.isType3Font,this.missingFile=!1,this.cssFontInfo=r.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let i=!!(r.flags&o.FontFlags.Serif);if(!i&&!r.isSimulatedFlags){const e=t.replace(/[,_]/g,"-").split("-")[0],r=(0,c.getSerifFonts)();for(const t of e.split("+"))if(r[t]){i=!0;break}}this.isSerifFont=i,this.isSymbolicFont=!!(r.flags&o.FontFlags.Symbolic),this.isMonospace=!!(r.flags&o.FontFlags.FixedPitch);let s=r.type,a=r.subtype;this.type=s,this.subtype=a;let l,h="sans-serif";if(this.isMonospace?h="monospace":this.isSerifFont&&(h="serif"),this.fallbackName=h,this.differences=r.differences,this.widths=r.widths,this.defaultWidth=r.defaultWidth,this.composite=r.composite,this.cMap=r.cMap,this.capHeight=r.capHeight/x,this.ascent=r.ascent/x,this.descent=r.descent/x,this.lineHeight=this.ascent-this.descent,this.fontMatrix=r.fontMatrix,this.bbox=r.bbox,this.defaultEncoding=r.defaultEncoding,this.toUnicode=r.toUnicode,this.toFontChar=[],"Type3"!==r.type){if(this.cidEncoding=r.cidEncoding||"",this.vertical=!!r.vertical,this.vertical&&(this.vmetrics=r.vmetrics,this.defaultVMetrics=r.defaultVMetrics),!e||e.isEmpty)return e&&(0,n.warn)('Font file is empty in "'+t+'" ('+this.loadedName+")"),void this.fallbackToSystemFont(r);[s,a]=F(e,r),s===this.type&&a===this.subtype||(0,n.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${s}/${a}.`);try{switch(s){case"MMType1":(0,n.info)("MMType1 font ("+t+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const i="Type1C"===a||"CIDFontType0C"===a?new u.CFFFont(e,r):new b.Type1Font(t,e,r);A(r),l=this.convert(t,i,r);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",l=this.checkAndRepair(t,e,r),this.isOpenType&&(A(r),s="OpenType");break;default:throw new n.FormatError(`Font ${s} is not supported`)}}catch(t){return(0,n.warn)(t),void this.fallbackToSystemFont(r)}C(r),this.data=l,this.fontType=(0,o.getFontType)(s,a,r.isStandardFont),this.fontMatrix=r.fontMatrix,this.widths=r.widths,this.defaultWidth=r.defaultWidth,this.toUnicode=r.toUnicode,this.seacMap=r.seacMap}else{for(let t=0;t<256;t++)this.toFontChar[t]=this.differences[t]||r.defaultEncoding[t];this.fontType=n.FontType.TYPE3}}get renderer(){const t=p.FontRendererFactory.create(this,o.SEAC_ANALYSIS_ENABLED);return(0,n.shadow)(this,"renderer",t)}exportData(t=!1){const e=t?[...S,...k]:S,r=Object.create(null);let n,i;for(n of e)i=this[n],void 0!==i&&(r[n]=i);return r}fallbackToSystemFont(t){this.missingFile=!0;const e=this.name,r=this.type,i=this.subtype;let u=(0,o.normalizeFontName)(e);const p=(0,c.getStdFontMap)(),f=(0,c.getNonStdFontMap)(),g=!!p[u],m=!(!f[u]||!p[f[u]]);u=p[u]||f[u]||u;const y=(0,d.getFontBasicMetrics)()[u];y&&(isNaN(this.ascent)&&(this.ascent=y.ascent/x),isNaN(this.descent)&&(this.descent=y.descent/x),isNaN(this.capHeight)&&(this.capHeight=y.capHeight/x)),this.bold=-1!==u.search(/bold/gi),this.italic=-1!==u.search(/oblique/gi)||-1!==u.search(/italic/gi),this.black=-1!==e.search(/Black/g);const v=-1!==e.search(/Narrow/g);if(this.remeasure=(!g||v)&&Object.keys(this.widths).length>0,(g||m)&&"CIDFontType2"===r&&this.cidEncoding.startsWith("Identity-")){const r=t.cidToGidMap,n=[];if(D(n,(0,c.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(e)?D(n,(0,c.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(e)&&D(n,(0,c.getSupplementalGlyphMapForCalibri)()),r){for(const t in n){const e=n[t];void 0!==r[e]&&(n[+t]=r[e])}r.length!==this.toUnicode.length&&t.hasIncludedToUnicodeMap&&this.toUnicode instanceof h.IdentityToUnicodeMap&&this.toUnicode.forEach((function(t,e){const i=n[t];void 0===r[i]&&(n[+t]=e)}))}this.toUnicode instanceof h.IdentityToUnicodeMap||this.toUnicode.forEach((function(t,e){n[+t]=e})),this.toFontChar=n,this.toUnicode=new h.ToUnicodeMap(n)}else if(/Symbol/i.test(u))this.toFontChar=R(l.SymbolSetEncoding,(0,a.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(u))/Wingdings/i.test(e)&&(0,n.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=R(l.ZapfDingbatsEncoding,(0,a.getDingbatsGlyphsUnicode)(),this.differences);else if(g){const t=R(this.defaultEncoding,(0,a.getGlyphsUnicode)(),this.differences);"CIDFontType2"!==r||this.cidEncoding.startsWith("Identity-")||this.toUnicode instanceof h.IdentityToUnicodeMap||this.toUnicode.forEach((function(e,r){t[+e]=r})),this.toFontChar=t}else{const t=(0,a.getGlyphsUnicode)(),r=[];this.toUnicode.forEach(((e,n)=>{if(!this.composite){const r=this.differences[e]||this.defaultEncoding[e],i=(0,s.getUnicodeForGlyph)(r,t);-1!==i&&(n=i)}r[+e]=n})),this.composite&&this.toUnicode instanceof h.IdentityToUnicodeMap&&/Verdana/i.test(e)&&D(r,(0,c.getGlyphMapForStandardFonts)()),this.toFontChar=r}C(t),this.loadedName=u.split("-")[0],this.fontType=(0,o.getFontType)(r,i,t.isStandardFont)}checkAndRepair(t,e,r){const s=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function c(t,e){const r=Object.create(null);r["OS/2"]=null,r.cmap=null,r.head=null,r.hhea=null,r.hmtx=null,r.maxp=null,r.name=null,r.post=null;for(let n=0;n<e;n++){const e=p(t);s.includes(e.tag)&&0!==e.length&&(r[e.tag]=e)}return r}function p(t){const e=t.getString(4),r=t.getInt32()>>>0,n=t.getInt32()>>>0,i=t.getInt32()>>>0,o=t.pos;t.pos=t.start?t.start:0,t.skip(n);const s=t.getBytes(i);return t.pos=o,"head"===e&&(s[8]=s[9]=s[10]=s[11]=0,s[17]|=32),{tag:e,checksum:r,length:i,offset:n,data:s}}function d(t){return{version:t.getString(4),numTables:t.getUint16(),searchRange:t.getUint16(),entrySelector:t.getUint16(),rangeShift:t.getUint16()}}function y(t,e,r,n,i,o){const s={length:0,sizeOfInstructions:0};if(r-e<=12)return s;const a=t.subarray(e,r);let l=M(a[0],a[1]);if(l<0)return l=-1,O(a,0,l),n.set(a,i),s.length=a.length,s;let c,h=10,u=0;for(c=0;c<l;c++)u=1+(a[h]<<8|a[h+1]),h+=2;const p=h,d=a[h]<<8|a[h+1];s.sizeOfInstructions=d,h+=2+d;const f=h;let g=0;for(c=0;c<u;c++){const t=a[h++];192&t&&(a[h-1]=63&t);let e=2;2&t?e=1:16&t&&(e=0);let r=2;4&t?r=1:32&t&&(r=0);const n=e+r;if(g+=n,8&t){const t=a[h++];c+=t,g+=t*n}}if(0===g)return s;let m=h+g;return m>a.length?s:!o&&d>0?(n.set(a.subarray(0,p),i),n.set([0,0],i+p),n.set(a.subarray(f,m),i+p+2),m-=d,a.length-m>3&&(m=m+3&-4),s.length=m,s):a.length-m>3?(m=m+3&-4,n.set(a.subarray(0,m),i),s.length=m,s):(n.set(a,i),s.length=a.length,s)}function b(t){const r=(e.start?e.start:0)+t.offset;e.pos=r;const n=[[],[]],i=t.length,o=r+i;if(0!==e.getUint16()||i<6)return n;const s=e.getUint16(),a=e.getUint16(),l=[];let c,h;for(c=0;c<s&&e.pos+12<=o;c++){const t={platform:e.getUint16(),encoding:e.getUint16(),language:e.getUint16(),name:e.getUint16(),length:e.getUint16(),offset:e.getUint16()};(1===t.platform&&0===t.encoding&&0===t.language||3===t.platform&&1===t.encoding&&1033===t.language)&&l.push(t)}for(c=0,h=l.length;c<h;c++){const t=l[c];if(t.length<=0)continue;const i=r+a+t.offset;if(i+t.length>o)continue;e.pos=i;const s=t.name;if(t.encoding){let r="";for(let n=0,i=t.length;n<i;n+=2)r+=String.fromCharCode(e.getUint16());n[1][s]=r}else n[0][s]=e.getString(t.length)}return n}const w=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function x(t,e){let r,i,o,s,a,l=t.data,c=0,h=0,u=0;const p=[],d=[],f=[];let g=e.tooComplexToFollowFunctions,m=!1,y=0,v=0;for(let t=l.length;c<t;){const t=l[c++];if(64===t)if(i=l[c++],m||v)c+=i;else for(r=0;r<i;r++)p.push(l[c++]);else if(65===t)if(i=l[c++],m||v)c+=2*i;else for(r=0;r<i;r++)o=l[c++],p.push(o<<8|l[c++]);else if(176==(248&t))if(i=t-176+1,m||v)c+=i;else for(r=0;r<i;r++)p.push(l[c++]);else if(184==(248&t))if(i=t-184+1,m||v)c+=2*i;else for(r=0;r<i;r++)o=l[c++],p.push(o<<8|l[c++]);else if(43!==t||g)if(44!==t||g){if(45===t)if(m)m=!1,h=c;else{if(a=d.pop(),!a)return(0,n.warn)("TT: ENDF bad stack"),void(e.hintsValid=!1);s=f.pop(),l=a.data,c=a.i,e.functionsStackDeltas[s]=p.length-a.stackTop}else if(137===t)(m||v)&&((0,n.warn)("TT: nested IDEFs not allowed"),g=!0),m=!0,u=c;else if(88===t)++y;else if(27===t)v=y;else if(89===t)v===y&&(v=0),--y;else if(28===t&&!m&&!v){const t=p[p.length-1];t>0&&(c+=t-1)}}else(m||v)&&((0,n.warn)("TT: nested FDEFs not allowed"),g=!0),m=!0,u=c,s=p.pop(),e.functionsDefined[s]={data:l,i:c};else if(!m&&!v)if(s=p[p.length-1],isNaN(s))(0,n.info)("TT: CALL empty stack (or invalid entry).");else if(e.functionsUsed[s]=!0,s in e.functionsStackDeltas){const t=p.length+e.functionsStackDeltas[s];if(t<0)return(0,n.warn)("TT: CALL invalid functions stack delta."),void(e.hintsValid=!1);p.length=t}else if(s in e.functionsDefined&&!f.includes(s)){if(d.push({data:l,i:c,stackTop:p.length-1}),f.push(s),a=e.functionsDefined[s],!a)return(0,n.warn)("TT: CALL non-existent function"),void(e.hintsValid=!1);l=a.data,c=a.i}if(!m&&!v){let e=0;for(t<=142?e=w[t]:t>=192&&t<=223?e=-1:t>=224&&(e=-2),t>=113&&t<=117&&(i=p.pop(),isNaN(i)||(e=2*-i));e<0&&p.length>0;)p.pop(),e++;for(;e>0;)p.push(NaN),e--}}e.tooComplexToFollowFunctions=g;const b=[l];c>l.length&&b.push(new Uint8Array(c-l.length)),u>h&&((0,n.warn)("TT: complementing a missing function tail"),b.push(new Uint8Array([34,45]))),function(t,e){if(e.length>1){let r,n,i=0;for(r=0,n=e.length;r<n;r++)i+=e[r].length;i=i+3&-4;const o=new Uint8Array(i);let s=0;for(r=0,n=e.length;r<n;r++)o.set(e[r],s),s+=e[r].length;t.data=o,t.length=i}}(t,b)}let S,k,C,_;if(I(e=new v.Stream(new Uint8Array(e.getBytes())))){const t=function(t,e){const{numFonts:r,offsetTable:i}=function(t){const e=t.getString(4);(0,n.assert)("ttcf"===e,"Must be a TrueType Collection font.");const r=t.getUint16(),i=t.getUint16(),o=t.getInt32()>>>0,s=[];for(let e=0;e<o;e++)s.push(t.getInt32()>>>0);const a={ttcTag:e,majorVersion:r,minorVersion:i,numFonts:o,offsetTable:s};switch(r){case 1:return a;case 2:return a.dsigTag=t.getInt32()>>>0,a.dsigLength=t.getInt32()>>>0,a.dsigOffset=t.getInt32()>>>0,a}throw new n.FormatError(`Invalid TrueType Collection majorVersion: ${r}.`)}(t),o=e.split("+");let s;for(let a=0;a<r;a++){t.pos=(t.start||0)+i[a];const r=d(t),l=c(t,r.numTables);if(!l.name)throw new n.FormatError('TrueType Collection font must contain a "name" table.');const h=b(l.name);for(let t=0,n=h.length;t<n;t++)for(let n=0,i=h[t].length;n<i;n++){const i=h[t][n]&&h[t][n].replace(/\s/g,"");if(i){if(i===e)return{header:r,tables:l};if(!(o.length<2))for(const t of o)i===t&&(s={name:t,header:r,tables:l})}}}if(s)return(0,n.warn)(`TrueType Collection does not contain "${e}" font, falling back to "${s.name}" font instead.`),{header:s.header,tables:s.tables};throw new n.FormatError(`TrueType Collection does not contain "${e}" font.`)}(e,this.name);S=t.header,k=t.tables}else S=d(e),k=c(e,S.numTables);const E=!k["CFF "];if(E){if(!k.loca)throw new n.FormatError('Required "loca" table is not found');k.glyf||((0,n.warn)('Required "glyf" table is not found -- trying to recover.'),k.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const e=r.composite&&((r.cidToGidMap||[]).length>0||!(r.cMap instanceof g.IdentityCMap));if("OTTO"===S.version&&!e||!k.head||!k.hhea||!k.maxp||!k.post)return _=new v.Stream(k["CFF "].data),C=new u.CFFFont(_,r),A(r),this.convert(t,C,r);delete k.glyf,delete k.loca,delete k.fpgm,delete k.prep,delete k["cvt "],this.isOpenType=!0}if(!k.maxp)throw new n.FormatError('Required "maxp" table is not found');e.pos=(e.start||0)+k.maxp.offset;const P=e.getInt32(),F=e.getUint16();if(r.scaleFactors&&r.scaleFactors.length===F&&E){const{scaleFactors:t}=r,e=T(k.head.data[50],k.head.data[51]),n=new f.GlyfTable({glyfTable:k.glyf.data,isGlyphLocationsLong:e,locaTable:k.loca.data,numGlyphs:F});n.scale(t);const{glyf:i,loca:o,isLocationLong:s}=n.write();k.glyf.data=i,k.loca.data=o,s!==!!e&&(k.head.data[50]=0,k.head.data[51]=s?1:0);const a=k.hmtx.data;for(let e=0;e<F;e++){const r=4*e,n=Math.round(t[e]*T(a[r],a[r+1]));a[r]=n>>8&255,a[r+1]=255&n,O(a,r+2,Math.round(t[e]*M(a[r+2],a[r+3])))}}let D=F+1,R=!0;D>65535&&(R=!1,D=F,(0,n.warn)("Not enough space in glyfs to duplicate first glyph."));let U=0,H=0;P>=65536&&k.maxp.length>=22&&(e.pos+=8,e.getUint16()>2&&(k.maxp.data[14]=0,k.maxp.data[15]=2),e.pos+=4,U=e.getUint16(),e.pos+=4,H=e.getUint16()),k.maxp.data[4]=D>>8,k.maxp.data[5]=255&D;const V=function(t,e,r,i){const o={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(t&&x(t,o),e&&x(e,o),t&&function(t,e){if(!t.tooComplexToFollowFunctions){if(t.functionsDefined.length>e)return(0,n.warn)("TT: more functions defined than expected"),void(t.hintsValid=!1);for(let r=0,i=t.functionsUsed.length;r<i;r++){if(r>e)return(0,n.warn)("TT: invalid function id: "+r),void(t.hintsValid=!1);if(t.functionsUsed[r]&&!t.functionsDefined[r])return(0,n.warn)("TT: undefined function: "+r),void(t.hintsValid=!1)}}}(o,i),r&&1&r.length){const t=new Uint8Array(r.length+1);t.set(r.data),r.data=t}return o.hintsValid}(k.fpgm,k.prep,k["cvt "],U);if(V||(delete k.fpgm,delete k.prep,delete k["cvt "]),function(t,e,r,i,o,s){if(!e)return void(r&&(r.data=null));t.pos=(t.start?t.start:0)+e.offset,t.pos+=4,t.pos+=2,t.pos+=2,t.pos+=2,t.pos+=2,t.pos+=2,t.pos+=2,t.pos+=2,t.pos+=2,t.pos+=2;const a=t.getUint16();t.pos+=8,t.pos+=2;let l=t.getUint16();0!==a&&(2&T(i.data[44],i.data[45])||(e.data[22]=0,e.data[23]=0)),l>o&&((0,n.info)(`The numOfMetrics (${l}) should not be greater than the numGlyphs (${o}).`),l=o,e.data[34]=(65280&l)>>8,e.data[35]=255&l);const c=o-l-(r.length-4*l>>1);if(c>0){const t=new Uint8Array(r.length+2*c);t.set(r.data),s&&(t[r.length]=r.data[2],t[r.length+1]=r.data[3]),r.data=t}}(e,k.hhea,k.hmtx,k.head,D,R),!k.head)throw new n.FormatError('Required "head" table is not found');!function(t,e,r){const i=t.data,o=(s=i[0],a=i[1],l=i[2],c=i[3],(s<<24)+(a<<16)+(l<<8)+c);var s,a,l,c;o>>16!=1&&((0,n.info)("Attempting to fix invalid version in head table: "+o),i[0]=0,i[1]=1,i[2]=0,i[3]=0);const h=T(i[50],i[51]);if(h<0||h>1){(0,n.info)("Attempting to fix invalid indexToLocFormat in head table: "+h);const t=e+1;if(r===t<<1)i[50]=0,i[51]=0;else{if(r!==t<<2)throw new n.FormatError("Could not fix indexToLocFormat: "+h);i[50]=0,i[51]=1}}}(k.head,F,E?k.loca.length:0);let q=Object.create(null);if(E){const t=T(k.head.data[50],k.head.data[51]),e=function(t,e,r,n,i,o,s){let a,l,c;n?(a=4,l=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]},c=function(t,e,r){t[e]=r>>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r}):(a=2,l=function(t,e){return t[e]<<9|t[e+1]<<1},c=function(t,e,r){t[e]=r>>9&255,t[e+1]=r>>1&255});const h=o?r+1:r,u=a*(1+h),p=new Uint8Array(u);p.set(t.data.subarray(0,u)),t.data=p;const d=e.data,f=d.length,g=new Uint8Array(f);let m,v;const b=[];for(m=0,v=0;m<r+1;m++,v+=a){let t=l(p,v);t>f&&(t=f),b.push({index:m,offset:t,endOffset:0})}for(b.sort(((t,e)=>t.offset-e.offset)),m=0;m<r;m++)b[m].endOffset=b[m+1].offset;for(b.sort(((t,e)=>t.index-e.index)),m=0;m<r;m++){const{offset:t,endOffset:e}=b[m];if(0!==t||0!==e)break;const r=b[m+1].offset;if(0!==r){b[m].endOffset=r;break}}const w=Object.create(null);let x=0;for(c(p,0,x),m=0,v=a;m<r;m++,v+=a){const t=y(d,b[m].offset,b[m].endOffset,g,x,i),e=t.length;0===e&&(w[m]=!0),t.sizeOfInstructions>s&&(s=t.sizeOfInstructions),x+=e,c(p,v,x)}if(0===x){const t=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(m=0,v=a;m<h;m++,v+=a)c(p,v,t.length);e.data=t}else if(o){const r=l(p,a);g.length>r+x?e.data=g.subarray(0,r+x):(e.data=new Uint8Array(r+x),e.data.set(g.subarray(0,x))),e.data.set(g.subarray(0,r),x),c(t.data,p.length-a,x+r)}else e.data=g.subarray(0,x);return{missingGlyphs:w,maxSizeOfInstructions:s}}(k.loca,k.glyf,F,t,V,R,H);q=e.missingGlyphs,P>=65536&&k.maxp.length>=22&&(k.maxp.data[26]=e.maxSizeOfInstructions>>8,k.maxp.data[27]=255&e.maxSizeOfInstructions)}if(!k.hhea)throw new n.FormatError('Required "hhea" table is not found');0===k.hhea.data[10]&&0===k.hhea.data[11]&&(k.hhea.data[10]=255,k.hhea.data[11]=255);const W={unitsPerEm:T(k.head.data[18],k.head.data[19]),yMax:T(k.head.data[42],k.head.data[43]),yMin:M(k.head.data[38],k.head.data[39]),ascent:M(k.hhea.data[4],k.hhea.data[5]),descent:M(k.hhea.data[6],k.hhea.data[7]),lineGap:M(k.hhea.data[8],k.hhea.data[9])};this.ascent=W.ascent/W.unitsPerEm,this.descent=W.descent/W.unitsPerEm,this.lineGap=W.lineGap/W.unitsPerEm,this.cssFontInfo&&this.cssFontInfo.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,k.post&&function(t,r,i){const s=(e.start?e.start:0)+t.offset;e.pos=s;const a=s+t.length,l=e.getInt32();let c;e.skip(28);let h,u=!0;switch(l){case 65536:c=o.MacStandardGlyphOrdering;break;case 131072:const t=e.getUint16();if(t!==i){u=!1;break}const s=[];for(h=0;h<t;++h){const t=e.getUint16();if(t>=32768){u=!1;break}s.push(t)}if(!u)break;const p=[],d=[];for(;e.pos<a;){const t=e.getByte();for(d.length=t,h=0;h<t;++h)d[h]=String.fromCharCode(e.getByte());p.push(d.join(""))}for(c=[],h=0;h<t;++h){const t=s[h];t<258?c.push(o.MacStandardGlyphOrdering[t]):c.push(p[t-258])}break;case 196608:break;default:(0,n.warn)("Unknown/unsupported post table version "+l),u=!1,r.defaultEncoding&&(c=r.defaultEncoding)}r.glyphNames=c}(k.post,r,F),k.post={tag:"post",data:z(r)};const X=[];function G(t){return!q[t]}if(r.composite){const t=r.cidToGidMap||[],e=0===t.length;r.cMap.forEach((function(r,i){if("string"==typeof i&&(i=L(r,i,!0)),i>65535)throw new n.FormatError("Max size of CID is 65,535");let o=-1;e?o=i:void 0!==t[i]&&(o=t[i]),o>=0&&o<F&&G(o)&&(X[r]=o)}))}else{const t=function(t,e,r,i){if(!t)return(0,n.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let o,s=(e.start?e.start:0)+t.offset;e.pos=s,e.skip(2);const a=e.getUint16();let l,c=!1;for(let t=0;t<a;t++){const n=e.getUint16(),o=e.getUint16(),s=e.getInt32()>>>0;let h=!1;if(!l||l.platformId!==n||l.encodingId!==o){if(0!==n||0!==o&&1!==o&&3!==o)if(1===n&&0===o)h=!0;else if(3!==n||1!==o||!i&&l){if(r&&3===n&&0===o){h=!0;let r=!0;if(t<a-1){const t=e.peekBytes(2);T(t[0],t[1])<n&&(r=!1)}r&&(c=!0)}}else h=!0,r||(c=!0);else h=!0;if(h&&(l={platformId:n,encodingId:o,offset:s}),c)break}}if(l&&(e.pos=s+l.offset),!l||-1===e.peekByte())return(0,n.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const h=e.getUint16();let u=!1;const p=[];let d,f;if(0===h){for(e.skip(4),d=0;d<256;d++){const t=e.getByte();t&&p.push({charCode:d,glyphId:t})}u=!0}else if(2===h){e.skip(4);const t=[];let r=0;for(let n=0;n<256;n++){const n=e.getUint16()>>3;t.push(n),r=Math.max(n,r)}const n=[];for(let t=0;t<=r;t++)n.push({firstCode:e.getUint16(),entryCount:e.getUint16(),idDelta:M(e.getByte(),e.getByte()),idRangePos:e.pos+e.getUint16()});for(let r=0;r<256;r++)if(0===t[r])e.pos=n[0].idRangePos+2*r,f=e.getUint16(),p.push({charCode:r,glyphId:f});else{const i=n[t[r]];for(d=0;d<i.entryCount;d++){const t=(r<<8)+d+i.firstCode;e.pos=i.idRangePos+2*d,f=e.getUint16(),0!==f&&(f=(f+i.idDelta)%65536),p.push({charCode:t,glyphId:f})}}}else if(4===h){e.skip(4);const t=e.getUint16()>>1;e.skip(6);const r=[];let n;for(n=0;n<t;n++)r.push({end:e.getUint16()});for(e.skip(2),n=0;n<t;n++)r[n].start=e.getUint16();for(n=0;n<t;n++)r[n].delta=e.getUint16();let i,a=0;for(n=0;n<t;n++){o=r[n];const s=e.getUint16();s?(i=(s>>1)-(t-n),o.offsetIndex=i,a=Math.max(a,i+o.end-o.start+1)):o.offsetIndex=-1}const l=[];for(d=0;d<a;d++)l.push(e.getUint16());for(n=0;n<t;n++){o=r[n],s=o.start;const t=o.end,e=o.delta;for(i=o.offsetIndex,d=s;d<=t;d++)65535!==d&&(f=i<0?d:l[i+d-s],f=f+e&65535,p.push({charCode:d,glyphId:f}))}}else if(6===h){e.skip(4);const t=e.getUint16(),r=e.getUint16();for(d=0;d<r;d++){f=e.getUint16();const r=t+d;p.push({charCode:r,glyphId:f})}}else{if(12!==h)return(0,n.warn)("cmap table has unsupported format: "+h),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};{e.skip(10);const t=e.getInt32()>>>0;for(d=0;d<t;d++){const t=e.getInt32()>>>0,r=e.getInt32()>>>0;let n=e.getInt32()>>>0;for(let e=t;e<=r;e++)p.push({charCode:e,glyphId:n++})}}}p.sort((function(t,e){return t.charCode-e.charCode}));for(let t=1;t<p.length;t++)p[t-1].charCode===p[t].charCode&&(p.splice(t,1),t--);return{platformId:l.platformId,encodingId:l.encodingId,mappings:p,hasShortCmap:u}}(k.cmap,e,this.isSymbolicFont,r.hasEncoding),i=t.platformId,s=t.encodingId,c=t.mappings,u=c.length;let p=[],d=!1;if(!r.hasEncoding||"MacRomanEncoding"!==r.baseEncodingName&&"WinAnsiEncoding"!==r.baseEncodingName||(p=(0,l.getEncoding)(r.baseEncodingName)),r.hasEncoding&&!this.isSymbolicFont&&(3===i&&1===s||1===i&&0===s)){const t=(0,a.getGlyphsUnicode)();for(let e=0;e<256;e++){let n;if(n=void 0!==this.differences[e]?this.differences[e]:p.length&&""!==p[e]?p[e]:l.StandardEncoding[e],!n)continue;const a=(0,o.recoverGlyphName)(n,t);let d;if(3===i&&1===s?d=t[a]:1===i&&0===s&&(d=l.MacRomanEncoding.indexOf(a)),void 0===d){if(!r.glyphNames&&r.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof h.IdentityToUnicodeMap)){const t=this.toUnicode.get(e);t&&(d=t.codePointAt(0))}if(void 0===d)continue}for(let t=0;t<u;++t)if(c[t].charCode===d){X[e]=c[t].glyphId;break}}}else if(0===i){for(let t=0;t<u;++t)X[c[t].charCode]=c[t].glyphId;d=!0}else for(let t=0;t<u;++t){let e=c[t].charCode;3===i&&e>=61440&&e<=61695&&(e&=255),X[e]=c[t].glyphId}if(r.glyphNames&&(p.length||this.differences.length))for(let t=0;t<256;++t){if(!d&&void 0!==X[t])continue;const e=this.differences[t]||p[t];if(!e)continue;const n=r.glyphNames.indexOf(e);n>0&&G(n)&&(X[t]=n)}}0===X.length&&(X[0]=0);let K=D-1;if(R||(K=0),!r.cssFontInfo){const t=N(X,G,K);this.toFontChar=t.toFontChar,k.cmap={tag:"cmap",data:B(t.charCodeToGlyphId,D)},k["OS/2"]&&function(t,e){e.pos=(e.start||0)+t.offset;const r=e.getUint16();e.skip(60);const n=e.getUint16();return!(r<4&&768&n||e.getUint16()>e.getUint16()||(e.skip(6),0===e.getUint16()||(t.data[8]=t.data[9]=0,0)))}(k["OS/2"],e)||(k["OS/2"]={tag:"OS/2",data:j(r,t.charCodeToGlyphId,W)})}if(!E)try{_=new v.Stream(k["CFF "].data),C=new i.CFFParser(_,r,o.SEAC_ANALYSIS_ENABLED).parse(),C.duplicateFirstGlyph();const t=new i.CFFCompiler(C);k["CFF "].data=t.compile()}catch(t){(0,n.warn)("Failed to compile font "+r.loadedName)}if(k.name){const e=b(k.name);k.name.data=$(t,e),this.psName=e[0][6]||null}else k.name={tag:"name",data:$(this.name)};const Y=new m.OpenTypeFileBuilder(S.version);for(const t in k)Y.addTable(t,k[t].data);return Y.toArray()}convert(t,e,r){r.fixedPitch=!1,r.builtInEncoding&&function(t,e){if(t.isInternalFont)return;if(e===t.defaultEncoding)return;if(t.toUnicode instanceof h.IdentityToUnicodeMap)return;const r=[],n=(0,a.getGlyphsUnicode)();for(const i in e){if(t.hasIncludedToUnicodeMap){if(t.toUnicode.has(i))continue}else if(t.hasEncoding&&(0===t.differences.length||void 0!==t.differences[i]))continue;const o=e[i],a=(0,s.getUnicodeForGlyph)(o,n);-1!==a&&(r[i]=String.fromCharCode(a))}r.length>0&&t.toUnicode.amend(r)}(r,r.builtInEncoding);let i=1;e instanceof u.CFFFont&&(i=e.numGlyphs-1);const c=e.getGlyphMapping(r);let p=null,d=c;r.cssFontInfo||(p=N(c,e.hasGlyphId.bind(e),i),this.toFontChar=p.toFontChar,d=p.charCodeToGlyphId);const f=e.numGlyphs;function g(t,e){let r=null;for(const n in t)e===t[n]&&(r||(r=[]),r.push(0|n));return r}function y(t,e){for(const r in t)if(e===t[r])return 0|r;return p.charCodeToGlyphId[p.nextAvailableFontCharCode]=e,p.nextAvailableFontCharCode++}const v=e.seacs;if(p&&o.SEAC_ANALYSIS_ENABLED&&v&&v.length){const t=r.fontMatrix||n.FONT_IDENTITY_MATRIX,i=e.getCharset(),o=Object.create(null);for(let e in v){e|=0;const r=v[e],n=l.StandardEncoding[r[2]],s=l.StandardEncoding[r[3]],a=i.indexOf(n),h=i.indexOf(s);if(a<0||h<0)continue;const u={x:r[0]*t[0]+r[1]*t[2]+t[4],y:r[0]*t[1]+r[1]*t[3]+t[5]},d=g(c,e);if(d)for(let t=0,e=d.length;t<e;t++){const e=d[t],r=p.charCodeToGlyphId,n=y(r,a),i=y(r,h);o[e]={baseFontCharCode:n,accentFontCharCode:i,accentOffset:u}}}r.seacMap=o}const b=1/(r.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],w=new m.OpenTypeFileBuilder("OTTO");return w.addTable("CFF ",e.data),w.addTable("OS/2",j(r,d)),w.addTable("cmap",B(d,f)),w.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+P(b)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+P(r.descent)+"ÿ"+P(r.ascent)+E(r.italicAngle?2:0)+"\0\0\0\0\0\0\0"),w.addTable("hhea","\0\0\0"+P(r.ascent)+P(r.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+P(r.capHeight)+P(Math.tan(r.italicAngle)*r.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+E(f)),w.addTable("hmtx",function(){const t=e.charstrings,r=e.cff?e.cff.widths:null;let n="\0\0\0\0";for(let e=1,i=f;e<i;e++){let i=0;if(t){const r=t[e-1];i="width"in r?r.width:0}else r&&(i=Math.ceil(r[e]||0));n+=E(i)+E(0)}return n}()),w.addTable("maxp","\0\0P\0"+E(f)),w.addTable("name",$(t)),w.addTable("post",z(r)),w.toArray()}get spaceWidth(){const t=["space","minus","one","i","I"];let e;for(let r=0,n=t.length;r<n;r++){const n=t[r];if(n in this.widths){e=this.widths[n];break}const i=(0,a.getGlyphsUnicode)()[n];let o=0;if(this.composite&&this.cMap.contains(i)&&(o=this.cMap.lookup(i),"string"==typeof o&&(o=L(i,o))),!o&&this.toUnicode&&(o=this.toUnicode.charCodeOf(i)),o<=0&&(o=i),e=this.widths[o],e)break}return e=e||this.defaultWidth,(0,n.shadow)(this,"spaceWidth",e)}_charToGlyph(t,e=!1){let r,i,o,a=t;this.cMap&&this.cMap.contains(t)&&(a=this.cMap.lookup(t),"string"==typeof a&&(a=L(t,a))),i=this.widths[a],"number"!=typeof i&&(i=this.defaultWidth);const l=this.vmetrics&&this.vmetrics[a];let c=this.toUnicode.get(t)||t;"number"==typeof c&&(c=String.fromCharCode(c));let h=void 0!==this.toFontChar[t];if(r=this.toFontChar[t]||t,this.missingFile){const e=this.differences[t]||this.defaultEncoding[t];".notdef"!==e&&""!==e||"Type1"!==this.type||(r=32),r=(0,s.mapSpecialUnicodeValues)(r)}this.isType3Font&&(o=r);let u=null;if(this.seacMap&&this.seacMap[t]){h=!0;const e=this.seacMap[t];r=e.baseFontCharCode,u={fontChar:String.fromCodePoint(e.accentFontCharCode),offset:e.accentOffset}}let p="";"number"==typeof r&&(r<=1114111?p=String.fromCodePoint(r):(0,n.warn)(`charToGlyph - invalid fontCharCode: ${r}`));let d=this._glyphCache[t];return d&&d.matchesForCache(t,p,c,u,i,l,o,e,h)||(d=new _(t,p,c,u,i,l,o,e,h),this._glyphCache[t]=d),d}charsToGlyphs(t){let e=this._charsCache[t];if(e)return e;if(e=[],this.cMap){const r=Object.create(null),n=t.length;let i=0;for(;i<n;){this.cMap.readCharCode(t,i,r);const{charcode:n,length:o}=r;i+=o;const s=this._charToGlyph(n,1===o&&32===t.charCodeAt(i-1));e.push(s)}}else for(let r=0,n=t.length;r<n;++r){const n=t.charCodeAt(r),i=this._charToGlyph(n,32===n);e.push(i)}return this._charsCache[t]=e}getCharPositions(t){const e=[];if(this.cMap){const r=Object.create(null);let n=0;for(;n<t.length;){this.cMap.readCharCode(t,n,r);const i=r.length;e.push([n,n+i]),n+=i}}else for(let r=0,n=t.length;r<n;++r)e.push([r,r+1]);return e}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(t){const e=[],r=[],n=()=>e.length%2==1,i=this.toUnicode instanceof h.IdentityToUnicodeMap?t=>this.toUnicode.charCodeOf(t):t=>this.toUnicode.charCodeOf(String.fromCodePoint(t));for(let o=0,s=t.length;o<s;o++){const s=t.codePointAt(o);if(s>55295&&(s<57344||s>65533)&&o++,this.toUnicode){const t=i(s);if(-1!==t){n()&&(e.push(r.join("")),r.length=0);for(let e=(this.cMap?this.cMap.getCharCodeLength(t):1)-1;e>=0;e--)r.push(String.fromCharCode(t>>8*e&255));continue}}n()||(e.push(r.join("")),r.length=0),r.push(String.fromCodePoint(s))}return e.push(r.join("")),e}},e.ErrorFont=class{constructor(t){this.error=t,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(t){return[t]}exportData(t=!1){return{error:this.error}}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CFFTopDict=e.CFFStrings=e.CFFStandardStrings=e.CFFPrivateDict=e.CFFParser=e.CFFIndex=e.CFFHeader=e.CFFFDSelect=e.CFFCompiler=e.CFFCharset=e.CFF=void 0;var n=r(2),i=r(46),o=r(19);const s=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];e.CFFStandardStrings=s;const a=391,l=function(){const t=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],e=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn:function(t,e){t[e-2]=t[e-2]+t[e-1]}},{id:"sub",min:2,stackDelta:-1,stackFn:function(t,e){t[e-2]=t[e-2]-t[e-1]}},{id:"div",min:2,stackDelta:-1,stackFn:function(t,e){t[e-2]=t[e-2]/t[e-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn:function(t,e){t[e-1]=-t[e-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn:function(t,e){t[e-2]=t[e-2]*t[e-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];return class{constructor(t,e,r){this.bytes=t.getBytes(),this.properties=e,this.seacAnalysisEnabled=!!r}parse(){const t=this.properties,e=new c;this.cff=e;const r=this.parseHeader(),n=this.parseIndex(r.endPos),i=this.parseIndex(n.endPos),o=this.parseIndex(i.endPos),s=this.parseIndex(o.endPos),a=this.parseDict(i.obj.get(0)),l=this.createDict(f,a,e.strings);e.header=r.obj,e.names=this.parseNameIndex(n.obj),e.strings=this.parseStringIndex(o.obj),e.topDict=l,e.globalSubrIndex=s.obj,this.parsePrivateDict(e.topDict),e.isCIDFont=l.hasName("ROS");const h=l.getByName("CharStrings"),u=this.parseIndex(h).obj,p=l.getByName("FontMatrix");p&&(t.fontMatrix=p);const d=l.getByName("FontBBox");let g,m;if(d&&(t.ascent=Math.max(d[3],d[1]),t.descent=Math.min(d[1],d[3]),t.ascentScaled=!0),e.isCIDFont){const t=this.parseIndex(l.getByName("FDArray")).obj;for(let r=0,n=t.count;r<n;++r){const n=t.get(r),i=this.createDict(f,this.parseDict(n),e.strings);this.parsePrivateDict(i),e.fdArray.push(i)}m=null,g=this.parseCharsets(l.getByName("charset"),u.count,e.strings,!0),e.fdSelect=this.parseFDSelect(l.getByName("FDSelect"),u.count)}else g=this.parseCharsets(l.getByName("charset"),u.count,e.strings,!1),m=this.parseEncoding(l.getByName("Encoding"),t,e.strings,g.charset);e.charset=g,e.encoding=m;const y=this.parseCharStrings({charStrings:u,localSubrIndex:l.privateDict.subrsIndex,globalSubrIndex:s.obj,fdSelect:e.fdSelect,fdArray:e.fdArray,privateDict:l.privateDict});return e.charStrings=y.charStrings,e.seacs=y.seacs,e.widths=y.widths,e}parseHeader(){let t=this.bytes;const e=t.length;let r=0;for(;r<e&&1!==t[r];)++r;if(r>=e)throw new n.FormatError("Invalid CFF header");0!==r&&((0,n.info)("cff data is shifted"),t=t.subarray(r),this.bytes=t);const i=t[0],o=t[1],s=t[2],a=t[3];return{obj:new h(i,o,s,a),endPos:s}}parseDict(t){let e=0;function r(){let r=t[e++];return 30===r?function(){let r="";const n=15,i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],o=t.length;for(;e<o;){const o=t[e++],s=o>>4,a=15&o;if(s===n)break;if(r+=i[s],a===n)break;r+=i[a]}return parseFloat(r)}():28===r?(r=t[e++],r=(r<<24|t[e++]<<16)>>16,r):29===r?(r=t[e++],r=r<<8|t[e++],r=r<<8|t[e++],r=r<<8|t[e++],r):r>=32&&r<=246?r-139:r>=247&&r<=250?256*(r-247)+t[e++]+108:r>=251&&r<=254?-256*(r-251)-t[e++]-108:((0,n.warn)('CFFParser_parseDict: "'+r+'" is a reserved command.'),NaN)}let i=[];const o=[];e=0;const s=t.length;for(;e<s;){let n=t[e];n<=21?(12===n&&(n=n<<8|t[++e]),o.push([n,i]),i=[],++e):i.push(r())}return o}parseIndex(t){const e=new p,r=this.bytes,n=r[t++]<<8|r[t++],i=[];let o,s,a=t;if(0!==n){const e=r[t++],l=t+(n+1)*e-1;for(o=0,s=n+1;o<s;++o){let n=0;for(let i=0;i<e;++i)n<<=8,n+=r[t++];i.push(l+n)}a=i[n]}for(o=0,s=i.length-1;o<s;++o){const t=i[o],n=i[o+1];e.add(r.subarray(t,n))}return{obj:e,endPos:a}}parseNameIndex(t){const e=[];for(let r=0,i=t.count;r<i;++r){const i=t.get(r);e.push((0,n.bytesToString)(i))}return e}parseStringIndex(t){const e=new u;for(let r=0,i=t.count;r<i;++r){const i=t.get(r);e.add((0,n.bytesToString)(i))}return e}createDict(t,e,r){const n=new t(r);for(let t=0,r=e.length;t<r;++t){const r=e[t],i=r[0],o=r[1];n.setByKey(i,o)}return n}parseCharString(r,i,o,s){if(!i||r.callDepth>10)return!1;let a=r.stackSize;const l=r.stack,c=i.length;for(let h=0;h<c;){const c=i[h++];let u=null;if(12===c){const t=i[h++];0===t?(i[h-2]=139,i[h-1]=22,a=0):u=e[t]}else if(28===c)l[a]=(i[h]<<24|i[h+1]<<16)>>16,h+=2,a++;else if(14===c){if(a>=4&&(a-=4,this.seacAnalysisEnabled))return r.seac=l.slice(a,a+4),!1;u=t[c]}else if(c>=32&&c<=246)l[a]=c-139,a++;else if(c>=247&&c<=254)l[a]=c<251?(c-247<<8)+i[h]+108:-(c-251<<8)-i[h]-108,h++,a++;else if(255===c)l[a]=(i[h]<<24|i[h+1]<<16|i[h+2]<<8|i[h+3])/65536,h+=4,a++;else if(19===c||20===c)r.hints+=a>>1,h+=r.hints+7>>3,a%=2,u=t[c];else{if(10===c||29===c){let e;if(e=10===c?o:s,!e)return u=t[c],(0,n.warn)("Missing subrsIndex for "+u.id),!1;let i=32768;e.count<1240?i=107:e.count<33900&&(i=1131);const h=l[--a]+i;if(h<0||h>=e.count||isNaN(h))return u=t[c],(0,n.warn)("Out of bounds subrIndex for "+u.id),!1;if(r.stackSize=a,r.callDepth++,!this.parseCharString(r,e.get(h),o,s))return!1;r.callDepth--,a=r.stackSize;continue}if(11===c)return r.stackSize=a,!0;0===c&&h===i.length?(i[h-1]=14,u=t[14]):u=t[c]}if(u){if(u.stem&&(r.hints+=a>>1,3===c||23===c?r.hasVStems=!0:!r.hasVStems||1!==c&&18!==c||((0,n.warn)("CFF stem hints are in wrong order"),i[h-1]=1===c?3:23)),"min"in u&&!r.undefStack&&a<u.min)return(0,n.warn)("Not enough parameters for "+u.id+"; actual: "+a+", expected: "+u.min),0===a&&(i[h-1]=14,!0);r.firstStackClearing&&u.stackClearing&&(r.firstStackClearing=!1,a-=u.min,a>=2&&u.stem?a%=2:a>1&&(0,n.warn)("Found too many parameters for stack-clearing command"),a>0&&(r.width=l[a-1])),"stackDelta"in u?("stackFn"in u&&u.stackFn(l,a),a+=u.stackDelta):u.stackClearing?a=0:u.resetStack?(a=0,r.undefStack=!1):u.undefStack&&(a=0,r.undefStack=!0,r.firstStackClearing=!1)}}return r.stackSize=a,!0}parseCharStrings({charStrings:t,localSubrIndex:e,globalSubrIndex:r,fdSelect:i,fdArray:o,privateDict:s}){const a=[],l=[],c=t.count;for(let h=0;h<c;h++){const c=t.get(h),u={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let p=!0,d=null,f=s;if(i&&o.length){const t=i.getFDIndex(h);-1===t&&((0,n.warn)("Glyph index is not in fd select."),p=!1),t>=o.length&&((0,n.warn)("Invalid fd index for glyph index."),p=!1),p&&(f=o[t].privateDict,d=f.subrsIndex)}else e&&(d=e);if(p&&(p=this.parseCharString(u,c,d,r)),null!==u.width){const t=f.getByName("nominalWidthX");l[h]=t+u.width}else{const t=f.getByName("defaultWidthX");l[h]=t}null!==u.seac&&(a[h]=u.seac),p||t.set(h,new Uint8Array([14]))}return{charStrings:t,seacs:a,widths:l}}emptyPrivateDictionary(t){const e=this.createDict(g,[],t.strings);t.setByKey(18,[0,0]),t.privateDict=e}parsePrivateDict(t){if(!t.hasName("Private"))return void this.emptyPrivateDictionary(t);const e=t.getByName("Private");if(!Array.isArray(e)||2!==e.length)return void t.removeByName("Private");const r=e[0],n=e[1];if(0===r||n>=this.bytes.length)return void this.emptyPrivateDictionary(t);const i=n+r,o=this.bytes.subarray(n,i),s=this.parseDict(o),a=this.createDict(g,s,t.strings);if(t.privateDict=a,!a.getByName("Subrs"))return;const l=a.getByName("Subrs"),c=n+l;if(0===l||c>=this.bytes.length)return void this.emptyPrivateDictionary(t);const h=this.parseIndex(c);a.subrsIndex=h.obj}parseCharsets(t,e,r,o){if(0===t)return new y(!0,m.ISO_ADOBE,i.ISOAdobeCharset);if(1===t)return new y(!0,m.EXPERT,i.ExpertCharset);if(2===t)return new y(!0,m.EXPERT_SUBSET,i.ExpertSubsetCharset);const s=this.bytes,a=t,l=s[t++],c=[o?0:".notdef"];let h,u,p;switch(e-=1,l){case 0:for(p=0;p<e;p++)h=s[t++]<<8|s[t++],c.push(o?h:r.get(h));break;case 1:for(;c.length<=e;)for(h=s[t++]<<8|s[t++],u=s[t++],p=0;p<=u;p++)c.push(o?h++:r.get(h++));break;case 2:for(;c.length<=e;)for(h=s[t++]<<8|s[t++],u=s[t++]<<8|s[t++],p=0;p<=u;p++)c.push(o?h++:r.get(h++));break;default:throw new n.FormatError("Unknown charset format")}const d=t,f=s.subarray(a,d);return new y(!1,l,c,f)}parseEncoding(t,e,r,i){const s=Object.create(null),a=this.bytes;let l,c,h,u=!1,p=null;if(0===t||1===t){u=!0,l=t;const e=t?o.ExpertEncoding:o.StandardEncoding;for(c=0,h=i.length;c<h;c++){const t=e.indexOf(i[c]);-1!==t&&(s[t]=c)}}else{const e=t;switch(l=a[t++],127&l){case 0:const e=a[t++];for(c=1;c<=e;c++)s[a[t++]]=c;break;case 1:const r=a[t++];let i=1;for(c=0;c<r;c++){const e=a[t++],r=a[t++];for(let t=e;t<=e+r;t++)s[t]=i++}break;default:throw new n.FormatError(`Unknown encoding format: ${l} in CFF`)}const o=t;128&l&&(a[e]&=127,function(){const e=a[t++];for(c=0;c<e;c++){const e=a[t++],n=(a[t++]<<8)+(255&a[t++]);s[e]=i.indexOf(r.get(n))}}()),p=a.subarray(e,o)}return l&=127,new v(u,l,s,p)}parseFDSelect(t,e){const r=this.bytes,i=r[t++],o=[];let s;switch(i){case 0:for(s=0;s<e;++s){const e=r[t++];o.push(e)}break;case 3:const a=r[t++]<<8|r[t++];for(s=0;s<a;++s){let e=r[t++]<<8|r[t++];0===s&&0!==e&&((0,n.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),e=0);const i=r[t++],a=r[t]<<8|r[t+1];for(let t=e;t<a;++t)o.push(i)}t+=2;break;default:throw new n.FormatError(`parseFDSelect: Unknown format "${i}".`)}if(o.length!==e)throw new n.FormatError("parseFDSelect: Invalid font data.");return new b(i,o)}}}();e.CFFParser=l;class c{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new u,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535)return void(0,n.warn)("Not enough space in charstrings to duplicate first glyph.");const t=this.charStrings.get(0);this.charStrings.add(t),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(t){return!(t<0||t>=this.charStrings.count)&&this.charStrings.get(t).length>0}}e.CFF=c;class h{constructor(t,e,r,n){this.major=t,this.minor=e,this.hdrSize=r,this.offSize=n}}e.CFFHeader=h;class u{constructor(){this.strings=[]}get(t){return t>=0&&t<=390?s[t]:t-a<=this.strings.length?this.strings[t-a]:s[0]}getSID(t){let e=s.indexOf(t);return-1!==e?e:(e=this.strings.indexOf(t),-1!==e?e+a:-1)}add(t){this.strings.push(t)}get count(){return this.strings.length}}e.CFFStrings=u;class p{constructor(){this.objects=[],this.length=0}add(t){this.length+=t.length,this.objects.push(t)}set(t,e){this.length+=e.length-this.objects[t].length,this.objects[t]=e}get(t){return this.objects[t]}get count(){return this.objects.length}}e.CFFIndex=p;class d{constructor(t,e){this.keyToNameMap=t.keyToNameMap,this.nameToKeyMap=t.nameToKeyMap,this.defaults=t.defaults,this.types=t.types,this.opcodes=t.opcodes,this.order=t.order,this.strings=e,this.values=Object.create(null)}setByKey(t,e){if(!(t in this.keyToNameMap))return!1;const r=e.length;if(0===r)return!0;for(let i=0;i<r;i++)if(isNaN(e[i]))return(0,n.warn)('Invalid CFFDict value: "'+e+'" for key "'+t+'".'),!0;const i=this.types[t];return"num"!==i&&"sid"!==i&&"offset"!==i||(e=e[0]),this.values[t]=e,!0}setByName(t,e){if(!(t in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name "${t}"`);this.values[this.nameToKeyMap[t]]=e}hasName(t){return this.nameToKeyMap[t]in this.values}getByName(t){if(!(t in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name ${t}"`);const e=this.nameToKeyMap[t];return e in this.values?this.values[e]:this.defaults[e]}removeByName(t){delete this.values[this.nameToKeyMap[t]]}static createTables(t){const e={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(let r=0,n=t.length;r<n;++r){const n=t[r],i=Array.isArray(n[0])?(n[0][0]<<8)+n[0][1]:n[0];e.keyToNameMap[i]=n[1],e.nameToKeyMap[n[1]]=i,e.types[i]=n[2],e.defaults[i]=n[3],e.opcodes[i]=Array.isArray(n[0])?n[0]:[n[0]],e.order.push(i)}return e}}const f=function(){const t=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];let e=null;return class extends d{constructor(r){null===e&&(e=d.createTables(t)),super(e,r),this.privateDict=null}}}();e.CFFTopDict=f;const g=function(){const t=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];let e=null;return class extends d{constructor(r){null===e&&(e=d.createTables(t)),super(e,r),this.subrsIndex=null}}}();e.CFFPrivateDict=g;const m={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class y{constructor(t,e,r,n){this.predefined=t,this.format=e,this.charset=r,this.raw=n}}e.CFFCharset=y;class v{constructor(t,e,r,n){this.predefined=t,this.format=e,this.encoding=r,this.raw=n}}class b{constructor(t,e){this.format=t,this.fdSelect=e}getFDIndex(t){return t<0||t>=this.fdSelect.length?-1:this.fdSelect[t]}}e.CFFFDSelect=b;class w{constructor(){this.offsets=Object.create(null)}isTracking(t){return t in this.offsets}track(t,e){if(t in this.offsets)throw new n.FormatError(`Already tracking location of ${t}`);this.offsets[t]=e}offset(t){for(const e in this.offsets)this.offsets[e]+=t}setEntryLocation(t,e,r){if(!(t in this.offsets))throw new n.FormatError(`Not tracking location of ${t}`);const i=r.data,o=this.offsets[t];for(let t=0,r=e.length;t<r;++t){const r=5*t+o,s=r+1,a=r+2,l=r+3,c=r+4;if(29!==i[r]||0!==i[s]||0!==i[a]||0!==i[l]||0!==i[c])throw new n.FormatError("writing to an offset that is not empty");const h=e[t];i[r]=29,i[s]=h>>24&255,i[a]=h>>16&255,i[l]=h>>8&255,i[c]=255&h}}}class x{constructor(t){this.cff=t}compile(){const t=this.cff,e={data:[],length:0,add:function(t){this.data=this.data.concat(t),this.length=this.data.length}},r=this.compileHeader(t.header);e.add(r);const i=this.compileNameIndex(t.names);if(e.add(i),t.isCIDFont&&t.topDict.hasName("FontMatrix")){const e=t.topDict.getByName("FontMatrix");t.topDict.removeByName("FontMatrix");for(let r=0,i=t.fdArray.length;r<i;r++){const i=t.fdArray[r];let o=e.slice(0);i.hasName("FontMatrix")&&(o=n.Util.transform(o,i.getByName("FontMatrix"))),i.setByName("FontMatrix",o)}}const o=t.topDict.getByName("XUID");o&&o.length>16&&t.topDict.removeByName("XUID"),t.topDict.setByName("charset",0);let s=this.compileTopDicts([t.topDict],e.length,t.isCIDFont);e.add(s.output);const a=s.trackers[0],l=this.compileStringIndex(t.strings.strings);e.add(l);const c=this.compileIndex(t.globalSubrIndex);if(e.add(c),t.encoding&&t.topDict.hasName("Encoding"))if(t.encoding.predefined)a.setEntryLocation("Encoding",[t.encoding.format],e);else{const r=this.compileEncoding(t.encoding);a.setEntryLocation("Encoding",[e.length],e),e.add(r)}const h=this.compileCharset(t.charset,t.charStrings.count,t.strings,t.isCIDFont);a.setEntryLocation("charset",[e.length],e),e.add(h);const u=this.compileCharStrings(t.charStrings);if(a.setEntryLocation("CharStrings",[e.length],e),e.add(u),t.isCIDFont){a.setEntryLocation("FDSelect",[e.length],e);const r=this.compileFDSelect(t.fdSelect);e.add(r),s=this.compileTopDicts(t.fdArray,e.length,!0),a.setEntryLocation("FDArray",[e.length],e),e.add(s.output);const n=s.trackers;this.compilePrivateDicts(t.fdArray,n,e)}return this.compilePrivateDicts([t.topDict],[a],e),e.add([0]),e.data}encodeNumber(t){return Number.isInteger(t)?this.encodeInteger(t):this.encodeFloat(t)}static get EncodeFloatRegExp(){return(0,n.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(t){let e=t.toString();const r=x.EncodeFloatRegExp.exec(e);if(r){const n=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));e=(Math.round(t*n)/n).toString()}let n,i,o="";for(n=0,i=e.length;n<i;++n){const t=e[n];o+="e"===t?"-"===e[++n]?"c":"b":"."===t?"a":"-"===t?"e":t}o+=1&o.length?"f":"ff";const s=[30];for(n=0,i=o.length;n<i;n+=2)s.push(parseInt(o.substring(n,n+2),16));return s}encodeInteger(t){let e;return e=t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?[247+((t-=108)>>8),255&t]:t>=-1131&&t<=-108?[251+((t=-t-108)>>8),255&t]:t>=-32768&&t<=32767?[28,t>>8&255,255&t]:[29,t>>24&255,t>>16&255,t>>8&255,255&t],e}compileHeader(t){return[t.major,t.minor,4,t.offSize]}compileNameIndex(t){const e=new p;for(let r=0,i=t.length;r<i;++r){const i=t[r],o=Math.min(i.length,127);let s=new Array(o);for(let t=0;t<o;t++){let e=i[t];(e<"!"||e>"~"||"["===e||"]"===e||"("===e||")"===e||"{"===e||"}"===e||"<"===e||">"===e||"/"===e||"%"===e)&&(e="_"),s[t]=e}s=s.join(""),""===s&&(s="Bad_Font_Name"),e.add((0,n.stringToBytes)(s))}return this.compileIndex(e)}compileTopDicts(t,e,r){const n=[];let i=new p;for(let o=0,s=t.length;o<s;++o){const s=t[o];r&&(s.removeByName("CIDFontVersion"),s.removeByName("CIDFontRevision"),s.removeByName("CIDFontType"),s.removeByName("CIDCount"),s.removeByName("UIDBase"));const a=new w,l=this.compileDict(s,a);n.push(a),i.add(l),a.offset(e)}return i=this.compileIndex(i,n),{trackers:n,output:i}}compilePrivateDicts(t,e,r){for(let i=0,o=t.length;i<o;++i){const o=t[i],s=o.privateDict;if(!s||!o.hasName("Private"))throw new n.FormatError("There must be a private dictionary.");const a=new w,l=this.compileDict(s,a);let c=r.length;if(a.offset(c),l.length||(c=0),e[i].setEntryLocation("Private",[l.length,c],r),r.add(l),s.subrsIndex&&s.hasName("Subrs")){const t=this.compileIndex(s.subrsIndex);a.setEntryLocation("Subrs",[l.length],r),r.add(t)}}}compileDict(t,e){let r=[];const i=t.order;for(let o=0;o<i.length;++o){const s=i[o];if(!(s in t.values))continue;let a=t.values[s],l=t.types[s];if(Array.isArray(l)||(l=[l]),Array.isArray(a)||(a=[a]),0!==a.length){for(let i=0,o=l.length;i<o;++i){const o=l[i],c=a[i];switch(o){case"num":case"sid":r=r.concat(this.encodeNumber(c));break;case"offset":const i=t.keyToNameMap[s];e.isTracking(i)||e.track(i,r.length),r=r.concat([29,0,0,0,0]);break;case"array":case"delta":r=r.concat(this.encodeNumber(c));for(let t=1,e=a.length;t<e;++t)r=r.concat(this.encodeNumber(a[t]));break;default:throw new n.FormatError(`Unknown data type of ${o}`)}}r=r.concat(t.opcodes[s])}}return r}compileStringIndex(t){const e=new p;for(let r=0,i=t.length;r<i;++r)e.add((0,n.stringToBytes)(t[r]));return this.compileIndex(e)}compileGlobalSubrIndex(){const t=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(t))}compileCharStrings(t){const e=new p;for(let r=0;r<t.count;r++){const n=t.get(r);0!==n.length?e.add(n):e.add(new Uint8Array([139,14]))}return this.compileIndex(e)}compileCharset(t,e,r,i){let o;const s=e-1;if(i)o=new Uint8Array([2,0,0,s>>8&255,255&s]);else{o=new Uint8Array(1+2*s),o[0]=0;let e=0;const i=t.charset.length;let a=!1;for(let s=1;s<o.length;s+=2){let l=0;if(e<i){const i=t.charset[e++];l=r.getSID(i),-1===l&&(l=0,a||(a=!0,(0,n.warn)(`Couldn't find ${i} in CFF strings`)))}o[s]=l>>8&255,o[s+1]=255&l}}return this.compileTypedArray(o)}compileEncoding(t){return this.compileTypedArray(t.raw)}compileFDSelect(t){const e=t.format;let r,n;switch(e){case 0:for(r=new Uint8Array(1+t.fdSelect.length),r[0]=e,n=0;n<t.fdSelect.length;n++)r[n+1]=t.fdSelect[n];break;case 3:const i=0;let o=t.fdSelect[0];const s=[e,0,0,i>>8&255,255&i,o];for(n=1;n<t.fdSelect.length;n++){const e=t.fdSelect[n];e!==o&&(s.push(n>>8&255,255&n,e),o=e)}const a=(s.length-3)/3;s[1]=a>>8&255,s[2]=255&a,s.push(n>>8&255,255&n),r=new Uint8Array(s)}return this.compileTypedArray(r)}compileTypedArray(t){const e=[];for(let r=0,n=t.length;r<n;++r)e[r]=t[r];return e}compileIndex(t,e=[]){const r=t.objects,n=r.length;if(0===n)return[0,0,0];const i=[n>>8&255,255&n];let o,s,a=1;for(o=0;o<n;++o)a+=r[o].length;s=a<256?1:a<65536?2:a<16777216?3:4,i.push(s);let l=1;for(o=0;o<n+1;o++)1===s?i.push(255&l):2===s?i.push(l>>8&255,255&l):3===s?i.push(l>>16&255,l>>8&255,255&l):i.push(l>>>24&255,l>>16&255,l>>8&255,255&l),r[o]&&(l+=r[o].length);for(o=0;o<n;o++){e[o]&&e[o].offset(i.length);for(let t=0,e=r[o].length;t<e;t++)i.push(r[o][t])}return i}}e.CFFCompiler=x},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ISOAdobeCharset=e.ExpertSubsetCharset=e.ExpertCharset=void 0,e.ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],e.ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],e.ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"]},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getSerifFonts=e.getNonStdFontMap=e.getGlyphMapForStandardFonts=e.getFontNameToFileMap=void 0,e.getStandardFontName=function(t){const e=(0,i.normalizeFontName)(t);return o()[e]},e.getSymbolsFonts=e.getSupplementalGlyphMapForCalibri=e.getSupplementalGlyphMapForArialBlack=e.getStdFontMap=void 0;var n=r(8),i=r(18);const o=(0,n.getLookupTableFactory)((function(t){t["Times-Roman"]="Times-Roman",t.Helvetica="Helvetica",t.Courier="Courier",t.Symbol="Symbol",t["Times-Bold"]="Times-Bold",t["Helvetica-Bold"]="Helvetica-Bold",t["Courier-Bold"]="Courier-Bold",t.ZapfDingbats="ZapfDingbats",t["Times-Italic"]="Times-Italic",t["Helvetica-Oblique"]="Helvetica-Oblique",t["Courier-Oblique"]="Courier-Oblique",t["Times-BoldItalic"]="Times-BoldItalic",t["Helvetica-BoldOblique"]="Helvetica-BoldOblique",t["Courier-BoldOblique"]="Courier-BoldOblique",t.ArialNarrow="Helvetica",t["ArialNarrow-Bold"]="Helvetica-Bold",t["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",t["ArialNarrow-Italic"]="Helvetica-Oblique",t.ArialBlack="Helvetica",t["ArialBlack-Bold"]="Helvetica-Bold",t["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",t["ArialBlack-Italic"]="Helvetica-Oblique",t["Arial-Black"]="Helvetica",t["Arial-Black-Bold"]="Helvetica-Bold",t["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",t["Arial-Black-Italic"]="Helvetica-Oblique",t.Arial="Helvetica",t["Arial-Bold"]="Helvetica-Bold",t["Arial-BoldItalic"]="Helvetica-BoldOblique",t["Arial-Italic"]="Helvetica-Oblique",t["Arial-BoldItalicMT"]="Helvetica-BoldOblique",t["Arial-BoldMT"]="Helvetica-Bold",t["Arial-ItalicMT"]="Helvetica-Oblique",t.ArialMT="Helvetica",t["Courier-BoldItalic"]="Courier-BoldOblique",t["Courier-Italic"]="Courier-Oblique",t.CourierNew="Courier",t["CourierNew-Bold"]="Courier-Bold",t["CourierNew-BoldItalic"]="Courier-BoldOblique",t["CourierNew-Italic"]="Courier-Oblique",t["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",t["CourierNewPS-BoldMT"]="Courier-Bold",t["CourierNewPS-ItalicMT"]="Courier-Oblique",t.CourierNewPSMT="Courier",t["Helvetica-BoldItalic"]="Helvetica-BoldOblique",t["Helvetica-Italic"]="Helvetica-Oblique",t["Symbol-Bold"]="Symbol",t["Symbol-BoldItalic"]="Symbol",t["Symbol-Italic"]="Symbol",t.TimesNewRoman="Times-Roman",t["TimesNewRoman-Bold"]="Times-Bold",t["TimesNewRoman-BoldItalic"]="Times-BoldItalic",t["TimesNewRoman-Italic"]="Times-Italic",t.TimesNewRomanPS="Times-Roman",t["TimesNewRomanPS-Bold"]="Times-Bold",t["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",t["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",t["TimesNewRomanPS-BoldMT"]="Times-Bold",t["TimesNewRomanPS-Italic"]="Times-Italic",t["TimesNewRomanPS-ItalicMT"]="Times-Italic",t.TimesNewRomanPSMT="Times-Roman",t["TimesNewRomanPSMT-Bold"]="Times-Bold",t["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",t["TimesNewRomanPSMT-Italic"]="Times-Italic"}));e.getStdFontMap=o;const s=(0,n.getLookupTableFactory)((function(t){t.Courier="FoxitFixed.pfb",t["Courier-Bold"]="FoxitFixedBold.pfb",t["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",t["Courier-Oblique"]="FoxitFixedItalic.pfb",t.Helvetica="FoxitSans.pfb",t["Helvetica-Bold"]="FoxitSansBold.pfb",t["Helvetica-BoldOblique"]="FoxitSansBoldItalic.pfb",t["Helvetica-Oblique"]="FoxitSansItalic.pfb",t["Times-Roman"]="FoxitSerif.pfb",t["Times-Bold"]="FoxitSerifBold.pfb",t["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",t["Times-Italic"]="FoxitSerifItalic.pfb",t.Symbol="FoxitSymbol.pfb",t.ZapfDingbats="FoxitDingbats.pfb",t["LiberationSans-Regular"]="LiberationSans-Regular.ttf",t["LiberationSans-Bold"]="LiberationSans-Bold.ttf",t["LiberationSans-Italic"]="LiberationSans-Italic.ttf",t["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"}));e.getFontNameToFileMap=s;const a=(0,n.getLookupTableFactory)((function(t){t.Calibri="Helvetica",t["Calibri-Bold"]="Helvetica-Bold",t["Calibri-BoldItalic"]="Helvetica-BoldOblique",t["Calibri-Italic"]="Helvetica-Oblique",t.CenturyGothic="Helvetica",t["CenturyGothic-Bold"]="Helvetica-Bold",t["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",t["CenturyGothic-Italic"]="Helvetica-Oblique",t.ComicSansMS="Comic Sans MS",t["ComicSansMS-Bold"]="Comic Sans MS-Bold",t["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",t["ComicSansMS-Italic"]="Comic Sans MS-Italic",t["ItcSymbol-Bold"]="Helvetica-Bold",t["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",t["ItcSymbol-Book"]="Helvetica",t["ItcSymbol-BookItalic"]="Helvetica-Oblique",t["ItcSymbol-Medium"]="Helvetica",t["ItcSymbol-MediumItalic"]="Helvetica-Oblique",t.LucidaConsole="Courier",t["LucidaConsole-Bold"]="Courier-Bold",t["LucidaConsole-BoldItalic"]="Courier-BoldOblique",t["LucidaConsole-Italic"]="Courier-Oblique",t["LucidaSans-Demi"]="Helvetica-Bold",t["MS-Gothic"]="MS Gothic",t["MS-Gothic-Bold"]="MS Gothic-Bold",t["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",t["MS-Gothic-Italic"]="MS Gothic-Italic",t["MS-Mincho"]="MS Mincho",t["MS-Mincho-Bold"]="MS Mincho-Bold",t["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",t["MS-Mincho-Italic"]="MS Mincho-Italic",t["MS-PGothic"]="MS PGothic",t["MS-PGothic-Bold"]="MS PGothic-Bold",t["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",t["MS-PGothic-Italic"]="MS PGothic-Italic",t["MS-PMincho"]="MS PMincho",t["MS-PMincho-Bold"]="MS PMincho-Bold",t["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",t["MS-PMincho-Italic"]="MS PMincho-Italic",t.NuptialScript="Times-Italic",t.SegoeUISymbol="Helvetica",t.Wingdings="ZapfDingbats",t["Wingdings-Regular"]="ZapfDingbats"}));e.getNonStdFontMap=a;const l=(0,n.getLookupTableFactory)((function(t){t["Adobe Jenson"]=!0,t["Adobe Text"]=!0,t.Albertus=!0,t.Aldus=!0,t.Alexandria=!0,t.Algerian=!0,t["American Typewriter"]=!0,t.Antiqua=!0,t.Apex=!0,t.Arno=!0,t.Aster=!0,t.Aurora=!0,t.Baskerville=!0,t.Bell=!0,t.Bembo=!0,t["Bembo Schoolbook"]=!0,t.Benguiat=!0,t["Berkeley Old Style"]=!0,t["Bernhard Modern"]=!0,t["Berthold City"]=!0,t.Bodoni=!0,t["Bauer Bodoni"]=!0,t["Book Antiqua"]=!0,t.Bookman=!0,t["Bordeaux Roman"]=!0,t["Californian FB"]=!0,t.Calisto=!0,t.Calvert=!0,t.Capitals=!0,t.Cambria=!0,t.Cartier=!0,t.Caslon=!0,t.Catull=!0,t.Centaur=!0,t["Century Old Style"]=!0,t["Century Schoolbook"]=!0,t.Chaparral=!0,t["Charis SIL"]=!0,t.Cheltenham=!0,t["Cholla Slab"]=!0,t.Clarendon=!0,t.Clearface=!0,t.Cochin=!0,t.Colonna=!0,t["Computer Modern"]=!0,t["Concrete Roman"]=!0,t.Constantia=!0,t["Cooper Black"]=!0,t.Corona=!0,t.Ecotype=!0,t.Egyptienne=!0,t.Elephant=!0,t.Excelsior=!0,t.Fairfield=!0,t["FF Scala"]=!0,t.Folkard=!0,t.Footlight=!0,t.FreeSerif=!0,t["Friz Quadrata"]=!0,t.Garamond=!0,t.Gentium=!0,t.Georgia=!0,t.Gloucester=!0,t["Goudy Old Style"]=!0,t["Goudy Schoolbook"]=!0,t["Goudy Pro Font"]=!0,t.Granjon=!0,t["Guardian Egyptian"]=!0,t.Heather=!0,t.Hercules=!0,t["High Tower Text"]=!0,t.Hiroshige=!0,t["Hoefler Text"]=!0,t["Humana Serif"]=!0,t.Imprint=!0,t["Ionic No. 5"]=!0,t.Janson=!0,t.Joanna=!0,t.Korinna=!0,t.Lexicon=!0,t.LiberationSerif=!0,t["Liberation Serif"]=!0,t["Linux Libertine"]=!0,t.Literaturnaya=!0,t.Lucida=!0,t["Lucida Bright"]=!0,t.Melior=!0,t.Memphis=!0,t.Miller=!0,t.Minion=!0,t.Modern=!0,t["Mona Lisa"]=!0,t["Mrs Eaves"]=!0,t["MS Serif"]=!0,t["Museo Slab"]=!0,t["New York"]=!0,t["Nimbus Roman"]=!0,t["NPS Rawlinson Roadway"]=!0,t.NuptialScript=!0,t.Palatino=!0,t.Perpetua=!0,t.Plantin=!0,t["Plantin Schoolbook"]=!0,t.Playbill=!0,t["Poor Richard"]=!0,t["Rawlinson Roadway"]=!0,t.Renault=!0,t.Requiem=!0,t.Rockwell=!0,t.Roman=!0,t["Rotis Serif"]=!0,t.Sabon=!0,t.Scala=!0,t.Seagull=!0,t.Sistina=!0,t.Souvenir=!0,t.STIX=!0,t["Stone Informal"]=!0,t["Stone Serif"]=!0,t.Sylfaen=!0,t.Times=!0,t.Trajan=!0,t["Trinité"]=!0,t["Trump Mediaeval"]=!0,t.Utopia=!0,t["Vale Type"]=!0,t["Bitstream Vera"]=!0,t["Vera Serif"]=!0,t.Versailles=!0,t.Wanted=!0,t.Weiss=!0,t["Wide Latin"]=!0,t.Windsor=!0,t.XITS=!0}));e.getSerifFonts=l;const c=(0,n.getLookupTableFactory)((function(t){t.Dingbats=!0,t.Symbol=!0,t.ZapfDingbats=!0}));e.getSymbolsFonts=c;const h=(0,n.getLookupTableFactory)((function(t){t[2]=10,t[3]=32,t[4]=33,t[5]=34,t[6]=35,t[7]=36,t[8]=37,t[9]=38,t[10]=39,t[11]=40,t[12]=41,t[13]=42,t[14]=43,t[15]=44,t[16]=45,t[17]=46,t[18]=47,t[19]=48,t[20]=49,t[21]=50,t[22]=51,t[23]=52,t[24]=53,t[25]=54,t[26]=55,t[27]=56,t[28]=57,t[29]=58,t[30]=894,t[31]=60,t[32]=61,t[33]=62,t[34]=63,t[35]=64,t[36]=65,t[37]=66,t[38]=67,t[39]=68,t[40]=69,t[41]=70,t[42]=71,t[43]=72,t[44]=73,t[45]=74,t[46]=75,t[47]=76,t[48]=77,t[49]=78,t[50]=79,t[51]=80,t[52]=81,t[53]=82,t[54]=83,t[55]=84,t[56]=85,t[57]=86,t[58]=87,t[59]=88,t[60]=89,t[61]=90,t[62]=91,t[63]=92,t[64]=93,t[65]=94,t[66]=95,t[67]=96,t[68]=97,t[69]=98,t[70]=99,t[71]=100,t[72]=101,t[73]=102,t[74]=103,t[75]=104,t[76]=105,t[77]=106,t[78]=107,t[79]=108,t[80]=109,t[81]=110,t[82]=111,t[83]=112,t[84]=113,t[85]=114,t[86]=115,t[87]=116,t[88]=117,t[89]=118,t[90]=119,t[91]=120,t[92]=121,t[93]=122,t[94]=123,t[95]=124,t[96]=125,t[97]=126,t[98]=196,t[99]=197,t[100]=199,t[101]=201,t[102]=209,t[103]=214,t[104]=220,t[105]=225,t[106]=224,t[107]=226,t[108]=228,t[109]=227,t[110]=229,t[111]=231,t[112]=233,t[113]=232,t[114]=234,t[115]=235,t[116]=237,t[117]=236,t[118]=238,t[119]=239,t[120]=241,t[121]=243,t[122]=242,t[123]=244,t[124]=246,t[125]=245,t[126]=250,t[127]=249,t[128]=251,t[129]=252,t[130]=8224,t[131]=176,t[132]=162,t[133]=163,t[134]=167,t[135]=8226,t[136]=182,t[137]=223,t[138]=174,t[139]=169,t[140]=8482,t[141]=180,t[142]=168,t[143]=8800,t[144]=198,t[145]=216,t[146]=8734,t[147]=177,t[148]=8804,t[149]=8805,t[150]=165,t[151]=181,t[152]=8706,t[153]=8721,t[154]=8719,t[156]=8747,t[157]=170,t[158]=186,t[159]=8486,t[160]=230,t[161]=248,t[162]=191,t[163]=161,t[164]=172,t[165]=8730,t[166]=402,t[167]=8776,t[168]=8710,t[169]=171,t[170]=187,t[171]=8230,t[200]=193,t[203]=205,t[210]=218,t[223]=711,t[224]=321,t[225]=322,t[226]=352,t[227]=353,t[228]=381,t[229]=382,t[233]=221,t[234]=253,t[252]=263,t[253]=268,t[254]=269,t[258]=258,t[260]=260,t[261]=261,t[265]=280,t[266]=281,t[267]=282,t[268]=283,t[269]=313,t[275]=323,t[276]=324,t[278]=328,t[283]=344,t[284]=345,t[285]=346,t[286]=347,t[292]=367,t[295]=377,t[296]=378,t[298]=380,t[305]=963,t[306]=964,t[307]=966,t[308]=8215,t[309]=8252,t[310]=8319,t[311]=8359,t[312]=8592,t[313]=8593,t[337]=9552,t[493]=1039,t[494]=1040,t[705]=1524,t[706]=8362,t[710]=64288,t[711]=64298,t[759]=1617,t[761]=1776,t[763]=1778,t[775]=1652,t[777]=1764,t[778]=1780,t[779]=1781,t[780]=1782,t[782]=771,t[783]=64726,t[786]=8363,t[788]=8532,t[790]=768,t[791]=769,t[792]=768,t[795]=803,t[797]=64336,t[798]=64337,t[799]=64342,t[800]=64343,t[801]=64344,t[802]=64345,t[803]=64362,t[804]=64363,t[805]=64364,t[2424]=7821,t[2425]=7822,t[2426]=7823,t[2427]=7824,t[2428]=7825,t[2429]=7826,t[2430]=7827,t[2433]=7682,t[2678]=8045,t[2679]=8046,t[2830]=1552,t[2838]=686,t[2840]=751,t[2842]=753,t[2843]=754,t[2844]=755,t[2846]=757,t[2856]=767,t[2857]=848,t[2858]=849,t[2862]=853,t[2863]=854,t[2864]=855,t[2865]=861,t[2866]=862,t[2906]=7460,t[2908]=7462,t[2909]=7463,t[2910]=7464,t[2912]=7466,t[2913]=7467,t[2914]=7468,t[2916]=7470,t[2917]=7471,t[2918]=7472,t[2920]=7474,t[2921]=7475,t[2922]=7476,t[2924]=7478,t[2925]=7479,t[2926]=7480,t[2928]=7482,t[2929]=7483,t[2930]=7484,t[2932]=7486,t[2933]=7487,t[2934]=7488,t[2936]=7490,t[2937]=7491,t[2938]=7492,t[2940]=7494,t[2941]=7495,t[2942]=7496,t[2944]=7498,t[2946]=7500,t[2948]=7502,t[2950]=7504,t[2951]=7505,t[2952]=7506,t[2954]=7508,t[2955]=7509,t[2956]=7510,t[2958]=7512,t[2959]=7513,t[2960]=7514,t[2962]=7516,t[2963]=7517,t[2964]=7518,t[2966]=7520,t[2967]=7521,t[2968]=7522,t[2970]=7524,t[2971]=7525,t[2972]=7526,t[2974]=7528,t[2975]=7529,t[2976]=7530,t[2978]=1537,t[2979]=1538,t[2980]=1539,t[2982]=1549,t[2983]=1551,t[2984]=1552,t[2986]=1554,t[2987]=1555,t[2988]=1556,t[2990]=1623,t[2991]=1624,t[2995]=1775,t[2999]=1791,t[3002]=64290,t[3003]=64291,t[3004]=64292,t[3006]=64294,t[3007]=64295,t[3008]=64296,t[3011]=1900,t[3014]=8223,t[3015]=8244,t[3017]=7532,t[3018]=7533,t[3019]=7534,t[3075]=7590,t[3076]=7591,t[3079]=7594,t[3080]=7595,t[3083]=7598,t[3084]=7599,t[3087]=7602,t[3088]=7603,t[3091]=7606,t[3092]=7607,t[3095]=7610,t[3096]=7611,t[3099]=7614,t[3100]=7615,t[3103]=7618,t[3104]=7619,t[3107]=8337,t[3108]=8338,t[3116]=1884,t[3119]=1885,t[3120]=1885,t[3123]=1886,t[3124]=1886,t[3127]=1887,t[3128]=1887,t[3131]=1888,t[3132]=1888,t[3135]=1889,t[3136]=1889,t[3139]=1890,t[3140]=1890,t[3143]=1891,t[3144]=1891,t[3147]=1892,t[3148]=1892,t[3153]=580,t[3154]=581,t[3157]=584,t[3158]=585,t[3161]=588,t[3162]=589,t[3165]=891,t[3166]=892,t[3169]=1274,t[3170]=1275,t[3173]=1278,t[3174]=1279,t[3181]=7622,t[3182]=7623,t[3282]=11799,t[3316]=578,t[3379]=42785,t[3393]=1159,t[3416]=8377}));e.getGlyphMapForStandardFonts=h;const u=(0,n.getLookupTableFactory)((function(t){t[227]=322,t[264]=261,t[291]=346}));e.getSupplementalGlyphMapForArialBlack=u;const p=(0,n.getLookupTableFactory)((function(t){t[1]=32,t[4]=65,t[6]=193,t[17]=66,t[18]=67,t[21]=268,t[24]=68,t[28]=69,t[30]=201,t[32]=282,t[38]=70,t[39]=71,t[44]=72,t[47]=73,t[49]=205,t[58]=74,t[60]=75,t[62]=76,t[68]=77,t[69]=78,t[75]=79,t[87]=80,t[89]=81,t[90]=82,t[92]=344,t[94]=83,t[97]=352,t[100]=84,t[104]=85,t[115]=86,t[116]=87,t[121]=88,t[122]=89,t[124]=221,t[127]=90,t[129]=381,t[258]=97,t[260]=225,t[268]=261,t[271]=98,t[272]=99,t[273]=263,t[275]=269,t[282]=100,t[286]=101,t[288]=233,t[290]=283,t[295]=281,t[296]=102,t[336]=103,t[346]=104,t[349]=105,t[351]=237,t[361]=106,t[364]=107,t[367]=108,t[371]=322,t[373]=109,t[374]=110,t[381]=111,t[383]=243,t[393]=112,t[395]=113,t[396]=114,t[398]=345,t[400]=115,t[401]=347,t[403]=353,t[410]=116,t[437]=117,t[448]=118,t[449]=119,t[454]=120,t[455]=121,t[457]=253,t[460]=122,t[462]=382,t[463]=380,t[853]=44,t[855]=58,t[856]=46,t[876]=47,t[878]=45,t[882]=45,t[894]=40,t[895]=41,t[896]=91,t[897]=93,t[923]=64,t[1004]=48,t[1005]=49,t[1006]=50,t[1007]=51,t[1008]=52,t[1009]=53,t[1010]=54,t[1011]=55,t[1012]=56,t[1013]=57,t[1081]=37,t[1085]=43,t[1086]=45}));e.getSupplementalGlyphMapForCalibri=p},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ToUnicodeMap=e.IdentityToUnicodeMap=void 0;var n=r(2);e.ToUnicodeMap=class{constructor(t=[]){this._map=t}get length(){return this._map.length}forEach(t){for(const e in this._map)t(e,this._map[e].charCodeAt(0))}has(t){return void 0!==this._map[t]}get(t){return this._map[t]}charCodeOf(t){const e=this._map;if(e.length<=65536)return e.indexOf(t);for(const r in e)if(e[r]===t)return 0|r;return-1}amend(t){for(const e in t)this._map[e]=t[e]}},e.IdentityToUnicodeMap=class{constructor(t,e){this.firstChar=t,this.lastChar=e}get length(){return this.lastChar+1-this.firstChar}forEach(t){for(let e=this.firstChar,r=this.lastChar;e<=r;e++)t(e,e)}has(t){return this.firstChar<=t&&t<=this.lastChar}get(t){if(this.firstChar<=t&&t<=this.lastChar)return String.fromCharCode(t)}charCodeOf(t){return Number.isInteger(t)&&t>=this.firstChar&&t<=this.lastChar?t:-1}amend(t){(0,n.unreachable)("Should not call amend()")}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CFFFont=void 0;var n=r(45),i=r(18),o=r(2);e.CFFFont=class{constructor(t,e){this.properties=e;const r=new n.CFFParser(t,e,i.SEAC_ANALYSIS_ENABLED);this.cff=r.parse(),this.cff.duplicateFirstGlyph();const s=new n.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=s.compile()}catch(r){(0,o.warn)("Failed to compile font "+e.loadedName),this.data=t}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const t=this.cff,e=this.properties,r=t.charset.charset;let n,o;if(e.composite){let i;if(n=Object.create(null),t.isCIDFont)for(o=0;o<r.length;o++){const t=r[o];i=e.cMap.charCodeOf(t),n[i]=o}else for(o=0;o<t.charStrings.count;o++)i=e.cMap.charCodeOf(o),n[i]=o;return n}let s=t.encoding?t.encoding.encoding:null;return e.isInternalFont&&(s=e.defaultEncoding),n=(0,i.type1FontGlyphMapping)(e,s,r),n}hasGlyphId(t){return this.cff.hasGlyphId(t)}_createBuiltInEncoding(){const{charset:t,encoding:e}=this.cff;if(!t||!e)return;const r=t.charset,n=e.encoding,i=[];for(const t in n){const e=n[t];if(e>=0){const n=r[e];n&&(i[t]=n)}}i.length>0&&(this.properties.builtInEncoding=i)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontRendererFactory=void 0;var n=r(2),i=r(45),o=r(20),s=r(19),a=r(10);function l(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function c(t,e){return t[e]<<8|t[e+1]}function h(t,e){return(t[e]<<24|t[e+1]<<16)>>16}function u(t,e){return t[e]<<24>>24}function p(t,e){return h(t,e)/16384}function d(t){const e=t.length;let r=32768;return e<1240?r=107:e<33900&&(r=1131),r}function f(t,e,r){const i=1===c(t,e+2)?l(t,e+8):l(t,e+16),o=c(t,e+i);let s,a,h;if(4===o){c(t,e+i+2);const r=c(t,e+i+6)>>1;for(a=e+i+14,s=[],h=0;h<r;h++,a+=2)s[h]={end:c(t,a)};for(a+=2,h=0;h<r;h++,a+=2)s[h].start=c(t,a);for(h=0;h<r;h++,a+=2)s[h].idDelta=c(t,a);for(h=0;h<r;h++,a+=2){let e=c(t,a);if(0!==e){s[h].ids=[];for(let r=0,n=s[h].end-s[h].start+1;r<n;r++)s[h].ids[r]=c(t,a+e),e+=2}}return s}if(12===o){const r=l(t,e+i+12);for(a=e+i+16,s=[],h=0;h<r;h++)e=l(t,a),s.push({start:e,end:l(t,a+4),idDelta:l(t,a+8)-e}),a+=12;return s}throw new n.FormatError(`unsupported cmap: ${o}`)}function g(t,e,r,n){const o=new i.CFFParser(new a.Stream(t,e,r-e),{},n).parse();return{glyphs:o.charStrings.objects,subrs:o.topDict.privateDict&&o.topDict.privateDict.subrsIndex&&o.topDict.privateDict.subrsIndex.objects,gsubrs:o.globalSubrIndex&&o.globalSubrIndex.objects,isCFFCIDFont:o.isCIDFont,fdSelect:o.fdSelect,fdArray:o.fdArray}}function m(t,e){const r=e.codePointAt(0);let n=0,i=0,o=t.length-1;for(;i<o;){const e=i+o+1>>1;r<t[e].start?o=e-1:i=e}return t[i].start<=r&&r<=t[i].end&&(n=t[i].idDelta+(t[i].ids?t[i].ids[r-t[i].start]:r)&65535),{charCode:r,glyphId:n}}function y(t,e,r){function n(t,r){e.push({cmd:"moveTo",args:[t,r]})}function i(t,r){e.push({cmd:"lineTo",args:[t,r]})}function o(t,r,n,i){e.push({cmd:"quadraticCurveTo",args:[t,r,n,i]})}let s=0;const a=h(t,s);let l,d=0,f=0;if(s+=10,a<0)do{l=c(t,s);const n=c(t,s+2);let i,o;s+=4,1&l?(2&l?(i=h(t,s),o=h(t,s+2)):(i=c(t,s),o=c(t,s+2)),s+=4):2&l?(i=u(t,s++),o=u(t,s++)):(i=t[s++],o=t[s++]),2&l?(d=i,f=o):(d=0,f=0);let a=1,g=1,m=0,v=0;8&l?(a=g=p(t,s),s+=2):64&l?(a=p(t,s),g=p(t,s+2),s+=4):128&l&&(a=p(t,s),m=p(t,s+2),v=p(t,s+4),g=p(t,s+6),s+=8);const b=r.glyphs[n];b&&(e.push({cmd:"save"},{cmd:"transform",args:[a,m,v,g,d,f]}),y(b,e,r),e.push({cmd:"restore"}))}while(32&l);else{const e=[];let r,u;for(r=0;r<a;r++)e.push(c(t,s)),s+=2;s+=2+c(t,s);const p=e[e.length-1]+1,g=[];for(;g.length<p;){l=t[s++];let e=1;for(8&l&&(e+=t[s++]);e-- >0;)g.push({flags:l})}for(r=0;r<p;r++){switch(18&g[r].flags){case 0:d+=h(t,s),s+=2;break;case 2:d-=t[s++];break;case 18:d+=t[s++]}g[r].x=d}for(r=0;r<p;r++){switch(36&g[r].flags){case 0:f+=h(t,s),s+=2;break;case 4:f-=t[s++];break;case 36:f+=t[s++]}g[r].y=f}let m=0;for(s=0;s<a;s++){const t=e[s],a=g.slice(m,t+1);if(1&a[0].flags)a.push(a[0]);else if(1&a[a.length-1].flags)a.unshift(a[a.length-1]);else{const t={flags:1,x:(a[0].x+a[a.length-1].x)/2,y:(a[0].y+a[a.length-1].y)/2};a.unshift(t),a.push(t)}for(n(a[0].x,a[0].y),r=1,u=a.length;r<u;r++)1&a[r].flags?i(a[r].x,a[r].y):1&a[r+1].flags?(o(a[r].x,a[r].y,a[r+1].x,a[r+1].y),r++):o(a[r].x,a[r].y,(a[r].x+a[r+1].x)/2,(a[r].y+a[r+1].y)/2);m=t+1}}}function v(t,e,r,i){function o(t,r){e.push({cmd:"moveTo",args:[t,r]})}function a(t,r){e.push({cmd:"lineTo",args:[t,r]})}function l(t,r,n,i,o,s){e.push({cmd:"bezierCurveTo",args:[t,r,n,i,o,s]})}const c=[];let h=0,u=0,p=0;!function t(f){let g=0;for(;g<f.length;){let y,b,w,x,S,k,A,C,_,T=!1,O=f[g++];switch(O){case 1:case 3:case 18:case 23:p+=c.length>>1,T=!0;break;case 4:u+=c.pop(),o(h,u),T=!0;break;case 5:for(;c.length>0;)h+=c.shift(),u+=c.shift(),a(h,u);break;case 6:for(;c.length>0&&(h+=c.shift(),a(h,u),0!==c.length);)u+=c.shift(),a(h,u);break;case 7:for(;c.length>0&&(u+=c.shift(),a(h,u),0!==c.length);)h+=c.shift(),a(h,u);break;case 8:for(;c.length>0;)y=h+c.shift(),w=u+c.shift(),b=y+c.shift(),x=w+c.shift(),h=b+c.shift(),u=x+c.shift(),l(y,w,b,x,h,u);break;case 10:if(C=c.pop(),_=null,r.isCFFCIDFont){const t=r.fdSelect.getFDIndex(i);if(t>=0&&t<r.fdArray.length){const e=r.fdArray[t];let n;e.privateDict&&e.privateDict.subrsIndex&&(n=e.privateDict.subrsIndex.objects),n&&(C+=d(n),_=n[C])}else(0,n.warn)("Invalid fd index for glyph index.")}else _=r.subrs[C+r.subrsBias];_&&t(_);break;case 11:return;case 12:switch(O=f[g++],O){case 34:y=h+c.shift(),b=y+c.shift(),S=u+c.shift(),h=b+c.shift(),l(y,u,b,S,h,S),y=h+c.shift(),b=y+c.shift(),h=b+c.shift(),l(y,S,b,u,h,u);break;case 35:y=h+c.shift(),w=u+c.shift(),b=y+c.shift(),x=w+c.shift(),h=b+c.shift(),u=x+c.shift(),l(y,w,b,x,h,u),y=h+c.shift(),w=u+c.shift(),b=y+c.shift(),x=w+c.shift(),h=b+c.shift(),u=x+c.shift(),l(y,w,b,x,h,u),c.pop();break;case 36:y=h+c.shift(),S=u+c.shift(),b=y+c.shift(),k=S+c.shift(),h=b+c.shift(),l(y,S,b,k,h,k),y=h+c.shift(),b=y+c.shift(),A=k+c.shift(),h=b+c.shift(),l(y,k,b,A,h,u);break;case 37:const t=h,e=u;y=h+c.shift(),w=u+c.shift(),b=y+c.shift(),x=w+c.shift(),h=b+c.shift(),u=x+c.shift(),l(y,w,b,x,h,u),y=h+c.shift(),w=u+c.shift(),b=y+c.shift(),x=w+c.shift(),h=b,u=x,Math.abs(h-t)>Math.abs(u-e)?h+=c.shift():u+=c.shift(),l(y,w,b,x,h,u);break;default:throw new n.FormatError(`unknown operator: 12 ${O}`)}break;case 14:if(c.length>=4){const t=c.pop(),n=c.pop();u=c.pop(),h=c.pop(),e.push({cmd:"save"},{cmd:"translate",args:[h,u]});let i=m(r.cmap,String.fromCharCode(r.glyphNameMap[s.StandardEncoding[t]]));v(r.glyphs[i.glyphId],e,r,i.glyphId),e.push({cmd:"restore"}),i=m(r.cmap,String.fromCharCode(r.glyphNameMap[s.StandardEncoding[n]])),v(r.glyphs[i.glyphId],e,r,i.glyphId)}return;case 19:case 20:p+=c.length>>1,g+=p+7>>3,T=!0;break;case 21:u+=c.pop(),h+=c.pop(),o(h,u),T=!0;break;case 22:h+=c.pop(),o(h,u),T=!0;break;case 24:for(;c.length>2;)y=h+c.shift(),w=u+c.shift(),b=y+c.shift(),x=w+c.shift(),h=b+c.shift(),u=x+c.shift(),l(y,w,b,x,h,u);h+=c.shift(),u+=c.shift(),a(h,u);break;case 25:for(;c.length>6;)h+=c.shift(),u+=c.shift(),a(h,u);y=h+c.shift(),w=u+c.shift(),b=y+c.shift(),x=w+c.shift(),h=b+c.shift(),u=x+c.shift(),l(y,w,b,x,h,u);break;case 26:for(c.length%2&&(h+=c.shift());c.length>0;)y=h,w=u+c.shift(),b=y+c.shift(),x=w+c.shift(),h=b,u=x+c.shift(),l(y,w,b,x,h,u);break;case 27:for(c.length%2&&(u+=c.shift());c.length>0;)y=h+c.shift(),w=u,b=y+c.shift(),x=w+c.shift(),h=b+c.shift(),u=x,l(y,w,b,x,h,u);break;case 28:c.push((f[g]<<24|f[g+1]<<16)>>16),g+=2;break;case 29:C=c.pop()+r.gsubrsBias,_=r.gsubrs[C],_&&t(_);break;case 30:for(;c.length>0&&(y=h,w=u+c.shift(),b=y+c.shift(),x=w+c.shift(),h=b+c.shift(),u=x+(1===c.length?c.shift():0),l(y,w,b,x,h,u),0!==c.length);)y=h+c.shift(),w=u,b=y+c.shift(),x=w+c.shift(),u=x+c.shift(),h=b+(1===c.length?c.shift():0),l(y,w,b,x,h,u);break;case 31:for(;c.length>0&&(y=h+c.shift(),w=u,b=y+c.shift(),x=w+c.shift(),u=x+c.shift(),h=b+(1===c.length?c.shift():0),l(y,w,b,x,h,u),0!==c.length);)y=h,w=u+c.shift(),b=y+c.shift(),x=w+c.shift(),h=b+c.shift(),u=x+(1===c.length?c.shift():0),l(y,w,b,x,h,u);break;default:if(O<32)throw new n.FormatError(`unknown operator: ${O}`);O<247?c.push(O-139):O<251?c.push(256*(O-247)+f[g++]+108):O<255?c.push(256*-(O-251)-f[g++]-108):(c.push((f[g]<<24|f[g+1]<<16|f[g+2]<<8|f[g+3])/65536),g+=4)}T&&(c.length=0)}}(t)}const b=[];class w{constructor(t){this.constructor===w&&(0,n.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=t,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(t){const{charCode:e,glyphId:r}=m(this.cmap,t);let n=this.compiledGlyphs[r];if(!n)try{n=this.compileGlyph(this.glyphs[r],r),this.compiledGlyphs[r]=n}catch(t){throw this.compiledGlyphs[r]=b,void 0===this.compiledCharCodeToGlyphId[e]&&(this.compiledCharCodeToGlyphId[e]=r),t}return void 0===this.compiledCharCodeToGlyphId[e]&&(this.compiledCharCodeToGlyphId[e]=r),n}compileGlyph(t,e){if(!t||0===t.length||14===t[0])return b;let r=this.fontMatrix;if(this.isCFFCIDFont){const t=this.fdSelect.getFDIndex(e);t>=0&&t<this.fdArray.length?r=this.fdArray[t].getByName("FontMatrix")||n.FONT_IDENTITY_MATRIX:(0,n.warn)("Invalid fd index for glyph index.")}const i=[{cmd:"save"},{cmd:"transform",args:r.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(t,i,e),i.push({cmd:"restore"}),i}compileGlyphImpl(){(0,n.unreachable)("Children classes should implement this.")}hasBuiltPath(t){const{charCode:e,glyphId:r}=m(this.cmap,t);return void 0!==this.compiledGlyphs[r]&&void 0!==this.compiledCharCodeToGlyphId[e]}}class x extends w{constructor(t,e,r){super(r||[488e-6,0,0,488e-6,0,0]),this.glyphs=t,this.cmap=e}compileGlyphImpl(t,e){y(t,e,this)}}class S extends w{constructor(t,e,r,n){super(r||[.001,0,0,.001,0,0]),this.glyphs=t.glyphs,this.gsubrs=t.gsubrs||[],this.subrs=t.subrs||[],this.cmap=e,this.glyphNameMap=n||(0,o.getGlyphsUnicode)(),this.gsubrsBias=d(this.gsubrs),this.subrsBias=d(this.subrs),this.isCFFCIDFont=t.isCFFCIDFont,this.fdSelect=t.fdSelect,this.fdArray=t.fdArray}compileGlyphImpl(t,e,r){v(t,e,this,r)}}e.FontRendererFactory=class{static create(t,e){const r=new Uint8Array(t.data);let i,o,s,a,h,u;const p=c(r,4);for(let t=0,d=12;t<p;t++,d+=16){const t=(0,n.bytesToString)(r.subarray(d,d+4)),p=l(r,d+8),m=l(r,d+12);switch(t){case"cmap":i=f(r,p);break;case"glyf":o=r.subarray(p,p+m);break;case"loca":s=r.subarray(p,p+m);break;case"head":u=c(r,p+18),h=c(r,p+50);break;case"CFF ":a=g(r,p,p+m,e)}}if(o){const e=u?[1/u,0,0,1/u,0,0]:t.fontMatrix;return new x(function(t,e,r){let n,i;r?(n=4,i=l):(n=2,i=(t,e)=>2*c(t,e));const o=[];let s=i(e,0);for(let r=n;r<e.length;r+=n){const n=i(e,r);o.push(t.subarray(s,n)),s=n}return o}(o,s,h),i,e)}return new S(a,i,t.fontMatrix,t.glyphNameMap)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getMetrics=e.getFontBasicMetrics=void 0;var n=r(8);const i=(0,n.getLookupTableFactory)((function(t){t.Courier=600,t["Courier-Bold"]=600,t["Courier-BoldOblique"]=600,t["Courier-Oblique"]=600,t.Helvetica=(0,n.getLookupTableFactory)((function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556})),t["Helvetica-Bold"]=(0,n.getLookupTableFactory)((function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556})),t["Helvetica-BoldOblique"]=(0,n.getLookupTableFactory)((function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556})),t["Helvetica-Oblique"]=(0,n.getLookupTableFactory)((function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556})),t.Symbol=(0,n.getLookupTableFactory)((function(t){t.space=250,t.exclam=333,t.universal=713,t.numbersign=500,t.existential=549,t.percent=833,t.ampersand=778,t.suchthat=439,t.parenleft=333,t.parenright=333,t.asteriskmath=500,t.plus=549,t.comma=250,t.minus=549,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=549,t.equal=549,t.greater=549,t.question=444,t.congruent=549,t.Alpha=722,t.Beta=667,t.Chi=722,t.Delta=612,t.Epsilon=611,t.Phi=763,t.Gamma=603,t.Eta=722,t.Iota=333,t.theta1=631,t.Kappa=722,t.Lambda=686,t.Mu=889,t.Nu=722,t.Omicron=722,t.Pi=768,t.Theta=741,t.Rho=556,t.Sigma=592,t.Tau=611,t.Upsilon=690,t.sigma1=439,t.Omega=768,t.Xi=645,t.Psi=795,t.Zeta=611,t.bracketleft=333,t.therefore=863,t.bracketright=333,t.perpendicular=658,t.underscore=500,t.radicalex=500,t.alpha=631,t.beta=549,t.chi=549,t.delta=494,t.epsilon=439,t.phi=521,t.gamma=411,t.eta=603,t.iota=329,t.phi1=603,t.kappa=549,t.lambda=549,t.mu=576,t.nu=521,t.omicron=549,t.pi=549,t.theta=521,t.rho=549,t.sigma=603,t.tau=439,t.upsilon=576,t.omega1=713,t.omega=686,t.xi=493,t.psi=686,t.zeta=494,t.braceleft=480,t.bar=200,t.braceright=480,t.similar=549,t.Euro=750,t.Upsilon1=620,t.minute=247,t.lessequal=549,t.fraction=167,t.infinity=713,t.florin=500,t.club=753,t.diamond=753,t.heart=753,t.spade=753,t.arrowboth=1042,t.arrowleft=987,t.arrowup=603,t.arrowright=987,t.arrowdown=603,t.degree=400,t.plusminus=549,t.second=411,t.greaterequal=549,t.multiply=549,t.proportional=713,t.partialdiff=494,t.bullet=460,t.divide=549,t.notequal=549,t.equivalence=549,t.approxequal=549,t.ellipsis=1e3,t.arrowvertex=603,t.arrowhorizex=1e3,t.carriagereturn=658,t.aleph=823,t.Ifraktur=686,t.Rfraktur=795,t.weierstrass=987,t.circlemultiply=768,t.circleplus=768,t.emptyset=823,t.intersection=768,t.union=768,t.propersuperset=713,t.reflexsuperset=713,t.notsubset=713,t.propersubset=713,t.reflexsubset=713,t.element=713,t.notelement=713,t.angle=768,t.gradient=713,t.registerserif=790,t.copyrightserif=790,t.trademarkserif=890,t.product=823,t.radical=549,t.dotmath=250,t.logicalnot=713,t.logicaland=603,t.logicalor=603,t.arrowdblboth=1042,t.arrowdblleft=987,t.arrowdblup=603,t.arrowdblright=987,t.arrowdbldown=603,t.lozenge=494,t.angleleft=329,t.registersans=790,t.copyrightsans=790,t.trademarksans=786,t.summation=713,t.parenlefttp=384,t.parenleftex=384,t.parenleftbt=384,t.bracketlefttp=384,t.bracketleftex=384,t.bracketleftbt=384,t.bracelefttp=494,t.braceleftmid=494,t.braceleftbt=494,t.braceex=494,t.angleright=329,t.integral=274,t.integraltp=686,t.integralex=686,t.integralbt=686,t.parenrighttp=384,t.parenrightex=384,t.parenrightbt=384,t.bracketrighttp=384,t.bracketrightex=384,t.bracketrightbt=384,t.bracerighttp=494,t.bracerightmid=494,t.bracerightbt=494,t.apple=790})),t["Times-Roman"]=(0,n.getLookupTableFactory)((function(t){t.space=250,t.exclam=333,t.quotedbl=408,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=564,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=564,t.equal=564,t.greater=564,t.question=444,t.at=921,t.A=722,t.B=667,t.C=667,t.D=722,t.E=611,t.F=556,t.G=722,t.H=722,t.I=333,t.J=389,t.K=722,t.L=611,t.M=889,t.N=722,t.O=722,t.P=556,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=722,t.W=944,t.X=722,t.Y=722,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=469,t.underscore=500,t.quoteleft=333,t.a=444,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=500,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=500,t.o=500,t.p=500,t.q=500,t.r=333,t.s=389,t.t=278,t.u=500,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=480,t.bar=200,t.braceright=480,t.asciitilde=541,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=180,t.quotedblleft=444,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=453,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=444,t.quotedblright=444,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=444,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=889,t.ordfeminine=276,t.Lslash=611,t.Oslash=722,t.OE=889,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=444,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=722,t.divide=564,t.Yacute=722,t.Acircumflex=722,t.aacute=444,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=444,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=444,t.Ncommaaccent=722,t.lacute=278,t.agrave=444,t.Tcommaaccent=611,t.Cacute=667,t.atilde=444,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=444,t.Amacron=722,t.rcaron=333,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=556,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=588,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=722,t.Abreve=722,t.multiply=564,t.uacute=500,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=444,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=722,t.Iacute=333,t.plusminus=564,t.brokenbar=200,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=333,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=326,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=444,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=344,t.Kcommaaccent=722,t.Lacute=611,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=722,t.zdotaccent=444,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=500,t.minus=564,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=564,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500})),t["Times-Bold"]=(0,n.getLookupTableFactory)((function(t){t.space=250,t.exclam=333,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=1e3,t.ampersand=833,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=930,t.A=722,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=778,t.I=389,t.J=500,t.K=778,t.L=667,t.M=944,t.N=722,t.O=778,t.P=611,t.Q=778,t.R=722,t.S=556,t.T=667,t.U=722,t.V=722,t.W=1e3,t.X=722,t.Y=722,t.Z=667,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=581,t.underscore=500,t.quoteleft=333,t.a=500,t.b=556,t.c=444,t.d=556,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=333,t.k=556,t.l=278,t.m=833,t.n=556,t.o=500,t.p=556,t.q=556,t.r=444,t.s=389,t.t=333,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=394,t.bar=220,t.braceright=394,t.asciitilde=520,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=540,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=300,t.Lslash=667,t.Oslash=778,t.OE=1e3,t.ordmasculine=330,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=556,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=722,t.divide=570,t.Yacute=722,t.Acircumflex=722,t.aacute=500,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=667,t.Cacute=722,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=500,t.Amacron=722,t.rcaron=444,t.ccedilla=444,t.Zdotaccent=667,t.Thorn=611,t.Omacron=778,t.Racute=722,t.Sacute=556,t.dcaron=672,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=570,t.uacute=556,t.Tcaron=667,t.partialdiff=494,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=778,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=444,t.omacron=500,t.Zacute=667,t.Zcaron=667,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=416,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=778,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=300,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=556,t.threequarters=750,t.Scedilla=556,t.lcaron=394,t.Kcommaaccent=778,t.Lacute=667,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=667,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=778,t.degree=400,t.ograve=500,t.Ccaron=722,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=444,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=722,t.Lcommaaccent=667,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=444,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=556,t.minus=570,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=333,t.logicalnot=570,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500})),t["Times-BoldItalic"]=(0,n.getLookupTableFactory)((function(t){t.space=250,t.exclam=389,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=832,t.A=667,t.B=667,t.C=667,t.D=722,t.E=667,t.F=667,t.G=722,t.H=778,t.I=389,t.J=500,t.K=667,t.L=611,t.M=889,t.N=722,t.O=722,t.P=611,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=667,t.W=889,t.X=667,t.Y=611,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=570,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=556,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=556,t.v=444,t.w=667,t.x=500,t.y=444,t.z=389,t.braceleft=348,t.bar=220,t.braceright=348,t.asciitilde=570,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=500,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=944,t.ordfeminine=266,t.Lslash=611,t.Oslash=722,t.OE=944,t.ordmasculine=300,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=611,t.divide=570,t.Yacute=611,t.Acircumflex=667,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=611,t.Cacute=667,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=556,t.acircumflex=500,t.Amacron=667,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=611,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=608,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=722,t.Agrave=667,t.Abreve=667,t.multiply=570,t.uacute=556,t.Tcaron=611,t.partialdiff=494,t.ydieresis=444,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=722,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=366,t.eogonek=444,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=576,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=382,t.Kcommaaccent=667,t.Lacute=611,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=722,t.zdotaccent=389,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=500,t.minus=606,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=606,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500})),t["Times-Italic"]=(0,n.getLookupTableFactory)((function(t){t.space=250,t.exclam=333,t.quotedbl=420,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=675,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=675,t.equal=675,t.greater=675,t.question=500,t.at=920,t.A=611,t.B=611,t.C=667,t.D=722,t.E=611,t.F=611,t.G=722,t.H=722,t.I=333,t.J=444,t.K=667,t.L=556,t.M=833,t.N=667,t.O=722,t.P=611,t.Q=722,t.R=611,t.S=500,t.T=556,t.U=722,t.V=611,t.W=833,t.X=611,t.Y=556,t.Z=556,t.bracketleft=389,t.backslash=278,t.bracketright=389,t.asciicircum=422,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=278,t.g=500,t.h=500,t.i=278,t.j=278,t.k=444,t.l=278,t.m=722,t.n=500,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=500,t.v=444,t.w=667,t.x=444,t.y=444,t.z=389,t.braceleft=400,t.bar=275,t.braceright=400,t.asciitilde=541,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=214,t.quotedblleft=556,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=523,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=556,t.quotedblright=556,t.guillemotright=500,t.ellipsis=889,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=889,t.AE=889,t.ordfeminine=276,t.Lslash=556,t.Oslash=722,t.OE=944,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=667,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=500,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=556,t.divide=675,t.Yacute=556,t.Acircumflex=611,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=500,t.Ncommaaccent=667,t.lacute=278,t.agrave=500,t.Tcommaaccent=556,t.Cacute=667,t.atilde=500,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=611,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=500,t.Amacron=611,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=556,t.Thorn=611,t.Omacron=722,t.Racute=611,t.Sacute=500,t.dcaron=544,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=611,t.Abreve=611,t.multiply=675,t.uacute=500,t.Tcaron=556,t.partialdiff=476,t.ydieresis=444,t.Nacute=667,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=667,t.Iacute=333,t.plusminus=675,t.brokenbar=275,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=389,t.omacron=500,t.Zacute=556,t.Zcaron=556,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=300,t.eogonek=444,t.Uogonek=722,t.Aacute=611,t.Adieresis=611,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=500,t.lcaron=300,t.Kcommaaccent=667,t.Lacute=556,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=500,t.Scommaaccent=500,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=667,t.otilde=500,t.Rcommaaccent=611,t.Lcommaaccent=556,t.Atilde=611,t.Aogonek=611,t.Aring=611,t.Otilde=722,t.zdotaccent=389,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=444,t.minus=675,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=675,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500})),t.ZapfDingbats=(0,n.getLookupTableFactory)((function(t){t.space=278,t.a1=974,t.a2=961,t.a202=974,t.a3=980,t.a4=719,t.a5=789,t.a119=790,t.a118=791,t.a117=690,t.a11=960,t.a12=939,t.a13=549,t.a14=855,t.a15=911,t.a16=933,t.a105=911,t.a17=945,t.a18=974,t.a19=755,t.a20=846,t.a21=762,t.a22=761,t.a23=571,t.a24=677,t.a25=763,t.a26=760,t.a27=759,t.a28=754,t.a6=494,t.a7=552,t.a8=537,t.a9=577,t.a10=692,t.a29=786,t.a30=788,t.a31=788,t.a32=790,t.a33=793,t.a34=794,t.a35=816,t.a36=823,t.a37=789,t.a38=841,t.a39=823,t.a40=833,t.a41=816,t.a42=831,t.a43=923,t.a44=744,t.a45=723,t.a46=749,t.a47=790,t.a48=792,t.a49=695,t.a50=776,t.a51=768,t.a52=792,t.a53=759,t.a54=707,t.a55=708,t.a56=682,t.a57=701,t.a58=826,t.a59=815,t.a60=789,t.a61=789,t.a62=707,t.a63=687,t.a64=696,t.a65=689,t.a66=786,t.a67=787,t.a68=713,t.a69=791,t.a70=785,t.a71=791,t.a72=873,t.a73=761,t.a74=762,t.a203=762,t.a75=759,t.a204=759,t.a76=892,t.a77=892,t.a78=788,t.a79=784,t.a81=438,t.a82=138,t.a83=277,t.a84=415,t.a97=392,t.a98=392,t.a99=668,t.a100=668,t.a89=390,t.a90=390,t.a93=317,t.a94=317,t.a91=276,t.a92=276,t.a205=509,t.a85=509,t.a206=410,t.a86=410,t.a87=234,t.a88=234,t.a95=334,t.a96=334,t.a101=732,t.a102=544,t.a103=544,t.a104=910,t.a106=667,t.a107=760,t.a108=760,t.a112=776,t.a111=595,t.a110=694,t.a109=626,t.a120=788,t.a121=788,t.a122=788,t.a123=788,t.a124=788,t.a125=788,t.a126=788,t.a127=788,t.a128=788,t.a129=788,t.a130=788,t.a131=788,t.a132=788,t.a133=788,t.a134=788,t.a135=788,t.a136=788,t.a137=788,t.a138=788,t.a139=788,t.a140=788,t.a141=788,t.a142=788,t.a143=788,t.a144=788,t.a145=788,t.a146=788,t.a147=788,t.a148=788,t.a149=788,t.a150=788,t.a151=788,t.a152=788,t.a153=788,t.a154=788,t.a155=788,t.a156=788,t.a157=788,t.a158=788,t.a159=788,t.a160=894,t.a161=838,t.a163=1016,t.a164=458,t.a196=748,t.a165=924,t.a192=748,t.a166=918,t.a167=927,t.a168=928,t.a169=928,t.a170=834,t.a171=873,t.a172=828,t.a173=924,t.a162=924,t.a174=917,t.a175=930,t.a176=931,t.a177=463,t.a178=883,t.a179=836,t.a193=836,t.a180=867,t.a199=867,t.a181=696,t.a200=696,t.a182=874,t.a201=874,t.a183=760,t.a184=946,t.a197=771,t.a185=865,t.a194=771,t.a198=888,t.a186=967,t.a195=888,t.a187=831,t.a188=873,t.a189=927,t.a190=970,t.a191=918}))}));e.getMetrics=i;const o=(0,n.getLookupTableFactory)((function(t){t.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},t["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},t["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},t["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},t.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},t["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},t["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},t["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},t["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},t["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},t["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},t["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},t.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},t.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}}));e.getFontBasicMetrics=o},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlyfTable=void 0,e.GlyfTable=class{constructor({glyfTable:t,isGlyphLocationsLong:e,locaTable:n,numGlyphs:i}){this.glyphs=[];const o=new DataView(n.buffer,n.byteOffset,n.byteLength),s=new DataView(t.buffer,t.byteOffset,t.byteLength),a=e?4:2;let l=e?o.getUint32(0):2*o.getUint16(0),c=0;for(let t=0;t<i;t++){c+=a;const t=e?o.getUint32(c):2*o.getUint16(c);if(t===l){this.glyphs.push(new r({}));continue}const n=r.parse(l,s);this.glyphs.push(n),l=t}}getSize(){return this.glyphs.reduce(((t,e)=>t+(e.getSize()+3&-4)),0)}write(){const t=this.getSize(),e=new DataView(new ArrayBuffer(t)),r=t>131070,n=r?4:2,i=new DataView(new ArrayBuffer((this.glyphs.length+1)*n));r?i.setUint32(0,0):i.setUint16(0,0);let o=0,s=0;for(const t of this.glyphs)o+=t.write(o,e),o=o+3&-4,s+=n,r?i.setUint32(s,o):i.setUint16(s,o>>1);return{isLocationLong:r,loca:new Uint8Array(i.buffer),glyf:new Uint8Array(e.buffer)}}scale(t){for(let e=0,r=this.glyphs.length;e<r;e++)this.glyphs[e].scale(t[e])}};class r{constructor({header:t=null,simple:e=null,composites:r=null}){this.header=t,this.simple=e,this.composites=r}static parse(t,e){const[i,a]=n.parse(t,e);if(t+=i,a.numberOfContours<0){const n=[];for(;;){const[r,i]=s.parse(t,e);if(t+=r,n.push(i),!(32&i.flags))break}return new r({header:a,composites:n})}const l=o.parse(t,e,a.numberOfContours);return new r({header:a,simple:l})}getSize(){if(!this.header)return 0;const t=this.simple?this.simple.getSize():this.composites.reduce(((t,e)=>t+e.getSize()),0);return this.header.getSize()+t}write(t,e){if(!this.header)return 0;const r=t;if(t+=this.header.write(t,e),this.simple)t+=this.simple.write(t,e);else for(const r of this.composites)t+=r.write(t,e);return t-r}scale(t){if(!this.header)return;const e=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(e,t),this.simple)this.simple.scale(e,t);else for(const r of this.composites)r.scale(e,t)}}class n{constructor({numberOfContours:t,xMin:e,yMin:r,xMax:n,yMax:i}){this.numberOfContours=t,this.xMin=e,this.yMin=r,this.xMax=n,this.yMax=i}static parse(t,e){return[10,new n({numberOfContours:e.getInt16(t),xMin:e.getInt16(t+2),yMin:e.getInt16(t+4),xMax:e.getInt16(t+6),yMax:e.getInt16(t+8)})]}getSize(){return 10}write(t,e){return e.setInt16(t,this.numberOfContours),e.setInt16(t+2,this.xMin),e.setInt16(t+4,this.yMin),e.setInt16(t+6,this.xMax),e.setInt16(t+8,this.yMax),10}scale(t,e){this.xMin=Math.round(t+(this.xMin-t)*e),this.xMax=Math.round(t+(this.xMax-t)*e)}}class i{constructor({flags:t,xCoordinates:e,yCoordinates:r}){this.xCoordinates=e,this.yCoordinates=r,this.flags=t}}class o{constructor({contours:t,instructions:e}){this.contours=t,this.instructions=e}static parse(t,e,r){const n=[];for(let i=0;i<r;i++){const r=e.getUint16(t);t+=2,n.push(r)}const s=n[r-1]+1,a=e.getUint16(t);t+=2;const l=new Uint8Array(e).slice(t,t+a);t+=a;const c=[];for(let r=0;r<s;t++,r++){let n=e.getUint8(t);if(c.push(n),8&n){const i=e.getUint8(++t);n^=8;for(let t=0;t<i;t++)c.push(n);r+=i}}const h=[];let u=[],p=[],d=[];const f=[];let g=0,m=0;for(let r=0;r<s;r++){const i=c[r];if(2&i){const r=e.getUint8(t++);m+=16&i?r:-r,u.push(m)}else 16&i||(m+=e.getInt16(t),t+=2),u.push(m);n[g]===r&&(g++,h.push(u),u=[])}m=0,g=0;for(let r=0;r<s;r++){const o=c[r];if(4&o){const r=e.getUint8(t++);m+=32&o?r:-r,p.push(m)}else 32&o||(m+=e.getInt16(t),t+=2),p.push(m);d.push(1&o|64&o),n[g]===r&&(u=h[g],g++,f.push(new i({flags:d,xCoordinates:u,yCoordinates:p})),p=[],d=[])}return new o({contours:f,instructions:l})}getSize(){let t=2*this.contours.length+2+this.instructions.length,e=0,r=0;for(const n of this.contours){t+=n.flags.length;for(let i=0,o=n.xCoordinates.length;i<o;i++){const o=n.xCoordinates[i],s=n.yCoordinates[i];let a=Math.abs(o-e);a>255?t+=2:a>0&&(t+=1),e=o,a=Math.abs(s-r),a>255?t+=2:a>0&&(t+=1),r=s}}return t}write(t,e){const r=t,n=[],i=[],o=[];let s=0,a=0;for(const r of this.contours){for(let t=0,e=r.xCoordinates.length;t<e;t++){let e=r.flags[t];const l=r.xCoordinates[t];let c=l-s;if(0===c)e|=16,n.push(0);else{const t=Math.abs(c);t<=255?(e|=c>=0?18:2,n.push(t)):n.push(c)}s=l;const h=r.yCoordinates[t];if(c=h-a,0===c)e|=32,i.push(0);else{const t=Math.abs(c);t<=255?(e|=c>=0?36:4,i.push(t)):i.push(c)}a=h,o.push(e)}e.setUint16(t,n.length-1),t+=2}e.setUint16(t,this.instructions.length),t+=2,this.instructions.length&&(new Uint8Array(e.buffer,0,e.buffer.byteLength).set(this.instructions,t),t+=this.instructions.length);for(const r of o)e.setUint8(t++,r);for(let r=0,i=n.length;r<i;r++){const i=n[r],s=o[r];2&s?e.setUint8(t++,i):16&s||(e.setInt16(t,i),t+=2)}for(let r=0,n=i.length;r<n;r++){const n=i[r],s=o[r];4&s?e.setUint8(t++,n):32&s||(e.setInt16(t,n),t+=2)}return t-r}scale(t,e){for(const r of this.contours)if(0!==r.xCoordinates.length)for(let n=0,i=r.xCoordinates.length;n<i;n++)r.xCoordinates[n]=Math.round(t+(r.xCoordinates[n]-t)*e)}}class s{constructor({flags:t,glyphIndex:e,argument1:r,argument2:n,transf:i,instructions:o}){this.flags=t,this.glyphIndex=e,this.argument1=r,this.argument2=n,this.transf=i,this.instructions=o}static parse(t,e){const r=t,n=[];let i=e.getUint16(t);const o=e.getUint16(t+2);let a,l;t+=4,1&i?(2&i?(a=e.getInt16(t),l=e.getInt16(t+2)):(a=e.getUint16(t),l=e.getUint16(t+2)),t+=4,i^=1):(2&i?(a=e.getInt8(t),l=e.getInt8(t+1)):(a=e.getUint8(t),l=e.getUint8(t+1)),t+=2),8&i?(n.push(e.getUint16(t)),t+=2):64&i?(n.push(e.getUint16(t),e.getUint16(t+2)),t+=4):128&i&&(n.push(e.getUint16(t),e.getUint16(t+2),e.getUint16(t+4),e.getUint16(t+6)),t+=8);let c=null;if(256&i){const r=e.getUint16(t);t+=2,c=new Uint8Array(e).slice(t,t+r),t+=r}return[t-r,new s({flags:i,glyphIndex:o,argument1:a,argument2:l,transf:n,instructions:c})]}getSize(){let t=4+2*this.transf.length;return 256&this.flags&&(t+=2+this.instructions.length),t+=2,2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(t+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(t+=2),t}write(t,e){const r=t;return 2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=1):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=1),e.setUint16(t,this.flags),e.setUint16(t+2,this.glyphIndex),t+=4,1&this.flags?(2&this.flags?(e.setInt16(t,this.argument1),e.setInt16(t+2,this.argument2)):(e.setUint16(t,this.argument1),e.setUint16(t+2,this.argument2)),t+=4):(e.setUint8(t,this.argument1),e.setUint8(t+1,this.argument2),t+=2),256&this.flags&&(e.setUint16(t,this.instructions.length),t+=2,this.instructions.length&&(new Uint8Array(e.buffer,0,e.buffer.byteLength).set(this.instructions,t),t+=this.instructions.length)),t-r}scale(t,e){}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OpenTypeFileBuilder=void 0;var n=r(8),i=r(2);function o(t,e,r){t[e]=r>>8&255,t[e+1]=255&r}function s(t,e,r){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r}function a(t,e,r){if(r instanceof Uint8Array)t.set(r,e);else if("string"==typeof r)for(let n=0,i=r.length;n<i;n++)t[e++]=255&r.charCodeAt(n);else for(let n=0,i=r.length;n<i;n++)t[e++]=255&r[n]}class l{constructor(t){this.sfnt=t,this.tables=Object.create(null)}static getSearchParams(t,e){let r=1,n=0;for(;(r^t)>r;)r<<=1,n++;const i=r*e;return{range:i,entry:n,rangeShift:e*t-i}}toArray(){let t=this.sfnt;const e=this.tables,r=Object.keys(e);r.sort();const c=r.length;let h,u,p,d,f,g=12+16*c;const m=[g];for(h=0;h<c;h++)d=e[r[h]],g+=(d.length+3&-4)>>>0,m.push(g);const y=new Uint8Array(g);for(h=0;h<c;h++)d=e[r[h]],a(y,m[h],d);"true"===t&&(t=(0,i.string32)(65536)),y[0]=255&t.charCodeAt(0),y[1]=255&t.charCodeAt(1),y[2]=255&t.charCodeAt(2),y[3]=255&t.charCodeAt(3),o(y,4,c);const v=l.getSearchParams(c,16);for(o(y,6,v.range),o(y,8,v.entry),o(y,10,v.rangeShift),g=12,h=0;h<c;h++){f=r[h],y[g]=255&f.charCodeAt(0),y[g+1]=255&f.charCodeAt(1),y[g+2]=255&f.charCodeAt(2),y[g+3]=255&f.charCodeAt(3);let t=0;for(u=m[h],p=m[h+1];u<p;u+=4)t=t+(0,n.readUint32)(y,u)>>>0;s(y,g+4,t),s(y,g+8,m[h]),s(y,g+12,e[f].length),g+=16}return y}addTable(t,e){if(t in this.tables)throw new Error("Table "+t+" already exists");this.tables[t]=e}}e.OpenTypeFileBuilder=l},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Type1Font=void 0;var n=r(45),i=r(18),o=r(8),s=r(10),a=r(55),l=r(2);function c(t,e,r){const n=t.length,i=e.length,s=n-i;let a=r,l=!1;for(;a<s;){let r=0;for(;r<i&&t[a+r]===e[r];)r++;if(r>=i){for(a+=r;a<n&&(0,o.isWhiteSpace)(t[a]);)a++;l=!0;break}a++}return{found:l,length:a}}e.Type1Font=class{constructor(t,e,r){let n=r.length1,o=r.length2,h=e.peekBytes(6);const u=128===h[0]&&1===h[1];u&&(e.skip(6),n=h[5]<<24|h[4]<<16|h[3]<<8|h[2]);const p=function(t,e){const r=[101,101,120,101,99],n=t.pos;let i,o,a,h;try{i=t.getBytes(e),o=i.length}catch(t){}if(o===e&&(a=c(i,r,e-2*r.length),a.found&&a.length===e))return{stream:new s.Stream(i),length:e};for((0,l.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),t.pos=n;a=c(t.peekBytes(2048),r,0),0!==a.length;)if(t.pos+=a.length,a.found){h=t.pos-n;break}return t.pos=n,h?{stream:new s.Stream(t.getBytes(h)),length:h}:((0,l.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new s.Stream(t.getBytes(e)),length:e})}(e,n);new a.Type1Parser(p.stream,!1,i.SEAC_ANALYSIS_ENABLED).extractFontHeader(r),u&&(h=e.getBytes(6),o=h[5]<<24|h[4]<<16|h[3]<<8|h[2]);const d=function(t,e){const r=t.getBytes();return{stream:new s.Stream(r),length:r.length}}(e),f=new a.Type1Parser(d.stream,!0,i.SEAC_ANALYSIS_ENABLED).extractFontProgram(r);for(const t in f.properties)r[t]=f.properties[t];const g=f.charstrings,m=this.getType2Charstrings(g),y=this.getType2Subrs(f.subrs);this.charstrings=g,this.data=this.wrap(t,m,this.charstrings,y,r),this.seacs=this.getSeacs(f.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const t=[".notdef"],e=this.charstrings;for(let r=0;r<e.length;r++)t.push(e[r].glyphName);return t}getGlyphMapping(t){const e=this.charstrings;if(t.composite){const r=Object.create(null);for(let n=0,i=e.length;n<i;n++)r[t.cMap.charCodeOf(n)]=n+1;return r}const r=[".notdef"];let n,o;for(o=0;o<e.length;o++)r.push(e[o].glyphName);const s=t.builtInEncoding;if(s){n=Object.create(null);for(const t in s)o=r.indexOf(s[t]),o>=0&&(n[t]=o)}return(0,i.type1FontGlyphMapping)(t,n,r)}hasGlyphId(t){return!(t<0||t>=this.numGlyphs)&&(0===t||this.charstrings[t-1].charstring.length>0)}getSeacs(t){const e=[];for(let r=0,n=t.length;r<n;r++){const n=t[r];n.seac&&(e[r+1]=n.seac)}return e}getType2Charstrings(t){const e=[];for(let r=0,n=t.length;r<n;r++)e.push(t[r].charstring);return e}getType2Subrs(t){let e=0;const r=t.length;e=r<1133?107:r<33769?1131:32768;const n=[];let i;for(i=0;i<e;i++)n.push([11]);for(i=0;i<r;i++)n.push(t[i]);return n}wrap(t,e,r,i,o){const s=new n.CFF;s.header=new n.CFFHeader(1,0,4,4),s.names=[t];const a=new n.CFFTopDict;a.setByName("version",391),a.setByName("Notice",392),a.setByName("FullName",393),a.setByName("FamilyName",394),a.setByName("Weight",395),a.setByName("Encoding",null),a.setByName("FontMatrix",o.fontMatrix),a.setByName("FontBBox",o.bbox),a.setByName("charset",null),a.setByName("CharStrings",null),a.setByName("Private",null),s.topDict=a;const l=new n.CFFStrings;l.add("Version 0.11"),l.add("See original notice"),l.add(t),l.add(t),l.add("Medium"),s.strings=l,s.globalSubrIndex=new n.CFFIndex;const c=e.length,h=[".notdef"];let u,p;for(u=0;u<c;u++){const t=r[u].glyphName;-1===n.CFFStandardStrings.indexOf(t)&&l.add(t),h.push(t)}s.charset=new n.CFFCharset(!1,0,h);const d=new n.CFFIndex;for(d.add([139,14]),u=0;u<c;u++)d.add(e[u]);s.charStrings=d;const f=new n.CFFPrivateDict;f.setByName("Subrs",null);const g=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(u=0,p=g.length;u<p;u++){const t=g[u];if(!(t in o.privateData))continue;const e=o.privateData[t];if(Array.isArray(e))for(let t=e.length-1;t>0;t--)e[t]-=e[t-1];f.setByName(t,e)}s.topDict.privateDict=f;const m=new n.CFFIndex;for(u=0,p=i.length;u<p;u++)m.add(i[u]);return f.subrsIndex=m,new n.CFFCompiler(s).compile()}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Type1Parser=void 0;var n=r(19),i=r(8),o=r(10),s=r(2);const a=function(){const t=[4],e=[5],r=[6],n=[7],i=[8],o=[12,35],a=[14],l=[21],c=[22],h=[30],u=[31];return class{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(p,d,f){const g=p.length;let m,y,v,b=!1;for(let w=0;w<g;w++){let g=p[w];if(g<32){switch(12===g&&(g=(g<<8)+p[++w]),g){case 1:case 3:case 9:case 3072:case 3073:case 3074:case 3105:this.stack=[];break;case 4:if(this.flexing){if(this.stack.length<1){b=!0;break}const t=this.stack.pop();this.stack.push(0,t);break}b=this.executeCommand(1,t);break;case 5:b=this.executeCommand(2,e);break;case 6:b=this.executeCommand(1,r);break;case 7:b=this.executeCommand(1,n);break;case 8:b=this.executeCommand(6,i);break;case 10:if(this.stack.length<1){b=!0;break}if(v=this.stack.pop(),!d[v]){b=!0;break}b=this.convert(d[v],d,f);break;case 11:return b;case 13:if(this.stack.length<2){b=!0;break}m=this.stack.pop(),y=this.stack.pop(),this.lsb=y,this.width=m,this.stack.push(m,y),b=this.executeCommand(2,c);break;case 14:this.output.push(a[0]);break;case 21:if(this.flexing)break;b=this.executeCommand(2,l);break;case 22:if(this.flexing){this.stack.push(0);break}b=this.executeCommand(1,c);break;case 30:b=this.executeCommand(4,h);break;case 31:b=this.executeCommand(4,u);break;case 3078:if(f){const t=this.stack[this.stack.length-5];this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-t,b=this.executeCommand(0,a)}else b=this.executeCommand(4,a);break;case 3079:if(this.stack.length<4){b=!0;break}this.stack.pop(),m=this.stack.pop();const p=this.stack.pop();y=this.stack.pop(),this.lsb=y,this.width=m,this.stack.push(m,y,p),b=this.executeCommand(3,l);break;case 3084:if(this.stack.length<2){b=!0;break}const w=this.stack.pop(),x=this.stack.pop();this.stack.push(x/w);break;case 3088:if(this.stack.length<2){b=!0;break}v=this.stack.pop();const S=this.stack.pop();if(0===v&&3===S){const t=this.stack.splice(this.stack.length-17,17);this.stack.push(t[2]+t[0],t[3]+t[1],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14]),b=this.executeCommand(13,o,!0),this.flexing=!1,this.stack.push(t[15],t[16])}else 1===v&&0===S&&(this.flexing=!0);break;case 3089:break;default:(0,s.warn)('Unknown type 1 charstring command of "'+g+'"')}if(b)break}else g<=246?g-=139:g=g<=250?256*(g-247)+p[++w]+108:g<=254?-256*(g-251)-p[++w]-108:(255&p[++w])<<24|(255&p[++w])<<16|(255&p[++w])<<8|(255&p[++w])<<0,this.stack.push(g)}return b}executeCommand(t,e,r){const n=this.stack.length;if(t>n)return!0;const i=n-t;for(let t=i;t<n;t++){let e=this.stack[t];Number.isInteger(e)?this.output.push(28,e>>8&255,255&e):(e=65536*e|0,this.output.push(255,e>>24&255,e>>16&255,e>>8&255,255&e))}return this.output.push.apply(this.output,e),r?this.stack.splice(i,t):this.stack.length=0,!1}}}(),l=function(){function t(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function e(t,e,r){if(r>=t.length)return new Uint8Array(0);let n,i,o=0|e;for(n=0;n<r;n++)o=52845*(t[n]+o)+22719&65535;const s=t.length-r,a=new Uint8Array(s);for(n=r,i=0;i<s;n++,i++){const e=t[n];a[i]=e^o>>8,o=52845*(e+o)+22719&65535}return a}function r(t){return 47===t||91===t||93===t||123===t||125===t||40===t||41===t}return class{constructor(r,n,s){if(n){const n=r.getBytes(),s=!((t(n[0])||(0,i.isWhiteSpace)(n[0]))&&t(n[1])&&t(n[2])&&t(n[3])&&t(n[4])&&t(n[5])&&t(n[6])&&t(n[7]));r=new o.Stream(s?e(n,55665,4):function(e,r,n){let i=0|r;const o=e.length,s=new Uint8Array(o>>>1);let a,l;for(a=0,l=0;a<o;a++){const r=e[a];if(!t(r))continue;let n;for(a++;a<o&&!t(n=e[a]);)a++;if(a<o){const t=parseInt(String.fromCharCode(r,n),16);s[l++]=t^i>>8,i=52845*(t+i)+22719&65535}}return s.slice(n,l)}(n,55665,4))}this.seacAnalysisEnabled=!!s,this.stream=r,this.nextChar()}readNumberArray(){this.getToken();const t=[];for(;;){const e=this.getToken();if(null===e||"]"===e||"}"===e)break;t.push(parseFloat(e||0))}return t}readNumber(){const t=this.getToken();return parseFloat(t||0)}readInt(){const t=this.getToken();return 0|parseInt(t||0,10)}readBoolean(){return"true"===this.getToken()?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let t=!1,e=this.currentChar;for(;;){if(-1===e)return null;if(t)10!==e&&13!==e||(t=!1);else if(37===e)t=!0;else if(!(0,i.isWhiteSpace)(e))break;e=this.nextChar()}if(r(e))return this.nextChar(),String.fromCharCode(e);let n="";do{n+=String.fromCharCode(e),e=this.nextChar()}while(e>=0&&!(0,i.isWhiteSpace)(e)&&!r(e));return n}readCharStrings(t,r){return-1===r?t:e(t,4330,r)}extractFontProgram(t){const e=this.stream,r=[],n=[],i=Object.create(null);i.lenIV=4;const o={subrs:[],charstrings:[],properties:{privateData:i}};let s,l,c,h,u;for(;null!==(s=this.getToken());)if("/"===s)switch(s=this.getToken(),s){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();s=this.getToken(),null!==s&&"end"!==s;){if("/"!==s)continue;const t=this.getToken();l=this.readInt(),this.getToken(),c=l>0?e.getBytes(l):new Uint8Array(0),h=o.properties.privateData.lenIV,u=this.readCharStrings(c,h),this.nextChar(),s=this.getToken(),"noaccess"===s?this.getToken():"/"===s&&this.prevChar(),n.push({glyph:t,encoded:u})}break;case"Subrs":for(this.readInt(),this.getToken();"dup"===this.getToken();){const t=this.readInt();l=this.readInt(),this.getToken(),c=l>0?e.getBytes(l):new Uint8Array(0),h=o.properties.privateData.lenIV,u=this.readCharStrings(c,h),this.nextChar(),s=this.getToken(),"noaccess"===s&&this.getToken(),r[t]=u}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const t=this.readNumberArray();t.length>0&&t.length;break;case"StemSnapH":case"StemSnapV":o.properties.privateData[s]=this.readNumberArray();break;case"StdHW":case"StdVW":o.properties.privateData[s]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":o.properties.privateData[s]=this.readNumber();break;case"ForceBold":o.properties.privateData[s]=this.readBoolean()}for(let e=0;e<n.length;e++){const i=n[e].glyph;u=n[e].encoded;const s=new a,l=s.convert(u,r,this.seacAnalysisEnabled);let c=s.output;l&&(c=[14]);const h={glyphName:i,charstring:c,width:s.width,lsb:s.lsb,seac:s.seac};if(".notdef"===i?o.charstrings.unshift(h):o.charstrings.push(h),t.builtInEncoding){const e=t.builtInEncoding.indexOf(i);e>-1&&void 0===t.widths[e]&&e>=t.firstChar&&e<=t.lastChar&&(t.widths[e]=s.width)}}return o}extractFontHeader(t){let e;for(;null!==(e=this.getToken());)if("/"===e)switch(e=this.getToken(),e){case"FontMatrix":const r=this.readNumberArray();t.fontMatrix=r;break;case"Encoding":const i=this.getToken();let o;if(/^\d+$/.test(i)){o=[];const t=0|parseInt(i,10);this.getToken();for(let r=0;r<t;r++){for(e=this.getToken();"dup"!==e&&"def"!==e;)if(e=this.getToken(),null===e)return;if("def"===e)break;const t=this.readInt();this.getToken();const r=this.getToken();o[t]=r,this.getToken()}}else o=(0,n.getEncoding)(i);t.builtInEncoding=o;break;case"FontBBox":const s=this.readNumberArray();t.ascent=Math.max(s[3],s[1]),t.descent=Math.min(s[1],s[3]),t.ascentScaled=!0}}}}();e.Type1Parser=l},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Pattern=void 0,e.getTilingPatternIR=function(t,e,r){const i=e.getArray("Matrix"),o=n.Util.normalizeRect(e.getArray("BBox")),s=e.get("XStep"),a=e.get("YStep"),l=e.get("PaintType"),c=e.get("TilingType");if(o[2]-o[0]==0||o[3]-o[1]==0)throw new n.FormatError(`Invalid getTilingPatternIR /BBox array: [${o}].`);return["TilingPattern",r,t,i,o,s,a,l,c]};var n=r(2),i=r(9),o=r(24),s=r(8);const a=2,l=3,c=4,h=5,u=6,p=7;e.Pattern=class{constructor(){(0,n.unreachable)("Cannot initialize Pattern.")}static parseShading(t,e,r,o,d,g){const m=t instanceof i.BaseStream?t.dict:t,b=m.get("ShadingType");try{switch(b){case a:case l:return new f(m,e,r,d,g);case c:case h:case u:case p:return new y(t,e,r,d,g);default:throw new n.FormatError("Unsupported ShadingType: "+b)}}catch(t){if(t instanceof s.MissingDataException)throw t;return o.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.shadingPattern}),(0,n.warn)(t),new v}}};class d{static get SMALL_NUMBER(){return(0,n.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===d&&(0,n.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,n.unreachable)("Abstract method `getIR` called.")}}class f extends d{constructor(t,e,r,i,s){super(),this.coordsArr=t.getArray("Coords"),this.shadingType=t.get("ShadingType");const a=o.ColorSpace.parse({cs:t.getRaw("CS")||t.getRaw("ColorSpace"),xref:e,resources:r,pdfFunctionFactory:i,localColorSpaceCache:s}),c=t.getArray("BBox");Array.isArray(c)&&4===c.length?this.bbox=n.Util.normalizeRect(c):this.bbox=null;let h=0,u=1;if(t.has("Domain")){const e=t.getArray("Domain");h=e[0],u=e[1]}let p=!1,f=!1;if(t.has("Extend")){const e=t.getArray("Extend");p=e[0],f=e[1]}if(!(this.shadingType!==l||p&&f)){const[t,e,r,i,o,s]=this.coordsArr,a=Math.hypot(t-i,e-o);r<=s+a&&s<=r+a&&(0,n.warn)("Unsupported radial gradient.")}this.extendStart=p,this.extendEnd=f;const g=t.getRaw("Function"),m=i.createFromArray(g),y=(u-h)/10,v=this.colorStops=[];if(h>=u||y<=0)return void(0,n.info)("Bad shading domain.");const b=new Float32Array(a.numComps),w=new Float32Array(1);let x;for(let t=0;t<=10;t++){w[0]=h+t*y,m(w,0,b,0),x=a.getRgb(b,0);const e=n.Util.makeHexColor(x[0],x[1],x[2]);v.push([t/10,e])}let S="transparent";t.has("Background")&&(x=a.getRgb(t.get("Background"),0),S=n.Util.makeHexColor(x[0],x[1],x[2])),p||(v.unshift([0,S]),v[1][0]+=d.SMALL_NUMBER),f||(v[v.length-1][0]-=d.SMALL_NUMBER,v.push([1,S])),this.colorStops=v}getIR(){const t=this.coordsArr,e=this.shadingType;let r,i,o,s,c;return e===a?(i=[t[0],t[1]],o=[t[2],t[3]],s=null,c=null,r="axial"):e===l?(i=[t[0],t[1]],o=[t[3],t[4]],s=t[2],c=t[5],r="radial"):(0,n.unreachable)(`getPattern type unknown: ${e}`),["RadialAxial",r,this.bbox,this.colorStops,i,o,s,c]}}class g{constructor(t,e){this.stream=t,this.context=e,this.buffer=0,this.bufferLength=0;const r=e.numComps;this.tmpCompsBuf=new Float32Array(r);const n=e.colorSpace.numComps;this.tmpCsCompsBuf=e.colorFn?new Float32Array(n):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const t=this.stream.getByte();return!(t<0||(this.buffer=t,this.bufferLength=8,0))}readBits(t){let e=this.buffer,r=this.bufferLength;if(32===t){if(0===r)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;e=e<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const t=this.stream.getByte();return this.buffer=t&(1<<r)-1,(e<<8-r|(255&t)>>r)>>>0}if(8===t&&0===r)return this.stream.getByte();for(;r<t;)e=e<<8|this.stream.getByte(),r+=8;return r-=t,this.bufferLength=r,this.buffer=e&(1<<r)-1,e>>r}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const t=this.context.bitsPerCoordinate,e=this.readBits(t),r=this.readBits(t),n=this.context.decode,i=t<32?1/((1<<t)-1):2.3283064365386963e-10;return[e*i*(n[1]-n[0])+n[0],r*i*(n[3]-n[2])+n[2]]}readComponents(){const t=this.context.numComps,e=this.context.bitsPerComponent,r=e<32?1/((1<<e)-1):2.3283064365386963e-10,n=this.context.decode,i=this.tmpCompsBuf;for(let o=0,s=4;o<t;o++,s+=2){const t=this.readBits(e);i[o]=t*r*(n[s+1]-n[s])+n[s]}const o=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(i,0,o,0),this.context.colorSpace.getRgb(o,0)}}const m=function(){const t=[];return function(e){return t[e]||(t[e]=function(t){const e=[];for(let r=0;r<=t;r++){const n=r/t,i=1-n;e.push(new Float32Array([i*i*i,3*n*i*i,3*n*n*i,n*n*n]))}return e}(e)),t[e]}}();class y extends d{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,n.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,n.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,n.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(t,e,r,s,a){if(super(),!(t instanceof i.BaseStream))throw new n.FormatError("Mesh data is not a stream");const l=t.dict;this.shadingType=l.get("ShadingType");const d=l.getArray("BBox");Array.isArray(d)&&4===d.length?this.bbox=n.Util.normalizeRect(d):this.bbox=null;const f=o.ColorSpace.parse({cs:l.getRaw("CS")||l.getRaw("ColorSpace"),xref:e,resources:r,pdfFunctionFactory:s,localColorSpaceCache:a});this.background=l.has("Background")?f.getRgb(l.get("Background"),0):null;const m=l.getRaw("Function"),y=m?s.createFromArray(m):null;this.coords=[],this.colors=[],this.figures=[];const v={bitsPerCoordinate:l.get("BitsPerCoordinate"),bitsPerComponent:l.get("BitsPerComponent"),bitsPerFlag:l.get("BitsPerFlag"),decode:l.getArray("Decode"),colorFn:y,colorSpace:f,numComps:y?1:f.numComps},b=new g(t,v);let w=!1;switch(this.shadingType){case c:this._decodeType4Shading(b);break;case h:const t=0|l.get("VerticesPerRow");if(t<2)throw new n.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(b,t);break;case u:this._decodeType6Shading(b),w=!0;break;case p:this._decodeType7Shading(b),w=!0;break;default:(0,n.unreachable)("Unsupported mesh type.")}if(w){this._updateBounds();for(let t=0,e=this.figures.length;t<e;t++)this._buildFigureFromPatch(t)}this._updateBounds(),this._packData()}_decodeType4Shading(t){const e=this.coords,r=this.colors,i=[],o=[];let s=0;for(;t.hasData;){const a=t.readFlag(),l=t.readCoordinate(),c=t.readComponents();if(0===s){if(!(0<=a&&a<=2))throw new n.FormatError("Unknown type4 flag");switch(a){case 0:s=3;break;case 1:o.push(o[o.length-2],o[o.length-1]),s=1;break;case 2:o.push(o[o.length-3],o[o.length-1]),s=1}i.push(a)}o.push(e.length),e.push(l),r.push(c),s--,t.align()}this.figures.push({type:"triangles",coords:new Int32Array(o),colors:new Int32Array(o)})}_decodeType5Shading(t,e){const r=this.coords,n=this.colors,i=[];for(;t.hasData;){const e=t.readCoordinate(),o=t.readComponents();i.push(r.length),r.push(e),n.push(o)}this.figures.push({type:"lattice",coords:new Int32Array(i),colors:new Int32Array(i),verticesPerRow:e})}_decodeType6Shading(t){const e=this.coords,r=this.colors,i=new Int32Array(16),o=new Int32Array(4);for(;t.hasData;){const s=t.readFlag();if(!(0<=s&&s<=3))throw new n.FormatError("Unknown type6 flag");const a=e.length;for(let r=0,n=0!==s?8:12;r<n;r++)e.push(t.readCoordinate());const l=r.length;for(let e=0,n=0!==s?2:4;e<n;e++)r.push(t.readComponents());let c,h,u,p;switch(s){case 0:i[12]=a+3,i[13]=a+4,i[14]=a+5,i[15]=a+6,i[8]=a+2,i[11]=a+7,i[4]=a+1,i[7]=a+8,i[0]=a,i[1]=a+11,i[2]=a+10,i[3]=a+9,o[2]=l+1,o[3]=l+2,o[0]=l,o[1]=l+3;break;case 1:c=i[12],h=i[13],u=i[14],p=i[15],i[12]=p,i[13]=a+0,i[14]=a+1,i[15]=a+2,i[8]=u,i[11]=a+3,i[4]=h,i[7]=a+4,i[0]=c,i[1]=a+7,i[2]=a+6,i[3]=a+5,c=o[2],h=o[3],o[2]=h,o[3]=l,o[0]=c,o[1]=l+1;break;case 2:c=i[15],h=i[11],i[12]=i[3],i[13]=a+0,i[14]=a+1,i[15]=a+2,i[8]=i[7],i[11]=a+3,i[4]=h,i[7]=a+4,i[0]=c,i[1]=a+7,i[2]=a+6,i[3]=a+5,c=o[3],o[2]=o[1],o[3]=l,o[0]=c,o[1]=l+1;break;case 3:i[12]=i[0],i[13]=a+0,i[14]=a+1,i[15]=a+2,i[8]=i[1],i[11]=a+3,i[4]=i[2],i[7]=a+4,i[0]=i[3],i[1]=a+7,i[2]=a+6,i[3]=a+5,o[2]=o[0],o[3]=l,o[0]=o[1],o[1]=l+1}i[5]=e.length,e.push([(-4*e[i[0]][0]-e[i[15]][0]+6*(e[i[4]][0]+e[i[1]][0])-2*(e[i[12]][0]+e[i[3]][0])+3*(e[i[13]][0]+e[i[7]][0]))/9,(-4*e[i[0]][1]-e[i[15]][1]+6*(e[i[4]][1]+e[i[1]][1])-2*(e[i[12]][1]+e[i[3]][1])+3*(e[i[13]][1]+e[i[7]][1]))/9]),i[6]=e.length,e.push([(-4*e[i[3]][0]-e[i[12]][0]+6*(e[i[2]][0]+e[i[7]][0])-2*(e[i[0]][0]+e[i[15]][0])+3*(e[i[4]][0]+e[i[14]][0]))/9,(-4*e[i[3]][1]-e[i[12]][1]+6*(e[i[2]][1]+e[i[7]][1])-2*(e[i[0]][1]+e[i[15]][1])+3*(e[i[4]][1]+e[i[14]][1]))/9]),i[9]=e.length,e.push([(-4*e[i[12]][0]-e[i[3]][0]+6*(e[i[8]][0]+e[i[13]][0])-2*(e[i[0]][0]+e[i[15]][0])+3*(e[i[11]][0]+e[i[1]][0]))/9,(-4*e[i[12]][1]-e[i[3]][1]+6*(e[i[8]][1]+e[i[13]][1])-2*(e[i[0]][1]+e[i[15]][1])+3*(e[i[11]][1]+e[i[1]][1]))/9]),i[10]=e.length,e.push([(-4*e[i[15]][0]-e[i[0]][0]+6*(e[i[11]][0]+e[i[14]][0])-2*(e[i[12]][0]+e[i[3]][0])+3*(e[i[2]][0]+e[i[8]][0]))/9,(-4*e[i[15]][1]-e[i[0]][1]+6*(e[i[11]][1]+e[i[14]][1])-2*(e[i[12]][1]+e[i[3]][1])+3*(e[i[2]][1]+e[i[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(i),colors:new Int32Array(o)})}}_decodeType7Shading(t){const e=this.coords,r=this.colors,i=new Int32Array(16),o=new Int32Array(4);for(;t.hasData;){const s=t.readFlag();if(!(0<=s&&s<=3))throw new n.FormatError("Unknown type7 flag");const a=e.length;for(let r=0,n=0!==s?12:16;r<n;r++)e.push(t.readCoordinate());const l=r.length;for(let e=0,n=0!==s?2:4;e<n;e++)r.push(t.readComponents());let c,h,u,p;switch(s){case 0:i[12]=a+3,i[13]=a+4,i[14]=a+5,i[15]=a+6,i[8]=a+2,i[9]=a+13,i[10]=a+14,i[11]=a+7,i[4]=a+1,i[5]=a+12,i[6]=a+15,i[7]=a+8,i[0]=a,i[1]=a+11,i[2]=a+10,i[3]=a+9,o[2]=l+1,o[3]=l+2,o[0]=l,o[1]=l+3;break;case 1:c=i[12],h=i[13],u=i[14],p=i[15],i[12]=p,i[13]=a+0,i[14]=a+1,i[15]=a+2,i[8]=u,i[9]=a+9,i[10]=a+10,i[11]=a+3,i[4]=h,i[5]=a+8,i[6]=a+11,i[7]=a+4,i[0]=c,i[1]=a+7,i[2]=a+6,i[3]=a+5,c=o[2],h=o[3],o[2]=h,o[3]=l,o[0]=c,o[1]=l+1;break;case 2:c=i[15],h=i[11],i[12]=i[3],i[13]=a+0,i[14]=a+1,i[15]=a+2,i[8]=i[7],i[9]=a+9,i[10]=a+10,i[11]=a+3,i[4]=h,i[5]=a+8,i[6]=a+11,i[7]=a+4,i[0]=c,i[1]=a+7,i[2]=a+6,i[3]=a+5,c=o[3],o[2]=o[1],o[3]=l,o[0]=c,o[1]=l+1;break;case 3:i[12]=i[0],i[13]=a+0,i[14]=a+1,i[15]=a+2,i[8]=i[1],i[9]=a+9,i[10]=a+10,i[11]=a+3,i[4]=i[2],i[5]=a+8,i[6]=a+11,i[7]=a+4,i[0]=i[3],i[1]=a+7,i[2]=a+6,i[3]=a+5,o[2]=o[0],o[3]=l,o[0]=o[1],o[1]=l+1}this.figures.push({type:"patch",coords:new Int32Array(i),colors:new Int32Array(o)})}}_buildFigureFromPatch(t){const e=this.figures[t];(0,n.assert)("patch"===e.type,"Unexpected patch mesh figure");const r=this.coords,i=this.colors,o=e.coords,s=e.colors,a=Math.min(r[o[0]][0],r[o[3]][0],r[o[12]][0],r[o[15]][0]),l=Math.min(r[o[0]][1],r[o[3]][1],r[o[12]][1],r[o[15]][1]),c=Math.max(r[o[0]][0],r[o[3]][0],r[o[12]][0],r[o[15]][0]),h=Math.max(r[o[0]][1],r[o[3]][1],r[o[12]][1],r[o[15]][1]);let u=Math.ceil((c-a)*y.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));u=Math.max(y.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(y.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,u));let p=Math.ceil((h-l)*y.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));p=Math.max(y.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(y.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,p));const d=u+1,f=new Int32Array((p+1)*d),g=new Int32Array((p+1)*d);let v=0;const b=new Uint8Array(3),w=new Uint8Array(3),x=i[s[0]],S=i[s[1]],k=i[s[2]],A=i[s[3]],C=m(p),_=m(u);for(let t=0;t<=p;t++){b[0]=(x[0]*(p-t)+k[0]*t)/p|0,b[1]=(x[1]*(p-t)+k[1]*t)/p|0,b[2]=(x[2]*(p-t)+k[2]*t)/p|0,w[0]=(S[0]*(p-t)+A[0]*t)/p|0,w[1]=(S[1]*(p-t)+A[1]*t)/p|0,w[2]=(S[2]*(p-t)+A[2]*t)/p|0;for(let e=0;e<=u;e++,v++){if(!(0!==t&&t!==p||0!==e&&e!==u))continue;let n=0,s=0,a=0;for(let i=0;i<=3;i++)for(let l=0;l<=3;l++,a++){const c=C[t][i]*_[e][l];n+=r[o[a]][0]*c,s+=r[o[a]][1]*c}f[v]=r.length,r.push([n,s]),g[v]=i.length;const l=new Uint8Array(3);l[0]=(b[0]*(u-e)+w[0]*e)/u|0,l[1]=(b[1]*(u-e)+w[1]*e)/u|0,l[2]=(b[2]*(u-e)+w[2]*e)/u|0,i.push(l)}}f[0]=o[0],g[0]=s[0],f[u]=o[3],g[u]=s[1],f[d*p]=o[12],g[d*p]=s[2],f[d*p+u]=o[15],g[d*p+u]=s[3],this.figures[t]={type:"lattice",coords:f,colors:g,verticesPerRow:d}}_updateBounds(){let t=this.coords[0][0],e=this.coords[0][1],r=t,n=e;for(let i=1,o=this.coords.length;i<o;i++){const o=this.coords[i][0],s=this.coords[i][1];t=t>o?o:t,e=e>s?s:e,r=r<o?o:r,n=n<s?s:n}this.bounds=[t,e,r,n]}_packData(){let t,e,r,n;const i=this.coords,o=new Float32Array(2*i.length);for(t=0,r=0,e=i.length;t<e;t++){const e=i[t];o[r++]=e[0],o[r++]=e[1]}this.coords=o;const s=this.colors,a=new Uint8Array(3*s.length);for(t=0,r=0,e=s.length;t<e;t++){const e=s[t];a[r++]=e[0],a[r++]=e[1],a[r++]=e[2]}this.colors=a;const l=this.figures;for(t=0,e=l.length;t<e;t++){const e=l[t],i=e.coords,o=e.colors;for(r=0,n=i.length;r<n;r++)i[r]*=2,o[r]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class v extends d{getIR(){return["Dummy"]}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PostScriptEvaluator=e.PostScriptCompiler=e.PDFFunctionFactory=void 0,e.isPDFFunction=function(t){let e;if("object"!=typeof t)return!1;if(t instanceof n.Dict)e=t;else{if(!(t instanceof s.BaseStream))return!1;e=t.dict}return e.has("FunctionType")};var n=r(5),i=r(2),o=r(58),s=r(9),a=r(59);function l(t){if(!Array.isArray(t))return null;const e=t.length;for(let r=0;r<e;r++)if("number"!=typeof t[r]){const r=new Array(e);for(let n=0;n<e;n++)r[n]=+t[n];return r}return t}e.PDFFunctionFactory=class{constructor({xref:t,isEvalSupported:e=!0}){this.xref=t,this.isEvalSupported=!1!==e}create(t){const e=this.getCached(t);if(e)return e;const r=c.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:t instanceof n.Ref?this.xref.fetch(t):t});return this._cache(t,r),r}createFromArray(t){const e=this.getCached(t);if(e)return e;const r=c.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:t instanceof n.Ref?this.xref.fetch(t):t});return this._cache(t,r),r}getCached(t){let e;if(t instanceof n.Ref?e=t:t instanceof n.Dict?e=t.objId:t instanceof s.BaseStream&&(e=t.dict&&t.dict.objId),e){const t=this._localFunctionCache.getByRef(e);if(t)return t}return null}_cache(t,e){if(!e)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let r;t instanceof n.Ref?r=t:t instanceof n.Dict?r=t.objId:t instanceof s.BaseStream&&(r=t.dict&&t.dict.objId),r&&this._localFunctionCache.set(null,r,e)}get _localFunctionCache(){return(0,i.shadow)(this,"_localFunctionCache",new a.LocalFunctionCache)}};class c{static getSampleArray(t,e,r,n){let i,o,s=1;for(i=0,o=t.length;i<o;i++)s*=t[i];s*=e;const a=new Array(s);let l=0,c=0;const h=1/(2**r-1),u=n.getBytes((s*r+7)/8);let p=0;for(i=0;i<s;i++){for(;l<r;)c<<=8,c|=u[p++],l+=8;l-=r,a[i]=(c>>l)*h,c&=(1<<l)-1}return a}static parse({xref:t,isEvalSupported:e,fn:r}){const n=r.dict||r;switch(n.get("FunctionType")){case 0:return this.constructSampled({xref:t,isEvalSupported:e,fn:r,dict:n});case 1:break;case 2:return this.constructInterpolated({xref:t,isEvalSupported:e,dict:n});case 3:return this.constructStiched({xref:t,isEvalSupported:e,dict:n});case 4:return this.constructPostScript({xref:t,isEvalSupported:e,fn:r,dict:n})}throw new i.FormatError("Unknown type of function")}static parseArray({xref:t,isEvalSupported:e,fnObj:r}){if(!Array.isArray(r))return this.parse({xref:t,isEvalSupported:e,fn:r});const n=[];for(let i=0,o=r.length;i<o;i++)n.push(this.parse({xref:t,isEvalSupported:e,fn:t.fetchIfRef(r[i])}));return function(t,e,r,i){for(let o=0,s=n.length;o<s;o++)n[o](t,e,r,i+o)}}static constructSampled({xref:t,isEvalSupported:e,fn:r,dict:n}){function o(t){const e=t.length,r=[];let n=0;for(let i=0;i<e;i+=2)r[n++]=[t[i],t[i+1]];return r}function s(t,e,r,n,i){return n+(i-n)/(r-e)*(t-e)}let a=l(n.getArray("Domain")),c=l(n.getArray("Range"));if(!a||!c)throw new i.FormatError("No domain or range");const h=a.length/2,u=c.length/2;a=o(a),c=o(c);const p=l(n.getArray("Size")),d=n.get("BitsPerSample"),f=n.get("Order")||1;1!==f&&(0,i.info)("No support for cubic spline interpolation: "+f);let g=l(n.getArray("Encode"));if(g)g=o(g);else{g=[];for(let t=0;t<h;++t)g.push([0,p[t]-1])}let m=l(n.getArray("Decode"));m=m?o(m):c;const y=this.getSampleArray(p,u,d,r);return function(t,e,r,n){const i=1<<h,o=new Float64Array(i),l=new Uint32Array(i);let d,f;for(f=0;f<i;f++)o[f]=1;let v=u,b=1;for(d=0;d<h;++d){const r=a[d][0],n=a[d][1];let c=s(Math.min(Math.max(t[e+d],r),n),r,n,g[d][0],g[d][1]);const h=p[d];c=Math.min(Math.max(c,0),h-1);const u=c<h-1?Math.floor(c):c-1,m=u+1-c,y=c-u,w=u*v,x=w+v;for(f=0;f<i;f++)f&b?(o[f]*=y,l[f]+=x):(o[f]*=m,l[f]+=w);v*=h,b<<=1}for(f=0;f<u;++f){let t=0;for(d=0;d<i;d++)t+=y[l[d]+f]*o[d];t=s(t,0,1,m[f][0],m[f][1]),r[n+f]=Math.min(Math.max(t,c[f][0]),c[f][1])}}}static constructInterpolated({xref:t,isEvalSupported:e,dict:r}){const n=l(r.getArray("C0"))||[0],i=l(r.getArray("C1"))||[1],o=r.get("N"),s=[];for(let t=0,e=n.length;t<e;++t)s.push(i[t]-n[t]);const a=s.length;return function(t,e,r,i){const l=1===o?t[e]:t[e]**o;for(let t=0;t<a;++t)r[i+t]=n[t]+l*s[t]}}static constructStiched({xref:t,isEvalSupported:e,dict:r}){const n=l(r.getArray("Domain"));if(!n)throw new i.FormatError("No domain");if(1!=n.length/2)throw new i.FormatError("Bad domain for stiched function");const o=r.get("Functions"),s=[];for(let r=0,n=o.length;r<n;++r)s.push(this.parse({xref:t,isEvalSupported:e,fn:t.fetchIfRef(o[r])}));const a=l(r.getArray("Bounds")),c=l(r.getArray("Encode")),h=new Float32Array(1);return function(t,e,r,i){const o=function(t,e,r){return t>r?t=r:t<e&&(t=e),t}(t[e],n[0],n[1]),l=a.length;let u;for(u=0;u<l&&!(o<a[u]);++u);let p=n[0];u>0&&(p=a[u-1]);let d=n[1];u<a.length&&(d=a[u]);const f=c[2*u],g=c[2*u+1];h[0]=p===d?f:f+(o-p)*(g-f)/(d-p),s[u](h,0,r,i)}}static constructPostScript({xref:t,isEvalSupported:e,fn:r,dict:n}){const s=l(n.getArray("Domain")),a=l(n.getArray("Range"));if(!s)throw new i.FormatError("No domain.");if(!a)throw new i.FormatError("No range.");const c=new o.PostScriptLexer(r),h=new o.PostScriptParser(c).parse();if(e&&i.FeatureTest.isEvalSupported){const t=(new p).compile(h,s,a);if(t)return new Function("src","srcOffset","dest","destOffset",t)}(0,i.info)("Unable to compile PS function");const d=a.length>>1,f=s.length>>1,g=new u(h),m=Object.create(null);let y=8192;const v=new Float32Array(f);return function(t,e,r,n){let i,o,s="";const l=v;for(i=0;i<f;i++)o=t[e+i],l[i]=o,s+=o+"_";const c=m[s];if(void 0!==c)return void r.set(c,n);const h=new Float32Array(d),u=g.execute(l),p=u.length-d;for(i=0;i<d;i++){o=u[p+i];let t=a[2*i];o<t?o=t:(t=a[2*i+1],o>t&&(o=t)),h[i]=o}y>0&&(y--,m[s]=h),r.set(h,n)}}}class h{static get MAX_STACK_SIZE(){return(0,i.shadow)(this,"MAX_STACK_SIZE",100)}constructor(t){this.stack=t?Array.prototype.slice.call(t,0):[]}push(t){if(this.stack.length>=h.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(t)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(t){if(this.stack.length+t>=h.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const e=this.stack;for(let r=e.length-t,n=t-1;n>=0;n--,r++)e.push(e[r])}index(t){this.push(this.stack[this.stack.length-t-1])}roll(t,e){const r=this.stack,n=r.length-t,i=r.length-1,o=n+(e-Math.floor(e/t)*t);for(let t=n,e=i;t<e;t++,e--){const n=r[t];r[t]=r[e],r[e]=n}for(let t=n,e=o-1;t<e;t++,e--){const n=r[t];r[t]=r[e],r[e]=n}for(let t=o,e=i;t<e;t++,e--){const n=r[t];r[t]=r[e],r[e]=n}}}class u{constructor(t){this.operators=t}execute(t){const e=new h(t);let r=0;const n=this.operators,o=n.length;let s,a,l;for(;r<o;)if(s=n[r++],"number"!=typeof s)switch(s){case"jz":l=e.pop(),a=e.pop(),a||(r=l);break;case"j":a=e.pop(),r=a;break;case"abs":a=e.pop(),e.push(Math.abs(a));break;case"add":l=e.pop(),a=e.pop(),e.push(a+l);break;case"and":l=e.pop(),a=e.pop(),"boolean"==typeof a&&"boolean"==typeof l?e.push(a&&l):e.push(a&l);break;case"atan":a=e.pop(),e.push(Math.atan(a));break;case"bitshift":l=e.pop(),a=e.pop(),a>0?e.push(a<<l):e.push(a>>l);break;case"ceiling":a=e.pop(),e.push(Math.ceil(a));break;case"copy":a=e.pop(),e.copy(a);break;case"cos":a=e.pop(),e.push(Math.cos(a));break;case"cvi":a=0|e.pop(),e.push(a);break;case"cvr":break;case"div":l=e.pop(),a=e.pop(),e.push(a/l);break;case"dup":e.copy(1);break;case"eq":l=e.pop(),a=e.pop(),e.push(a===l);break;case"exch":e.roll(2,1);break;case"exp":l=e.pop(),a=e.pop(),e.push(a**l);break;case"false":e.push(!1);break;case"floor":a=e.pop(),e.push(Math.floor(a));break;case"ge":l=e.pop(),a=e.pop(),e.push(a>=l);break;case"gt":l=e.pop(),a=e.pop(),e.push(a>l);break;case"idiv":l=e.pop(),a=e.pop(),e.push(a/l|0);break;case"index":a=e.pop(),e.index(a);break;case"le":l=e.pop(),a=e.pop(),e.push(a<=l);break;case"ln":a=e.pop(),e.push(Math.log(a));break;case"log":a=e.pop(),e.push(Math.log(a)/Math.LN10);break;case"lt":l=e.pop(),a=e.pop(),e.push(a<l);break;case"mod":l=e.pop(),a=e.pop(),e.push(a%l);break;case"mul":l=e.pop(),a=e.pop(),e.push(a*l);break;case"ne":l=e.pop(),a=e.pop(),e.push(a!==l);break;case"neg":a=e.pop(),e.push(-a);break;case"not":a=e.pop(),"boolean"==typeof a?e.push(!a):e.push(~a);break;case"or":l=e.pop(),a=e.pop(),"boolean"==typeof a&&"boolean"==typeof l?e.push(a||l):e.push(a|l);break;case"pop":e.pop();break;case"roll":l=e.pop(),a=e.pop(),e.roll(a,l);break;case"round":a=e.pop(),e.push(Math.round(a));break;case"sin":a=e.pop(),e.push(Math.sin(a));break;case"sqrt":a=e.pop(),e.push(Math.sqrt(a));break;case"sub":l=e.pop(),a=e.pop(),e.push(a-l);break;case"true":e.push(!0);break;case"truncate":a=e.pop(),a=a<0?Math.ceil(a):Math.floor(a),e.push(a);break;case"xor":l=e.pop(),a=e.pop(),"boolean"==typeof a&&"boolean"==typeof l?e.push(a!==l):e.push(a^l);break;default:throw new i.FormatError(`Unknown operator ${s}`)}else e.push(s);return e.stack}}e.PostScriptEvaluator=u;const p=function(){class t{constructor(t){this.type=t}visit(t){(0,i.unreachable)("abstract method")}}class e extends t{constructor(t,e,r){super("args"),this.index=t,this.min=e,this.max=r}visit(t){t.visitArgument(this)}}class r extends t{constructor(t){super("literal"),this.number=t,this.min=t,this.max=t}visit(t){t.visitLiteral(this)}}class n extends t{constructor(t,e,r,n,i){super("binary"),this.op=t,this.arg1=e,this.arg2=r,this.min=n,this.max=i}visit(t){t.visitBinaryOperation(this)}}class o extends t{constructor(t,e){super("max"),this.arg=t,this.min=t.min,this.max=e}visit(t){t.visitMin(this)}}class s extends t{constructor(t,e,r){super("var"),this.index=t,this.min=e,this.max=r}visit(t){t.visitVariable(this)}}class a extends t{constructor(t,e){super("definition"),this.variable=t,this.arg=e}visit(t){t.visitVariableDefinition(this)}}class l{constructor(){this.parts=[]}visitArgument(t){this.parts.push("Math.max(",t.min,", Math.min(",t.max,", src[srcOffset + ",t.index,"]))")}visitVariable(t){this.parts.push("v",t.index)}visitLiteral(t){this.parts.push(t.number)}visitBinaryOperation(t){this.parts.push("("),t.arg1.visit(this),this.parts.push(" ",t.op," "),t.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(t){this.parts.push("var "),t.variable.visit(this),this.parts.push(" = "),t.arg.visit(this),this.parts.push(";")}visitMin(t){this.parts.push("Math.min("),t.arg.visit(this),this.parts.push(", ",t.max,")")}toString(){return this.parts.join("")}}function c(t,e){return"literal"===e.type&&0===e.number?t:"literal"===t.type&&0===t.number?e:"literal"===e.type&&"literal"===t.type?new r(t.number+e.number):new n("+",t,e,t.min+e.min,t.max+e.max)}function h(t,e){if("literal"===e.type){if(0===e.number)return new r(0);if(1===e.number)return t;if("literal"===t.type)return new r(t.number*e.number)}if("literal"===t.type){if(0===t.number)return new r(0);if(1===t.number)return e}const i=Math.min(t.min*e.min,t.min*e.max,t.max*e.min,t.max*e.max),o=Math.max(t.min*e.min,t.min*e.max,t.max*e.min,t.max*e.max);return new n("*",t,e,i,o)}function u(t,e){if("literal"===e.type){if(0===e.number)return t;if("literal"===t.type)return new r(t.number-e.number)}return"binary"===e.type&&"-"===e.op&&"literal"===t.type&&1===t.number&&"literal"===e.arg1.type&&1===e.arg1.number?e.arg2:new n("-",t,e,t.min-e.max,t.max-e.min)}function p(t,e){return t.min>=e?new r(e):t.max<=e?t:new o(t,e)}return class{compile(t,n,i){const o=[],d=[],f=n.length>>1,g=i.length>>1;let m,y,v,b,w,x,S,k,A=0;for(let t=0;t<f;t++)o.push(new e(t,n[2*t],n[2*t+1]));for(let e=0,n=t.length;e<n;e++)if(k=t[e],"number"!=typeof k)switch(k){case"add":if(o.length<2)return null;b=o.pop(),v=o.pop(),o.push(c(v,b));break;case"cvr":if(o.length<1)return null;break;case"mul":if(o.length<2)return null;b=o.pop(),v=o.pop(),o.push(h(v,b));break;case"sub":if(o.length<2)return null;b=o.pop(),v=o.pop(),o.push(u(v,b));break;case"exch":if(o.length<2)return null;w=o.pop(),x=o.pop(),o.push(w,x);break;case"pop":if(o.length<1)return null;o.pop();break;case"index":if(o.length<1)return null;if(v=o.pop(),"literal"!==v.type)return null;if(m=v.number,m<0||!Number.isInteger(m)||o.length<m)return null;if(w=o[o.length-m-1],"literal"===w.type||"var"===w.type){o.push(w);break}S=new s(A++,w.min,w.max),o[o.length-m-1]=S,o.push(S),d.push(new a(S,w));break;case"dup":if(o.length<1)return null;if("number"==typeof t[e+1]&&"gt"===t[e+2]&&t[e+3]===e+7&&"jz"===t[e+4]&&"pop"===t[e+5]&&t[e+6]===t[e+1]){v=o.pop(),o.push(p(v,t[e+1])),e+=6;break}if(w=o[o.length-1],"literal"===w.type||"var"===w.type){o.push(w);break}S=new s(A++,w.min,w.max),o[o.length-1]=S,o.push(S),d.push(new a(S,w));break;case"roll":if(o.length<2)return null;if(b=o.pop(),v=o.pop(),"literal"!==b.type||"literal"!==v.type)return null;if(y=b.number,m=v.number,m<=0||!Number.isInteger(m)||!Number.isInteger(y)||o.length<m)return null;if(y=(y%m+m)%m,0===y)break;Array.prototype.push.apply(o,o.splice(o.length-m,m-y));break;default:return null}else o.push(new r(k));if(o.length!==g)return null;const C=[];for(const t of d){const e=new l;t.visit(e),C.push(e.toString())}for(let t=0,e=o.length;t<e;t++){const e=o[t],r=new l;e.visit(r);const n=i[2*t],s=i[2*t+1],a=[r.toString()];n>e.min&&(a.unshift("Math.max(",n,", "),a.push(")")),s<e.max&&(a.unshift("Math.min(",s,", "),a.push(")")),a.unshift("dest[destOffset + ",t,"] = "),a.push(";"),C.push(a.join(""))}return C.join("\n")}}}();e.PostScriptCompiler=p},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PostScriptParser=e.PostScriptLexer=void 0;var n=r(2),i=r(5),o=r(8);e.PostScriptParser=class{constructor(t){this.lexer=t,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(t){return this.token.type===t&&(this.nextToken(),!0)}expect(t){if(this.accept(t))return!0;throw new n.FormatError(`Unexpected symbol: found ${this.token.type} expected ${t}.`)}parse(){return this.nextToken(),this.expect(s.LBRACE),this.parseBlock(),this.expect(s.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(s.NUMBER))this.operators.push(this.prev.value);else if(this.accept(s.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(s.LBRACE))return;this.parseCondition()}}parseCondition(){const t=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(s.RBRACE),this.accept(s.IF))this.operators[t]=this.operators.length,this.operators[t+1]="jz";else{if(!this.accept(s.LBRACE))throw new n.FormatError("PS Function: error parsing conditional.");{const e=this.operators.length;this.operators.push(null,null);const r=this.operators.length;this.parseBlock(),this.expect(s.RBRACE),this.expect(s.IFELSE),this.operators[e]=this.operators.length,this.operators[e+1]="j",this.operators[t]=r,this.operators[t+1]="jz"}}}};const s={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class a{static get opCache(){return(0,n.shadow)(this,"opCache",Object.create(null))}constructor(t,e){this.type=t,this.value=e}static getOperator(t){const e=a.opCache[t];return e||(a.opCache[t]=new a(s.OPERATOR,t))}static get LBRACE(){return(0,n.shadow)(this,"LBRACE",new a(s.LBRACE,"{"))}static get RBRACE(){return(0,n.shadow)(this,"RBRACE",new a(s.RBRACE,"}"))}static get IF(){return(0,n.shadow)(this,"IF",new a(s.IF,"IF"))}static get IFELSE(){return(0,n.shadow)(this,"IFELSE",new a(s.IFELSE,"IFELSE"))}}e.PostScriptLexer=class{constructor(t){this.stream=t,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let t=!1,e=this.currentChar;for(;;){if(e<0)return i.EOF;if(t)10!==e&&13!==e||(t=!1);else if(37===e)t=!0;else if(!(0,o.isWhiteSpace)(e))break;e=this.nextChar()}switch(0|e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new a(s.NUMBER,this.getNumber());case 123:return this.nextChar(),a.LBRACE;case 125:return this.nextChar(),a.RBRACE}const r=this.strBuf;for(r.length=0,r[0]=String.fromCharCode(e);(e=this.nextChar())>=0&&(e>=65&&e<=90||e>=97&&e<=122);)r.push(String.fromCharCode(e));const n=r.join("");switch(n.toLowerCase()){case"if":return a.IF;case"ifelse":return a.IFELSE;default:return a.getOperator(n)}}getNumber(){let t=this.currentChar;const e=this.strBuf;for(e.length=0,e[0]=String.fromCharCode(t);(t=this.nextChar())>=0&&(t>=48&&t<=57||45===t||46===t);)e.push(String.fromCharCode(t));const r=parseFloat(e.join(""));if(isNaN(r))throw new n.FormatError(`Invalid floating point number: ${r}`);return r}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LocalTilingPatternCache=e.LocalImageCache=e.LocalGStateCache=e.LocalFunctionCache=e.LocalColorSpaceCache=e.GlobalImageCache=void 0;var n=r(2),i=r(5);class o{constructor(t){this.constructor===o&&(0,n.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=!0===(t&&t.onlyRefs),this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new i.RefSetCache}getByName(t){this._onlyRefs&&(0,n.unreachable)("Should not call `getByName` method.");const e=this._nameRefMap.get(t);return e?this.getByRef(e):this._imageMap.get(t)||null}getByRef(t){return this._imageCache.get(t)||null}set(t,e,r){(0,n.unreachable)("Abstract method `set` called.")}}e.LocalImageCache=class extends o{set(t,e=null,r){if("string"!=typeof t)throw new Error('LocalImageCache.set - expected "name" argument.');if(e){if(this._imageCache.has(e))return;return this._nameRefMap.set(t,e),void this._imageCache.put(e,r)}this._imageMap.has(t)||this._imageMap.set(t,r)}},e.LocalColorSpaceCache=class extends o{set(t=null,e=null,r){if("string"!=typeof t&&!e)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(e){if(this._imageCache.has(e))return;return null!==t&&this._nameRefMap.set(t,e),void this._imageCache.put(e,r)}this._imageMap.has(t)||this._imageMap.set(t,r)}},e.LocalFunctionCache=class extends o{constructor(t){super({onlyRefs:!0})}set(t=null,e,r){if(!e)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(e)||this._imageCache.put(e,r)}},e.LocalGStateCache=class extends o{set(t,e=null,r){if("string"!=typeof t)throw new Error('LocalGStateCache.set - expected "name" argument.');if(e){if(this._imageCache.has(e))return;return this._nameRefMap.set(t,e),void this._imageCache.put(e,r)}this._imageMap.has(t)||this._imageMap.set(t,r)}},e.LocalTilingPatternCache=class extends o{constructor(t){super({onlyRefs:!0})}set(t=null,e,r){if(!e)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(e)||this._imageCache.put(e,r)}};class s{static get NUM_PAGES_THRESHOLD(){return(0,n.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,n.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,n.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new i.RefSetCache,this._imageCache=new i.RefSetCache}get _byteSize(){let t=0;for(const e of this._imageCache)t+=e.byteSize;return t}get _cacheLimitReached(){return!(this._imageCache.size<s.MIN_IMAGES_TO_CACHE||this._byteSize<s.MAX_BYTE_SIZE)}shouldCache(t,e){const r=this._refCache.get(t);return!((r?r.size+(r.has(e)?0:1):1)<s.NUM_PAGES_THRESHOLD||!this._imageCache.has(t)&&this._cacheLimitReached)}addPageIndex(t,e){let r=this._refCache.get(t);r||(r=new Set,this._refCache.put(t,r)),r.add(e)}addByteSize(t,e){const r=this._imageCache.get(t);r&&(r.byteSize||(r.byteSize=e))}getData(t,e){const r=this._refCache.get(t);if(!r)return null;if(r.size<s.NUM_PAGES_THRESHOLD)return null;const n=this._imageCache.get(t);return n?(r.add(e),n):null}setData(t,e){if(!this._refCache.has(t))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');this._imageCache.has(t)||(this._cacheLimitReached?(0,n.warn)("GlobalImageCache.setData - cache limit reached."):this._imageCache.put(t,e))}clear(t=!1){t||this._refCache.clear(),this._imageCache.clear()}}e.GlobalImageCache=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bidi=function(t,e=-1,r=!1){let f=!0;const g=t.length;if(0===g||r)return u(t,f,r);p.length=g,d.length=g;let m,y,v=0;for(m=0;m<g;++m){p[m]=t.charAt(m);const e=t.charCodeAt(m);let r="L";e<=255?r=i[e]:1424<=e&&e<=1524?r="R":1536<=e&&e<=1791?(r=o[255&e],r||(0,n.warn)("Bidi: invalid Unicode character "+e.toString(16))):1792<=e&&e<=2220&&(r="AL"),"R"!==r&&"AL"!==r&&"AN"!==r||v++,d[m]=r}if(0===v)return f=!0,u(t,f);-1===e&&(v/g<.3&&g>4?(f=!0,e=0):(f=!1,e=1));const b=[];for(m=0;m<g;++m)b[m]=e;const w=s(e)?"R":"L",x=w,S=x;let k,A=x;for(m=0;m<g;++m)"NSM"===d[m]?d[m]=A:A=d[m];for(A=x,m=0;m<g;++m)k=d[m],"EN"===k?d[m]="AL"===A?"AN":"EN":"R"!==k&&"L"!==k&&"AL"!==k||(A=k);for(m=0;m<g;++m)k=d[m],"AL"===k&&(d[m]="R");for(m=1;m<g-1;++m)"ES"===d[m]&&"EN"===d[m-1]&&"EN"===d[m+1]&&(d[m]="EN"),"CS"!==d[m]||"EN"!==d[m-1]&&"AN"!==d[m-1]||d[m+1]!==d[m-1]||(d[m]=d[m-1]);for(m=0;m<g;++m)if("EN"===d[m]){for(let t=m-1;t>=0&&"ET"===d[t];--t)d[t]="EN";for(let t=m+1;t<g&&"ET"===d[t];++t)d[t]="EN"}for(m=0;m<g;++m)k=d[m],"WS"!==k&&"ES"!==k&&"ET"!==k&&"CS"!==k||(d[m]="ON");for(A=x,m=0;m<g;++m)k=d[m],"EN"===k?d[m]="L"===A?"L":"EN":"R"!==k&&"L"!==k||(A=k);for(m=0;m<g;++m)if("ON"===d[m]){const t=l(d,m+1,"ON");let e=x;m>0&&(e=d[m-1]);let r=S;t+1<g&&(r=d[t+1]),"L"!==e&&(e="R"),"L"!==r&&(r="R"),e===r&&c(d,m,t,e),m=t-1}for(m=0;m<g;++m)"ON"===d[m]&&(d[m]=w);for(m=0;m<g;++m)k=d[m],a(b[m])?"R"===k?b[m]+=1:"AN"!==k&&"EN"!==k||(b[m]+=2):"L"!==k&&"AN"!==k&&"EN"!==k||(b[m]+=1);let C,_=-1,T=99;for(m=0,y=b.length;m<y;++m)C=b[m],_<C&&(_=C),T>C&&s(C)&&(T=C);for(C=_;C>=T;--C){let t=-1;for(m=0,y=b.length;m<y;++m)b[m]<C?t>=0&&(h(p,t,m),t=-1):t<0&&(t=m);t>=0&&h(p,t,b.length)}for(m=0,y=p.length;m<y;++m){const t=p[m];"<"!==t&&">"!==t||(p[m]="")}return u(p.join(""),f)};var n=r(2);const i=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],o=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function s(t){return 0!=(1&t)}function a(t){return 0==(1&t)}function l(t,e,r){let n,i;for(n=e,i=t.length;n<i;++n)if(t[n]!==r)return n;return n}function c(t,e,r,n){for(let i=e;i<r;++i)t[i]=n}function h(t,e,r){for(let n=e,i=r-1;n<i;++n,--i){const e=t[n];t[n]=t[i],t[i]=e}}function u(t,e,r=!1){let n="ltr";return r?n="ttb":e||(n="rtl"),{str:t,dir:n}}const p=[],d=[]},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var n=r(2);const i=3285377520,o=4294901760,s=65535;e.MurmurHash3_64=class{constructor(t){this.h1=t?4294967295&t:i,this.h2=t?4294967295&t:i}update(t){let e,r;if("string"==typeof t){e=new Uint8Array(2*t.length),r=0;for(let n=0,i=t.length;n<i;n++){const i=t.charCodeAt(n);i<=255?e[r++]=i:(e[r++]=i>>>8,e[r++]=255&i)}}else{if(!(0,n.isArrayBuffer)(t))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");e=t.slice(),r=e.byteLength}const i=r>>2,a=r-4*i,l=new Uint32Array(e.buffer,0,i);let c=0,h=0,u=this.h1,p=this.h2;const d=3432918353,f=461845907,g=11601,m=13715;for(let t=0;t<i;t++)1&t?(c=l[t],c=c*d&o|c*g&s,c=c<<15|c>>>17,c=c*f&o|c*m&s,u^=c,u=u<<13|u>>>19,u=5*u+3864292196):(h=l[t],h=h*d&o|h*g&s,h=h<<15|h>>>17,h=h*f&o|h*m&s,p^=h,p=p<<13|p>>>19,p=5*p+3864292196);switch(c=0,a){case 3:c^=e[4*i+2]<<16;case 2:c^=e[4*i+1]<<8;case 1:c^=e[4*i],c=c*d&o|c*g&s,c=c<<15|c>>>17,c=c*f&o|c*m&s,1&i?u^=c:p^=c}this.h1=u,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;t^=e>>>1,t=3981806797*t&o|36045*t&s,e=4283543511*e&o|(2950163797*(e<<16|t>>>16)&o)>>>16,t^=e>>>1,t=444984403*t&o|60499*t&s,e=3301882366*e&o|(3120437893*(e<<16|t>>>16)&o)>>>16,t^=e>>>1;const r=(t>>>0).toString(16),n=(e>>>0).toString(16);return r.padStart(8,"0")+n.padStart(8,"0")}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OperatorList=void 0;var n=r(2);function i(t,e,r,n,i){let o=t;for(let t=0,r=e.length-1;t<r;t++){const r=e[t];o=o[r]||(o[r]=[])}o[e[e.length-1]]={checkFn:r,iterateFn:n,processFn:i}}const o=[];i(o,[n.OPS.save,n.OPS.transform,n.OPS.paintInlineImageXObject,n.OPS.restore],null,(function(t,e){const r=t.fnArray,i=(e-(t.iCurr-3))%4;switch(i){case 0:return r[e]===n.OPS.save;case 1:return r[e]===n.OPS.transform;case 2:return r[e]===n.OPS.paintInlineImageXObject;case 3:return r[e]===n.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${i}`)}),(function(t,e){const r=t.fnArray,i=t.argsArray,o=t.iCurr,s=o-3,a=o-2,l=o-1,c=Math.min(Math.floor((e-s)/4),200);if(c<10)return e-(e-s)%4;let h=0;const u=[];let p=0,d=1,f=1;for(let t=0;t<c;t++){const e=i[a+(t<<2)],r=i[l+(t<<2)][0];d+r.width>1e3&&(h=Math.max(h,d),f+=p+2,d=0,p=0),u.push({transform:e,x:d,y:f,w:r.width,h:r.height}),d+=r.width+2,p=Math.max(p,r.height)}const g=Math.max(h,d)+1,m=f+p+1,y=new Uint8Array(g*m*4),v=g<<2;for(let t=0;t<c;t++){const e=i[l+(t<<2)][0].data,r=u[t].w<<2;let n=0,o=u[t].x+u[t].y*g<<2;y.set(e.subarray(0,r),o-v);for(let i=0,s=u[t].h;i<s;i++)y.set(e.subarray(n,n+r),o),n+=r,o+=v;for(y.set(e.subarray(n-r,n),o);o>=0;)e[o-4]=e[o],e[o-3]=e[o+1],e[o-2]=e[o+2],e[o-1]=e[o+3],e[o+r]=e[o+r-4],e[o+r+1]=e[o+r-3],e[o+r+2]=e[o+r-2],e[o+r+3]=e[o+r-1],o-=v}return r.splice(s,4*c,n.OPS.paintInlineImageXObjectGroup),i.splice(s,4*c,[{width:g,height:m,kind:n.ImageKind.RGBA_32BPP,data:y},u]),s+1})),i(o,[n.OPS.save,n.OPS.transform,n.OPS.paintImageMaskXObject,n.OPS.restore],null,(function(t,e){const r=t.fnArray,i=(e-(t.iCurr-3))%4;switch(i){case 0:return r[e]===n.OPS.save;case 1:return r[e]===n.OPS.transform;case 2:return r[e]===n.OPS.paintImageMaskXObject;case 3:return r[e]===n.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${i}`)}),(function(t,e){const r=t.fnArray,i=t.argsArray,o=t.iCurr,s=o-3,a=o-2,l=o-1;let c=Math.floor((e-s)/4);if(c<10)return e-(e-s)%4;let h,u,p=!1;const d=i[l][0],f=i[a][0],g=i[a][1],m=i[a][2],y=i[a][3];if(g===m){p=!0,h=a+4;let t=l+4;for(let e=1;e<c;e++,h+=4,t+=4)if(u=i[h],i[t][0]!==d||u[0]!==f||u[1]!==g||u[2]!==m||u[3]!==y){e<10?p=!1:c=e;break}}if(p){c=Math.min(c,1e3);const t=new Float32Array(2*c);h=a;for(let e=0;e<c;e++,h+=4)u=i[h],t[e<<1]=u[4],t[1+(e<<1)]=u[5];r.splice(s,4*c,n.OPS.paintImageMaskXObjectRepeat),i.splice(s,4*c,[d,f,g,m,y,t])}else{c=Math.min(c,100);const t=[];for(let e=0;e<c;e++){u=i[a+(e<<2)];const r=i[l+(e<<2)][0];t.push({data:r.data,width:r.width,height:r.height,interpolate:r.interpolate,count:r.count,transform:u})}r.splice(s,4*c,n.OPS.paintImageMaskXObjectGroup),i.splice(s,4*c,[t])}return s+1})),i(o,[n.OPS.save,n.OPS.transform,n.OPS.paintImageXObject,n.OPS.restore],(function(t){const e=t.argsArray,r=t.iCurr-2;return 0===e[r][1]&&0===e[r][2]}),(function(t,e){const r=t.fnArray,i=t.argsArray,o=(e-(t.iCurr-3))%4;switch(o){case 0:return r[e]===n.OPS.save;case 1:if(r[e]!==n.OPS.transform)return!1;const o=t.iCurr-2,s=i[o][0],a=i[o][3];return i[e][0]===s&&0===i[e][1]&&0===i[e][2]&&i[e][3]===a;case 2:if(r[e]!==n.OPS.paintImageXObject)return!1;const l=i[t.iCurr-1][0];return i[e][0]===l;case 3:return r[e]===n.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${o}`)}),(function(t,e){const r=t.fnArray,i=t.argsArray,o=t.iCurr,s=o-3,a=o-2,l=i[o-1][0],c=i[a][0],h=i[a][3],u=Math.min(Math.floor((e-s)/4),1e3);if(u<3)return e-(e-s)%4;const p=new Float32Array(2*u);let d=a;for(let t=0;t<u;t++,d+=4){const e=i[d];p[t<<1]=e[4],p[1+(t<<1)]=e[5]}const f=[l,c,h,p];return r.splice(s,4*u,n.OPS.paintImageXObjectRepeat),i.splice(s,4*u,f),s+1})),i(o,[n.OPS.beginText,n.OPS.setFont,n.OPS.setTextMatrix,n.OPS.showText,n.OPS.endText],null,(function(t,e){const r=t.fnArray,i=t.argsArray,o=(e-(t.iCurr-4))%5;switch(o){case 0:return r[e]===n.OPS.beginText;case 1:return r[e]===n.OPS.setFont;case 2:return r[e]===n.OPS.setTextMatrix;case 3:if(r[e]!==n.OPS.showText)return!1;const o=t.iCurr-3,s=i[o][0],a=i[o][1];return i[e][0]===s&&i[e][1]===a;case 4:return r[e]===n.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${o}`)}),(function(t,e){const r=t.fnArray,n=t.argsArray,i=t.iCurr,o=i-4,s=i-3,a=i-2,l=i-1,c=i,h=n[s][0],u=n[s][1];let p=Math.min(Math.floor((e-o)/5),1e3);if(p<3)return e-(e-o)%5;let d=o;o>=4&&r[o-4]===r[s]&&r[o-3]===r[a]&&r[o-2]===r[l]&&r[o-1]===r[c]&&n[o-4][0]===h&&n[o-4][1]===u&&(p++,d-=5);let f=d+4;for(let t=1;t<p;t++)r.splice(f,3),n.splice(f,3),f+=2;return f+1}));class s{constructor(t){this.queue=t}_optimize(){}push(t,e){this.queue.fnArray.push(t),this.queue.argsArray.push(e),this._optimize()}flush(){}reset(){}}class a extends s{constructor(t){super(t),this.state=null,this.context={iCurr:0,fnArray:t.fnArray,argsArray:t.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const t=this.queue.fnArray;let e=this.lastProcessed,r=t.length,n=this.state,i=this.match;if(!n&&!i&&e+1===r&&!o[t[e]])return void(this.lastProcessed=r);const s=this.context;for(;e<r;){if(i){if((0,i.iterateFn)(s,e)){e++;continue}if(e=(0,i.processFn)(s,e+1),r=t.length,i=null,n=null,e>=r)break}n=(n||o)[t[e]],n&&!Array.isArray(n)?(s.iCurr=e,e++,!n.checkFn||(0,n.checkFn)(s)?(i=n,n=null):n=null):e++}this.state=n,this.match=i,this.lastProcessed=e}flush(){for(;this.match;){const t=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,t),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class l{static get CHUNK_SIZE(){return(0,n.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,n.shadow)(this,"CHUNK_SIZE_ABOUT",this.CHUNK_SIZE-5)}constructor(t=0,e){this._streamSink=e,this.fnArray=[],this.argsArray=[],!e||t&n.RenderingIntentFlag.OPLIST?this.optimizer=new s(this):this.optimizer=new a(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=e?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(t,e){this.optimizer.push(t,e),this.weight++,this._streamSink&&(this.weight>=l.CHUNK_SIZE||this.weight>=l.CHUNK_SIZE_ABOUT&&(t===n.OPS.restore||t===n.OPS.endText))&&this.flush()}addImageOps(t,e,r){void 0!==r&&this.addOp(n.OPS.beginMarkedContentProps,["OC",r]),this.addOp(t,e),void 0!==r&&this.addOp(n.OPS.endMarkedContent,[])}addDependency(t){this.dependencies.has(t)||(this.dependencies.add(t),this.addOp(n.OPS.dependency,[t]))}addDependencies(t){for(const e of t)this.addDependency(e)}addOpList(t){if(t instanceof l){for(const e of t.dependencies)this.dependencies.add(e);for(let e=0,r=t.length;e<r;e++)this.addOp(t.fnArray[e],t.argsArray[e])}else(0,n.warn)('addOpList - ignoring invalid "opList" parameter.')}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const t=[],{fnArray:e,argsArray:r,length:i}=this;for(let o=0;o<i;o++)switch(e[o]){case n.OPS.paintInlineImageXObject:case n.OPS.paintInlineImageXObjectGroup:case n.OPS.paintImageMaskXObject:const e=r[o][0];!e.cached&&e.data&&e.data.buffer instanceof ArrayBuffer&&t.push(e.data.buffer)}return t}flush(t=!1){this.optimizer.flush();const e=this.length;this._totalLength+=e,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:t,length:e},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}e.OperatorList=l},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFImage=void 0;var n=r(2),i=r(64),o=r(9),s=r(24),a=r(29),l=r(37),c=r(40),h=r(5);function u(t,e,r,n){return(t=e+t*r)<0?t=0:t>n&&(t=n),t}function p(t,e,r,n,i,o){const s=i*o;let a;a=e<=8?new Uint8Array(s):e<=16?new Uint16Array(s):new Uint32Array(s);const l=r/i,c=n/o;let h,u,p,d,f=0;const g=new Uint16Array(i),m=r;for(h=0;h<i;h++)g[h]=Math.floor(h*l);for(h=0;h<o;h++)for(p=Math.floor(h*c)*m,u=0;u<i;u++)d=p+g[u],a[f++]=t[d];return a}class d{constructor({xref:t,res:e,image:r,isInline:i=!1,smask:a=null,mask:l=null,isMask:u=!1,pdfFunctionFactory:p,localColorSpaceCache:f}){this.image=r;const g=r.dict,m=g.get("F","Filter");if(m instanceof h.Name)switch(m.name){case"JPXDecode":const t=new c.JpxImage;t.parseImageProperties(r.stream),r.stream.reset(),r.width=t.width,r.height=t.height,r.bitsPerComponent=t.bitsPerComponent,r.numComps=t.componentsCount;break;case"JBIG2Decode":r.bitsPerComponent=1,r.numComps=1}let y=g.get("W","Width"),v=g.get("H","Height");if(Number.isInteger(r.width)&&r.width>0&&Number.isInteger(r.height)&&r.height>0&&(r.width!==y||r.height!==v)&&((0,n.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),y=r.width,v=r.height),y<1||v<1)throw new n.FormatError(`Invalid image width: ${y} or height: ${v}`);this.width=y,this.height=v,this.interpolate=g.get("I","Interpolate"),this.imageMask=g.get("IM","ImageMask")||!1,this.matte=g.get("Matte")||!1;let b=r.bitsPerComponent;if(!b&&(b=g.get("BPC","BitsPerComponent"),!b)){if(!this.imageMask)throw new n.FormatError(`Bits per component missing in image: ${this.imageMask}`);b=1}if(this.bpc=b,!this.imageMask){let o=g.getRaw("CS")||g.getRaw("ColorSpace");if(!o)switch((0,n.info)("JPX images (which do not require color spaces)"),r.numComps){case 1:o=h.Name.get("DeviceGray");break;case 3:o=h.Name.get("DeviceRGB");break;case 4:o=h.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${r.numComps} color components not supported.`)}this.colorSpace=s.ColorSpace.parse({cs:o,xref:t,resources:i?e:null,pdfFunctionFactory:p,localColorSpaceCache:f}),this.numComps=this.colorSpace.numComps}if(this.decode=g.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,b)||u&&!s.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const t=(1<<b)-1;this.decodeCoefficients=[],this.decodeAddends=[];const e=this.colorSpace&&"Indexed"===this.colorSpace.name;for(let r=0,n=0;r<this.decode.length;r+=2,++n){const i=this.decode[r],o=this.decode[r+1];this.decodeCoefficients[n]=e?(o-i)/t:o-i,this.decodeAddends[n]=e?i:t*i}}a?this.smask=new d({xref:t,res:e,image:a,isInline:i,pdfFunctionFactory:p,localColorSpaceCache:f}):l&&(l instanceof o.BaseStream?l.dict.get("IM","ImageMask")?this.mask=new d({xref:t,res:e,image:l,isInline:i,isMask:!0,pdfFunctionFactory:p,localColorSpaceCache:f}):(0,n.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=l)}static async buildImage({xref:t,res:e,image:r,isInline:i=!1,pdfFunctionFactory:s,localColorSpaceCache:a}){const l=r;let c=null,h=null;const u=r.dict.get("SMask"),p=r.dict.get("Mask");return u?u instanceof o.BaseStream?c=u:(0,n.warn)("Unsupported /SMask format."):p&&(p instanceof o.BaseStream||Array.isArray(p)?h=p:(0,n.warn)("Unsupported /Mask format.")),new d({xref:t,res:e,image:l,isInline:i,smask:c,mask:h,pdfFunctionFactory:s,localColorSpaceCache:a})}static createRawMask({imgArray:t,width:e,height:r,imageIsFromDecodeStream:n,inverseDecode:i,interpolate:o}){const s=(e+7>>3)*r,a=t.byteLength;let l,c;if(!n||i&&s!==a?i?(l=new Uint8Array(s),l.set(t),l.fill(255,a)):l=new Uint8Array(t):l=t,i)for(c=0;c<a;c++)l[c]^=255;return{data:l,width:e,height:r,interpolate:o}}static createMask({imgArray:t,width:e,height:r,imageIsFromDecodeStream:o,inverseDecode:s,interpolate:a}){const l=1===e&&1===r&&s===(0===t.length||!!(128&t[0]));if(l)return{isSingleOpaquePixel:l};if(n.FeatureTest.isOffscreenCanvasSupported){const n=new OffscreenCanvas(e,r),o=n.getContext("2d"),l=o.createImageData(e,r);return(0,i.applyMaskImageData)({src:t,dest:l.data,width:e,height:r,inverseDecode:s}),o.putImageData(l,0,0),{data:null,width:e,height:r,interpolate:a,bitmap:n.transferToImageBitmap()}}return this.createRawMask({imgArray:t,width:e,height:r,inverseDecode:s,imageIsFromDecodeStream:o,interpolate:a})}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(t){const e=this.bpc,r=this.numComps,n=this.decodeAddends,i=this.decodeCoefficients,o=(1<<e)-1;let s,a;if(1===e){for(s=0,a=t.length;s<a;s++)t[s]=+!t[s];return}let l=0;for(s=0,a=this.width*this.height;s<a;s++)for(let e=0;e<r;e++)t[l]=u(t[l],n[e],i[e],o),l++}getComponents(t){const e=this.bpc;if(8===e)return t;const r=this.width,n=this.height,i=this.numComps,o=r*n*i;let s,a=0;s=e<=8?new Uint8Array(o):e<=16?new Uint16Array(o):new Uint32Array(o);const l=r*i,c=(1<<e)-1;let h,u,p=0;if(1===e){let e,r,i;for(let o=0;o<n;o++){for(r=p+(-8&l),i=p+l;p<r;)u=t[a++],s[p]=u>>7&1,s[p+1]=u>>6&1,s[p+2]=u>>5&1,s[p+3]=u>>4&1,s[p+4]=u>>3&1,s[p+5]=u>>2&1,s[p+6]=u>>1&1,s[p+7]=1&u,p+=8;if(p<i)for(u=t[a++],e=128;p<i;)s[p++]=+!!(u&e),e>>=1}}else{let r=0;for(u=0,p=0,h=o;p<h;++p){for(p%l==0&&(u=0,r=0);r<e;)u=u<<8|t[a++],r+=8;const n=r-e;let i=u>>n;i<0?i=0:i>c&&(i=c),s[p]=i,u&=(1<<n)-1,r=n}}return s}fillOpacity(t,e,r,i,o){const s=this.smask,a=this.mask;let l,c,h,u,f,g;if(s)c=s.width,h=s.height,l=new Uint8ClampedArray(c*h),s.fillGrayBuffer(l),c===e&&h===r||(l=p(l,s.bpc,c,h,e,r));else if(a)if(a instanceof d){for(c=a.width,h=a.height,l=new Uint8ClampedArray(c*h),a.numComps=1,a.fillGrayBuffer(l),u=0,f=c*h;u<f;++u)l[u]=255-l[u];c===e&&h===r||(l=p(l,a.bpc,c,h,e,r))}else{if(!Array.isArray(a))throw new n.FormatError("Unknown mask format.");{l=new Uint8ClampedArray(e*r);const t=this.numComps;for(u=0,f=e*r;u<f;++u){let e=0;const r=u*t;for(g=0;g<t;++g){const t=o[r+g],n=2*g;if(t<a[n]||t>a[n+1]){e=255;break}}l[u]=e}}}if(l)for(u=0,g=3,f=e*i;u<f;++u,g+=4)t[g]=l[u];else for(u=0,g=3,f=e*i;u<f;++u,g+=4)t[g]=255}undoPreblend(t,e,r){const n=this.smask&&this.smask.matte;if(!n)return;const i=this.colorSpace.getRgb(n,0),o=i[0],s=i[1],a=i[2],l=e*r*4;for(let e=0;e<l;e+=4){const r=t[e+3];if(0===r){t[e]=255,t[e+1]=255,t[e+2]=255;continue}const n=255/r;t[e]=(t[e]-o)*n+o,t[e+1]=(t[e+1]-s)*n+s,t[e+2]=(t[e+2]-a)*n+a}}createImageData(t=!1){const e=this.drawWidth,r=this.drawHeight,i={width:e,height:r,interpolate:this.interpolate,kind:0,data:null},o=this.numComps,s=this.width,a=this.height,c=this.bpc,h=s*o*c+7>>3;if(!t){let t;if("DeviceGray"===this.colorSpace.name&&1===c?t=n.ImageKind.GRAYSCALE_1BPP:"DeviceRGB"!==this.colorSpace.name||8!==c||this.needsDecode||(t=n.ImageKind.RGB_24BPP),t&&!this.smask&&!this.mask&&e===s&&r===a){if(i.kind=t,i.data=this.getImageBytes(a*h,{}),this.needsDecode){(0,n.assert)(t===n.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const e=i.data;for(let t=0,r=e.length;t<r;t++)e[t]^=255}return i}if(this.image instanceof l.JpegStream&&!this.smask&&!this.mask){let t=a*h;switch(this.colorSpace.name){case"DeviceGray":t*=3;case"DeviceRGB":case"DeviceCMYK":return i.kind=n.ImageKind.RGB_24BPP,i.data=this.getImageBytes(t,{drawWidth:e,drawHeight:r,forceRGB:!0}),i}}}const u=this.getImageBytes(a*h,{internal:!0}),p=0|u.length/h*r/a,d=this.getComponents(u);let f,g;return t||this.smask||this.mask?(i.kind=n.ImageKind.RGBA_32BPP,i.data=new Uint8ClampedArray(e*r*4),f=1,g=!0,this.fillOpacity(i.data,e,r,p,d)):(i.kind=n.ImageKind.RGB_24BPP,i.data=new Uint8ClampedArray(e*r*3),f=0,g=!1),this.needsDecode&&this.decodeBuffer(d),this.colorSpace.fillRgb(i.data,s,a,e,r,p,c,d,f),g&&this.undoPreblend(i.data,e,p),i}fillGrayBuffer(t){const e=this.numComps;if(1!==e)throw new n.FormatError(`Reading gray scale from a color image: ${e}`);const r=this.width,i=this.height,o=this.bpc,s=r*e*o+7>>3,a=this.getImageBytes(i*s,{internal:!0}),l=this.getComponents(a);let c,h;if(1===o){if(h=r*i,this.needsDecode)for(c=0;c<h;++c)t[c]=l[c]-1&255;else for(c=0;c<h;++c)t[c]=255&-l[c];return}this.needsDecode&&this.decodeBuffer(l),h=r*i;const u=255/((1<<o)-1);for(c=0;c<h;++c)t[c]=u*l[c]}getImageBytes(t,{drawWidth:e,drawHeight:r,forceRGB:i=!1,internal:o=!1}){this.image.reset(),this.image.drawWidth=e||this.width,this.image.drawHeight=r||this.height,this.image.forceRGB=!!i;const s=this.image.getBytes(t);return o||this.image instanceof a.DecodeStream?s:((0,n.assert)(s instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(s))}}e.PDFImage=d},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=function({src:t,srcPos:e=0,dest:r,destPos:i=0,width:o,height:s,inverseDecode:a=!1}){const l=n.FeatureTest.isLittleEndian?4278190080:255,[c,h]=a?[0,l]:[l,0],u=o>>3,p=7&o,d=t.length;r=new Uint32Array(r.buffer);for(let n=0;n<s;n++){for(const n=e+u;e<n;e++){const n=e<d?t[e]:255;r[i++]=128&n?h:c,r[i++]=64&n?h:c,r[i++]=32&n?h:c,r[i++]=16&n?h:c,r[i++]=8&n?h:c,r[i++]=4&n?h:c,r[i++]=2&n?h:c,r[i++]=1&n?h:c}if(0===p)continue;const n=e<d?t[e++]:255;for(let t=0;t<p;t++)r[i++]=n&1<<7-t?h:c}return{srcPos:e,destPos:i}};var n=r(2)},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Catalog=void 0;var n=r(8),i=r(2),o=r(5),s=r(66),a=r(9),l=r(67),c=r(24),h=r(68),u=r(59),p=r(69),d=r(71);function f(t){return t instanceof o.Dict&&(t=t.get("D")),Array.isArray(t)?t:null}class g{constructor(t,e){if(this.pdfManager=t,this.xref=e,this._catDict=e.getCatalogObj(),!(this._catDict instanceof o.Dict))throw new i.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new o.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new u.GlobalImageCache,this.pageKidsCountCache=new o.RefSetCache,this.pageIndexCache=new o.RefSetCache,this.nonBlendModesSet=new o.RefSet}get version(){const t=this._catDict.get("Version");return(0,i.shadow)(this,"version",t instanceof o.Name?t.name:null)}get lang(){const t=this._catDict.get("Lang");return(0,i.shadow)(this,"lang","string"==typeof t?(0,i.stringToPDFString)(t):null)}get needsRendering(){const t=this._catDict.get("NeedsRendering");return(0,i.shadow)(this,"needsRendering","boolean"==typeof t&&t)}get collection(){let t=null;try{const e=this._catDict.get("Collection");e instanceof o.Dict&&e.size>0&&(t=e)}catch(t){if(t instanceof n.MissingDataException)throw t;(0,i.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,i.shadow)(this,"collection",t)}get acroForm(){let t=null;try{const e=this._catDict.get("AcroForm");e instanceof o.Dict&&e.size>0&&(t=e)}catch(t){if(t instanceof n.MissingDataException)throw t;(0,i.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,i.shadow)(this,"acroForm",t)}get acroFormRef(){const t=this._catDict.getRaw("AcroForm");return(0,i.shadow)(this,"acroFormRef",t instanceof o.Ref?t:null)}get metadata(){const t=this._catDict.getRaw("Metadata");if(!(t instanceof o.Ref))return(0,i.shadow)(this,"metadata",null);let e=null;try{const r=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),n=this.xref.fetch(t,r);if(n instanceof a.BaseStream&&n.dict instanceof o.Dict){const t=n.dict.get("Type"),r=n.dict.get("Subtype");if((0,o.isName)(t,"Metadata")&&(0,o.isName)(r,"XML")){const t=(0,i.stringToUTF8String)(n.getString());t&&(e=new p.MetadataParser(t).serializable)}}}catch(t){if(t instanceof n.MissingDataException)throw t;(0,i.info)(`Skipping invalid Metadata: "${t}".`)}return(0,i.shadow)(this,"metadata",e)}get markInfo(){let t=null;try{t=this._readMarkInfo()}catch(t){if(t instanceof n.MissingDataException)throw t;(0,i.warn)("Unable to read mark info.")}return(0,i.shadow)(this,"markInfo",t)}_readMarkInfo(){const t=this._catDict.get("MarkInfo");if(!(t instanceof o.Dict))return null;const e={Marked:!1,UserProperties:!1,Suspects:!1};for(const r in e){const n=t.get(r);"boolean"==typeof n&&(e[r]=n)}return e}get structTreeRoot(){let t=null;try{t=this._readStructTreeRoot()}catch(t){if(t instanceof n.MissingDataException)throw t;(0,i.warn)("Unable read to structTreeRoot info.")}return(0,i.shadow)(this,"structTreeRoot",t)}_readStructTreeRoot(){const t=this._catDict.get("StructTreeRoot");if(!(t instanceof o.Dict))return null;const e=new d.StructTreeRoot(t);return e.init(),e}get toplevelPagesDict(){const t=this._catDict.get("Pages");if(!(t instanceof o.Dict))throw new i.FormatError("Invalid top-level pages dictionary.");return(0,i.shadow)(this,"toplevelPagesDict",t)}get documentOutline(){let t=null;try{t=this._readDocumentOutline()}catch(t){if(t instanceof n.MissingDataException)throw t;(0,i.warn)("Unable to read document outline.")}return(0,i.shadow)(this,"documentOutline",t)}_readDocumentOutline(){let t=this._catDict.get("Outlines");if(!(t instanceof o.Dict))return null;if(t=t.getRaw("First"),!(t instanceof o.Ref))return null;const e={items:[]},r=[{obj:t,parent:e}],n=new o.RefSet;n.put(t);const s=this.xref,a=new Uint8ClampedArray(3);for(;r.length>0;){const e=r.shift(),l=s.fetchIfRef(e.obj);if(null===l)continue;if(!l.has("Title"))throw new i.FormatError("Invalid outline item encountered.");const h={url:null,dest:null};g.parseDestDictionary({destDict:l,resultObj:h,docBaseUrl:this.pdfManager.docBaseUrl});const u=l.get("Title"),p=l.get("F")||0,d=l.getArray("C"),f=l.get("Count");let m=a;!Array.isArray(d)||3!==d.length||0===d[0]&&0===d[1]&&0===d[2]||(m=c.ColorSpace.singletons.rgb.getRgb(d,0));const y={dest:h.dest,url:h.url,unsafeUrl:h.unsafeUrl,newWindow:h.newWindow,title:(0,i.stringToPDFString)(u),color:m,count:Number.isInteger(f)?f:void 0,bold:!!(2&p),italic:!!(1&p),items:[]};e.parent.items.push(y),t=l.getRaw("First"),t instanceof o.Ref&&!n.has(t)&&(r.push({obj:t,parent:y}),n.put(t)),t=l.getRaw("Next"),t instanceof o.Ref&&!n.has(t)&&(r.push({obj:t,parent:e.parent}),n.put(t))}return e.items.length>0?e.items:null}get permissions(){let t=null;try{t=this._readPermissions()}catch(t){if(t instanceof n.MissingDataException)throw t;(0,i.warn)("Unable to read permissions.")}return(0,i.shadow)(this,"permissions",t)}_readPermissions(){const t=this.xref.trailer.get("Encrypt");if(!(t instanceof o.Dict))return null;let e=t.get("P");if("number"!=typeof e)return null;e+=2**32;const r=[];for(const t in i.PermissionFlag){const n=i.PermissionFlag[t];e&n&&r.push(n)}return r}get optionalContentConfig(){let t=null;try{const e=this._catDict.get("OCProperties");if(!e)return(0,i.shadow)(this,"optionalContentConfig",null);const r=e.get("D");if(!r)return(0,i.shadow)(this,"optionalContentConfig",null);const n=e.get("OCGs");if(!Array.isArray(n))return(0,i.shadow)(this,"optionalContentConfig",null);const s=[],a=[];for(const t of n){if(!(t instanceof o.Ref))continue;a.push(t);const e=this.xref.fetchIfRef(t);s.push({id:t.toString(),name:"string"==typeof e.get("Name")?(0,i.stringToPDFString)(e.get("Name")):null,intent:"string"==typeof e.get("Intent")?(0,i.stringToPDFString)(e.get("Intent")):null})}t=this._readOptionalContentConfig(r,a),t.groups=s}catch(t){if(t instanceof n.MissingDataException)throw t;(0,i.warn)(`Unable to read optional content config: ${t}`)}return(0,i.shadow)(this,"optionalContentConfig",t)}_readOptionalContentConfig(t,e){function r(t){const r=[];if(Array.isArray(t))for(const n of t)n instanceof o.Ref&&e.includes(n)&&r.push(n.toString());return r}function n(t,r=0){if(!Array.isArray(t))return null;const n=[];for(const i of t){if(i instanceof o.Ref&&e.includes(i)){l.put(i),n.push(i.toString());continue}const t=s(i,r);t&&n.push(t)}if(r>0)return n;const i=[];for(const t of e)l.has(t)||i.push(t.toString());return i.length&&n.push({name:null,order:i}),n}function s(t,e){if(++e>c)return(0,i.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const r=a.fetchIfRef(t);if(!Array.isArray(r))return null;const o=a.fetchIfRef(r[0]);if("string"!=typeof o)return null;const s=n(r.slice(1),e);return s&&s.length?{name:(0,i.stringToPDFString)(o),order:s}:null}const a=this.xref,l=new o.RefSet,c=10;return{name:"string"==typeof t.get("Name")?(0,i.stringToPDFString)(t.get("Name")):null,creator:"string"==typeof t.get("Creator")?(0,i.stringToPDFString)(t.get("Creator")):null,baseState:t.get("BaseState")instanceof o.Name?t.get("BaseState").name:null,on:r(t.get("ON")),off:r(t.get("OFF")),order:n(t.get("Order")),groups:null}}setActualNumPages(t=null){this._actualNumPages=t}get hasActualNumPages(){return null!==this._actualNumPages}get _pagesCount(){const t=this.toplevelPagesDict.get("Count");if(!Number.isInteger(t))throw new i.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,i.shadow)(this,"_pagesCount",t)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const t=this._readDests(),e=Object.create(null);if(t instanceof s.NameTree)for(const[r,n]of t.getAll()){const t=f(n);t&&(e[(0,i.stringToPDFString)(r)]=t)}else t instanceof o.Dict&&t.forEach((function(t,r){const n=f(r);n&&(e[t]=n)}));return(0,i.shadow)(this,"destinations",e)}getDestination(t){const e=this._readDests();if(e instanceof s.NameTree){const r=f(e.get(t));if(r)return r;const n=this.destinations[t];if(n)return(0,i.warn)(`Found "${t}" at an incorrect position in the NameTree.`),n}else if(e instanceof o.Dict){const r=f(e.get(t));if(r)return r}return null}_readDests(){const t=this._catDict.get("Names");return t&&t.has("Dests")?new s.NameTree(t.getRaw("Dests"),this.xref):this._catDict.has("Dests")?this._catDict.get("Dests"):void 0}get pageLabels(){let t=null;try{t=this._readPageLabels()}catch(t){if(t instanceof n.MissingDataException)throw t;(0,i.warn)("Unable to read page labels.")}return(0,i.shadow)(this,"pageLabels",t)}_readPageLabels(){const t=this._catDict.getRaw("PageLabels");if(!t)return null;const e=new Array(this.numPages);let r=null,a="";const l=new s.NumberTree(t,this.xref).getAll();let c="",h=1;for(let t=0,s=this.numPages;t<s;t++){const s=l.get(t);if(void 0!==s){if(!(s instanceof o.Dict))throw new i.FormatError("PageLabel is not a dictionary.");if(s.has("Type")&&!(0,o.isName)(s.get("Type"),"PageLabel"))throw new i.FormatError("Invalid type in PageLabel dictionary.");if(s.has("S")){const t=s.get("S");if(!(t instanceof o.Name))throw new i.FormatError("Invalid style in PageLabel dictionary.");r=t.name}else r=null;if(s.has("P")){const t=s.get("P");if("string"!=typeof t)throw new i.FormatError("Invalid prefix in PageLabel dictionary.");a=(0,i.stringToPDFString)(t)}else a="";if(s.has("St")){const t=s.get("St");if(!(Number.isInteger(t)&&t>=1))throw new i.FormatError("Invalid start in PageLabel dictionary.");h=t}else h=1}switch(r){case"D":c=h;break;case"R":case"r":c=(0,n.toRomanNumerals)(h,"r"===r);break;case"A":case"a":const t=26,e=65,o=97,s="a"===r?o:e,a=h-1;c=String.fromCharCode(s+a%t).repeat(Math.floor(a/t)+1);break;default:if(r)throw new i.FormatError(`Invalid style "${r}" in PageLabel dictionary.`);c=""}e[t]=a+c,h++}return e}get pageLayout(){const t=this._catDict.get("PageLayout");let e="";if(t instanceof o.Name)switch(t.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":e=t.name}return(0,i.shadow)(this,"pageLayout",e)}get pageMode(){const t=this._catDict.get("PageMode");let e="UseNone";if(t instanceof o.Name)switch(t.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":e=t.name}return(0,i.shadow)(this,"pageMode",e)}get viewerPreferences(){const t=this._catDict.get("ViewerPreferences");if(!(t instanceof o.Dict))return(0,i.shadow)(this,"viewerPreferences",null);let e=null;for(const r of t.getKeys()){const n=t.get(r);let s;switch(r){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":"boolean"==typeof n&&(s=n);break;case"NonFullScreenPageMode":if(n instanceof o.Name)switch(n.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":s=n.name;break;default:s="UseNone"}break;case"Direction":if(n instanceof o.Name)switch(n.name){case"L2R":case"R2L":s=n.name;break;default:s="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(n instanceof o.Name)switch(n.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":s=n.name;break;default:s="CropBox"}break;case"PrintScaling":if(n instanceof o.Name)switch(n.name){case"None":case"AppDefault":s=n.name;break;default:s="AppDefault"}break;case"Duplex":if(n instanceof o.Name)switch(n.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":s=n.name;break;default:s="None"}break;case"PrintPageRange":Array.isArray(n)&&n.length%2==0&&n.every(((t,e,r)=>Number.isInteger(t)&&t>0&&(0===e||t>=r[e-1])&&t<=this.numPages))&&(s=n);break;case"NumCopies":Number.isInteger(n)&&n>0&&(s=n);break;default:(0,i.warn)(`Ignoring non-standard key in ViewerPreferences: ${r}.`);continue}void 0!==s?(e||(e=Object.create(null)),e[r]=s):(0,i.warn)(`Bad value, for key "${r}", in ViewerPreferences: ${n}.`)}return(0,i.shadow)(this,"viewerPreferences",e)}get openAction(){const t=this._catDict.get("OpenAction"),e=Object.create(null);if(t instanceof o.Dict){const r=new o.Dict(this.xref);r.set("A",t);const n={url:null,dest:null,action:null};g.parseDestDictionary({destDict:r,resultObj:n}),Array.isArray(n.dest)?e.dest=n.dest:n.action&&(e.action=n.action)}else Array.isArray(t)&&(e.dest=t);return(0,i.shadow)(this,"openAction",(0,i.objectSize)(e)>0?e:null)}get attachments(){const t=this._catDict.get("Names");let e=null;if(t instanceof o.Dict&&t.has("EmbeddedFiles")){const r=new s.NameTree(t.getRaw("EmbeddedFiles"),this.xref);for(const[t,n]of r.getAll()){const r=new h.FileSpec(n,this.xref);e||(e=Object.create(null)),e[(0,i.stringToPDFString)(t)]=r.serializable}}return(0,i.shadow)(this,"attachments",e)}get xfaImages(){const t=this._catDict.get("Names");let e=null;if(t instanceof o.Dict&&t.has("XFAImages")){const r=new s.NameTree(t.getRaw("XFAImages"),this.xref);for(const[t,n]of r.getAll())e||(e=new o.Dict(this.xref)),e.set((0,i.stringToPDFString)(t),n)}return(0,i.shadow)(this,"xfaImages",e)}_collectJavaScript(){const t=this._catDict.get("Names");let e=null;function r(t,r){if(!(r instanceof o.Dict))return;if(!(0,o.isName)(r.get("S"),"JavaScript"))return;let n=r.get("JS");if(n instanceof a.BaseStream)n=n.getString();else if("string"!=typeof n)return;null===e&&(e=new Map),e.set(t,(0,i.stringToPDFString)(n))}if(t instanceof o.Dict&&t.has("JavaScript")){const e=new s.NameTree(t.getRaw("JavaScript"),this.xref);for(const[t,n]of e.getAll())r((0,i.stringToPDFString)(t),n)}const n=this._catDict.get("OpenAction");return n&&r("OpenAction",n),e}get javaScript(){const t=this._collectJavaScript();return(0,i.shadow)(this,"javaScript",t?[...t.values()]:null)}get jsActions(){const t=this._collectJavaScript();let e=(0,n.collectActions)(this.xref,this._catDict,i.DocumentActionEventType);if(t){e||(e=Object.create(null));for(const[r,n]of t)r in e?e[r].push(n):e[r]=[n]}return(0,i.shadow)(this,"jsActions",e)}async fontFallback(t,e){const r=await Promise.all(this.fontCache);for(const n of r)if(n.loadedName===t)return void n.fallback(e)}async cleanup(t=!1){(0,l.clearGlobalCaches)(),this.globalImageCache.clear(t),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const e=await Promise.all(this.fontCache);for(const{dict:t}of e)delete t.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear()}async getPageDict(t){const e=[this.toplevelPagesDict],r=new o.RefSet,n=this._catDict.getRaw("Pages");n instanceof o.Ref&&r.put(n);const s=this.xref,a=this.pageKidsCountCache,l=this.pageIndexCache;let c=0;for(;e.length;){const n=e.pop();if(n instanceof o.Ref){const h=a.get(n);if(h>=0&&c+h<=t){c+=h;continue}if(r.has(n))throw new i.FormatError("Pages tree contains circular reference.");r.put(n);const u=await s.fetchAsync(n);if(u instanceof o.Dict){let e=u.getRaw("Type");if(e instanceof o.Ref&&(e=await s.fetchAsync(e)),(0,o.isName)(e,"Page")||!u.has("Kids")){if(a.has(n)||a.put(n,1),l.has(n)||l.put(n,c),c===t)return[u,n];c++;continue}}e.push(u);continue}if(!(n instanceof o.Dict))throw new i.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:h}=n;let u=n.getRaw("Count");if(u instanceof o.Ref&&(u=await s.fetchAsync(u)),Number.isInteger(u)&&u>=0&&(h&&!a.has(h)&&a.put(h,u),c+u<=t)){c+=u;continue}let p=n.getRaw("Kids");if(p instanceof o.Ref&&(p=await s.fetchAsync(p)),!Array.isArray(p)){let e=n.getRaw("Type");if(e instanceof o.Ref&&(e=await s.fetchAsync(e)),(0,o.isName)(e,"Page")||!n.has("Kids")){if(c===t)return[n,null];c++;continue}throw new i.FormatError("Page dictionary kids object is not an array.")}for(let t=p.length-1;t>=0;t--)e.push(p[t])}throw new Error(`Page index ${t} not found.`)}async getAllPageDicts(t=!1){const e=[{currentNode:this.toplevelPagesDict,posInKids:0}],r=new o.RefSet,s=this._catDict.getRaw("Pages");s instanceof o.Ref&&r.put(s);const a=new Map,l=this.xref,c=this.pageIndexCache;let h=0;function u(e){if(e instanceof n.XRefEntryException&&!t)throw e;a.set(h++,[e,null])}for(;e.length>0;){const t=e[e.length-1],{currentNode:n,posInKids:s}=t;let f=n.getRaw("Kids");if(f instanceof o.Ref)try{f=await l.fetchAsync(f)}catch(t){u(t);break}if(!Array.isArray(f)){u(new i.FormatError("Page dictionary kids object is not an array."));break}if(s>=f.length){e.pop();continue}const g=f[s];let m;if(g instanceof o.Ref){if(r.has(g)){u(new i.FormatError("Pages tree contains circular reference."));break}r.put(g);try{m=await l.fetchAsync(g)}catch(t){u(t);break}}else m=g;if(!(m instanceof o.Dict)){u(new i.FormatError("Page dictionary kid reference points to wrong type of object."));break}let y=m.getRaw("Type");if(y instanceof o.Ref)try{y=await l.fetchAsync(y)}catch(t){u(t);break}(0,o.isName)(y,"Page")||!m.has("Kids")?(p=m,(d=g instanceof o.Ref?g:null)&&!c.has(d)&&c.put(d,h),a.set(h++,[p,d])):e.push({currentNode:m,posInKids:0}),t.posInKids++}var p,d;return a}getPageIndex(t){const e=this.pageIndexCache.get(t);if(void 0!==e)return Promise.resolve(e);const r=this.xref;let n=0;const s=e=>function(e){let n,s=0;return r.fetchAsync(e).then((function(r){if((0,o.isRefsEqual)(e,t)&&!(0,o.isDict)(r,"Page")&&!(r instanceof o.Dict&&!r.has("Type")&&r.has("Contents")))throw new i.FormatError("The reference does not point to a /Page dictionary.");if(!r)return null;if(!(r instanceof o.Dict))throw new i.FormatError("Node must be a dictionary.");return n=r.getRaw("Parent"),r.getAsync("Parent")})).then((function(t){if(!t)return null;if(!(t instanceof o.Dict))throw new i.FormatError("Parent must be a dictionary.");return t.getAsync("Kids")})).then((function(t){if(!t)return null;const a=[];let l=!1;for(let n=0,c=t.length;n<c;n++){const c=t[n];if(!(c instanceof o.Ref))throw new i.FormatError("Kid must be a reference.");if((0,o.isRefsEqual)(c,e)){l=!0;break}a.push(r.fetchAsync(c).then((function(t){if(!(t instanceof o.Dict))throw new i.FormatError("Kid node must be a dictionary.");t.has("Count")?s+=t.get("Count"):s++})))}if(!l)throw new i.FormatError("Kid reference not found in parent's kids.");return Promise.all(a).then((function(){return[s,n]}))}))}(e).then((e=>{if(!e)return this.pageIndexCache.put(t,n),n;const[r,i]=e;return n+=r,s(i)}));return s(t)}get baseUrl(){const t=this._catDict.get("URI");if(t instanceof o.Dict){const e=t.get("Base");if("string"==typeof e){const t=(0,i.createValidAbsoluteUrl)(e,null,{tryConvertEncoding:!0});if(t)return(0,i.shadow)(this,"baseUrl",t.href)}}return(0,i.shadow)(this,"baseUrl",null)}static parseDestDictionary(t){const e=t.destDict;if(!(e instanceof o.Dict))return void(0,i.warn)("parseDestDictionary: `destDict` must be a dictionary.");const r=t.resultObj;if("object"!=typeof r)return void(0,i.warn)("parseDestDictionary: `resultObj` must be an object.");const s=t.docBaseUrl||null;let l,c,h=e.get("A");if(h instanceof o.Dict||(e.has("Dest")?h=e.get("Dest"):(h=e.get("AA"),h instanceof o.Dict&&(h.has("D")?h=h.get("D"):h.has("U")&&(h=h.get("U"))))),h instanceof o.Dict){const t=h.get("S");if(!(t instanceof o.Name))return void(0,i.warn)("parseDestDictionary: Invalid type in Action dictionary.");const e=t.name;switch(e){case"ResetForm":const t=h.get("Flags"),s=0==(1&("number"==typeof t?t:0)),u=[],p=[];for(const t of h.get("Fields")||[])t instanceof o.Ref?p.push(t.toString()):"string"==typeof t&&u.push((0,i.stringToPDFString)(t));r.resetForm={fields:u,refs:p,include:s};break;case"URI":l=h.get("URI"),l instanceof o.Name&&(l="/"+l.name);break;case"GoTo":c=h.get("D");break;case"Launch":case"GoToR":const d=h.get("F");d instanceof o.Dict?l=d.get("F")||null:"string"==typeof d&&(l=d);let f=h.get("D");if(f&&(f instanceof o.Name&&(f=f.name),"string"==typeof l)){const t=l.split("#")[0];"string"==typeof f?l=t+"#"+f:Array.isArray(f)&&(l=t+"#"+JSON.stringify(f))}const g=h.get("NewWindow");"boolean"==typeof g&&(r.newWindow=g);break;case"Named":const m=h.get("N");m instanceof o.Name&&(r.action=m.name);break;case"JavaScript":const y=h.get("JS");let v;y instanceof a.BaseStream?v=y.getString():"string"==typeof y&&(v=y);const b=v&&(0,n.recoverJsURL)((0,i.stringToPDFString)(v));if(b){l=b.url,r.newWindow=b.newWindow;break}default:if("JavaScript"===e||"SubmitForm"===e)break;(0,i.warn)(`parseDestDictionary - unsupported action: "${e}".`)}}else e.has("Dest")&&(c=e.get("Dest"));if("string"==typeof l){const t=(0,i.createValidAbsoluteUrl)(l,s,{addDefaultProtocol:!0,tryConvertEncoding:!0});t&&(r.url=t.href),r.unsafeUrl=l}c&&(c instanceof o.Name&&(c=c.name),"string"==typeof c?r.dest=(0,i.stringToPDFString)(c):Array.isArray(c)&&(r.dest=c))}}e.Catalog=g},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NumberTree=e.NameTree=void 0;var n=r(5),i=r(2);class o{constructor(t,e,r){this.constructor===o&&(0,i.unreachable)("Cannot initialize NameOrNumberTree."),this.root=t,this.xref=e,this._type=r}getAll(){const t=new Map;if(!this.root)return t;const e=this.xref,r=new n.RefSet;r.put(this.root);const o=[this.root];for(;o.length>0;){const s=e.fetchIfRef(o.shift());if(!(s instanceof n.Dict))continue;if(s.has("Kids")){const t=s.get("Kids");if(!Array.isArray(t))continue;for(const e of t){if(r.has(e))throw new i.FormatError(`Duplicate entry in "${this._type}" tree.`);o.push(e),r.put(e)}continue}const a=s.get(this._type);if(Array.isArray(a))for(let r=0,n=a.length;r<n;r+=2)t.set(e.fetchIfRef(a[r]),e.fetchIfRef(a[r+1]))}return t}get(t){if(!this.root)return null;const e=this.xref;let r=e.fetchIfRef(this.root),n=0;for(;r.has("Kids");){if(++n>10)return(0,i.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const o=r.get("Kids");if(!Array.isArray(o))return null;let s=0,a=o.length-1;for(;s<=a;){const n=s+a>>1,i=e.fetchIfRef(o[n]),l=i.get("Limits");if(t<e.fetchIfRef(l[0]))a=n-1;else{if(!(t>e.fetchIfRef(l[1]))){r=i;break}s=n+1}}if(s>a)return null}const o=r.get(this._type);if(Array.isArray(o)){let r=0,n=o.length-2;for(;r<=n;){const i=r+n>>1,s=i+(1&i),a=e.fetchIfRef(o[s]);if(t<a)n=s-2;else{if(!(t>a))return e.fetchIfRef(o[s+1]);r=s+2}}}return null}}e.NameTree=class extends o{constructor(t,e){super(t,e,"Names")}},e.NumberTree=class extends o{constructor(t,e){super(t,e,"Nums")}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.clearGlobalCaches=function(){(0,n.clearPrimitiveCaches)(),(0,i.clearUnicodeCaches)()};var n=r(5),i=r(21)},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FileSpec=void 0;var n=r(2),i=r(9),o=r(5);function s(t){return t.has("UF")?t.get("UF"):t.has("F")?t.get("F"):t.has("Unix")?t.get("Unix"):t.has("Mac")?t.get("Mac"):t.has("DOS")?t.get("DOS"):null}e.FileSpec=class{constructor(t,e){t instanceof o.Dict&&(this.xref=e,this.root=t,t.has("FS")&&(this.fs=t.get("FS")),this.description=t.has("Desc")?(0,n.stringToPDFString)(t.get("Desc")):"",t.has("RF")&&(0,n.warn)("Related file specifications are not supported"),this.contentAvailable=!0,t.has("EF")||(this.contentAvailable=!1,(0,n.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const t=s(this.root)||"unnamed";this._filename=(0,n.stringToPDFString)(t).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=s(this.root.get("EF")));let t=null;if(this.contentRef){const e=this.xref.fetchIfRef(this.contentRef);e instanceof i.BaseStream?t=e.getBytes():(0,n.warn)("Embedded file specification points to non-existing/invalid content")}else(0,n.warn)("Embedded file specification does not have a content");return t}get serializable(){return{filename:this.filename,content:this.content}}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataParser=void 0;var n=r(70);e.MetadataParser=class{constructor(t){t=this._repair(t);const e=new n.SimpleXMLParser({lowerCaseName:!0}).parseFromString(t);this._metadataMap=new Map,this._data=t,e&&this._parse(e)}_repair(t){return t.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(t,e){const r=e.replace(/\\([0-3])([0-7])([0-7])/g,(function(t,e,r,n){return String.fromCharCode(64*e+8*r+1*n)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(t,e){switch(e){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${e} isn't defined.`)})),n=[];for(let t=0,e=r.length;t<e;t+=2){const e=256*r.charCodeAt(t)+r.charCodeAt(t+1);e>=32&&e<127&&60!==e&&62!==e&&38!==e?n.push(String.fromCharCode(e)):n.push("&#x"+(65536+e).toString(16).substring(1)+";")}return">"+n.join("")}))}_getSequence(t){const e=t.nodeName;return"rdf:bag"!==e&&"rdf:seq"!==e&&"rdf:alt"!==e?null:t.childNodes.filter((t=>"rdf:li"===t.nodeName))}_parseArray(t){if(!t.hasChildNodes())return;const[e]=t.childNodes,r=this._getSequence(e)||[];this._metadataMap.set(t.nodeName,r.map((t=>t.textContent.trim())))}_parse(t){let e=t.documentElement;if("rdf:rdf"!==e.nodeName)for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName;)e=e.nextSibling;if(e&&"rdf:rdf"===e.nodeName&&e.hasChildNodes())for(const t of e.childNodes)if("rdf:description"===t.nodeName)for(const e of t.childNodes){const t=e.nodeName;switch(t){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(e);continue}this._metadataMap.set(t,e.textContent.trim())}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XMLParserErrorCode=e.XMLParserBase=e.SimpleXMLParser=e.SimpleDOMNode=void 0;var n=r(8);const i={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function o(t,e){const r=t[e];return" "===r||"\n"===r||"\r"===r||"\t"===r}e.XMLParserErrorCode=i;class s{_resolveEntities(t){return t.replace(/&([^;]+);/g,((t,e)=>{if("#x"===e.substring(0,2))return String.fromCodePoint(parseInt(e.substring(2),16));if("#"===e.substring(0,1))return String.fromCodePoint(parseInt(e.substring(1),10));switch(e){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(e)}))}_parseContent(t,e){const r=[];let n=e;function i(){for(;n<t.length&&o(t,n);)++n}for(;n<t.length&&!o(t,n)&&">"!==t[n]&&"/"!==t[n];)++n;const s=t.substring(e,n);for(i();n<t.length&&">"!==t[n]&&"/"!==t[n]&&"?"!==t[n];){i();let e="",s="";for(;n<t.length&&!o(t,n)&&"="!==t[n];)e+=t[n],++n;if(i(),"="!==t[n])return null;++n,i();const a=t[n];if('"'!==a&&"'"!==a)return null;const l=t.indexOf(a,++n);if(l<0)return null;s=t.substring(n,l),r.push({name:e,value:this._resolveEntities(s)}),n=l+1,i()}return{name:s,attributes:r,parsed:n-e}}_parseProcessingInstruction(t,e){let r=e;for(;r<t.length&&!o(t,r)&&">"!==t[r]&&"?"!==t[r]&&"/"!==t[r];)++r;const n=t.substring(e,r);!function(){for(;r<t.length&&o(t,r);)++r}();const i=r;for(;r<t.length&&("?"!==t[r]||">"!==t[r+1]);)++r;return{name:n,value:t.substring(i,r),parsed:r-e}}parseXml(t){let e=0;for(;e<t.length;){let r=e;if("<"===t[e]){let e;switch(++r,t[r]){case"/":if(++r,e=t.indexOf(">",r),e<0)return void this.onError(i.UnterminatedElement);this.onEndElement(t.substring(r,e)),r=e+1;break;case"?":++r;const n=this._parseProcessingInstruction(t,r);if("?>"!==t.substring(r+n.parsed,r+n.parsed+2))return void this.onError(i.UnterminatedXmlDeclaration);this.onPi(n.name,n.value),r+=n.parsed+2;break;case"!":if("--"===t.substring(r+1,r+3)){if(e=t.indexOf("--\x3e",r+3),e<0)return void this.onError(i.UnterminatedComment);this.onComment(t.substring(r+3,e)),r=e+3}else if("[CDATA["===t.substring(r+1,r+8)){if(e=t.indexOf("]]>",r+8),e<0)return void this.onError(i.UnterminatedCdat);this.onCdata(t.substring(r+8,e)),r=e+3}else{if("DOCTYPE"!==t.substring(r+1,r+8))return void this.onError(i.MalformedElement);{const n=t.indexOf("[",r+8);let o=!1;if(e=t.indexOf(">",r+8),e<0)return void this.onError(i.UnterminatedDoctypeDeclaration);if(n>0&&e>n){if(e=t.indexOf("]>",r+8),e<0)return void this.onError(i.UnterminatedDoctypeDeclaration);o=!0}const s=t.substring(r+8,e+(o?1:0));this.onDoctype(s),r=e+(o?2:1)}}break;default:const o=this._parseContent(t,r);if(null===o)return void this.onError(i.MalformedElement);let s=!1;if("/>"===t.substring(r+o.parsed,r+o.parsed+2))s=!0;else if(">"!==t.substring(r+o.parsed,r+o.parsed+1))return void this.onError(i.UnterminatedElement);this.onBeginElement(o.name,o.attributes,s),r+=o.parsed+(s?2:1)}}else{for(;r<t.length&&"<"!==t[r];)r++;const n=t.substring(e,r);this.onText(this._resolveEntities(n))}e=r}}onResolveEntity(t){return`&${t};`}onPi(t,e){}onComment(t){}onCdata(t){}onDoctype(t){}onText(t){}onBeginElement(t,e,r){}onEndElement(t){}onError(t){}}e.XMLParserBase=s;class a{constructor(t,e){this.nodeName=t,this.nodeValue=e,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const t=this.parentNode.childNodes;if(!t)return;const e=t.indexOf(this);return-1!==e?t[e+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map((function(t){return t.textContent})).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(t,e){if(e>=t.length)return this;const r=t[e],n=[];let i=this;for(;;){if(r.name===i.nodeName){if(0!==r.pos){if(0===n.length)return null;{const[o]=n.pop();let s=0;for(const n of o.childNodes)if(r.name===n.nodeName){if(s===r.pos)return n.searchNode(t,e+1);s++}return i.searchNode(t,e+1)}}{const r=i.searchNode(t,e+1);if(null!==r)return r}}if(i.childNodes&&0!==i.childNodes.length)n.push([i,0]),i=i.childNodes[0];else{if(0===n.length)return null;for(;0!==n.length;){const[t,e]=n.pop(),r=e+1;if(r<t.childNodes.length){n.push([t,r]),i=t.childNodes[r];break}}if(0===n.length)return null}}}dump(t){if("#text"!==this.nodeName){if(t.push(`<${this.nodeName}`),this.attributes)for(const e of this.attributes)t.push(` ${e.name}="${(0,n.encodeToXmlString)(e.value)}"`);if(this.hasChildNodes()){t.push(">");for(const e of this.childNodes)e.dump(t);t.push(`</${this.nodeName}>`)}else this.nodeValue?t.push(`>${(0,n.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):t.push("/>")}else t.push((0,n.encodeToXmlString)(this.nodeValue))}}e.SimpleDOMNode=a,e.SimpleXMLParser=class extends s{constructor({hasAttributes:t=!1,lowerCaseName:e=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=i.NoError,this._hasAttributes=t,this._lowerCaseName=e}parseFromString(t){if(this._currentFragment=[],this._stack=[],this._errorCode=i.NoError,this.parseXml(t),this._errorCode!==i.NoError)return;const[e]=this._currentFragment;return e?{documentElement:e}:void 0}onText(t){if(function(t){for(let e=0,r=t.length;e<r;e++)if(!o(t,e))return!1;return!0}(t))return;const e=new a("#text",t);this._currentFragment.push(e)}onCdata(t){const e=new a("#text",t);this._currentFragment.push(e)}onBeginElement(t,e,r){this._lowerCaseName&&(t=t.toLowerCase());const n=new a(t);n.childNodes=[],this._hasAttributes&&(n.attributes=e),this._currentFragment.push(n),r||(this._stack.push(this._currentFragment),this._currentFragment=n.childNodes)}onEndElement(t){this._currentFragment=this._stack.pop()||[];const e=this._currentFragment[this._currentFragment.length-1];if(!e)return null;for(let t=0,r=e.childNodes.length;t<r;t++)e.childNodes[t].parentNode=e;return e}onError(t){this._errorCode=t}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StructTreeRoot=e.StructTreePage=void 0;var n=r(5),i=r(2),o=r(66);const s="PAGE_CONTENT",a="STREAM_CONTENT",l="OBJECT",c="ELEMENT";e.StructTreeRoot=class{constructor(t){this.dict=t,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const t=this.dict.get("RoleMap");t instanceof n.Dict&&t.forEach(((t,e)=>{e instanceof n.Name&&this.roleMap.set(t,e.name)}))}};class h{constructor(t,e){this.tree=t,this.dict=e,this.kids=[],this.parseKids()}get role(){const t=this.dict.get("S"),e=t instanceof n.Name?t.name:"",{root:r}=this.tree;return r.roleMap.has(e)?r.roleMap.get(e):e}parseKids(){let t=null;const e=this.dict.getRaw("Pg");e instanceof n.Ref&&(t=e.toString());const r=this.dict.get("K");if(Array.isArray(r))for(const e of r){const r=this.parseKid(t,e);r&&this.kids.push(r)}else{const e=this.parseKid(t,r);e&&this.kids.push(e)}}parseKid(t,e){if(Number.isInteger(e))return this.tree.pageDict.objId!==t?null:new u({type:s,mcid:e,pageObjId:t});let r=null;if(e instanceof n.Ref?r=this.dict.xref.fetch(e):e instanceof n.Dict&&(r=e),!r)return null;const i=r.getRaw("Pg");i instanceof n.Ref&&(t=i.toString());const o=r.get("Type")instanceof n.Name?r.get("Type").name:null;return"MCR"===o?this.tree.pageDict.objId!==t?null:new u({type:a,refObjId:r.getRaw("Stm")instanceof n.Ref?r.getRaw("Stm").toString():null,pageObjId:t,mcid:r.get("MCID")}):"OBJR"===o?this.tree.pageDict.objId!==t?null:new u({type:l,refObjId:r.getRaw("Obj")instanceof n.Ref?r.getRaw("Obj").toString():null,pageObjId:t}):new u({type:c,dict:r})}}class u{constructor({type:t,dict:e=null,mcid:r=null,pageObjId:n=null,refObjId:i=null}){this.type=t,this.dict=e,this.mcid=r,this.pageObjId=n,this.refObjId=i,this.parentNode=null}}e.StructTreePage=class{constructor(t,e){this.root=t,this.rootDict=t?t.dict:null,this.pageDict=e,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const t=this.rootDict.get("ParentTree");if(!t)return;const e=this.pageDict.get("StructParents");if(!Number.isInteger(e))return;const r=new o.NumberTree(t,this.rootDict.xref).get(e);if(!Array.isArray(r))return;const i=new Map;for(const t of r)t instanceof n.Ref&&this.addNode(this.rootDict.xref.fetch(t),i)}addNode(t,e,r=0){if(r>40)return(0,i.warn)("StructTree MAX_DEPTH reached."),null;if(e.has(t))return e.get(t);const o=new h(this,t);e.set(t,o);const s=t.get("P");if(!s||(0,n.isName)(s.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(t,o)||e.delete(t),o;const a=this.addNode(s,e,r+1);if(!a)return o;let l=!1;for(const e of a.kids)e.type===c&&e.dict===t&&(e.parentNode=o,l=!0);return l||e.delete(t),o}addTopLevelNode(t,e){const r=this.rootDict.get("K");if(!r)return!1;if(r instanceof n.Dict)return r.objId===t.objId&&(this.nodes[0]=e,!0);if(!Array.isArray(r))return!0;let i=!1;for(let n=0;n<r.length;n++){const o=r[n];o&&o.toString()===t.objId&&(this.nodes[n]=e,i=!0)}return i}get serializable(){function t(e,r,n=0){if(n>40)return void(0,i.warn)("StructTree too deep to be fully serialized.");const o=Object.create(null);o.role=e.role,o.children=[],r.children.push(o);const h=e.dict.get("Alt");"string"==typeof h&&(o.alt=(0,i.stringToPDFString)(h));const u=e.dict.get("Lang");"string"==typeof u&&(o.lang=(0,i.stringToPDFString)(u));for(const r of e.kids){const e=r.type===c?r.parentNode:null;e?t(e,o,n+1):r.type===s||r.type===a?o.children.push({type:"content",id:`page${r.pageObjId}_mcid${r.mcid}`}):r.type===l&&o.children.push({type:"object",id:r.refObjId})}}const e=Object.create(null);e.children=[],e.role="Root";for(const r of this.nodes)r&&t(r,e);return e}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectLoader=void 0;var n=r(5),i=r(9),o=r(8),s=r(2);function a(t,e){if(t instanceof n.Dict)t=t.getRawValues();else if(t instanceof i.BaseStream)t=t.dict.getRawValues();else if(!Array.isArray(t))return;for(const o of t)((r=o)instanceof n.Ref||r instanceof n.Dict||r instanceof i.BaseStream||Array.isArray(r))&&e.push(o);var r}e.ObjectLoader=class{constructor(t,e,r){this.dict=t,this.keys=e,this.xref=r,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:t,dict:e}=this;this.refSet=new n.RefSet;const r=[];for(let n=0,i=t.length;n<i;n++){const i=e.getRaw(t[n]);void 0!==i&&r.push(i)}return this._walk(r)}async _walk(t){const e=[],r=[];for(;t.length;){let l=t.pop();if(l instanceof n.Ref){if(this.refSet.has(l))continue;try{this.refSet.put(l),l=this.xref.fetch(l)}catch(t){if(!(t instanceof o.MissingDataException)){(0,s.warn)(`ObjectLoader._walk - requesting all data: "${t}".`),this.refSet=null;const{manager:e}=this.xref.stream;return e.requestAllChunks()}e.push(l),r.push({begin:t.begin,end:t.end})}}if(l instanceof i.BaseStream){const t=l.getBaseStreams();if(t){let n=!1;for(const e of t)e.isDataLoaded||(n=!0,r.push({begin:e.start,end:e.end}));n&&e.push(l)}}a(l,t)}if(r.length){await this.xref.stream.manager.requestRanges(r);for(const t of e)t instanceof n.Ref&&this.refSet.remove(t);return this._walk(e)}this.refSet=null}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.incrementalUpdate=function({originalData:t,xrefInfo:e,newRefs:r,xref:a=null,hasXfa:h=!1,xfaDatasetsRef:d=null,hasXfaDatasetsEntry:f=!1,acroFormRef:g=null,acroForm:m=null,xfaData:y=null}){h&&function({xfaData:t,xfaDatasetsRef:e,hasXfaDatasetsEntry:r,acroFormRef:i,acroForm:a,newRefs:l,xref:h,xrefInfo:u}){if(null===h)return;if(!r){if(!i)return void(0,n.warn)("XFA - Cannot save it");const t=a.get("XFA"),r=t.slice();r.splice(2,0,"datasets"),r.splice(3,0,e),a.set("XFA",r);const o=h.encrypt;let s=null;o&&(s=o.createCipherTransform(i.num,i.gen));const u=[`${i.num} ${i.gen} obj\n`];c(a,u,s),u.push("\n"),a.set("XFA",t),l.push({ref:i,data:u.join("")})}null===t&&(t=function(t,e){const r=new s.SimpleXMLParser({hasAttributes:!0}).parseFromString(t);for(const{xfa:t}of e){if(!t)continue;const{path:e,value:i}=t;if(!e)continue;const a=r.documentElement.searchNode((0,o.parseXFAPath)(e),0);a?Array.isArray(i)?a.childNodes=i.map((t=>new s.SimpleDOMNode("value",t))):a.childNodes=[new s.SimpleDOMNode("#text",i)]:(0,n.warn)(`Node not found for path: ${e}`)}const i=[];return r.documentElement.dump(i),i.join("")}(h.fetchIfRef(e).getString(),l));const p=h.encrypt;p&&(t=p.createCipherTransform(e.num,e.gen).encryptString(t));const d=`${e.num} ${e.gen} obj\n<< /Type /EmbeddedFile /Length ${t.length}>>\nstream\n`+t+"\nendstream\nendobj\n";l.push({ref:e,data:d})}({xfaData:y,xfaDatasetsRef:d,hasXfaDatasetsEntry:f,acroFormRef:g,acroForm:m,newRefs:r,xref:a,xrefInfo:e});const v=new i.Dict(null),b=e.newRef;let w,x;const S=t[t.length-1];10===S||13===S?(w=[],x=t.length):(w=["\n"],x=t.length+1),v.set("Size",b.num+1),v.set("Prev",e.startXRef),v.set("Type",i.Name.get("XRef")),null!==e.rootRef&&v.set("Root",e.rootRef),null!==e.infoRef&&v.set("Info",e.infoRef),null!==e.encryptRef&&v.set("Encrypt",e.encryptRef),r.push({ref:b,data:""}),r=r.sort(((t,e)=>t.ref.num-e.ref.num));const k=[[0,1,65535]],A=[0,1];let C=0;for(const{ref:t,data:e}of r)C=Math.max(C,x),k.push([1,x,Math.min(t.gen,65535)]),x+=e.length,A.push(t.num,1),w.push(e);if(v.set("Index",A),Array.isArray(e.fileIds)&&e.fileIds.length>0){const t=function(t,e){const r=Math.floor(Date.now()/1e3),i=e.filename||"",o=[r.toString(),i,t.toString()];let s=o.reduce(((t,e)=>t+e.length),0);for(const t of Object.values(e.info))o.push(t),s+=t.length;const a=new Uint8Array(s);let c=0;for(const t of o)p(t,c,a),c+=t.length;return(0,n.bytesToString)((0,l.calculateMD5)(a))}(x,e);v.set("ID",[e.fileIds[0],t])}const _=[1,Math.ceil(Math.log2(C)/8),2],T=(_[0]+_[1]+_[2])*k.length;v.set("W",_),v.set("Length",T),w.push(`${b.num} ${b.gen} obj\n`),c(v,w,null),w.push(" stream\n");const O=w.reduce(((t,e)=>t+e.length),0),M=`\nendstream\nendobj\nstartxref\n${x}\n%%EOF\n`,E=new Uint8Array(t.length+O+T+M.length);E.set(t);let P=t.length;for(const t of w)p(t,P,E),P+=t.length;for(const[t,e,r]of k)P=u(t,_[0],P,E),P=u(e,_[1],P,E),P=u(r,_[2],P,E);return p(M,P,E),E},e.writeDict=c;var n=r(2),i=r(5),o=r(8),s=r(70),a=r(9),l=r(74);function c(t,e,r){e.push("<<");for(const n of t.getKeys())e.push(` /${(0,o.escapePDFName)(n)} `),h(t.getRaw(n),e,r);e.push(">>")}function h(t,e,r){t instanceof i.Name?e.push(`/${(0,o.escapePDFName)(t.name)}`):t instanceof i.Ref?e.push(`${t.num} ${t.gen} R`):Array.isArray(t)?function(t,e,r){e.push("[");let n=!0;for(const i of t)n?n=!1:e.push(" "),h(i,e,r);e.push("]")}(t,e,r):"string"==typeof t?(null!==r&&(t=r.encryptString(t)),e.push(`(${(0,n.escapeString)(t)})`)):"number"==typeof t?e.push(function(t){if(Number.isInteger(t))return t.toString();const e=Math.round(100*t);return e%100==0?(e/100).toString():e%10==0?t.toFixed(1):t.toFixed(2)}(t)):"boolean"==typeof t?e.push(t.toString()):t instanceof i.Dict?c(t,e,r):t instanceof a.BaseStream?function(t,e,r){c(t.dict,e,r),e.push(" stream\n");let n=t.getString();null!==r&&(n=r.encryptString(n)),e.push(n,"\nendstream\n")}(t,e,r):null===t?e.push("null"):(0,n.warn)(`Unhandled value in writer: ${typeof t}, please file a bug.`)}function u(t,e,r,n){for(let i=e+r-1;i>r-1;i--)n[i]=255&t,t>>=8;return r+e}function p(t,e,r){for(let n=0,i=t.length;n<i;n++)r[e+n]=255&t.charCodeAt(n)}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.calculateSHA256=e.calculateMD5=e.PDF20=e.PDF17=e.CipherTransformFactory=e.ARCFourCipher=e.AES256Cipher=e.AES128Cipher=void 0,e.calculateSHA384=u,e.calculateSHA512=void 0;var n=r(2),i=r(5),o=r(75);class s{constructor(t){this.a=0,this.b=0;const e=new Uint8Array(256),r=t.length;for(let t=0;t<256;++t)e[t]=t;for(let n=0,i=0;n<256;++n){const o=e[n];i=i+o+t[n%r]&255,e[n]=e[i],e[i]=o}this.s=e}encryptBlock(t){let e=this.a,r=this.b;const n=this.s,i=t.length,o=new Uint8Array(i);for(let s=0;s<i;++s){e=e+1&255;const i=n[e];r=r+i&255;const a=n[r];n[e]=a,n[r]=i,o[s]=t[s]^n[i+a&255]}return this.a=e,this.b=r,o}decryptBlock(t){return this.encryptBlock(t)}encrypt(t){return this.encryptBlock(t)}}e.ARCFourCipher=s;const a=function(){const t=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),e=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);return function(r,n,i){let o=1732584193,s=-271733879,a=-1732584194,l=271733878;const c=i+72&-64,h=new Uint8Array(c);let u,p;for(u=0;u<i;++u)h[u]=r[n++];h[u++]=128;const d=c-8;for(;u<d;)h[u++]=0;h[u++]=i<<3&255,h[u++]=i>>5&255,h[u++]=i>>13&255,h[u++]=i>>21&255,h[u++]=i>>>29&255,h[u++]=0,h[u++]=0,h[u++]=0;const f=new Int32Array(16);for(u=0;u<c;){for(p=0;p<16;++p,u+=4)f[p]=h[u]|h[u+1]<<8|h[u+2]<<16|h[u+3]<<24;let r,n,i=o,c=s,d=a,g=l;for(p=0;p<64;++p){p<16?(r=c&d|~c&g,n=p):p<32?(r=g&c|~g&d,n=5*p+1&15):p<48?(r=c^d^g,n=3*p+5&15):(r=d^(c|~g),n=7*p&15);const o=g,s=i+r+e[p]+f[n]|0,a=t[p];g=d,d=c,c=c+(s<<a|s>>>32-a)|0,i=o}o=o+i|0,s=s+c|0,a=a+d|0,l=l+g|0}return new Uint8Array([255&o,o>>8&255,o>>16&255,o>>>24&255,255&s,s>>8&255,s>>16&255,s>>>24&255,255&a,a>>8&255,a>>16&255,a>>>24&255,255&l,l>>8&255,l>>16&255,l>>>24&255])}}();e.calculateMD5=a;class l{constructor(t,e){this.high=0|t,this.low=0|e}and(t){this.high&=t.high,this.low&=t.low}xor(t){this.high^=t.high,this.low^=t.low}or(t){this.high|=t.high,this.low|=t.low}shiftRight(t){t>=32?(this.low=this.high>>>t-32|0,this.high=0):(this.low=this.low>>>t|this.high<<32-t,this.high=this.high>>>t|0)}shiftLeft(t){t>=32?(this.high=this.low<<t-32,this.low=0):(this.high=this.high<<t|this.low>>>32-t,this.low<<=t)}rotateRight(t){let e,r;32&t?(r=this.low,e=this.high):(e=this.low,r=this.high),t&=31,this.low=e>>>t|r<<32-t,this.high=r>>>t|e<<32-t}not(){this.high=~this.high,this.low=~this.low}add(t){const e=(this.low>>>0)+(t.low>>>0);let r=(this.high>>>0)+(t.high>>>0);e>4294967295&&(r+=1),this.low=0|e,this.high=0|r}copyTo(t,e){t[e]=this.high>>>24&255,t[e+1]=this.high>>16&255,t[e+2]=this.high>>8&255,t[e+3]=255&this.high,t[e+4]=this.low>>>24&255,t[e+5]=this.low>>16&255,t[e+6]=this.low>>8&255,t[e+7]=255&this.low}assign(t){this.high=t.high,this.low=t.low}}const c=function(){function t(t,e){return t>>>e|t<<32-e}function e(t,e,r){return t&e^~t&r}function r(t,e,r){return t&e^t&r^e&r}function n(e){return t(e,2)^t(e,13)^t(e,22)}function i(e){return t(e,6)^t(e,11)^t(e,25)}function o(e){return t(e,7)^t(e,18)^e>>>3}const s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return function(a,l,c){let h=1779033703,u=3144134277,p=1013904242,d=2773480762,f=1359893119,g=2600822924,m=528734635,y=1541459225;const v=64*Math.ceil((c+9)/64),b=new Uint8Array(v);let w,x;for(w=0;w<c;++w)b[w]=a[l++];b[w++]=128;const S=v-8;for(;w<S;)b[w++]=0;b[w++]=0,b[w++]=0,b[w++]=0,b[w++]=c>>>29&255,b[w++]=c>>21&255,b[w++]=c>>13&255,b[w++]=c>>5&255,b[w++]=c<<3&255;const k=new Uint32Array(64);for(w=0;w<v;){for(x=0;x<16;++x)k[x]=b[w]<<24|b[w+1]<<16|b[w+2]<<8|b[w+3],w+=4;for(x=16;x<64;++x)k[x]=0|(t(A=k[x-2],17)^t(A,19)^A>>>10)+k[x-7]+o(k[x-15])+k[x-16];let a,l,c=h,v=u,S=p,C=d,_=f,T=g,O=m,M=y;for(x=0;x<64;++x)a=M+i(_)+e(_,T,O)+s[x]+k[x],l=n(c)+r(c,v,S),M=O,O=T,T=_,_=C+a|0,C=S,S=v,v=c,c=a+l|0;h=h+c|0,u=u+v|0,p=p+S|0,d=d+C|0,f=f+_|0,g=g+T|0,m=m+O|0,y=y+M|0}var A;return new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,u>>24&255,u>>16&255,u>>8&255,255&u,p>>24&255,p>>16&255,p>>8&255,255&p,d>>24&255,d>>16&255,d>>8&255,255&d,f>>24&255,f>>16&255,f>>8&255,255&f,g>>24&255,g>>16&255,g>>8&255,255&g,m>>24&255,m>>16&255,m>>8&255,255&m,y>>24&255,y>>16&255,y>>8&255,255&y])}}();e.calculateSHA256=c;const h=function(){function t(t,e,r,n,i){t.assign(e),t.and(r),i.assign(e),i.not(),i.and(n),t.xor(i)}function e(t,e,r,n,i){t.assign(e),t.and(r),i.assign(e),i.and(n),t.xor(i),i.assign(r),i.and(n),t.xor(i)}function r(t,e,r){t.assign(e),t.rotateRight(28),r.assign(e),r.rotateRight(34),t.xor(r),r.assign(e),r.rotateRight(39),t.xor(r)}function n(t,e,r){t.assign(e),t.rotateRight(14),r.assign(e),r.rotateRight(18),t.xor(r),r.assign(e),r.rotateRight(41),t.xor(r)}function i(t,e,r){t.assign(e),t.rotateRight(1),r.assign(e),r.rotateRight(8),t.xor(r),r.assign(e),r.shiftRight(7),t.xor(r)}function o(t,e,r){t.assign(e),t.rotateRight(19),r.assign(e),r.rotateRight(61),t.xor(r),r.assign(e),r.shiftRight(6),t.xor(r)}const s=[new l(1116352408,3609767458),new l(1899447441,602891725),new l(3049323471,3964484399),new l(3921009573,2173295548),new l(961987163,4081628472),new l(1508970993,3053834265),new l(2453635748,2937671579),new l(2870763221,3664609560),new l(3624381080,2734883394),new l(310598401,1164996542),new l(607225278,1323610764),new l(1426881987,3590304994),new l(1925078388,4068182383),new l(2162078206,991336113),new l(2614888103,633803317),new l(3248222580,3479774868),new l(3835390401,2666613458),new l(4022224774,944711139),new l(264347078,2341262773),new l(604807628,2007800933),new l(770255983,1495990901),new l(1249150122,1856431235),new l(1555081692,3175218132),new l(1996064986,2198950837),new l(2554220882,3999719339),new l(2821834349,766784016),new l(2952996808,2566594879),new l(3210313671,3203337956),new l(3336571891,1034457026),new l(3584528711,2466948901),new l(113926993,3758326383),new l(338241895,168717936),new l(666307205,1188179964),new l(773529912,1546045734),new l(1294757372,1522805485),new l(1396182291,2643833823),new l(1695183700,2343527390),new l(1986661051,1014477480),new l(2177026350,1206759142),new l(2456956037,344077627),new l(2730485921,1290863460),new l(2820302411,3158454273),new l(3259730800,3505952657),new l(3345764771,106217008),new l(3516065817,3606008344),new l(3600352804,1432725776),new l(4094571909,1467031594),new l(275423344,851169720),new l(430227734,3100823752),new l(506948616,1363258195),new l(659060556,3750685593),new l(883997877,3785050280),new l(958139571,3318307427),new l(1322822218,3812723403),new l(1537002063,2003034995),new l(1747873779,3602036899),new l(1955562222,1575990012),new l(2024104815,1125592928),new l(2227730452,2716904306),new l(2361852424,442776044),new l(2428436474,593698344),new l(2756734187,3733110249),new l(3204031479,2999351573),new l(3329325298,3815920427),new l(3391569614,3928383900),new l(3515267271,566280711),new l(3940187606,3454069534),new l(4118630271,4000239992),new l(116418474,1914138554),new l(174292421,2731055270),new l(289380356,3203993006),new l(460393269,320620315),new l(685471733,587496836),new l(852142971,1086792851),new l(1017036298,365543100),new l(1126000580,2618297676),new l(1288033470,3409855158),new l(1501505948,4234509866),new l(1607167915,987167468),new l(1816402316,1246189591)];return function(a,c,h,u=!1){let p,d,f,g,m,y,v,b;u?(p=new l(3418070365,3238371032),d=new l(1654270250,914150663),f=new l(2438529370,812702999),g=new l(355462360,4144912697),m=new l(1731405415,4290775857),y=new l(2394180231,1750603025),v=new l(3675008525,1694076839),b=new l(1203062813,3204075428)):(p=new l(1779033703,4089235720),d=new l(3144134277,2227873595),f=new l(1013904242,4271175723),g=new l(2773480762,1595750129),m=new l(1359893119,2917565137),y=new l(2600822924,725511199),v=new l(528734635,4215389547),b=new l(1541459225,327033209));const w=128*Math.ceil((h+17)/128),x=new Uint8Array(w);let S,k;for(S=0;S<h;++S)x[S]=a[c++];x[S++]=128;const A=w-16;for(;S<A;)x[S++]=0;x[S++]=0,x[S++]=0,x[S++]=0,x[S++]=0,x[S++]=0,x[S++]=0,x[S++]=0,x[S++]=0,x[S++]=0,x[S++]=0,x[S++]=0,x[S++]=h>>>29&255,x[S++]=h>>21&255,x[S++]=h>>13&255,x[S++]=h>>5&255,x[S++]=h<<3&255;const C=new Array(80);for(S=0;S<80;S++)C[S]=new l(0,0);let _=new l(0,0),T=new l(0,0),O=new l(0,0),M=new l(0,0),E=new l(0,0),P=new l(0,0),I=new l(0,0),F=new l(0,0);const D=new l(0,0),R=new l(0,0),L=new l(0,0),N=new l(0,0);let B,j;for(S=0;S<w;){for(k=0;k<16;++k)C[k].high=x[S]<<24|x[S+1]<<16|x[S+2]<<8|x[S+3],C[k].low=x[S+4]<<24|x[S+5]<<16|x[S+6]<<8|x[S+7],S+=8;for(k=16;k<80;++k)B=C[k],o(B,C[k-2],N),B.add(C[k-7]),i(L,C[k-15],N),B.add(L),B.add(C[k-16]);for(_.assign(p),T.assign(d),O.assign(f),M.assign(g),E.assign(m),P.assign(y),I.assign(v),F.assign(b),k=0;k<80;++k)D.assign(F),n(L,E,N),D.add(L),t(L,E,P,I,N),D.add(L),D.add(s[k]),D.add(C[k]),r(R,_,N),e(L,_,T,O,N),R.add(L),B=F,F=I,I=P,P=E,M.add(D),E=M,M=O,O=T,T=_,B.assign(D),B.add(R),_=B;p.add(_),d.add(T),f.add(O),g.add(M),m.add(E),y.add(P),v.add(I),b.add(F)}return u?(j=new Uint8Array(48),p.copyTo(j,0),d.copyTo(j,8),f.copyTo(j,16),g.copyTo(j,24),m.copyTo(j,32),y.copyTo(j,40)):(j=new Uint8Array(64),p.copyTo(j,0),d.copyTo(j,8),f.copyTo(j,16),g.copyTo(j,24),m.copyTo(j,32),y.copyTo(j,40),v.copyTo(j,48),b.copyTo(j,56)),j}}();function u(t,e,r){return h(t,e,r,!0)}e.calculateSHA512=h;class p{decryptBlock(t){return t}encrypt(t){return t}}class d{constructor(){this.constructor===d&&(0,n.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let t=0;t<256;t++)this._mixCol[t]=t<128?t<<1:t<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(t){(0,n.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(t,e){let r,n,i;const o=new Uint8Array(16);o.set(t);for(let t=0,r=this._keySize;t<16;++t,++r)o[t]^=e[r];for(let t=this._cyclesOfRepetition-1;t>=1;--t){r=o[13],o[13]=o[9],o[9]=o[5],o[5]=o[1],o[1]=r,r=o[14],n=o[10],o[14]=o[6],o[10]=o[2],o[6]=r,o[2]=n,r=o[15],n=o[11],i=o[7],o[15]=o[3],o[11]=r,o[7]=n,o[3]=i;for(let t=0;t<16;++t)o[t]=this._inv_s[o[t]];for(let r=0,n=16*t;r<16;++r,++n)o[r]^=e[n];for(let t=0;t<16;t+=4){const e=this._mix[o[t]],n=this._mix[o[t+1]],i=this._mix[o[t+2]],s=this._mix[o[t+3]];r=e^n>>>8^n<<24^i>>>16^i<<16^s>>>24^s<<8,o[t]=r>>>24&255,o[t+1]=r>>16&255,o[t+2]=r>>8&255,o[t+3]=255&r}}r=o[13],o[13]=o[9],o[9]=o[5],o[5]=o[1],o[1]=r,r=o[14],n=o[10],o[14]=o[6],o[10]=o[2],o[6]=r,o[2]=n,r=o[15],n=o[11],i=o[7],o[15]=o[3],o[11]=r,o[7]=n,o[3]=i;for(let t=0;t<16;++t)o[t]=this._inv_s[o[t]],o[t]^=e[t];return o}_encrypt(t,e){const r=this._s;let n,i,o;const s=new Uint8Array(16);s.set(t);for(let t=0;t<16;++t)s[t]^=e[t];for(let t=1;t<this._cyclesOfRepetition;t++){for(let t=0;t<16;++t)s[t]=r[s[t]];o=s[1],s[1]=s[5],s[5]=s[9],s[9]=s[13],s[13]=o,o=s[2],i=s[6],s[2]=s[10],s[6]=s[14],s[10]=o,s[14]=i,o=s[3],i=s[7],n=s[11],s[3]=s[15],s[7]=o,s[11]=i,s[15]=n;for(let t=0;t<16;t+=4){const e=s[t+0],r=s[t+1],i=s[t+2],o=s[t+3];n=e^r^i^o,s[t+0]^=n^this._mixCol[e^r],s[t+1]^=n^this._mixCol[r^i],s[t+2]^=n^this._mixCol[i^o],s[t+3]^=n^this._mixCol[o^e]}for(let r=0,n=16*t;r<16;++r,++n)s[r]^=e[n]}for(let t=0;t<16;++t)s[t]=r[s[t]];o=s[1],s[1]=s[5],s[5]=s[9],s[9]=s[13],s[13]=o,o=s[2],i=s[6],s[2]=s[10],s[6]=s[14],s[10]=o,s[14]=i,o=s[3],i=s[7],n=s[11],s[3]=s[15],s[7]=o,s[11]=i,s[15]=n;for(let t=0,r=this._keySize;t<16;++t,++r)s[t]^=e[r];return s}_decryptBlock2(t,e){const r=t.length;let n=this.buffer,i=this.bufferPosition;const o=[];let s=this.iv;for(let e=0;e<r;++e){if(n[i]=t[e],++i,i<16)continue;const r=this._decrypt(n,this._key);for(let t=0;t<16;++t)r[t]^=s[t];s=n,o.push(r),n=new Uint8Array(16),i=0}if(this.buffer=n,this.bufferLength=i,this.iv=s,0===o.length)return new Uint8Array(0);let a=16*o.length;if(e){const t=o[o.length-1];let e=t[15];if(e<=16){for(let r=15,n=16-e;r>=n;--r)if(t[r]!==e){e=0;break}a-=e,o[o.length-1]=t.subarray(0,16-e)}}const l=new Uint8Array(a);for(let t=0,e=0,r=o.length;t<r;++t,e+=16)l.set(o[t],e);return l}decryptBlock(t,e,r=null){const n=t.length,i=this.buffer;let o=this.bufferPosition;if(r)this.iv=r;else{for(let e=0;o<16&&e<n;++e,++o)i[o]=t[e];if(o<16)return this.bufferLength=o,new Uint8Array(0);this.iv=i,t=t.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(t,e)}encrypt(t,e){const r=t.length;let n=this.buffer,i=this.bufferPosition;const o=[];e||(e=new Uint8Array(16));for(let s=0;s<r;++s){if(n[i]=t[s],++i,i<16)continue;for(let t=0;t<16;++t)n[t]^=e[t];const r=this._encrypt(n,this._key);e=r,o.push(r),n=new Uint8Array(16),i=0}if(this.buffer=n,this.bufferLength=i,this.iv=e,0===o.length)return new Uint8Array(0);const s=16*o.length,a=new Uint8Array(s);for(let t=0,e=0,r=o.length;t<r;++t,e+=16)a.set(o[t],e);return a}}class f extends d{constructor(t){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(t)}_expandKey(t){const e=this._s,r=this._rcon,n=new Uint8Array(176);n.set(t);for(let t=16,i=1;t<176;++i){let o=n[t-3],s=n[t-2],a=n[t-1],l=n[t-4];o=e[o],s=e[s],a=e[a],l=e[l],o^=r[i];for(let e=0;e<4;++e)n[t]=o^=n[t-16],t++,n[t]=s^=n[t-16],t++,n[t]=a^=n[t-16],t++,n[t]=l^=n[t-16],t++}return n}}e.AES128Cipher=f;class g extends d{constructor(t){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(t)}_expandKey(t){const e=this._s,r=new Uint8Array(240);r.set(t);let n,i,o,s,a=1;for(let t=32,l=1;t<240;++l){t%32==16?(n=e[n],i=e[i],o=e[o],s=e[s]):t%32==0&&(n=r[t-3],i=r[t-2],o=r[t-1],s=r[t-4],n=e[n],i=e[i],o=e[o],s=e[s],n^=a,(a<<=1)>=256&&(a=255&(27^a)));for(let e=0;e<4;++e)r[t]=n^=r[t-32],t++,r[t]=i^=r[t-32],t++,r[t]=o^=r[t-32],t++,r[t]=s^=r[t-32],t++}return r}}e.AES256Cipher=g;class m{checkOwnerPassword(t,e,r,i){const o=new Uint8Array(t.length+56);o.set(t,0),o.set(e,t.length),o.set(r,t.length+e.length);const s=c(o,0,o.length);return(0,n.isArrayEqual)(s,i)}checkUserPassword(t,e,r){const i=new Uint8Array(t.length+8);i.set(t,0),i.set(e,t.length);const o=c(i,0,i.length);return(0,n.isArrayEqual)(o,r)}getOwnerKey(t,e,r,n){const i=new Uint8Array(t.length+56);i.set(t,0),i.set(e,t.length),i.set(r,t.length+e.length);const o=c(i,0,i.length);return new g(o).decryptBlock(n,!1,new Uint8Array(16))}getUserKey(t,e,r){const n=new Uint8Array(t.length+8);n.set(t,0),n.set(e,t.length);const i=c(n,0,n.length);return new g(i).decryptBlock(r,!1,new Uint8Array(16))}}e.PDF17=m;const y=function(){function t(t,e,r){let n=c(e,0,e.length).subarray(0,32),i=[0],o=0;for(;o<64||i[i.length-1]>o-32;){const e=t.length+n.length+r.length,s=new Uint8Array(e);let a=0;s.set(t,a),a+=t.length,s.set(n,a),a+=n.length,s.set(r,a);const l=new Uint8Array(64*e);for(let t=0,r=0;t<64;t++,r+=e)l.set(s,r);i=new f(n.subarray(0,16)).encrypt(l,n.subarray(16,32));let p=0;for(let t=0;t<16;t++)p*=1,p%=3,p+=(i[t]>>>0)%3,p%=3;0===p?n=c(i,0,i.length):1===p?n=u(i,0,i.length):2===p&&(n=h(i,0,i.length)),o++}return n.subarray(0,32)}return class{hash(e,r,n){return t(e,r,n)}checkOwnerPassword(e,r,i,o){const s=new Uint8Array(e.length+56);s.set(e,0),s.set(r,e.length),s.set(i,e.length+r.length);const a=t(e,s,i);return(0,n.isArrayEqual)(a,o)}checkUserPassword(e,r,i){const o=new Uint8Array(e.length+8);o.set(e,0),o.set(r,e.length);const s=t(e,o,[]);return(0,n.isArrayEqual)(s,i)}getOwnerKey(e,r,n,i){const o=new Uint8Array(e.length+56);o.set(e,0),o.set(r,e.length),o.set(n,e.length+r.length);const s=t(e,o,n);return new g(s).decryptBlock(i,!1,new Uint8Array(16))}getUserKey(e,r,n){const i=new Uint8Array(e.length+8);i.set(e,0),i.set(r,e.length);const o=t(e,i,[]);return new g(o).decryptBlock(n,!1,new Uint8Array(16))}}}();e.PDF20=y;class v{constructor(t,e){this.StringCipherConstructor=t,this.StreamCipherConstructor=e}createStream(t,e){const r=new this.StreamCipherConstructor;return new o.DecryptStream(t,e,(function(t,e){return r.decryptBlock(t,e)}))}decryptString(t){const e=new this.StringCipherConstructor;let r=(0,n.stringToBytes)(t);return r=e.decryptBlock(r,!0),(0,n.bytesToString)(r)}encryptString(t){const e=new this.StringCipherConstructor;if(e instanceof d){const r=16-t.length%16;t+=String.fromCharCode(r).repeat(r);const i=new Uint8Array(16);if("undefined"!=typeof crypto)crypto.getRandomValues(i);else for(let t=0;t<16;t++)i[t]=Math.floor(256*Math.random());let o=(0,n.stringToBytes)(t);o=e.encrypt(o,i);const s=new Uint8Array(16+o.length);return s.set(i),s.set(o,16),(0,n.bytesToString)(s)}let r=(0,n.stringToBytes)(t);return r=e.encrypt(r),(0,n.bytesToString)(r)}}const b=function(){const t=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function e(e,r,n,i,o,l,c,h){const u=40+n.length+e.length,p=new Uint8Array(u);let d,f,g=0;if(r)for(f=Math.min(32,r.length);g<f;++g)p[g]=r[g];for(d=0;g<32;)p[g++]=t[d++];for(d=0,f=n.length;d<f;++d)p[g++]=n[d];for(p[g++]=255&o,p[g++]=o>>8&255,p[g++]=o>>16&255,p[g++]=o>>>24&255,d=0,f=e.length;d<f;++d)p[g++]=e[d];l>=4&&!h&&(p[g++]=255,p[g++]=255,p[g++]=255,p[g++]=255);let m=a(p,0,g);const y=c>>3;if(l>=3)for(d=0;d<50;++d)m=a(m,0,y);const v=m.subarray(0,y);let b,w;if(l>=3){for(g=0;g<32;++g)p[g]=t[g];for(d=0,f=e.length;d<f;++d)p[g++]=e[d];b=new s(v),w=b.encryptBlock(a(p,0,g)),f=v.length;const r=new Uint8Array(f);for(d=1;d<=19;++d){for(let t=0;t<f;++t)r[t]=v[t]^d;b=new s(r),w=b.encryptBlock(w)}for(d=0,f=w.length;d<f;++d)if(i[d]!==w[d])return null}else for(b=new s(v),w=b.encryptBlock(t),d=0,f=w.length;d<f;++d)if(i[d]!==w[d])return null;return v}const r=i.Name.get("Identity");function o(t,e,r,n=!1){const i=new Uint8Array(r.length+9),o=r.length;let s;for(s=0;s<o;++s)i[s]=r[s];return i[s++]=255&t,i[s++]=t>>8&255,i[s++]=t>>16&255,i[s++]=255&e,i[s++]=e>>8&255,n&&(i[s++]=115,i[s++]=65,i[s++]=108,i[s++]=84),a(i,0,s).subarray(0,Math.min(r.length+5,16))}function l(t,e,r,a,l){if(!(e instanceof i.Name))throw new n.FormatError("Invalid crypt filter name.");const c=t.get(e.name);let h;if(null!=c&&(h=c.get("CFM")),!h||"None"===h.name)return function(){return new p};if("V2"===h.name)return function(){return new s(o(r,a,l,!1))};if("AESV2"===h.name)return function(){return new f(o(r,a,l,!0))};if("AESV3"===h.name)return function(){return new g(l)};throw new n.FormatError("Unknown crypto method")}return class{constructor(o,l,c){const h=o.get("Filter");if(!(0,i.isName)(h,"Standard"))throw new n.FormatError("unknown encryption method");this.filterName=h.name,this.dict=o;const u=o.get("V");if(!Number.isInteger(u)||1!==u&&2!==u&&4!==u&&5!==u)throw new n.FormatError("unsupported encryption algorithm");this.algorithm=u;let p=o.get("Length");if(!p)if(u<=3)p=40;else{const t=o.get("CF"),e=o.get("StmF");if(t instanceof i.Dict&&e instanceof i.Name){t.suppressEncryption=!0;const r=t.get(e.name);p=r&&r.get("Length")||128,p<40&&(p<<=3)}}if(!Number.isInteger(p)||p<40||p%8!=0)throw new n.FormatError("invalid key length");const d=(0,n.stringToBytes)(o.get("O")).subarray(0,32),f=(0,n.stringToBytes)(o.get("U")).subarray(0,32),g=o.get("P"),v=o.get("R"),b=(4===u||5===u)&&!1!==o.get("EncryptMetadata");this.encryptMetadata=b;const w=(0,n.stringToBytes)(l);let x,S;if(c){if(6===v)try{c=(0,n.utf8StringToString)(c)}catch(t){(0,n.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}x=(0,n.stringToBytes)(c)}if(5!==u)S=e(w,x,d,f,g,v,p,b);else{const t=(0,n.stringToBytes)(o.get("O")).subarray(32,40),e=(0,n.stringToBytes)(o.get("O")).subarray(40,48),r=(0,n.stringToBytes)(o.get("U")).subarray(0,48),i=(0,n.stringToBytes)(o.get("U")).subarray(32,40),s=(0,n.stringToBytes)(o.get("U")).subarray(40,48),a=(0,n.stringToBytes)(o.get("OE")),l=(0,n.stringToBytes)(o.get("UE"));(0,n.stringToBytes)(o.get("Perms")),S=function(t,e,r,n,i,o,s,a,l,c,h,u){if(e){const t=Math.min(127,e.length);e=e.subarray(0,t)}else e=[];let p;return p=6===t?new y:new m,p.checkUserPassword(e,a,s)?p.getUserKey(e,l,h):e.length&&p.checkOwnerPassword(e,n,o,r)?p.getOwnerKey(e,i,o,c):null}(v,x,d,t,e,r,f,i,s,a,l)}if(!S&&!c)throw new n.PasswordException("No password given",n.PasswordResponses.NEED_PASSWORD);if(!S&&c){const r=function(e,r,n,i){const o=new Uint8Array(32);let l=0;const c=Math.min(32,e.length);for(;l<c;++l)o[l]=e[l];let h=0;for(;l<32;)o[l++]=t[h++];let u=a(o,0,l);const p=i>>3;if(n>=3)for(h=0;h<50;++h)u=a(u,0,u.length);let d,f;if(n>=3){f=r;const t=new Uint8Array(p);for(h=19;h>=0;h--){for(let e=0;e<p;++e)t[e]=u[e]^h;d=new s(t),f=d.encryptBlock(f)}}else d=new s(u.subarray(0,p)),f=d.encryptBlock(r);return f}(x,d,v,p);S=e(w,r,d,f,g,v,p,b)}if(!S)throw new n.PasswordException("Incorrect Password",n.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=S,u>=4){const t=o.get("CF");t instanceof i.Dict&&(t.suppressEncryption=!0),this.cf=t,this.stmf=o.get("StmF")||r,this.strf=o.get("StrF")||r,this.eff=o.get("EFF")||this.stmf}}createCipherTransform(t,e){if(4===this.algorithm||5===this.algorithm)return new v(l(this.cf,this.stmf,t,e,this.encryptionKey),l(this.cf,this.strf,t,e,this.encryptionKey));const r=o(t,e,this.encryptionKey,!1),n=function(){return new s(r)};return new v(n,n)}}}();e.CipherTransformFactory=b},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DecryptStream=void 0;var n=r(29);class i extends n.DecodeStream{constructor(t,e,r){super(e),this.str=t,this.dict=t.dict,this.decrypt=r,this.nextChunk=null,this.initialized=!1}readBlock(){let t;if(this.initialized?t=this.nextChunk:(t=this.str.getBytes(512),this.initialized=!0),!t||0===t.length)return void(this.eof=!0);this.nextChunk=this.str.getBytes(512);const e=this.nextChunk&&this.nextChunk.length>0;t=(0,this.decrypt)(t,!e);let r=this.bufferLength;const n=t.length,i=this.ensureBuffer(r+n);for(let e=0;e<n;e++)i[r++]=t[e];this.bufferLength=r}}e.DecryptStream=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XFAFactory=void 0;var n=r(77),i=r(81),o=r(87),s=r(85),a=r(78),l=r(2),c=r(88),h=r(98);class u{constructor(t){try{this.root=(new c.XFAParser).parse(u._createDocument(t));const e=new i.Binder(this.root);this.form=e.bind(),this.dataHandler=new o.DataHandler(this.root,e.getData()),this.form[n.$globalData].template=this.form}catch(t){(0,l.warn)(`XFA - an error occurred during parsing and binding: ${t}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const t=this.form[n.$toPages]();return new Promise(((e,r)=>{const n=()=>{try{const r=t.next();r.done?e(r.value):setTimeout(n,0)}catch(t){r(t)}};setTimeout(n,0)}))}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map((t=>{const{width:e,height:r}=t.attributes.style;return[0,0,parseInt(e),parseInt(r)]}))}catch(t){(0,l.warn)(`XFA - an error occurred during layout: ${t}`)}}getBoundingBox(t){return this.dims[t]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(t){this.form[n.$globalData].images=t}setFonts(t){this.form[n.$globalData].fontFinder=new s.FontFinder(t);const e=[];for(let t of this.form[n.$globalData].usedTypefaces)t=(0,a.stripQuotes)(t),this.form[n.$globalData].fontFinder.find(t)||e.push(t);return e.length>0?e:null}appendFonts(t,e){this.form[n.$globalData].fontFinder.add(t,e)}async getPages(){this.pages||await this._createPages();const t=this.pages;return this.pages=null,t}serializeData(t){return this.dataHandler.serialize(t)}static _createDocument(t){return t["/xdp:xdp"]?Object.values(t).join(""):t["xdp:xdp"]}static getRichTextAsHtml(t){if(!t||"string"!=typeof t)return null;try{let e=new c.XFAParser(h.XhtmlNamespace,!0).parse(t);if(!["body","xhtml"].includes(e[n.$nodeName])){const t=h.XhtmlNamespace.body({});t[n.$appendChild](e),e=t}const r=e[n.$toHTML]();if(!r.success)return null;const{html:i}=r,{attributes:o}=i;return o&&(o.class&&(o.class=o.class.filter((t=>!t.startsWith("xfa")))),o.dir="auto"),{html:i,str:e[n.$text]()}}catch(t){(0,l.warn)(`XFA - an error occurred during parsing of rich text: ${t}`)}return null}}e.XFAFactory=u},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XmlObject=e.XFAObjectArray=e.XFAObject=e.XFAAttribute=e.StringObject=e.OptionObject=e.Option10=e.Option01=e.IntegerObject=e.ContentObject=e.$uid=e.$toStyle=e.$toString=e.$toPages=e.$toHTML=e.$text=e.$tabIndex=e.$setValue=e.$setSetAttributes=e.$setId=e.$searchNode=e.$root=e.$resolvePrototypes=e.$removeChild=e.$pushPara=e.$pushGlyphs=e.$popPara=e.$onText=e.$onChildCheck=e.$onChild=e.$nsAttributes=e.$nodeName=e.$namespaceId=e.$isUsable=e.$isTransparent=e.$isThereMoreWidth=e.$isSplittable=e.$isNsAgnostic=e.$isDescendent=e.$isDataValue=e.$isCDATAXml=e.$isBindable=e.$insertAt=e.$indexOf=e.$ids=e.$hasSettableValue=e.$globalData=e.$getTemplateRoot=e.$getSubformParent=e.$getRealChildrenByNameIt=e.$getParent=e.$getNextPage=e.$getExtra=e.$getDataValue=e.$getContainedChildren=e.$getChildrenByNameIt=e.$getChildrenByName=e.$getChildrenByClass=e.$getChildren=e.$getAvailableSpace=e.$getAttributes=e.$getAttributeIt=e.$flushHTML=e.$finalize=e.$extra=e.$dump=e.$data=e.$content=e.$consumed=e.$clone=e.$cleanup=e.$cleanPage=e.$clean=e.$childrenToHTML=e.$appendChild=e.$addHTML=e.$acceptWhitespace=void 0;var n=r(78),i=r(2),o=r(8),s=r(79),a=r(80);const l=Symbol();e.$acceptWhitespace=l;const c=Symbol();e.$addHTML=c;const h=Symbol();e.$appendChild=h;const u=Symbol();e.$childrenToHTML=u;const p=Symbol();e.$clean=p;const d=Symbol();e.$cleanPage=d;const f=Symbol();e.$cleanup=f;const g=Symbol();e.$clone=g;const m=Symbol();e.$consumed=m;const y=Symbol("content");e.$content=y;const v=Symbol("data");e.$data=v;const b=Symbol();e.$dump=b;const w=Symbol("extra");e.$extra=w;const x=Symbol();e.$finalize=x;const S=Symbol();e.$flushHTML=S;const k=Symbol();e.$getAttributeIt=k;const A=Symbol();e.$getAttributes=A;const C=Symbol();e.$getAvailableSpace=C;const _=Symbol();e.$getChildrenByClass=_;const T=Symbol();e.$getChildrenByName=T;const O=Symbol();e.$getChildrenByNameIt=O;const M=Symbol();e.$getDataValue=M;const E=Symbol();e.$getExtra=E;const P=Symbol();e.$getRealChildrenByNameIt=P;const I=Symbol();e.$getChildren=I;const F=Symbol();e.$getContainedChildren=F;const D=Symbol();e.$getNextPage=D;const R=Symbol();e.$getSubformParent=R;const L=Symbol();e.$getParent=L;const N=Symbol();e.$getTemplateRoot=N;const B=Symbol();e.$globalData=B;const j=Symbol();e.$hasSettableValue=j;const z=Symbol();e.$ids=z;const U=Symbol();e.$indexOf=U;const $=Symbol();e.$insertAt=$;const H=Symbol();e.$isCDATAXml=H;const V=Symbol();e.$isBindable=V;const q=Symbol();e.$isDataValue=q;const W=Symbol();e.$isDescendent=W;const X=Symbol();e.$isNsAgnostic=X;const G=Symbol();e.$isSplittable=G;const K=Symbol();e.$isThereMoreWidth=K;const Y=Symbol();e.$isTransparent=Y;const J=Symbol();e.$isUsable=J;const Z=Symbol(),Q=Symbol("namespaceId");e.$namespaceId=Q;const tt=Symbol("nodeName");e.$nodeName=tt;const et=Symbol();e.$nsAttributes=et;const rt=Symbol();e.$onChild=rt;const nt=Symbol();e.$onChildCheck=nt;const it=Symbol();e.$onText=it;const ot=Symbol();e.$pushGlyphs=ot;const st=Symbol();e.$popPara=st;const at=Symbol();e.$pushPara=at;const lt=Symbol();e.$removeChild=lt;const ct=Symbol("root");e.$root=ct;const ht=Symbol();e.$resolvePrototypes=ht;const ut=Symbol();e.$searchNode=ut;const pt=Symbol();e.$setId=pt;const dt=Symbol();e.$setSetAttributes=dt;const ft=Symbol();e.$setValue=ft;const gt=Symbol();e.$tabIndex=gt;const mt=Symbol();e.$text=mt;const yt=Symbol();e.$toPages=yt;const vt=Symbol();e.$toHTML=vt;const bt=Symbol();e.$toString=bt;const wt=Symbol();e.$toStyle=wt;const xt=Symbol("uid");e.$uid=xt;const St=Symbol(),kt=Symbol(),At=Symbol(),Ct=Symbol("_children"),_t=Symbol(),Tt=Symbol(),Ot=Symbol(),Mt=Symbol(),Et=Symbol(),Pt=Symbol(),It=Symbol(),Ft=Symbol(),Dt=Symbol(),Rt=Symbol("parent"),Lt=Symbol(),Nt=Symbol(),Bt=Symbol();let jt=0;const zt=s.NamespaceIds.datasets.id;class Ut{constructor(t,e,r=!1){this[Q]=t,this[tt]=e,this[It]=r,this[Rt]=null,this[Ct]=[],this[xt]=`${e}${jt++}`,this[B]=null}[rt](t){if(!this[It]||!this[nt](t))return!1;const e=t[tt],r=this[e];if(!(r instanceof $t))return null!==r&&this[lt](r),this[e]=t,this[h](t),!0;if(r.push(t))return this[h](t),!0;let n="";return this.id?n=` (id: ${this.id})`:this.name&&(n=` (name: ${this.name} ${this.h.value})`),(0,i.warn)(`XFA - node "${this[tt]}"${n} has already enough "${e}"!`),!1}[nt](t){return this.hasOwnProperty(t[tt])&&t[Q]===this[Q]}[X](){return!1}[l](){return!1}[H](){return!1}[V](){return!1}[st](){this.para&&this[N]()[w].paraStack.pop()}[at](){this[N]()[w].paraStack.push(this.para)}[pt](t){this.id&&this[Q]===s.NamespaceIds.template.id&&t.set(this.id,this)}[N](){return this[B].template}[G](){return!1}[K](){return!1}[h](t){t[Rt]=this,this[Ct].push(t),!t[B]&&this[B]&&(t[B]=this[B])}[lt](t){const e=this[Ct].indexOf(t);this[Ct].splice(e,1)}[j](){return this.hasOwnProperty("value")}[ft](t){}[it](t){}[x](){}[p](t){delete this[It],this[f]&&(t.clean(this[f]),delete this[f])}[U](t){return this[Ct].indexOf(t)}[$](t,e){e[Rt]=this,this[Ct].splice(t,0,e),!e[B]&&this[B]&&(e[B]=this[B])}[Y](){return!this.name}[Z](){return""}[mt](){return 0===this[Ct].length?this[y]:this[Ct].map((t=>t[mt]())).join("")}get[At](){const t=Object.getPrototypeOf(this);if(!t._attributes){const e=t._attributes=new Set;for(const t of Object.getOwnPropertyNames(this)){if(null===this[t]||this[t]instanceof Ut||this[t]instanceof $t)break;e.add(t)}}return(0,i.shadow)(this,At,t._attributes)}[W](t){let e=this;for(;e;){if(e===t)return!0;e=e[L]()}return!1}[L](){return this[Rt]}[R](){return this[L]()}[I](t=null){return t?this[t]:this[Ct]}[b](){const t=Object.create(null);this[y]&&(t.$content=this[y]);for(const e of Object.getOwnPropertyNames(this)){const r=this[e];null!==r&&(r instanceof Ut?t[e]=r[b]():r instanceof $t?r.isEmpty()||(t[e]=r.dump()):t[e]=r)}return t}[wt](){return null}[vt](){return n.HTMLResult.EMPTY}*[F](){for(const t of this[I]())yield t}*[Mt](t,e){for(const r of this[F]())if(!t||e===t.has(r[tt])){const t=this[C](),e=r[vt](t);e.success||(this[w].failingNode=r),yield e}}[S](){return null}[c](t,e){this[w].children.push(t)}[C](){}[u]({filter:t=null,include:e=!0}){if(this[w].generator){const t=this[C](),e=this[w].failingNode[vt](t);if(!e.success)return e;e.html&&this[c](e.html,e.bbox),delete this[w].failingNode}else this[w].generator=this[Mt](t,e);for(;;){const t=this[w].generator.next();if(t.done)break;const e=t.value;if(!e.success)return e;e.html&&this[c](e.html,e.bbox)}return this[w].generator=null,n.HTMLResult.EMPTY}[dt](t){this[Nt]=new Set(Object.keys(t))}[Pt](t){const e=this[At],r=this[Nt];return[...t].filter((t=>e.has(t)&&!r.has(t)))}[ht](t,e=new Set){for(const r of this[Ct])r[Lt](t,e)}[Lt](t,e){const r=this[Et](t,e);r?this[St](r,t,e):this[ht](t,e)}[Et](t,e){const{use:r,usehref:n}=this;if(!r&&!n)return null;let o=null,s=null,l=null,c=r;if(n?(c=n,n.startsWith("#som(")&&n.endsWith(")")?s=n.slice("#som(".length,n.length-1):n.startsWith(".#som(")&&n.endsWith(")")?s=n.slice(".#som(".length,n.length-1):n.startsWith("#")?l=n.slice(1):n.startsWith(".#")&&(l=n.slice(2))):r.startsWith("#")?l=r.slice(1):s=r,this.use=this.usehref="",l?o=t.get(l):(o=(0,a.searchNode)(t.get(ct),this,s,!0,!1),o&&(o=o[0])),!o)return(0,i.warn)(`XFA - Invalid prototype reference: ${c}.`),null;if(o[tt]!==this[tt])return(0,i.warn)(`XFA - Incompatible prototype: ${o[tt]} !== ${this[tt]}.`),null;if(e.has(o))return(0,i.warn)("XFA - Cycle detected in prototypes use."),null;e.add(o);const h=o[Et](t,e);return h&&o[St](h,t,e),o[ht](t,e),e.delete(o),o}[St](t,e,r){if(r.has(t))(0,i.warn)("XFA - Cycle detected in prototypes use.");else{!this[y]&&t[y]&&(this[y]=t[y]),new Set(r).add(t);for(const e of this[Pt](t[Nt]))this[e]=t[e],this[Nt]&&this[Nt].add(e);for(const n of Object.getOwnPropertyNames(this)){if(this[At].has(n))continue;const i=this[n],o=t[n];if(i instanceof $t){for(const t of i[Ct])t[Lt](e,r);for(let n=i[Ct].length,s=o[Ct].length;n<s;n++){const o=t[Ct][n][g]();if(!i.push(o))break;o[Rt]=this,this[Ct].push(o),o[Lt](e,r)}}else if(null===i){if(null!==o){const t=o[g]();t[Rt]=this,this[n]=t,this[Ct].push(t),t[Lt](e,r)}}else i[ht](e,r),o&&i[St](o,e,r)}}}static[_t](t){return Array.isArray(t)?t.map((t=>Ut[_t](t))):"object"==typeof t&&null!==t?Object.assign({},t):t}[g](){const t=Object.create(Object.getPrototypeOf(this));for(const e of Object.getOwnPropertySymbols(this))try{t[e]=this[e]}catch(r){(0,i.shadow)(t,e,this[e])}t[xt]=`${t[tt]}${jt++}`,t[Ct]=[];for(const e of Object.getOwnPropertyNames(this)){if(this[At].has(e)){t[e]=Ut[_t](this[e]);continue}const r=this[e];t[e]=r instanceof $t?new $t(r[Ft]):null}for(const e of this[Ct]){const r=e[tt],n=e[g]();t[Ct].push(n),n[Rt]=t,null===t[r]?t[r]=n:t[r][Ct].push(n)}return t}[I](t=null){return t?this[Ct].filter((e=>e[tt]===t)):this[Ct]}[_](t){return this[t]}[T](t,e,r=!0){return Array.from(this[O](t,e,r))}*[O](t,e,r=!0){if("parent"!==t){for(const r of this[Ct])r[tt]===t&&(yield r),r.name===t&&(yield r),(e||r[Y]())&&(yield*r[O](t,e,!1));r&&this[At].has(t)&&(yield new Ht(this,t,this[t]))}else yield this[Rt]}}e.XFAObject=Ut;class $t{constructor(t=1/0){this[Ft]=t,this[Ct]=[]}push(t){return this[Ct].length<=this[Ft]?(this[Ct].push(t),!0):((0,i.warn)(`XFA - node "${t[tt]}" accepts no more than ${this[Ft]} children`),!1)}isEmpty(){return 0===this[Ct].length}dump(){return 1===this[Ct].length?this[Ct][0][b]():this[Ct].map((t=>t[b]()))}[g](){const t=new $t(this[Ft]);return t[Ct]=this[Ct].map((t=>t[g]())),t}get children(){return this[Ct]}clear(){this[Ct].length=0}}e.XFAObjectArray=$t;class Ht{constructor(t,e,r){this[Rt]=t,this[tt]=e,this[y]=r,this[m]=!1,this[xt]="attribute"+jt++}[L](){return this[Rt]}[q](){return!0}[M](){return this[y].trim()}[ft](t){t=t.value||"",this[y]=t.toString()}[mt](){return this[y]}[W](t){return this[Rt]===t||this[Rt][W](t)}}e.XFAAttribute=Ht;class Vt extends Ut{constructor(t,e,r={}){if(super(t,e),this[y]="",this[Tt]=null,"#text"!==e){const t=new Map;this[kt]=t;for(const[e,n]of Object.entries(r))t.set(e,new Ht(this,e,n));if(r.hasOwnProperty(et)){const t=r[et].xfa.dataNode;void 0!==t&&("dataGroup"===t?this[Tt]=!1:"dataValue"===t&&(this[Tt]=!0))}}this[m]=!1}[bt](t){const e=this[tt];if("#text"===e)return void t.push((0,o.encodeToXmlString)(this[y]));const r=(0,i.utf8StringToString)(e),n=this[Q]===zt?"xfa:":"";t.push(`<${n}${r}`);for(const[e,r]of this[kt].entries()){const n=(0,i.utf8StringToString)(e);t.push(` ${n}="${(0,o.encodeToXmlString)(r[y])}"`)}if(null!==this[Tt]&&(this[Tt]?t.push(' xfa:dataNode="dataValue"'):t.push(' xfa:dataNode="dataGroup"')),this[y]||0!==this[Ct].length){if(t.push(">"),this[y])"string"==typeof this[y]?t.push((0,o.encodeToXmlString)(this[y])):this[y][bt](t);else for(const e of this[Ct])e[bt](t);t.push(`</${n}${r}>`)}else t.push("/>")}[rt](t){if(this[y]){const t=new Vt(this[Q],"#text");this[h](t),t[y]=this[y],this[y]=""}return this[h](t),!0}[it](t){this[y]+=t}[x](){if(this[y]&&this[Ct].length>0){const t=new Vt(this[Q],"#text");this[h](t),t[y]=this[y],delete this[y]}}[vt](){return"#text"===this[tt]?n.HTMLResult.success({name:"#text",value:this[y]}):n.HTMLResult.EMPTY}[I](t=null){return t?this[Ct].filter((e=>e[tt]===t)):this[Ct]}[A](){return this[kt]}[_](t){const e=this[kt].get(t);return void 0!==e?e:this[I](t)}*[O](t,e){const r=this[kt].get(t);r&&(yield r);for(const r of this[Ct])r[tt]===t&&(yield r),e&&(yield*r[O](t,e))}*[k](t,e){const r=this[kt].get(t);!r||e&&r[m]||(yield r);for(const r of this[Ct])yield*r[k](t,e)}*[P](t,e,r){for(const n of this[Ct])n[tt]!==t||r&&n[m]||(yield n),e&&(yield*n[P](t,e,r))}[q](){return null===this[Tt]?0===this[Ct].length||this[Ct][0][Q]===s.NamespaceIds.xhtml.id:this[Tt]}[M](){return null===this[Tt]?0===this[Ct].length?this[y].trim():this[Ct][0][Q]===s.NamespaceIds.xhtml.id?this[Ct][0][mt]().trim():null:this[y].trim()}[ft](t){t=t.value||"",this[y]=t.toString()}[b](t=!1){const e=Object.create(null);t&&(e.$ns=this[Q]),this[y]&&(e.$content=this[y]),e.$name=this[tt],e.children=[];for(const r of this[Ct])e.children.push(r[b](t));e.attributes=Object.create(null);for(const[t,r]of this[kt])e.attributes[t]=r[y];return e}}e.XmlObject=Vt;class qt extends Ut{constructor(t,e){super(t,e),this[y]=""}[it](t){this[y]+=t}[x](){}}e.ContentObject=qt,e.OptionObject=class extends qt{constructor(t,e,r){super(t,e),this[Dt]=r}[x](){this[y]=(0,n.getKeyword)({data:this[y],defaultValue:this[Dt][0],validate:t=>this[Dt].includes(t)})}[p](t){super[p](t),delete this[Dt]}},e.StringObject=class extends qt{[x](){this[y]=this[y].trim()}};class Wt extends qt{constructor(t,e,r,n){super(t,e),this[Ot]=r,this[Bt]=n}[x](){this[y]=(0,n.getInteger)({data:this[y],defaultValue:this[Ot],validate:this[Bt]})}[p](t){super[p](t),delete this[Ot],delete this[Bt]}}e.IntegerObject=Wt,e.Option01=class extends Wt{constructor(t,e){super(t,e,0,(t=>1===t))}},e.Option10=class extends Wt{constructor(t,e){super(t,e,1,(t=>0===t))}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HTMLResult=void 0,e.getBBox=function(t){const e=-1;if(!t)return{x:e,y:e,width:e,height:e};const r=t.trim().split(/\s*,\s*/).map((t=>a(t,"-1")));if(r.length<4||r[2]<0||r[3]<0)return{x:e,y:e,width:e,height:e};const[n,i,o,s]=r;return{x:n,y:i,width:o,height:s}},e.getColor=function(t,e=[0,0,0]){let[r,n,i]=e;if(!t)return{r,g:n,b:i};const o=t.trim().split(/\s*,\s*/).map((t=>Math.min(Math.max(0,parseInt(t.trim(),10)),255))).map((t=>isNaN(t)?0:t));return o.length<3||([r,n,i]=o),{r,g:n,b:i}},e.getFloat=function({data:t,defaultValue:e,validate:r}){if(!t)return e;t=t.trim();const n=parseFloat(t);return!isNaN(n)&&r(n)?n:e},e.getInteger=function({data:t,defaultValue:e,validate:r}){if(!t)return e;t=t.trim();const n=parseInt(t,10);return!isNaN(n)&&r(n)?n:e},e.getKeyword=s,e.getMeasurement=a,e.getRatio=function(t){if(!t)return{num:1,den:1};const e=t.trim().split(/\s*:\s*/).map((t=>parseFloat(t))).filter((t=>!isNaN(t)));if(1===e.length&&e.push(1),0===e.length)return{num:1,den:1};const[r,n]=e;return{num:r,den:n}},e.getRelevant=function(t){return t?t.trim().split(/\s+/).map((t=>({excluded:"-"===t[0],viewname:t.substring(1)}))):[]},e.getStringOption=function(t,e){return s({data:t,defaultValue:e[0],validate:t=>e.includes(t)})},e.stripQuotes=function(t){return t.startsWith("'")||t.startsWith('"')?t.slice(1,t.length-1):t};var n=r(2);const i={pt:t=>t,cm:t=>t/2.54*72,mm:t=>t/25.4*72,in:t=>72*t,px:t=>t},o=/([+-]?\d+\.?\d*)(.*)/;function s({data:t,defaultValue:e,validate:r}){return t&&r(t=t.trim())?t:e}function a(t,e="0"){if(e=e||"0",!t)return a(e);const r=t.trim().match(o);if(!r)return a(e);const[,n,s]=r,l=parseFloat(n);if(isNaN(l))return a(e);if(0===l)return 0;const c=i[s];return c?c(l):l}class l{static get FAILURE(){return(0,n.shadow)(this,"FAILURE",new l(!1,null,null,null))}static get EMPTY(){return(0,n.shadow)(this,"EMPTY",new l(!0,null,null,null))}constructor(t,e,r,n){this.success=t,this.html=e,this.bbox=r,this.breakNode=n}isBreak(){return!!this.breakNode}static breakNode(t){return new l(!1,null,null,t)}static success(t,e=null){return new l(!0,t,e,null)}}e.HTMLResult=l},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamespaceIds=e.$buildXFAObject=void 0;const r=Symbol();e.$buildXFAObject=r,e.NamespaceIds={config:{id:0,check:t=>t.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:t=>"http://ns.adobe.com/xdp/pdf/"===t},signature:{id:6,check:t=>"http://www.w3.org/2000/09/xmldsig#"===t},sourceSet:{id:7,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:t=>"http://www.w3.org/1999/XSL/Transform"===t},template:{id:9,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:t=>t.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:t=>"http://ns.adobe.com/xdp/"===t},xfdf:{id:12,check:t=>"http://ns.adobe.com/xfdf/"===t},xhtml:{id:13,check:t=>"http://www.w3.org/1999/xhtml"===t},xmpmeta:{id:14,check:t=>"http://ns.adobe.com/xmpmeta/"===t}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createDataNode=function(t,e,r){const i=m(r);if(!i)return null;if(i.some((t=>t.operator===c)))return null;const s=d.get(i[0].name);let a=0;s?(t=s(t,e),a=1):t=e||t;for(let e=i.length;a<e;a++){const{name:e,operator:r,index:s}=i[a];if(!isFinite(s))return i[a].index=0,y(t,i.slice(a));let u;switch(r){case l:u=t[n.$getChildrenByName](e,!1);break;case c:u=t[n.$getChildrenByName](e,!0);break;case h:u=t[n.$getChildrenByClass](e),u=u instanceof n.XFAObjectArray?u.children:[u]}if(0===u.length)return y(t,i.slice(a));if(!(s<u.length))return i[a].index=s-u.length,y(t,i.slice(a));{const e=u[s];if(!(e instanceof n.XFAObject))return(0,o.warn)("XFA - Cannot create a node."),null;t=e}}return null},e.searchNode=function(t,e,r,i=!0,o=!0){const s=m(r,i);if(!s)return null;const a=d.get(s[0].name);let u,p=0;a?(u=!0,t=[a(t,e)],p=1):(u=null===e,t=[e||t]);for(let r=s.length;p<r;p++){const{name:r,cacheName:i,operator:a,index:d}=s[p],g=[];for(const e of t){if(!(e instanceof n.XFAObject))continue;let t,s;if(o&&(s=f.get(e),s||(s=new Map,f.set(e,s)),t=s.get(i)),!t){switch(a){case l:t=e[n.$getChildrenByName](r,!1);break;case c:t=e[n.$getChildrenByName](r,!0);break;case h:t=e[n.$getChildrenByClass](r),t=t instanceof n.XFAObjectArray?t.children:[t]}o&&s.set(i,t)}t.length>0&&g.push(t)}if(0!==g.length||u||0!==p)t=isFinite(d)?g.filter((t=>d<t.length)).map((t=>t[d])):g.reduce(((t,e)=>t.concat(e)),[]);else{const r=e[n.$getParent]();if(!(e=r))return null;p=-1,t=[e]}}return 0===t.length?null:t};var n=r(77),i=r(79),o=r(2);const s=/^[^.[]+/,a=/^[^\]]+/,l=0,c=1,h=2,u=3,p=4,d=new Map([["$data",(t,e)=>t.datasets?t.datasets.data:t],["$record",(t,e)=>(t.datasets?t.datasets.data:t)[n.$getChildren]()[0]],["$template",(t,e)=>t.template],["$connectionSet",(t,e)=>t.connectionSet],["$form",(t,e)=>t.form],["$layout",(t,e)=>t.layout],["$host",(t,e)=>t.host],["$dataWindow",(t,e)=>t.dataWindow],["$event",(t,e)=>t.event],["!",(t,e)=>t.datasets],["$xfa",(t,e)=>t],["xfa",(t,e)=>t],["$",(t,e)=>e]]),f=new WeakMap,g=i.NamespaceIds.datasets.id;function m(t,e,r=!0){let n=t.match(s);if(!n)return null;let[i]=n;const d=[{name:i,cacheName:"."+i,index:0,js:null,formCalc:null,operator:l}];let f=i.length;for(;f<t.length;){const m=f;if("["===t.charAt(f++)){if(n=t.slice(f).match(a),!n)return(0,o.warn)("XFA - Invalid index in SOM expression"),null;d[d.length-1].index="*"===(g=(g=n[0]).trim())?1/0:parseInt(g,10)||0,f+=n[0].length+1;continue}let y;switch(t.charAt(f)){case".":if(!e)return null;f++,y=c;break;case"#":f++,y=h;break;case"[":if(r)return(0,o.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;y=u;break;case"(":if(r)return(0,o.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;y=p;break;default:y=l}if(n=t.slice(f).match(s),!n)break;[i]=n,f+=i.length,d.push({name:i,cacheName:t.slice(m,f),operator:y,index:0,js:null,formCalc:null})}var g;return d}function y(t,e){let r=null;for(const{name:i,index:o}of e){for(let e=0,s=isFinite(o)?o:0;e<=s;e++){const e=t[n.$namespaceId]===g?-1:t[n.$namespaceId];r=new n.XmlObject(e,i),t[n.$appendChild](r)}t=r}return r}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Binder=void 0;var n=r(77),i=r(82),o=r(80),s=r(79),a=r(2);const l=s.NamespaceIds.datasets.id;function c(t){const e=new i.Text({});return e[n.$content]=t,e}e.Binder=class{constructor(t){this.root=t,this.datasets=t.datasets,t.datasets&&t.datasets.data?this.data=t.datasets.data:this.data=new n.XmlObject(s.NamespaceIds.datasets.id,"data"),this.emptyMerge=0===this.data[n.$getChildren]().length,this.root.form=this.form=t.template[n.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(t,e,r){if(t[n.$data]=e,t[n.$hasSettableValue]())if(e[n.$isDataValue]()){const r=e[n.$getDataValue]();t[n.$setValue](c(r))}else if(t instanceof i.Field&&t.ui&&t.ui.choiceList&&"multiSelect"===t.ui.choiceList.open){const r=e[n.$getChildren]().map((t=>t[n.$content].trim())).join("\n");t[n.$setValue](c(r))}else this._isConsumeData()&&(0,a.warn)("XFA - Nodes haven't the same type.");else!e[n.$isDataValue]()||this._isMatchTemplate()?this._bindElement(t,e):(0,a.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(t,e,r,i){if(!t)return null;let o,a;for(let i=0;i<3;i++){for(o=r[n.$getRealChildrenByNameIt](t,!1,!0);a=o.next().value,a;)if(e===a[n.$isDataValue]())return a;if(r[n.$namespaceId]===s.NamespaceIds.datasets.id&&"data"===r[n.$nodeName])break;r=r[n.$getParent]()}return i?(o=this.data[n.$getRealChildrenByNameIt](t,!0,!1),a=o.next().value,a||(o=this.data[n.$getAttributeIt](t,!0),a=o.next().value,a&&a[n.$isDataValue]()?a:null)):null}_setProperties(t,e){if(t.hasOwnProperty("setProperty"))for(const{ref:r,target:s,connection:l}of t.setProperty.children){if(l)continue;if(!r)continue;const c=(0,o.searchNode)(this.root,e,r,!1,!1);if(!c){(0,a.warn)(`XFA - Invalid reference: ${r}.`);continue}const[h]=c;if(!h[n.$isDescendent](this.data)){(0,a.warn)("XFA - Invalid node: must be a data node.");continue}const u=(0,o.searchNode)(this.root,t,s,!1,!1);if(!u){(0,a.warn)(`XFA - Invalid target: ${s}.`);continue}const[p]=u;if(!p[n.$isDescendent](t)){(0,a.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const d=p[n.$getParent]();if(p instanceof i.SetProperty||d instanceof i.SetProperty){(0,a.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(p instanceof i.BindItems||d instanceof i.BindItems){(0,a.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const f=h[n.$text](),g=p[n.$nodeName];if(p instanceof n.XFAAttribute){const t=Object.create(null);t[g]=f;const e=Reflect.construct(Object.getPrototypeOf(d).constructor,[t]);d[g]=e[g]}else p.hasOwnProperty(n.$content)?(p[n.$data]=h,p[n.$content]=f,p[n.$finalize]()):(0,a.warn)("XFA - Invalid node to use in setProperty")}}_bindItems(t,e){if(!t.hasOwnProperty("items")||!t.hasOwnProperty("bindItems")||t.bindItems.isEmpty())return;for(const e of t.items.children)t[n.$removeChild](e);t.items.clear();const r=new i.Items({}),s=new i.Items({});t[n.$appendChild](r),t.items.push(r),t[n.$appendChild](s),t.items.push(s);for(const{ref:i,labelRef:l,valueRef:h,connection:u}of t.bindItems.children){if(u)continue;if(!i)continue;const t=(0,o.searchNode)(this.root,e,i,!1,!1);if(t)for(const e of t){if(!e[n.$isDescendent](this.datasets)){(0,a.warn)(`XFA - Invalid ref (${i}): must be a datasets child.`);continue}const t=(0,o.searchNode)(this.root,e,l,!0,!1);if(!t){(0,a.warn)(`XFA - Invalid label: ${l}.`);continue}const[u]=t;if(!u[n.$isDescendent](this.datasets)){(0,a.warn)("XFA - Invalid label: must be a datasets child.");continue}const p=(0,o.searchNode)(this.root,e,h,!0,!1);if(!p){(0,a.warn)(`XFA - Invalid value: ${h}.`);continue}const[d]=p;if(!d[n.$isDescendent](this.datasets)){(0,a.warn)("XFA - Invalid value: must be a datasets child.");continue}const f=c(u[n.$text]()),g=c(d[n.$text]());r[n.$appendChild](f),r.text.push(f),s[n.$appendChild](g),s.text.push(g)}else(0,a.warn)(`XFA - Invalid reference: ${i}.`)}}_bindOccurrences(t,e,r){let i;if(e.length>1&&(i=t[n.$clone](),i[n.$removeChild](i.occur),i.occur=null),this._bindValue(t,e[0],r),this._setProperties(t,e[0]),this._bindItems(t,e[0]),1===e.length)return;const o=t[n.$getParent](),s=t[n.$nodeName],a=o[n.$indexOf](t);for(let t=1,l=e.length;t<l;t++){const l=e[t],c=i[n.$clone]();o[s].push(c),o[n.$insertAt](a+t,c),this._bindValue(c,l,r),this._setProperties(c,l),this._bindItems(c,l)}}_createOccurrences(t){if(!this.emptyMerge)return;const{occur:e}=t;if(!e||e.initial<=1)return;const r=t[n.$getParent](),i=t[n.$nodeName];if(!(r[i]instanceof n.XFAObjectArray))return;let o;o=t.name?r[i].children.filter((e=>e.name===t.name)).length:r[i].children.length;const s=r[n.$indexOf](t)+1,a=e.initial-o;if(a){const e=t[n.$clone]();e[n.$removeChild](e.occur),e.occur=null,r[i].push(e),r[n.$insertAt](s,e);for(let t=1;t<a;t++){const o=e[n.$clone]();r[i].push(o),r[n.$insertAt](s+t,o)}}}_getOccurInfo(t){const{name:e,occur:r}=t;if(!r||!e)return[1,1];const n=-1===r.max?1/0:r.max;return[r.min,n]}_setAndBind(t,e){this._setProperties(t,e),this._bindItems(t,e),this._bindElement(t,e)}_bindElement(t,e){const r=[];this._createOccurrences(t);for(const i of t[n.$getChildren]()){if(i[n.$data])continue;if(void 0===this._mergeMode&&"subform"===i[n.$nodeName]){this._mergeMode="consumeData"===i.mergeMode;const t=e[n.$getChildren]();if(t.length>0)this._bindOccurrences(i,[t[0]],null);else if(this.emptyMerge){const t=e[n.$namespaceId]===l?-1:e[n.$namespaceId],r=i[n.$data]=new n.XmlObject(t,i.name||"root");e[n.$appendChild](r),this._bindElement(i,r)}continue}if(!i[n.$isBindable]())continue;let t=!1,s=null,c=null,h=null;if(i.bind){switch(i.bind.match){case"none":this._setAndBind(i,e);continue;case"global":t=!0;break;case"dataRef":if(!i.bind.ref){(0,a.warn)(`XFA - ref is empty in node ${i[n.$nodeName]}.`),this._setAndBind(i,e);continue}c=i.bind.ref}i.bind.picture&&(s=i.bind.picture[n.$content])}const[u,p]=this._getOccurInfo(i);if(c){if(h=(0,o.searchNode)(this.root,e,c,!0,!1),null===h){if(h=(0,o.createDataNode)(this.data,e,c),!h)continue;this._isConsumeData()&&(h[n.$consumed]=!0),this._setAndBind(i,h);continue}this._isConsumeData()&&(h=h.filter((t=>!t[n.$consumed]))),h.length>p?h=h.slice(0,p):0===h.length&&(h=null),h&&this._isConsumeData()&&h.forEach((t=>{t[n.$consumed]=!0}))}else{if(!i.name){this._setAndBind(i,e);continue}if(this._isConsumeData()){const r=[];for(;r.length<p;){const o=this._findDataByNameToConsume(i.name,i[n.$hasSettableValue](),e,t);if(!o)break;o[n.$consumed]=!0,r.push(o)}h=r.length>0?r:null}else{if(h=e[n.$getRealChildrenByNameIt](i.name,!1,this.emptyMerge).next().value,!h){if(0===u){r.push(i);continue}const t=e[n.$namespaceId]===l?-1:e[n.$namespaceId];h=i[n.$data]=new n.XmlObject(t,i.name),this.emptyMerge&&(h[n.$consumed]=!0),e[n.$appendChild](h),this._setAndBind(i,h);continue}this.emptyMerge&&(h[n.$consumed]=!0),h=[h]}}h?this._bindOccurrences(i,h,s):u>0?this._setAndBind(i,e):r.push(i)}r.forEach((t=>t[n.$getParent]()[n.$removeChild](t)))}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Value=e.Text=e.TemplateNamespace=e.Template=e.SetProperty=e.Items=e.Field=e.BindItems=void 0;var n=r(77),i=r(79),o=r(83),s=r(84),a=r(78),l=r(2),c=r(85),h=r(8),u=r(80);const p=i.NamespaceIds.template.id,d="http://www.w3.org/2000/svg",f=/^H(\d+)$/,g=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),m=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function y(t){if(!t||!t.border)return{w:0,h:0};const e=t.border[n.$getExtra]();return e?{w:e.widths[0]+e.widths[2]+e.insets[0]+e.insets[2],h:e.widths[1]+e.widths[3]+e.insets[1]+e.insets[3]}:{w:0,h:0}}function v(t){return t.margin&&(t.margin.topInset||t.margin.rightInset||t.margin.bottomInset||t.margin.leftInset)}function b(t,e){if(!t.value){const e=new Ie({});t[n.$appendChild](e),t.value=e}t.value[n.$setValue](e)}function*w(t){for(const e of t[n.$getChildren]())e instanceof ve?yield*e[n.$getContainedChildren]():yield e}function x(t){for(;t;){if(!t.traversal)return void(t[n.$tabIndex]=t[n.$getParent]()[n.$tabIndex]);if(t[n.$tabIndex])return;let e=null;for(const r of t.traversal[n.$getChildren]())if("next"===r.operation){e=r;break}if(!e||!e.ref)return void(t[n.$tabIndex]=t[n.$getParent]()[n.$tabIndex]);const r=t[n.$getTemplateRoot]();t[n.$tabIndex]=++r[n.$tabIndex];const i=r[n.$searchNode](e.ref,t);if(!i)return;t=i[0]}}function S(t,e){const r=t.assist;if(r){const t=r[n.$toHTML]();t&&(e.title=t);const i=r.role.match(f);if(i){const t="heading",r=i[1];e.role=t,e["aria-level"]=r}}if("table"===t.layout)e.role="table";else if("row"===t.layout)e.role="row";else{const r=t[n.$getParent]();"row"===r.layout&&(r.assist&&"TH"===r.assist.role?e.role="columnheader":e.role="cell")}}function k(t){if(!t.assist)return null;const e=t.assist;return e.speak&&""!==e.speak[n.$content]?e.speak[n.$content]:e.toolTip?e.toolTip[n.$content]:null}function A(t){return a.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:t}]})}function C(t){const e=t[n.$getTemplateRoot]();null===e[n.$extra].firstUnsplittable&&(e[n.$extra].firstUnsplittable=t,e[n.$extra].noLayoutFailure=!0)}function _(t){const e=t[n.$getTemplateRoot]();e[n.$extra].firstUnsplittable===t&&(e[n.$extra].noLayoutFailure=!1)}function T(t){if(t[n.$extra])return!1;if(t[n.$extra]=Object.create(null),"auto"===t.targetType)return!1;const e=t[n.$getTemplateRoot]();let r=null;if(t.target){if(r=e[n.$searchNode](t.target,t[n.$getParent]()),!r)return!1;r=r[0]}const{currentPageArea:i,currentContentArea:o}=e[n.$extra];if("pageArea"===t.targetType)return r instanceof Jt||(r=null),t.startNew?(t[n.$extra].target=r||i,!0):!(!r||r===i||(t[n.$extra].target=r,0));r instanceof Z||(r=null);const s=r&&r[n.$getParent]();let a,l=s;if(t.startNew)if(r){const t=s.contentArea.children,e=t.indexOf(o),n=t.indexOf(r);-1!==e&&e<n&&(l=null),a=n-1}else a=i.contentArea.children.indexOf(o);else{if(!r||r===o)return!1;a=s.contentArea.children.indexOf(r)-1,l=s===i?null:s}return t[n.$extra].target=l,t[n.$extra].index=a,!0}function O(t,e,r){const i=t[n.$getTemplateRoot](),o=i[n.$extra].noLayoutFailure,s=e[n.$getSubformParent];e[n.$getSubformParent]=()=>t,i[n.$extra].noLayoutFailure=!0;const a=e[n.$toHTML](r);t[n.$addHTML](a.html,a.bbox),i[n.$extra].noLayoutFailure=o,e[n.$getSubformParent]=s}class M extends n.StringObject{constructor(t){super(p,"appearanceFilter"),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}}class E extends n.XFAObject{constructor(t){super(p,"arc",!0),this.circular=(0,a.getInteger)({data:t.circular,defaultValue:0,validate:t=>1===t}),this.hand=(0,a.getStringOption)(t.hand,["even","left","right"]),this.id=t.id||"",this.startAngle=(0,a.getFloat)({data:t.startAngle,defaultValue:0,validate:t=>!0}),this.sweepAngle=(0,a.getFloat)({data:t.sweepAngle,defaultValue:360,validate:t=>!0}),this.use=t.use||"",this.usehref=t.usehref||"",this.edge=null,this.fill=null}[n.$toHTML](){const t=this.edge?this.edge:new ct({}),e=t[n.$toStyle](),r=Object.create(null);let i;this.fill&&"visible"===this.fill.presence?Object.assign(r,this.fill[n.$toStyle]()):r.fill="transparent",r.strokeWidth=(0,s.measureToString)("visible"===t.presence?t.thickness:0),r.stroke=e.color;const o={xmlns:d,style:{width:"100%",height:"100%",overflow:"visible"}};if(360===this.sweepAngle)i={name:"ellipse",attributes:{xmlns:d,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:r}};else{const t=this.startAngle*Math.PI/180,e=this.sweepAngle*Math.PI/180,n=this.sweepAngle>180?1:0,[s,a,l,c]=[50*(1+Math.cos(t)),50*(1-Math.sin(t)),50*(1+Math.cos(t+e)),50*(1-Math.sin(t+e))];i={name:"path",attributes:{xmlns:d,d:`M ${s} ${a} A 50 50 0 ${n} 0 ${l} ${c}`,vectorEffect:"non-scaling-stroke",style:r}},Object.assign(o,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const l={name:"svg",children:[i],attributes:o};return v(this[n.$getParent]()[n.$getParent]())?a.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[l]}):(l.attributes.style.position="absolute",a.HTMLResult.success(l))}}class P extends n.XFAObject{constructor(t){super(p,"area",!0),this.colSpan=(0,a.getInteger)({data:t.colSpan,defaultValue:1,validate:t=>t>=1||-1===t}),this.id=t.id||"",this.name=t.name||"",this.relevant=(0,a.getRelevant)(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.x=(0,a.getMeasurement)(t.x,"0pt"),this.y=(0,a.getMeasurement)(t.y,"0pt"),this.desc=null,this.extras=null,this.area=new n.XFAObjectArray,this.draw=new n.XFAObjectArray,this.exObject=new n.XFAObjectArray,this.exclGroup=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.subform=new n.XFAObjectArray,this.subformSet=new n.XFAObjectArray}*[n.$getContainedChildren](){yield*w(this)}[n.$isTransparent](){return!0}[n.$isBindable](){return!0}[n.$addHTML](t,e){const[r,i,o,s]=e;this[n.$extra].width=Math.max(this[n.$extra].width,r+o),this[n.$extra].height=Math.max(this[n.$extra].height,i+s),this[n.$extra].children.push(t)}[n.$getAvailableSpace](){return this[n.$extra].availableSpace}[n.$toHTML](t){const e=(0,s.toStyle)(this,"position"),r={style:e,id:this[n.$uid],class:["xfaArea"]};(0,s.isPrintOnly)(this)&&r.class.push("xfaPrintOnly"),this.name&&(r.xfaName=this.name);const i=[];this[n.$extra]={children:i,width:0,height:0,availableSpace:t};const o=this[n.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!o.success)return o.isBreak()?o:(delete this[n.$extra],a.HTMLResult.FAILURE);e.width=(0,s.measureToString)(this[n.$extra].width),e.height=(0,s.measureToString)(this[n.$extra].height);const l={name:"div",attributes:r,children:i},c=[this.x,this.y,this[n.$extra].width,this[n.$extra].height];return delete this[n.$extra],a.HTMLResult.success(l,c)}}class I extends n.XFAObject{constructor(t){super(p,"assist",!0),this.id=t.id||"",this.role=t.role||"",this.use=t.use||"",this.usehref=t.usehref||"",this.speak=null,this.toolTip=null}[n.$toHTML](){return this.toolTip&&this.toolTip[n.$content]?this.toolTip[n.$content]:null}}class F extends n.XFAObject{constructor(t){super(p,"barcode",!0),this.charEncoding=(0,a.getKeyword)({data:t.charEncoding?t.charEncoding.toLowerCase():"",defaultValue:"",validate:t=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(t)||t.match(/iso-8859-\d{2}/)}),this.checksum=(0,a.getStringOption)(t.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,a.getInteger)({data:t.dataColumnCount,defaultValue:-1,validate:t=>t>=0}),this.dataLength=(0,a.getInteger)({data:t.dataLength,defaultValue:-1,validate:t=>t>=0}),this.dataPrep=(0,a.getStringOption)(t.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,a.getInteger)({data:t.dataRowCount,defaultValue:-1,validate:t=>t>=0}),this.endChar=t.endChar||"",this.errorCorrectionLevel=(0,a.getInteger)({data:t.errorCorrectionLevel,defaultValue:-1,validate:t=>t>=0&&t<=8}),this.id=t.id||"",this.moduleHeight=(0,a.getMeasurement)(t.moduleHeight,"5mm"),this.moduleWidth=(0,a.getMeasurement)(t.moduleWidth,"0.25mm"),this.printCheckDigit=(0,a.getInteger)({data:t.printCheckDigit,defaultValue:0,validate:t=>1===t}),this.rowColumnRatio=(0,a.getRatio)(t.rowColumnRatio),this.startChar=t.startChar||"",this.textLocation=(0,a.getStringOption)(t.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,a.getInteger)({data:t.truncate,defaultValue:0,validate:t=>1===t}),this.type=(0,a.getStringOption)(t.type?t.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,a.getStringOption)(t.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=t.use||"",this.usehref=t.usehref||"",this.wideNarrowRatio=(0,a.getRatio)(t.wideNarrowRatio),this.encrypt=null,this.extras=null}}class D extends n.XFAObject{constructor(t){super(p,"bind",!0),this.match=(0,a.getStringOption)(t.match,["once","dataRef","global","none"]),this.ref=t.ref||"",this.picture=null}}class R extends n.XFAObject{constructor(t){super(p,"bindItems"),this.connection=t.connection||"",this.labelRef=t.labelRef||"",this.ref=t.ref||"",this.valueRef=t.valueRef||""}}e.BindItems=R;class L extends n.XFAObject{constructor(t){super(p,"bookend"),this.id=t.id||"",this.leader=t.leader||"",this.trailer=t.trailer||"",this.use=t.use||"",this.usehref=t.usehref||""}}class N extends n.Option01{constructor(t){super(p,"boolean"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[n.$toHTML](t){return A(1===this[n.$content]?"1":"0")}}class B extends n.XFAObject{constructor(t){super(p,"border",!0),this.break=(0,a.getStringOption)(t.break,["close","open"]),this.hand=(0,a.getStringOption)(t.hand,["even","left","right"]),this.id=t.id||"",this.presence=(0,a.getStringOption)(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,a.getRelevant)(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.corner=new n.XFAObjectArray(4),this.edge=new n.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[n.$getExtra](){if(!this[n.$extra]){const t=this.edge.children.slice();if(t.length<4){const e=t[t.length-1]||new ct({});for(let r=t.length;r<4;r++)t.push(e)}const e=t.map((t=>t.thickness)),r=[0,0,0,0];this.margin&&(r[0]=this.margin.topInset,r[1]=this.margin.rightInset,r[2]=this.margin.bottomInset,r[3]=this.margin.leftInset),this[n.$extra]={widths:e,insets:r,edges:t}}return this[n.$extra]}[n.$toStyle](){const{edges:t}=this[n.$getExtra](),e=t.map((t=>{const e=t[n.$toStyle]();return e.color=e.color||"#000000",e})),r=Object.create(null);if(this.margin&&Object.assign(r,this.margin[n.$toStyle]()),this.fill&&"visible"===this.fill.presence&&Object.assign(r,this.fill[n.$toStyle]()),this.corner.children.some((t=>0!==t.radius))){const t=this.corner.children.map((t=>t[n.$toStyle]()));if(2===t.length||3===t.length){const e=t[t.length-1];for(let r=t.length;r<4;r++)t.push(e)}r.borderRadius=t.map((t=>t.radius)).join(" ")}switch(this.presence){case"invisible":case"hidden":r.borderStyle="";break;case"inactive":r.borderStyle="none";break;default:r.borderStyle=e.map((t=>t.style)).join(" ")}return r.borderWidth=e.map((t=>t.width)).join(" "),r.borderColor=e.map((t=>t.color)).join(" "),r}}class j extends n.XFAObject{constructor(t){super(p,"break",!0),this.after=(0,a.getStringOption)(t.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=t.afterTarget||"",this.before=(0,a.getStringOption)(t.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=t.beforeTarget||"",this.bookendLeader=t.bookendLeader||"",this.bookendTrailer=t.bookendTrailer||"",this.id=t.id||"",this.overflowLeader=t.overflowLeader||"",this.overflowTarget=t.overflowTarget||"",this.overflowTrailer=t.overflowTrailer||"",this.startNew=(0,a.getInteger)({data:t.startNew,defaultValue:0,validate:t=>1===t}),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}}class z extends n.XFAObject{constructor(t){super(p,"breakAfter",!0),this.id=t.id||"",this.leader=t.leader||"",this.startNew=(0,a.getInteger)({data:t.startNew,defaultValue:0,validate:t=>1===t}),this.target=t.target||"",this.targetType=(0,a.getStringOption)(t.targetType,["auto","contentArea","pageArea"]),this.trailer=t.trailer||"",this.use=t.use||"",this.usehref=t.usehref||"",this.script=null}}class U extends n.XFAObject{constructor(t){super(p,"breakBefore",!0),this.id=t.id||"",this.leader=t.leader||"",this.startNew=(0,a.getInteger)({data:t.startNew,defaultValue:0,validate:t=>1===t}),this.target=t.target||"",this.targetType=(0,a.getStringOption)(t.targetType,["auto","contentArea","pageArea"]),this.trailer=t.trailer||"",this.use=t.use||"",this.usehref=t.usehref||"",this.script=null}[n.$toHTML](t){return this[n.$extra]={},a.HTMLResult.FAILURE}}class $ extends n.XFAObject{constructor(t){super(p,"button",!0),this.highlight=(0,a.getStringOption)(t.highlight,["inverted","none","outline","push"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}[n.$toHTML](t){const e=this[n.$getParent]()[n.$getParent](),r={name:"button",attributes:{id:this[n.$uid],class:["xfaButton"],style:{}},children:[]};for(const t of e.event.children){if("click"!==t.activity||!t.script)continue;const e=(0,h.recoverJsURL)(t.script[n.$content]);if(!e)continue;const i=(0,s.fixURL)(e.url);i&&r.children.push({name:"a",attributes:{id:"link"+this[n.$uid],href:i,newWindow:e.newWindow,class:["xfaLink"],style:{}},children:[]})}return a.HTMLResult.success(r)}}class H extends n.XFAObject{constructor(t){super(p,"calculate",!0),this.id=t.id||"",this.override=(0,a.getStringOption)(t.override,["disabled","error","ignore","warning"]),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.message=null,this.script=null}}class V extends n.XFAObject{constructor(t){super(p,"caption",!0),this.id=t.id||"",this.placement=(0,a.getStringOption)(t.placement,["left","bottom","inline","right","top"]),this.presence=(0,a.getStringOption)(t.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,a.getMeasurement)(t.reserve)),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[n.$setValue](t){b(this,t)}[n.$getExtra](t){if(!this[n.$extra]){let{width:e,height:r}=t;switch(this.placement){case"left":case"right":case"inline":e=this.reserve<=0?e:this.reserve;break;case"top":case"bottom":r=this.reserve<=0?r:this.reserve}this[n.$extra]=(0,s.layoutNode)(this,{width:e,height:r})}return this[n.$extra]}[n.$toHTML](t){if(!this.value)return a.HTMLResult.EMPTY;this[n.$pushPara]();const e=this.value[n.$toHTML](t).html;if(!e)return this[n.$popPara](),a.HTMLResult.EMPTY;const r=this.reserve;if(this.reserve<=0){const{w:e,h:r}=this[n.$getExtra](t);switch(this.placement){case"left":case"right":case"inline":this.reserve=e;break;case"top":case"bottom":this.reserve=r}}const i=[];"string"==typeof e?i.push({name:"#text",value:e}):i.push(e);const o=(0,s.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(o.width=(0,s.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(o.height=(0,s.measureToString)(this.reserve))}return(0,s.setPara)(this,null,e),this[n.$popPara](),this.reserve=r,a.HTMLResult.success({name:"div",attributes:{style:o,class:["xfaCaption"]},children:i})}}class q extends n.StringObject{constructor(t){super(p,"certificate"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class W extends n.XFAObject{constructor(t){super(p,"certificates",!0),this.credentialServerPolicy=(0,a.getStringOption)(t.credentialServerPolicy,["optional","required"]),this.id=t.id||"",this.url=t.url||"",this.urlPolicy=t.urlPolicy||"",this.use=t.use||"",this.usehref=t.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class X extends n.XFAObject{constructor(t){super(p,"checkButton",!0),this.id=t.id||"",this.mark=(0,a.getStringOption)(t.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,a.getStringOption)(t.shape,["square","round"]),this.size=(0,a.getMeasurement)(t.size,"10pt"),this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](t){const e=(0,s.toStyle)("margin"),r=(0,s.measureToString)(this.size);let i,o,l;e.width=e.height=r;const c=this[n.$getParent]()[n.$getParent](),h=c.items.children.length&&c.items.children[0][n.$toHTML]().html||[],u={on:(void 0!==h[0]?h[0]:"on").toString(),off:(void 0!==h[1]?h[1]:"off").toString()},p=(c.value&&c.value[n.$text]()||"off")===u.on||void 0,d=c[n.$getSubformParent](),f=c[n.$uid];let g;d instanceof wt?(l=d[n.$uid],i="radio",o="xfaRadio",g=d[n.$data]&&d[n.$data][n.$uid]||d[n.$uid]):(i="checkbox",o="xfaCheckbox",g=c[n.$data]&&c[n.$data][n.$uid]||c[n.$uid]);const m={name:"input",attributes:{class:[o],style:e,fieldId:f,dataId:g,type:i,checked:p,xfaOn:u.on,xfaOff:u.off,"aria-label":k(c)}};return l&&(m.attributes.name=l),a.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[m]})}}class G extends n.XFAObject{constructor(t){super(p,"choiceList",!0),this.commitOn=(0,a.getStringOption)(t.commitOn,["select","exit"]),this.id=t.id||"",this.open=(0,a.getStringOption)(t.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,a.getInteger)({data:t.textEntry,defaultValue:0,validate:t=>1===t}),this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](t){const e=(0,s.toStyle)(this,"border","margin"),r=this[n.$getParent]()[n.$getParent](),i={fontSize:`calc(${r.font&&r.font.size||10}px * var(--zoom-factor))`},o=[];if(r.items.children.length>0){const t=r.items;let e=0,s=0;2===t.children.length&&(e=t.children[0].save,s=1-e);const a=t.children[e][n.$toHTML]().html,l=t.children[s][n.$toHTML]().html;let c=!1;const h=r.value&&r.value[n.$text]()||"";for(let t=0,e=a.length;t<e;t++){const e={name:"option",attributes:{value:l[t]||a[t],style:i},value:a[t]};l[t]===h&&(e.attributes.selected=c=!0),o.push(e)}c||o.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const l={class:["xfaSelect"],fieldId:r[n.$uid],dataId:r[n.$data]&&r[n.$data][n.$uid]||r[n.$uid],style:e,"aria-label":k(r)};return"multiSelect"===this.open&&(l.multiple=!0),a.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:o,attributes:l}]})}}class K extends n.XFAObject{constructor(t){super(p,"color",!0),this.cSpace=(0,a.getStringOption)(t.cSpace,["SRGB"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.value=t.value?(0,a.getColor)(t.value):"",this.extras=null}[n.$hasSettableValue](){return!1}[n.$toStyle](){return this.value?l.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Y extends n.XFAObject{constructor(t){super(p,"comb"),this.id=t.id||"",this.numberOfCells=(0,a.getInteger)({data:t.numberOfCells,defaultValue:0,validate:t=>t>=0}),this.use=t.use||"",this.usehref=t.usehref||""}}class J extends n.XFAObject{constructor(t){super(p,"connect",!0),this.connection=t.connection||"",this.id=t.id||"",this.ref=t.ref||"",this.usage=(0,a.getStringOption)(t.usage,["exportAndImport","exportOnly","importOnly"]),this.use=t.use||"",this.usehref=t.usehref||"",this.picture=null}}class Z extends n.XFAObject{constructor(t){super(p,"contentArea",!0),this.h=(0,a.getMeasurement)(t.h),this.id=t.id||"",this.name=t.name||"",this.relevant=(0,a.getRelevant)(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.w=(0,a.getMeasurement)(t.w),this.x=(0,a.getMeasurement)(t.x,"0pt"),this.y=(0,a.getMeasurement)(t.y,"0pt"),this.desc=null,this.extras=null}[n.$toHTML](t){const e={left:(0,s.measureToString)(this.x),top:(0,s.measureToString)(this.y),width:(0,s.measureToString)(this.w),height:(0,s.measureToString)(this.h)},r=["xfaContentarea"];return(0,s.isPrintOnly)(this)&&r.push("xfaPrintOnly"),a.HTMLResult.success({name:"div",children:[],attributes:{style:e,class:r,id:this[n.$uid]}})}}class Q extends n.XFAObject{constructor(t){super(p,"corner",!0),this.id=t.id||"",this.inverted=(0,a.getInteger)({data:t.inverted,defaultValue:0,validate:t=>1===t}),this.join=(0,a.getStringOption)(t.join,["square","round"]),this.presence=(0,a.getStringOption)(t.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,a.getMeasurement)(t.radius),this.stroke=(0,a.getStringOption)(t.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,a.getMeasurement)(t.thickness,"0.5pt"),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const t=(0,s.toStyle)(this,"visibility");return t.radius=(0,s.measureToString)("square"===this.join?0:this.radius),t}}class tt extends n.ContentObject{constructor(t){super(p,"date"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[n.$finalize](){const t=this[n.$content].trim();this[n.$content]=t?new Date(t):null}[n.$toHTML](t){return A(this[n.$content]?this[n.$content].toString():"")}}class et extends n.ContentObject{constructor(t){super(p,"dateTime"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[n.$finalize](){const t=this[n.$content].trim();this[n.$content]=t?new Date(t):null}[n.$toHTML](t){return A(this[n.$content]?this[n.$content].toString():"")}}class rt extends n.XFAObject{constructor(t){super(p,"dateTimeEdit",!0),this.hScrollPolicy=(0,a.getStringOption)(t.hScrollPolicy,["auto","off","on"]),this.id=t.id||"",this.picker=(0,a.getStringOption)(t.picker,["host","none"]),this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](t){const e=(0,s.toStyle)(this,"border","font","margin"),r=this[n.$getParent]()[n.$getParent](),i={name:"input",attributes:{type:"text",fieldId:r[n.$uid],dataId:r[n.$data]&&r[n.$data][n.$uid]||r[n.$uid],class:["xfaTextfield"],style:e,"aria-label":k(r)}};return a.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[i]})}}class nt extends n.ContentObject{constructor(t){super(p,"decimal"),this.fracDigits=(0,a.getInteger)({data:t.fracDigits,defaultValue:2,validate:t=>!0}),this.id=t.id||"",this.leadDigits=(0,a.getInteger)({data:t.leadDigits,defaultValue:-1,validate:t=>!0}),this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[n.$finalize](){const t=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(t)?null:t}[n.$toHTML](t){return A(null!==this[n.$content]?this[n.$content].toString():"")}}class it extends n.XFAObject{constructor(t){super(p,"defaultUi",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}}class ot extends n.XFAObject{constructor(t){super(p,"desc",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}}class st extends n.OptionObject{constructor(t){super(p,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class at extends n.XFAObject{constructor(t){super(p,"digestMethods",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.digestMethod=new n.XFAObjectArray}}class lt extends n.XFAObject{constructor(t){super(p,"draw",!0),this.anchorType=(0,a.getStringOption)(t.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,a.getInteger)({data:t.colSpan,defaultValue:1,validate:t=>t>=1||-1===t}),this.h=t.h?(0,a.getMeasurement)(t.h):"",this.hAlign=(0,a.getStringOption)(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.locale=t.locale||"",this.maxH=(0,a.getMeasurement)(t.maxH,"0pt"),this.maxW=(0,a.getMeasurement)(t.maxW,"0pt"),this.minH=(0,a.getMeasurement)(t.minH,"0pt"),this.minW=(0,a.getMeasurement)(t.minW,"0pt"),this.name=t.name||"",this.presence=(0,a.getStringOption)(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,a.getRelevant)(t.relevant),this.rotate=(0,a.getInteger)({data:t.rotate,defaultValue:0,validate:t=>t%90==0}),this.use=t.use||"",this.usehref=t.usehref||"",this.w=t.w?(0,a.getMeasurement)(t.w):"",this.x=(0,a.getMeasurement)(t.x,"0pt"),this.y=(0,a.getMeasurement)(t.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new n.XFAObjectArray}[n.$setValue](t){b(this,t)}[n.$toHTML](t){if(x(this),"hidden"===this.presence||"inactive"===this.presence)return a.HTMLResult.EMPTY;(0,s.fixDimensions)(this),this[n.$pushPara]();const e=this.w,r=this.h,{w:i,h:l,isBroken:c}=(0,s.layoutNode)(this,t);if(i&&""===this.w){if(c&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),a.HTMLResult.FAILURE;this.w=i}if(l&&""===this.h&&(this.h=l),C(this),!(0,o.checkDimensions)(this,t))return this.w=e,this.h=r,this[n.$popPara](),a.HTMLResult.FAILURE;_(this);const h=(0,s.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,s.setMinMaxDimensions)(this,h),h.margin&&(h.padding=h.margin,delete h.margin);const u=["xfaDraw"];this.font&&u.push("xfaFont"),(0,s.isPrintOnly)(this)&&u.push("xfaPrintOnly");const p={style:h,id:this[n.$uid],class:u};this.name&&(p.xfaName=this.name);const d={name:"div",attributes:p,children:[]};S(this,p);const f=(0,s.computeBbox)(this,d,t),g=this.value?this.value[n.$toHTML](t).html:null;return null===g?(this.w=e,this.h=r,this[n.$popPara](),a.HTMLResult.success((0,s.createWrapper)(this,d),f)):(d.children.push(g),(0,s.setPara)(this,h,g),this.w=e,this.h=r,this[n.$popPara](),a.HTMLResult.success((0,s.createWrapper)(this,d),f))}}class ct extends n.XFAObject{constructor(t){super(p,"edge",!0),this.cap=(0,a.getStringOption)(t.cap,["square","butt","round"]),this.id=t.id||"",this.presence=(0,a.getStringOption)(t.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,a.getStringOption)(t.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,a.getMeasurement)(t.thickness,"0.5pt"),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const t=(0,s.toStyle)(this,"visibility");if(Object.assign(t,{linecap:this.cap,width:(0,s.measureToString)(this.thickness),color:this.color?this.color[n.$toStyle]():"#000000",style:""}),"visible"!==this.presence)t.style="none";else switch(this.stroke){case"solid":t.style="solid";break;case"dashDot":case"dashDotDot":case"dashed":t.style="dashed";break;case"dotted":t.style="dotted";break;case"embossed":t.style="ridge";break;case"etched":t.style="groove";break;case"lowered":t.style="inset";break;case"raised":t.style="outset"}return t}}class ht extends n.OptionObject{constructor(t){super(p,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class ut extends n.XFAObject{constructor(t){super(p,"encodings",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.encoding=new n.XFAObjectArray}}class pt extends n.XFAObject{constructor(t){super(p,"encrypt",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.certificate=null}}class dt extends n.XFAObject{constructor(t){super(p,"encryptData",!0),this.id=t.id||"",this.operation=(0,a.getStringOption)(t.operation,["encrypt","decrypt"]),this.target=t.target||"",this.use=t.use||"",this.usehref=t.usehref||"",this.filter=null,this.manifest=null}}class ft extends n.XFAObject{constructor(t){super(p,"encryption",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.certificate=new n.XFAObjectArray}}class gt extends n.OptionObject{constructor(t){super(p,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class mt extends n.XFAObject{constructor(t){super(p,"encryptionMethods",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.encryptionMethod=new n.XFAObjectArray}}class yt extends n.XFAObject{constructor(t){super(p,"event",!0),this.activity=(0,a.getStringOption)(t.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=t.id||"",this.listen=(0,a.getStringOption)(t.listen,["refOnly","refAndDescendents"]),this.name=t.name||"",this.ref=t.ref||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class vt extends n.ContentObject{constructor(t){super(p,"exData"),this.contentType=t.contentType||"",this.href=t.href||"",this.id=t.id||"",this.maxLength=(0,a.getInteger)({data:t.maxLength,defaultValue:-1,validate:t=>t>=-1}),this.name=t.name||"",this.rid=t.rid||"",this.transferEncoding=(0,a.getStringOption)(t.transferEncoding,["none","base64","package"]),this.use=t.use||"",this.usehref=t.usehref||""}[n.$isCDATAXml](){return"text/html"===this.contentType}[n.$onChild](t){return("text/html"===this.contentType&&t[n.$namespaceId]===i.NamespaceIds.xhtml.id||"text/xml"===this.contentType)&&(this[n.$content]=t,!0)}[n.$toHTML](t){return"text/html"===this.contentType&&this[n.$content]?this[n.$content][n.$toHTML](t):a.HTMLResult.EMPTY}}class bt extends n.XFAObject{constructor(t){super(p,"exObject",!0),this.archive=t.archive||"",this.classId=t.classId||"",this.codeBase=t.codeBase||"",this.codeType=t.codeType||"",this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.exObject=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}}class wt extends n.XFAObject{constructor(t){super(p,"exclGroup",!0),this.access=(0,a.getStringOption)(t.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=t.accessKey||"",this.anchorType=(0,a.getStringOption)(t.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,a.getInteger)({data:t.colSpan,defaultValue:1,validate:t=>t>=1||-1===t}),this.h=t.h?(0,a.getMeasurement)(t.h):"",this.hAlign=(0,a.getStringOption)(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.layout=(0,a.getStringOption)(t.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,a.getMeasurement)(t.maxH,"0pt"),this.maxW=(0,a.getMeasurement)(t.maxW,"0pt"),this.minH=(0,a.getMeasurement)(t.minH,"0pt"),this.minW=(0,a.getMeasurement)(t.minW,"0pt"),this.name=t.name||"",this.presence=(0,a.getStringOption)(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,a.getRelevant)(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.w=t.w?(0,a.getMeasurement)(t.w):"",this.x=(0,a.getMeasurement)(t.x,"0pt"),this.y=(0,a.getMeasurement)(t.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new n.XFAObjectArray,this.event=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.setProperty=new n.XFAObjectArray}[n.$isBindable](){return!0}[n.$hasSettableValue](){return!0}[n.$setValue](t){for(const e of this.field.children){if(!e.value){const t=new Ie({});e[n.$appendChild](t),e.value=t}e.value[n.$setValue](t)}}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&0===this[n.$extra].attempt&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}[n.$isSplittable](){const t=this[n.$getSubformParent]();return!!t[n.$isSplittable]()&&(void 0!==this[n.$extra]._isSplittable?this[n.$extra]._isSplittable:"position"===this.layout||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):!(t.layout&&t.layout.endsWith("-tb")&&0!==t[n.$extra].numberInLine||(this[n.$extra]._isSplittable=!0,0)))}[n.$flushHTML](){return(0,o.flushHTML)(this)}[n.$addHTML](t,e){(0,o.addHTML)(this,t,e)}[n.$getAvailableSpace](){return(0,o.getAvailableSpace)(this)}[n.$toHTML](t){if(x(this),"hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return a.HTMLResult.EMPTY;(0,s.fixDimensions)(this);const e=[],r={id:this[n.$uid],class:[]};(0,s.setAccess)(this,r.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:e,attributes:r,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,t.width),height:Math.min(this.h||1/0,t.height)},width:0,height:0,prevHeight:0,currentWidth:0});const i=this[n.$isSplittable]();if(i||C(this),!(0,o.checkDimensions)(this,t))return a.HTMLResult.FAILURE;const l=new Set(["field"]);if(this.layout.includes("row")){const t=this[n.$getSubformParent]().columnWidths;Array.isArray(t)&&t.length>0&&(this[n.$extra].columnWidths=t,this[n.$extra].currentColumn=0)}const c=(0,s.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),h=["xfaExclgroup"],u=(0,s.layoutClass)(this);u&&h.push(u),(0,s.isPrintOnly)(this)&&h.push("xfaPrintOnly"),r.style=c,r.class=h,this.name&&(r.xfaName=this.name),this[n.$pushPara]();const p="lr-tb"===this.layout||"rl-tb"===this.layout,d=p?2:1;for(;this[n.$extra].attempt<d;this[n.$extra].attempt++){p&&1===this[n.$extra].attempt&&(this[n.$extra].numberInLine=0);const t=this[n.$childrenToHTML]({filter:l,include:!0});if(t.success)break;if(t.isBreak())return this[n.$popPara](),t;if(p&&0===this[n.$extra].attempt&&0===this[n.$extra].numberInLine&&!this[n.$getTemplateRoot]()[n.$extra].noLayoutFailure){this[n.$extra].attempt=d;break}}if(this[n.$popPara](),i||_(this),this[n.$extra].attempt===d)return i||delete this[n.$extra],a.HTMLResult.FAILURE;let f=0,g=0;this.margin&&(f=this.margin.leftInset+this.margin.rightInset,g=this.margin.topInset+this.margin.bottomInset);const m=Math.max(this[n.$extra].width+f,this.w||0),y=Math.max(this[n.$extra].height+g,this.h||0),v=[this.x,this.y,m,y];""===this.w&&(c.width=(0,s.measureToString)(m)),""===this.h&&(c.height=(0,s.measureToString)(y));const b={name:"div",attributes:r,children:e};return S(this,r),delete this[n.$extra],a.HTMLResult.success((0,s.createWrapper)(this,b),v)}}class xt extends n.XFAObject{constructor(t){super(p,"execute"),this.connection=t.connection||"",this.executeType=(0,a.getStringOption)(t.executeType,["import","remerge"]),this.id=t.id||"",this.runAt=(0,a.getStringOption)(t.runAt,["client","both","server"]),this.use=t.use||"",this.usehref=t.usehref||""}}class St extends n.XFAObject{constructor(t){super(p,"extras",!0),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||"",this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.extras=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}}class kt extends n.XFAObject{constructor(t){super(p,"field",!0),this.access=(0,a.getStringOption)(t.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=t.accessKey||"",this.anchorType=(0,a.getStringOption)(t.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,a.getInteger)({data:t.colSpan,defaultValue:1,validate:t=>t>=1||-1===t}),this.h=t.h?(0,a.getMeasurement)(t.h):"",this.hAlign=(0,a.getStringOption)(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.locale=t.locale||"",this.maxH=(0,a.getMeasurement)(t.maxH,"0pt"),this.maxW=(0,a.getMeasurement)(t.maxW,"0pt"),this.minH=(0,a.getMeasurement)(t.minH,"0pt"),this.minW=(0,a.getMeasurement)(t.minW,"0pt"),this.name=t.name||"",this.presence=(0,a.getStringOption)(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,a.getRelevant)(t.relevant),this.rotate=(0,a.getInteger)({data:t.rotate,defaultValue:0,validate:t=>t%90==0}),this.use=t.use||"",this.usehref=t.usehref||"",this.w=t.w?(0,a.getMeasurement)(t.w):"",this.x=(0,a.getMeasurement)(t.x,"0pt"),this.y=(0,a.getMeasurement)(t.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new n.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new n.XFAObjectArray,this.connect=new n.XFAObjectArray,this.event=new n.XFAObjectArray,this.setProperty=new n.XFAObjectArray}[n.$isBindable](){return!0}[n.$setValue](t){b(this,t)}[n.$toHTML](t){if(x(this),!this.ui){let t;switch(this.ui=new Ee({}),this.ui[n.$globalData]=this[n.$globalData],this[n.$appendChild](this.ui),this.items.children.length){case 0:t=new Ae({}),this.ui.textEdit=t;break;case 1:t=new X({}),this.ui.checkButton=t;break;case 2:t=new G({}),this.ui.choiceList=t}this.ui[n.$appendChild](t)}if(!this.ui||"hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return a.HTMLResult.EMPTY;this.caption&&delete this.caption[n.$extra],this[n.$pushPara]();const e=this.caption?this.caption[n.$toHTML](t).html:null,r=this.w,i=this.h;let l=0,h=0;this.margin&&(l=this.margin.leftInset+this.margin.rightInset,h=this.margin.topInset+this.margin.bottomInset);let u=null;if(""===this.w||""===this.h){let e=null,r=null,i=0,o=0;if(this.ui.checkButton)i=o=this.ui.checkButton.size;else{const{w:e,h:r}=(0,s.layoutNode)(this,t);null!==e?(i=e,o=r):o=(0,c.getMetrics)(this.font,!0).lineNoGap}if(u=y(this.ui[n.$getExtra]()),i+=u.w,o+=u.h,this.caption){const{w:s,h:l,isBroken:c}=this.caption[n.$getExtra](t);if(c&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),a.HTMLResult.FAILURE;switch(e=s,r=l,this.caption.placement){case"left":case"right":case"inline":e+=i;break;case"top":case"bottom":r+=o}}else e=i,r=o;e&&""===this.w&&(e+=l,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<e?e:this.minW)),r&&""===this.h&&(r+=h,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<r?r:this.minH))}if(this[n.$popPara](),(0,s.fixDimensions)(this),C(this),!(0,o.checkDimensions)(this,t))return this.w=r,this.h=i,this[n.$popPara](),a.HTMLResult.FAILURE;_(this);const p=(0,s.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,s.setMinMaxDimensions)(this,p);const d=["xfaField"];this.font&&d.push("xfaFont"),(0,s.isPrintOnly)(this)&&d.push("xfaPrintOnly");const f={style:p,id:this[n.$uid],class:d};p.margin&&(p.padding=p.margin,delete p.margin),(0,s.setAccess)(this,d),this.name&&(f.xfaName=this.name);const g=[],m={name:"div",attributes:f,children:g};S(this,f);const v=this.border?this.border[n.$toStyle]():null,b=(0,s.computeBbox)(this,m,t),w=this.ui[n.$toHTML]().html;if(!w)return Object.assign(p,v),a.HTMLResult.success((0,s.createWrapper)(this,m),b);this[n.$tabIndex]&&(w.children&&w.children[0]?w.children[0].attributes.tabindex=this[n.$tabIndex]:w.attributes.tabindex=this[n.$tabIndex]),w.attributes.style||(w.attributes.style=Object.create(null));let k=null;if(this.ui.button?(1===w.children.length&&([k]=w.children.splice(0,1)),Object.assign(w.attributes.style,v)):Object.assign(p,v),g.push(w),this.value)if(this.ui.imageEdit)w.children.push(this.value[n.$toHTML]().html);else if(!this.ui.button){let t="";if(this.value.exData)t=this.value.exData[n.$text]();else if(this.value.text)t=this.value.text[n.$getExtra]();else{const e=this.value[n.$toHTML]().html;null!==e&&(t=e.children[0].value)}this.ui.textEdit&&this.value.text&&this.value.text.maxChars&&(w.children[0].attributes.maxLength=this.value.text.maxChars),t&&(this.ui.numericEdit&&(t=parseFloat(t),t=isNaN(t)?"":t.toString()),"textarea"===w.children[0].name?w.children[0].attributes.textContent=t:w.children[0].attributes.value=t)}if(!this.ui.imageEdit&&w.children&&w.children[0]&&this.h){u=u||y(this.ui[n.$getExtra]());let e=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){e=this.caption.reserve,e<=0&&(e=this.caption[n.$getExtra](t).h);const r=this.h-e-h-u.h;w.children[0].attributes.style.height=(0,s.measureToString)(r)}else w.children[0].attributes.style.height="100%"}if(k&&w.children.push(k),!e)return w.attributes.class&&w.attributes.class.push("xfaLeft"),this.w=r,this.h=i,a.HTMLResult.success((0,s.createWrapper)(this,m),b);if(this.ui.button)return p.padding&&delete p.padding,"div"===e.name&&(e.name="span"),w.children.push(e),a.HTMLResult.success(m,b);switch(this.ui.checkButton&&(e.attributes.class[0]="xfaCaptionForCheckButton"),w.attributes.class||(w.attributes.class=[]),w.children.splice(0,0,e),this.caption.placement){case"left":case"inline":w.attributes.class.push("xfaLeft");break;case"right":w.attributes.class.push("xfaRight");break;case"top":w.attributes.class.push("xfaTop");break;case"bottom":w.attributes.class.push("xfaBottom")}return this.w=r,this.h=i,a.HTMLResult.success((0,s.createWrapper)(this,m),b)}}e.Field=kt;class At extends n.XFAObject{constructor(t){super(p,"fill",!0),this.id=t.id||"",this.presence=(0,a.getStringOption)(t.presence,["visible","hidden","inactive","invisible"]),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[n.$toStyle](){const t=this[n.$getParent](),e=t[n.$getParent]()[n.$getParent](),r=Object.create(null);let i="color",o=i;t instanceof B&&(i="background-color",o="background",e instanceof Ee&&(r.backgroundColor="white")),(t instanceof ae||t instanceof E)&&(i=o="fill",r.fill="white");for(const t of Object.getOwnPropertyNames(this)){if("extras"===t||"color"===t)continue;const e=this[t];if(!(e instanceof n.XFAObject))continue;const s=e[n.$toStyle](this.color);return s&&(r[s.startsWith("#")?i:o]=s),r}if(this.color&&this.color.value){const t=this.color[n.$toStyle]();r[t.startsWith("#")?i:o]=t}return r}}class Ct extends n.XFAObject{constructor(t){super(p,"filter",!0),this.addRevocationInfo=(0,a.getStringOption)(t.addRevocationInfo,["","required","optional","none"]),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||"",this.version=(0,a.getInteger)({data:this.version,defaultValue:5,validate:t=>t>=1&&t<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class _t extends n.ContentObject{constructor(t){super(p,"float"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[n.$finalize](){const t=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(t)?null:t}[n.$toHTML](t){return A(null!==this[n.$content]?this[n.$content].toString():"")}}class Tt extends n.XFAObject{constructor(t){super(p,"font",!0),this.baselineShift=(0,a.getMeasurement)(t.baselineShift),this.fontHorizontalScale=(0,a.getFloat)({data:t.fontHorizontalScale,defaultValue:100,validate:t=>t>=0}),this.fontVerticalScale=(0,a.getFloat)({data:t.fontVerticalScale,defaultValue:100,validate:t=>t>=0}),this.id=t.id||"",this.kerningMode=(0,a.getStringOption)(t.kerningMode,["none","pair"]),this.letterSpacing=(0,a.getMeasurement)(t.letterSpacing,"0"),this.lineThrough=(0,a.getInteger)({data:t.lineThrough,defaultValue:0,validate:t=>1===t||2===t}),this.lineThroughPeriod=(0,a.getStringOption)(t.lineThroughPeriod,["all","word"]),this.overline=(0,a.getInteger)({data:t.overline,defaultValue:0,validate:t=>1===t||2===t}),this.overlinePeriod=(0,a.getStringOption)(t.overlinePeriod,["all","word"]),this.posture=(0,a.getStringOption)(t.posture,["normal","italic"]),this.size=(0,a.getMeasurement)(t.size,"10pt"),this.typeface=t.typeface||"Courier",this.underline=(0,a.getInteger)({data:t.underline,defaultValue:0,validate:t=>1===t||2===t}),this.underlinePeriod=(0,a.getStringOption)(t.underlinePeriod,["all","word"]),this.use=t.use||"",this.usehref=t.usehref||"",this.weight=(0,a.getStringOption)(t.weight,["normal","bold"]),this.extras=null,this.fill=null}[n.$clean](t){super[n.$clean](t),this[n.$globalData].usedTypefaces.add(this.typeface)}[n.$toStyle](){const t=(0,s.toStyle)(this,"fill"),e=t.color;return e&&("#000000"===e?delete t.color:e.startsWith("#")||(t.background=e,t.backgroundClip="text",t.color="transparent")),this.baselineShift&&(t.verticalAlign=(0,s.measureToString)(this.baselineShift)),t.fontKerning="none"===this.kerningMode?"none":"normal",t.letterSpacing=(0,s.measureToString)(this.letterSpacing),0!==this.lineThrough&&(t.textDecoration="line-through",2===this.lineThrough&&(t.textDecorationStyle="double")),0!==this.overline&&(t.textDecoration="overline",2===this.overline&&(t.textDecorationStyle="double")),t.fontStyle=this.posture,t.fontSize=(0,s.measureToString)(.99*this.size),(0,s.setFontFamily)(this,this,this[n.$globalData].fontFinder,t),0!==this.underline&&(t.textDecoration="underline",2===this.underline&&(t.textDecorationStyle="double")),t.fontWeight=this.weight,t}}class Ot extends n.XFAObject{constructor(t){super(p,"format",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.picture=null}}class Mt extends n.StringObject{constructor(t){super(p,"handler"),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Et extends n.XFAObject{constructor(t){super(p,"hyphenation"),this.excludeAllCaps=(0,a.getInteger)({data:t.excludeAllCaps,defaultValue:0,validate:t=>1===t}),this.excludeInitialCap=(0,a.getInteger)({data:t.excludeInitialCap,defaultValue:0,validate:t=>1===t}),this.hyphenate=(0,a.getInteger)({data:t.hyphenate,defaultValue:0,validate:t=>1===t}),this.id=t.id||"",this.pushCharacterCount=(0,a.getInteger)({data:t.pushCharacterCount,defaultValue:3,validate:t=>t>=0}),this.remainCharacterCount=(0,a.getInteger)({data:t.remainCharacterCount,defaultValue:3,validate:t=>t>=0}),this.use=t.use||"",this.usehref=t.usehref||"",this.wordCharacterCount=(0,a.getInteger)({data:t.wordCharacterCount,defaultValue:7,validate:t=>t>=0})}}class Pt extends n.StringObject{constructor(t){super(p,"image"),this.aspect=(0,a.getStringOption)(t.aspect,["fit","actual","height","none","width"]),this.contentType=t.contentType||"",this.href=t.href||"",this.id=t.id||"",this.name=t.name||"",this.transferEncoding=(0,a.getStringOption)(t.transferEncoding,["base64","none","package"]),this.use=t.use||"",this.usehref=t.usehref||""}[n.$toHTML](){if(this.contentType&&!g.has(this.contentType.toLowerCase()))return a.HTMLResult.EMPTY;let t=this[n.$globalData].images&&this[n.$globalData].images.get(this.href);if(!t&&(this.href||!this[n.$content]))return a.HTMLResult.EMPTY;if(t||"base64"!==this.transferEncoding||(t=(0,l.stringToBytes)(atob(this[n.$content]))),!t)return a.HTMLResult.EMPTY;if(!this.contentType){for(const[e,r]of m)if(t.length>e.length&&e.every(((e,r)=>e===t[r]))){this.contentType=r;break}if(!this.contentType)return a.HTMLResult.EMPTY}const e=new Blob([t],{type:this.contentType});let r;switch(this.aspect){case"fit":case"actual":break;case"height":r={height:"100%",objectFit:"fill"};break;case"none":r={width:"100%",height:"100%",objectFit:"fill"};break;case"width":r={width:"100%",objectFit:"fill"}}const i=this[n.$getParent]();return a.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:r,src:URL.createObjectURL(e),alt:i?k(i[n.$getParent]()):null}})}}class It extends n.XFAObject{constructor(t){super(p,"imageEdit",!0),this.data=(0,a.getStringOption)(t.data,["link","embed"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](t){return"embed"===this.data?a.HTMLResult.success({name:"div",children:[],attributes:{}}):a.HTMLResult.EMPTY}}class Ft extends n.ContentObject{constructor(t){super(p,"integer"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[n.$finalize](){const t=parseInt(this[n.$content].trim(),10);this[n.$content]=isNaN(t)?null:t}[n.$toHTML](t){return A(null!==this[n.$content]?this[n.$content].toString():"")}}class Dt extends n.XFAObject{constructor(t){super(p,"issuers",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.certificate=new n.XFAObjectArray}}class Rt extends n.XFAObject{constructor(t){super(p,"items",!0),this.id=t.id||"",this.name=t.name||"",this.presence=(0,a.getStringOption)(t.presence,["visible","hidden","inactive","invisible"]),this.ref=t.ref||"",this.save=(0,a.getInteger)({data:t.save,defaultValue:0,validate:t=>1===t}),this.use=t.use||"",this.usehref=t.usehref||"",this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}[n.$toHTML](){const t=[];for(const e of this[n.$getChildren]())t.push(e[n.$text]());return a.HTMLResult.success(t)}}e.Items=Rt;class Lt extends n.XFAObject{constructor(t){super(p,"keep",!0),this.id=t.id||"";const e=["none","contentArea","pageArea"];this.intact=(0,a.getStringOption)(t.intact,e),this.next=(0,a.getStringOption)(t.next,e),this.previous=(0,a.getStringOption)(t.previous,e),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}}class Nt extends n.XFAObject{constructor(t){super(p,"keyUsage");const e=["","yes","no"];this.crlSign=(0,a.getStringOption)(t.crlSign,e),this.dataEncipherment=(0,a.getStringOption)(t.dataEncipherment,e),this.decipherOnly=(0,a.getStringOption)(t.decipherOnly,e),this.digitalSignature=(0,a.getStringOption)(t.digitalSignature,e),this.encipherOnly=(0,a.getStringOption)(t.encipherOnly,e),this.id=t.id||"",this.keyAgreement=(0,a.getStringOption)(t.keyAgreement,e),this.keyCertSign=(0,a.getStringOption)(t.keyCertSign,e),this.keyEncipherment=(0,a.getStringOption)(t.keyEncipherment,e),this.nonRepudiation=(0,a.getStringOption)(t.nonRepudiation,e),this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Bt extends n.XFAObject{constructor(t){super(p,"line",!0),this.hand=(0,a.getStringOption)(t.hand,["even","left","right"]),this.id=t.id||"",this.slope=(0,a.getStringOption)(t.slope,["\\","/"]),this.use=t.use||"",this.usehref=t.usehref||"",this.edge=null}[n.$toHTML](){const t=this[n.$getParent]()[n.$getParent](),e=this.edge?this.edge:new ct({}),r=e[n.$toStyle](),i=Object.create(null),o="visible"===e.presence?e.thickness:0;let l,c,h,u;i.strokeWidth=(0,s.measureToString)(o),i.stroke=r.color;let p="100%",f="100%";t.w<=o?([l,c,h,u]=["50%",0,"50%","100%"],p=i.strokeWidth):t.h<=o?([l,c,h,u]=[0,"50%","100%","50%"],f=i.strokeWidth):"\\"===this.slope?[l,c,h,u]=[0,0,"100%","100%"]:[l,c,h,u]=[0,"100%","100%",0];const g={name:"svg",children:[{name:"line",attributes:{xmlns:d,x1:l,y1:c,x2:h,y2:u,style:i}}],attributes:{xmlns:d,width:p,height:f,style:{overflow:"visible"}}};return v(t)?a.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[g]}):(g.attributes.style.position="absolute",a.HTMLResult.success(g))}}class jt extends n.XFAObject{constructor(t){super(p,"linear",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["toRight","toBottom","toLeft","toTop"]),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[n.$toStyle](t){return t=t?t[n.$toStyle]():"#FFFFFF",`linear-gradient(${this.type.replace(/([RBLT])/," $1").toLowerCase()}, ${t}, ${this.color?this.color[n.$toStyle]():"#000000"})`}}class zt extends n.ContentObject{constructor(t){super(p,"lockDocument"),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}[n.$finalize](){this[n.$content]=(0,a.getStringOption)(this[n.$content],["auto","0","1"])}}class Ut extends n.XFAObject{constructor(t){super(p,"manifest",!0),this.action=(0,a.getStringOption)(t.action,["include","all","exclude"]),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.ref=new n.XFAObjectArray}}class $t extends n.XFAObject{constructor(t){super(p,"margin",!0),this.bottomInset=(0,a.getMeasurement)(t.bottomInset,"0"),this.id=t.id||"",this.leftInset=(0,a.getMeasurement)(t.leftInset,"0"),this.rightInset=(0,a.getMeasurement)(t.rightInset,"0"),this.topInset=(0,a.getMeasurement)(t.topInset,"0"),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}[n.$toStyle](){return{margin:(0,s.measureToString)(this.topInset)+" "+(0,s.measureToString)(this.rightInset)+" "+(0,s.measureToString)(this.bottomInset)+" "+(0,s.measureToString)(this.leftInset)}}}class Ht extends n.XFAObject{constructor(t){super(p,"mdp"),this.id=t.id||"",this.permissions=(0,a.getInteger)({data:t.permissions,defaultValue:2,validate:t=>1===t||3===t}),this.signatureType=(0,a.getStringOption)(t.signatureType,["filler","author"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Vt extends n.XFAObject{constructor(t){super(p,"medium"),this.id=t.id||"",this.imagingBBox=(0,a.getBBox)(t.imagingBBox),this.long=(0,a.getMeasurement)(t.long),this.orientation=(0,a.getStringOption)(t.orientation,["portrait","landscape"]),this.short=(0,a.getMeasurement)(t.short),this.stock=t.stock||"",this.trayIn=(0,a.getStringOption)(t.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,a.getStringOption)(t.trayOut,["auto","delegate"]),this.use=t.use||"",this.usehref=t.usehref||""}}class qt extends n.XFAObject{constructor(t){super(p,"message",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.text=new n.XFAObjectArray}}class Wt extends n.XFAObject{constructor(t){super(p,"numericEdit",!0),this.hScrollPolicy=(0,a.getStringOption)(t.hScrollPolicy,["auto","off","on"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](t){const e=(0,s.toStyle)(this,"border","font","margin"),r=this[n.$getParent]()[n.$getParent](),i={name:"input",attributes:{type:"text",fieldId:r[n.$uid],dataId:r[n.$data]&&r[n.$data][n.$uid]||r[n.$uid],class:["xfaTextfield"],style:e,"aria-label":k(r)}};return a.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[i]})}}class Xt extends n.XFAObject{constructor(t){super(p,"occur",!0),this.id=t.id||"",this.initial=""!==t.initial?(0,a.getInteger)({data:t.initial,defaultValue:"",validate:t=>!0}):"",this.max=""!==t.max?(0,a.getInteger)({data:t.max,defaultValue:1,validate:t=>!0}):"",this.min=""!==t.min?(0,a.getInteger)({data:t.min,defaultValue:1,validate:t=>!0}):"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}[n.$clean](){const t=this[n.$getParent](),e=this.min;""===this.min&&(this.min=t instanceof Jt||t instanceof Zt?0:1),""===this.max&&(this.max=""===e?t instanceof Jt||t instanceof Zt?-1:1:this.min),-1!==this.max&&this.max<this.min&&(this.max=this.min),""===this.initial&&(this.initial=t instanceof Se?1:this.min)}}class Gt extends n.StringObject{constructor(t){super(p,"oid"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Kt extends n.XFAObject{constructor(t){super(p,"oids",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.oid=new n.XFAObjectArray}}class Yt extends n.XFAObject{constructor(t){super(p,"overflow"),this.id=t.id||"",this.leader=t.leader||"",this.target=t.target||"",this.trailer=t.trailer||"",this.use=t.use||"",this.usehref=t.usehref||""}[n.$getExtra](){if(!this[n.$extra]){const t=this[n.$getParent](),e=this[n.$getTemplateRoot](),r=e[n.$searchNode](this.target,t),i=e[n.$searchNode](this.leader,t),o=e[n.$searchNode](this.trailer,t);this[n.$extra]={target:r&&r[0]||null,leader:i&&i[0]||null,trailer:o&&o[0]||null,addLeader:!1,addTrailer:!1}}return this[n.$extra]}}class Jt extends n.XFAObject{constructor(t){super(p,"pageArea",!0),this.blankOrNotBlank=(0,a.getStringOption)(t.blankOrNotBlank,["any","blank","notBlank"]),this.id=t.id||"",this.initialNumber=(0,a.getInteger)({data:t.initialNumber,defaultValue:1,validate:t=>!0}),this.name=t.name||"",this.numbered=(0,a.getInteger)({data:t.numbered,defaultValue:1,validate:t=>!0}),this.oddOrEven=(0,a.getStringOption)(t.oddOrEven,["any","even","odd"]),this.pagePosition=(0,a.getStringOption)(t.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,a.getRelevant)(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new n.XFAObjectArray,this.contentArea=new n.XFAObjectArray,this.draw=new n.XFAObjectArray,this.exclGroup=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.subform=new n.XFAObjectArray}[n.$isUsable](){return this[n.$extra]?!this.occur||-1===this.occur.max||this[n.$extra].numberOfUse<this.occur.max:(this[n.$extra]={numberOfUse:0},!0)}[n.$cleanPage](){delete this[n.$extra]}[n.$getNextPage](){this[n.$extra]||(this[n.$extra]={numberOfUse:0});const t=this[n.$getParent]();return"orderedOccurrence"===t.relation&&this[n.$isUsable]()?(this[n.$extra].numberOfUse+=1,this):t[n.$getNextPage]()}[n.$getAvailableSpace](){return this[n.$extra].space||{width:0,height:0}}[n.$toHTML](){this[n.$extra]||(this[n.$extra]={numberOfUse:1});const t=[];this[n.$extra].children=t;const e=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(e.width=(0,s.measureToString)(this.medium.short),e.height=(0,s.measureToString)(this.medium.long),this[n.$extra].space={width:this.medium.short,height:this.medium.long},"landscape"===this.medium.orientation){const t=e.width;e.width=e.height,e.height=t,this[n.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,l.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[n.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[n.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),a.HTMLResult.success({name:"div",children:t,attributes:{class:["xfaPage"],id:this[n.$uid],style:e,xfaName:this.name}})}}class Zt extends n.XFAObject{constructor(t){super(p,"pageSet",!0),this.duplexImposition=(0,a.getStringOption)(t.duplexImposition,["longEdge","shortEdge"]),this.id=t.id||"",this.name=t.name||"",this.relation=(0,a.getStringOption)(t.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,a.getRelevant)(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.occur=null,this.pageArea=new n.XFAObjectArray,this.pageSet=new n.XFAObjectArray}[n.$cleanPage](){for(const t of this.pageArea.children)t[n.$cleanPage]();for(const t of this.pageSet.children)t[n.$cleanPage]()}[n.$isUsable](){return!this.occur||-1===this.occur.max||this[n.$extra].numberOfUse<this.occur.max}[n.$getNextPage](){if(this[n.$extra]||(this[n.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),"orderedOccurrence"===this.relation){if(this[n.$extra].pageIndex+1<this.pageArea.children.length)return this[n.$extra].pageIndex+=1,this.pageArea.children[this[n.$extra].pageIndex][n.$getNextPage]();if(this[n.$extra].pageSetIndex+1<this.pageSet.children.length)return this[n.$extra].pageSetIndex+=1,this.pageSet.children[this[n.$extra].pageSetIndex][n.$getNextPage]();if(this[n.$isUsable]())return this[n.$extra].numberOfUse+=1,this[n.$extra].pageIndex=-1,this[n.$extra].pageSetIndex=-1,this[n.$getNextPage]();const t=this[n.$getParent]();return t instanceof Zt?t[n.$getNextPage]():(this[n.$cleanPage](),this[n.$getNextPage]())}const t=this[n.$getTemplateRoot]()[n.$extra].pageNumber,e=t%2==0?"even":"odd",r=0===t?"first":"rest";let i=this.pageArea.children.find((t=>t.oddOrEven===e&&t.pagePosition===r));return i||(i=this.pageArea.children.find((t=>"any"===t.oddOrEven&&t.pagePosition===r)),i||(i=this.pageArea.children.find((t=>"any"===t.oddOrEven&&"any"===t.pagePosition)),i||this.pageArea.children[0]))}}class Qt extends n.XFAObject{constructor(t){super(p,"para",!0),this.hAlign=(0,a.getStringOption)(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.lineHeight=t.lineHeight?(0,a.getMeasurement)(t.lineHeight,"0pt"):"",this.marginLeft=t.marginLeft?(0,a.getMeasurement)(t.marginLeft,"0pt"):"",this.marginRight=t.marginRight?(0,a.getMeasurement)(t.marginRight,"0pt"):"",this.orphans=(0,a.getInteger)({data:t.orphans,defaultValue:0,validate:t=>t>=0}),this.preserve=t.preserve||"",this.radixOffset=t.radixOffset?(0,a.getMeasurement)(t.radixOffset,"0pt"):"",this.spaceAbove=t.spaceAbove?(0,a.getMeasurement)(t.spaceAbove,"0pt"):"",this.spaceBelow=t.spaceBelow?(0,a.getMeasurement)(t.spaceBelow,"0pt"):"",this.tabDefault=t.tabDefault?(0,a.getMeasurement)(this.tabDefault):"",this.tabStops=(t.tabStops||"").trim().split(/\s+/).map(((t,e)=>e%2==1?(0,a.getMeasurement)(t):t)),this.textIndent=t.textIndent?(0,a.getMeasurement)(t.textIndent,"0pt"):"",this.use=t.use||"",this.usehref=t.usehref||"",this.vAlign=(0,a.getStringOption)(t.vAlign,["top","bottom","middle"]),this.widows=(0,a.getInteger)({data:t.widows,defaultValue:0,validate:t=>t>=0}),this.hyphenation=null}[n.$toStyle](){const t=(0,s.toStyle)(this,"hAlign");return""!==this.marginLeft&&(t.paddingLeft=(0,s.measureToString)(this.marginLeft)),""!==this.marginRight&&(t.paddingight=(0,s.measureToString)(this.marginRight)),""!==this.spaceAbove&&(t.paddingTop=(0,s.measureToString)(this.spaceAbove)),""!==this.spaceBelow&&(t.paddingBottom=(0,s.measureToString)(this.spaceBelow)),""!==this.textIndent&&(t.textIndent=(0,s.measureToString)(this.textIndent),(0,s.fixTextIndent)(t)),this.lineHeight>0&&(t.lineHeight=(0,s.measureToString)(this.lineHeight)),""!==this.tabDefault&&(t.tabSize=(0,s.measureToString)(this.tabDefault)),this.tabStops.length,this.hyphenatation&&Object.assign(t,this.hyphenatation[n.$toStyle]()),t}}class te extends n.XFAObject{constructor(t){super(p,"passwordEdit",!0),this.hScrollPolicy=(0,a.getStringOption)(t.hScrollPolicy,["auto","off","on"]),this.id=t.id||"",this.passwordChar=t.passwordChar||"*",this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.margin=null}}class ee extends n.XFAObject{constructor(t){super(p,"pattern",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[n.$toStyle](t){t=t?t[n.$toStyle]():"#FFFFFF";const e=this.color?this.color[n.$toStyle]():"#000000",r="repeating-linear-gradient",i=`${t},${t} 5px,${e} 5px,${e} 10px`;switch(this.type){case"crossHatch":return`${r}(to top,${i}) ${r}(to right,${i})`;case"crossDiagonal":return`${r}(45deg,${i}) ${r}(-45deg,${i})`;case"diagonalLeft":return`${r}(45deg,${i})`;case"diagonalRight":return`${r}(-45deg,${i})`;case"horizontal":return`${r}(to top,${i})`;case"vertical":return`${r}(to right,${i})`}return""}}class re extends n.StringObject{constructor(t){super(p,"picture"),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class ne extends n.XFAObject{constructor(t){super(p,"proto",!0),this.appearanceFilter=new n.XFAObjectArray,this.arc=new n.XFAObjectArray,this.area=new n.XFAObjectArray,this.assist=new n.XFAObjectArray,this.barcode=new n.XFAObjectArray,this.bindItems=new n.XFAObjectArray,this.bookend=new n.XFAObjectArray,this.boolean=new n.XFAObjectArray,this.border=new n.XFAObjectArray,this.break=new n.XFAObjectArray,this.breakAfter=new n.XFAObjectArray,this.breakBefore=new n.XFAObjectArray,this.button=new n.XFAObjectArray,this.calculate=new n.XFAObjectArray,this.caption=new n.XFAObjectArray,this.certificate=new n.XFAObjectArray,this.certificates=new n.XFAObjectArray,this.checkButton=new n.XFAObjectArray,this.choiceList=new n.XFAObjectArray,this.color=new n.XFAObjectArray,this.comb=new n.XFAObjectArray,this.connect=new n.XFAObjectArray,this.contentArea=new n.XFAObjectArray,this.corner=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.dateTimeEdit=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.defaultUi=new n.XFAObjectArray,this.desc=new n.XFAObjectArray,this.digestMethod=new n.XFAObjectArray,this.digestMethods=new n.XFAObjectArray,this.draw=new n.XFAObjectArray,this.edge=new n.XFAObjectArray,this.encoding=new n.XFAObjectArray,this.encodings=new n.XFAObjectArray,this.encrypt=new n.XFAObjectArray,this.encryptData=new n.XFAObjectArray,this.encryption=new n.XFAObjectArray,this.encryptionMethod=new n.XFAObjectArray,this.encryptionMethods=new n.XFAObjectArray,this.event=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.exObject=new n.XFAObjectArray,this.exclGroup=new n.XFAObjectArray,this.execute=new n.XFAObjectArray,this.extras=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.fill=new n.XFAObjectArray,this.filter=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.font=new n.XFAObjectArray,this.format=new n.XFAObjectArray,this.handler=new n.XFAObjectArray,this.hyphenation=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.imageEdit=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.issuers=new n.XFAObjectArray,this.items=new n.XFAObjectArray,this.keep=new n.XFAObjectArray,this.keyUsage=new n.XFAObjectArray,this.line=new n.XFAObjectArray,this.linear=new n.XFAObjectArray,this.lockDocument=new n.XFAObjectArray,this.manifest=new n.XFAObjectArray,this.margin=new n.XFAObjectArray,this.mdp=new n.XFAObjectArray,this.medium=new n.XFAObjectArray,this.message=new n.XFAObjectArray,this.numericEdit=new n.XFAObjectArray,this.occur=new n.XFAObjectArray,this.oid=new n.XFAObjectArray,this.oids=new n.XFAObjectArray,this.overflow=new n.XFAObjectArray,this.pageArea=new n.XFAObjectArray,this.pageSet=new n.XFAObjectArray,this.para=new n.XFAObjectArray,this.passwordEdit=new n.XFAObjectArray,this.pattern=new n.XFAObjectArray,this.picture=new n.XFAObjectArray,this.radial=new n.XFAObjectArray,this.reason=new n.XFAObjectArray,this.reasons=new n.XFAObjectArray,this.rectangle=new n.XFAObjectArray,this.ref=new n.XFAObjectArray,this.script=new n.XFAObjectArray,this.setProperty=new n.XFAObjectArray,this.signData=new n.XFAObjectArray,this.signature=new n.XFAObjectArray,this.signing=new n.XFAObjectArray,this.solid=new n.XFAObjectArray,this.speak=new n.XFAObjectArray,this.stipple=new n.XFAObjectArray,this.subform=new n.XFAObjectArray,this.subformSet=new n.XFAObjectArray,this.subjectDN=new n.XFAObjectArray,this.subjectDNs=new n.XFAObjectArray,this.submit=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.textEdit=new n.XFAObjectArray,this.time=new n.XFAObjectArray,this.timeStamp=new n.XFAObjectArray,this.toolTip=new n.XFAObjectArray,this.traversal=new n.XFAObjectArray,this.traverse=new n.XFAObjectArray,this.ui=new n.XFAObjectArray,this.validate=new n.XFAObjectArray,this.value=new n.XFAObjectArray,this.variables=new n.XFAObjectArray}}class ie extends n.XFAObject{constructor(t){super(p,"radial",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["toEdge","toCenter"]),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[n.$toStyle](t){t=t?t[n.$toStyle]():"#FFFFFF";const e=this.color?this.color[n.$toStyle]():"#000000";return`radial-gradient(circle at center, ${"toEdge"===this.type?`${t},${e}`:`${e},${t}`})`}}class oe extends n.StringObject{constructor(t){super(p,"reason"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class se extends n.XFAObject{constructor(t){super(p,"reasons",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.reason=new n.XFAObjectArray}}class ae extends n.XFAObject{constructor(t){super(p,"rectangle",!0),this.hand=(0,a.getStringOption)(t.hand,["even","left","right"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.corner=new n.XFAObjectArray(4),this.edge=new n.XFAObjectArray(4),this.fill=null}[n.$toHTML](){const t=this.edge.children.length?this.edge.children[0]:new ct({}),e=t[n.$toStyle](),r=Object.create(null);this.fill&&"visible"===this.fill.presence?Object.assign(r,this.fill[n.$toStyle]()):r.fill="transparent",r.strokeWidth=(0,s.measureToString)("visible"===t.presence?t.thickness:0),r.stroke=e.color;const i=(this.corner.children.length?this.corner.children[0]:new Q({}))[n.$toStyle](),o={name:"svg",children:[{name:"rect",attributes:{xmlns:d,width:"100%",height:"100%",x:0,y:0,rx:i.radius,ry:i.radius,style:r}}],attributes:{xmlns:d,style:{overflow:"visible"},width:"100%",height:"100%"}};return v(this[n.$getParent]()[n.$getParent]())?a.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[o]}):(o.attributes.style.position="absolute",a.HTMLResult.success(o))}}class le extends n.StringObject{constructor(t){super(p,"ref"),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class ce extends n.StringObject{constructor(t){super(p,"script"),this.binding=t.binding||"",this.contentType=t.contentType||"",this.id=t.id||"",this.name=t.name||"",this.runAt=(0,a.getStringOption)(t.runAt,["client","both","server"]),this.use=t.use||"",this.usehref=t.usehref||""}}class he extends n.XFAObject{constructor(t){super(p,"setProperty"),this.connection=t.connection||"",this.ref=t.ref||"",this.target=t.target||""}}e.SetProperty=he;class ue extends n.XFAObject{constructor(t){super(p,"signData",!0),this.id=t.id||"",this.operation=(0,a.getStringOption)(t.operation,["sign","clear","verify"]),this.ref=t.ref||"",this.target=t.target||"",this.use=t.use||"",this.usehref=t.usehref||"",this.filter=null,this.manifest=null}}class pe extends n.XFAObject{constructor(t){super(p,"signature",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["PDF1.3","PDF1.6"]),this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class de extends n.XFAObject{constructor(t){super(p,"signing",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.certificate=new n.XFAObjectArray}}class fe extends n.XFAObject{constructor(t){super(p,"solid",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}[n.$toStyle](t){return t?t[n.$toStyle]():"#FFFFFF"}}class ge extends n.StringObject{constructor(t){super(p,"speak"),this.disable=(0,a.getInteger)({data:t.disable,defaultValue:0,validate:t=>1===t}),this.id=t.id||"",this.priority=(0,a.getStringOption)(t.priority,["custom","caption","name","toolTip"]),this.rid=t.rid||"",this.use=t.use||"",this.usehref=t.usehref||""}}class me extends n.XFAObject{constructor(t){super(p,"stipple",!0),this.id=t.id||"",this.rate=(0,a.getInteger)({data:t.rate,defaultValue:50,validate:t=>t>=0&&t<=100}),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[n.$toStyle](t){const e=this.rate/100;return l.Util.makeHexColor(Math.round(t.value.r*(1-e)+this.value.r*e),Math.round(t.value.g*(1-e)+this.value.g*e),Math.round(t.value.b*(1-e)+this.value.b*e))}}class ye extends n.XFAObject{constructor(t){super(p,"subform",!0),this.access=(0,a.getStringOption)(t.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,a.getInteger)({data:t.allowMacro,defaultValue:0,validate:t=>1===t}),this.anchorType=(0,a.getStringOption)(t.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,a.getInteger)({data:t.colSpan,defaultValue:1,validate:t=>t>=1||-1===t}),this.columnWidths=(t.columnWidths||"").trim().split(/\s+/).map((t=>"-1"===t?-1:(0,a.getMeasurement)(t))),this.h=t.h?(0,a.getMeasurement)(t.h):"",this.hAlign=(0,a.getStringOption)(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.layout=(0,a.getStringOption)(t.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=t.locale||"",this.maxH=(0,a.getMeasurement)(t.maxH,"0pt"),this.maxW=(0,a.getMeasurement)(t.maxW,"0pt"),this.mergeMode=(0,a.getStringOption)(t.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,a.getMeasurement)(t.minH,"0pt"),this.minW=(0,a.getMeasurement)(t.minW,"0pt"),this.name=t.name||"",this.presence=(0,a.getStringOption)(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,a.getRelevant)(t.relevant),this.restoreState=(0,a.getStringOption)(t.restoreState,["manual","auto"]),this.scope=(0,a.getStringOption)(t.scope,["name","none"]),this.use=t.use||"",this.usehref=t.usehref||"",this.w=t.w?(0,a.getMeasurement)(t.w):"",this.x=(0,a.getMeasurement)(t.x,"0pt"),this.y=(0,a.getMeasurement)(t.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new n.XFAObjectArray,this.breakAfter=new n.XFAObjectArray,this.breakBefore=new n.XFAObjectArray,this.connect=new n.XFAObjectArray,this.draw=new n.XFAObjectArray,this.event=new n.XFAObjectArray,this.exObject=new n.XFAObjectArray,this.exclGroup=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.proto=new n.XFAObjectArray,this.setProperty=new n.XFAObjectArray,this.subform=new n.XFAObjectArray,this.subformSet=new n.XFAObjectArray}[n.$getSubformParent](){const t=this[n.$getParent]();return t instanceof ve?t[n.$getSubformParent]():t}[n.$isBindable](){return!0}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&0===this[n.$extra].attempt&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}*[n.$getContainedChildren](){yield*w(this)}[n.$flushHTML](){return(0,o.flushHTML)(this)}[n.$addHTML](t,e){(0,o.addHTML)(this,t,e)}[n.$getAvailableSpace](){return(0,o.getAvailableSpace)(this)}[n.$isSplittable](){const t=this[n.$getSubformParent]();return!!t[n.$isSplittable]()&&(void 0!==this[n.$extra]._isSplittable?this[n.$extra]._isSplittable:"position"===this.layout||this.layout.includes("row")||this.keep&&"none"!==this.keep.intact?(this[n.$extra]._isSplittable=!1,!1):!(t.layout&&t.layout.endsWith("-tb")&&0!==t[n.$extra].numberInLine||(this[n.$extra]._isSplittable=!0,0)))}[n.$toHTML](t){if(x(this),this.break){if("auto"!==this.break.after||""!==this.break.afterTarget){const t=new z({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});t[n.$globalData]=this[n.$globalData],this[n.$appendChild](t),this.breakAfter.push(t)}if("auto"!==this.break.before||""!==this.break.beforeTarget){const t=new U({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});t[n.$globalData]=this[n.$globalData],this[n.$appendChild](t),this.breakBefore.push(t)}if(""!==this.break.overflowTarget){const t=new Yt({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});t[n.$globalData]=this[n.$globalData],this[n.$appendChild](t),this.overflow.push(t)}this[n.$removeChild](this.break),this.break=null}if("hidden"===this.presence||"inactive"===this.presence)return a.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,l.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const t=this.breakBefore.children[0];if(T(t))return a.HTMLResult.breakNode(t)}if(this[n.$extra]&&this[n.$extra].afterBreakAfter)return a.HTMLResult.EMPTY;(0,s.fixDimensions)(this);const e=[],r={id:this[n.$uid],class:[]};(0,s.setAccess)(this,r.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:e,line:null,attributes:r,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,t.width),height:Math.min(this.h||1/0,t.height)},width:0,height:0,prevHeight:0,currentWidth:0});const i=this[n.$getTemplateRoot](),c=i[n.$extra].noLayoutFailure,h=this[n.$isSplittable]();if(h||C(this),!(0,o.checkDimensions)(this,t))return a.HTMLResult.FAILURE;const u=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const t=this[n.$getSubformParent]().columnWidths;Array.isArray(t)&&t.length>0&&(this[n.$extra].columnWidths=t,this[n.$extra].currentColumn=0)}const p=(0,s.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),d=["xfaSubform"],f=(0,s.layoutClass)(this);if(f&&d.push(f),r.style=p,r.class=d,this.name&&(r.xfaName=this.name),this.overflow){const e=this.overflow[n.$getExtra]();e.addLeader&&(e.addLeader=!1,O(this,e.leader,t))}this[n.$pushPara]();const g="lr-tb"===this.layout||"rl-tb"===this.layout,m=g?2:1;for(;this[n.$extra].attempt<m;this[n.$extra].attempt++){g&&1===this[n.$extra].attempt&&(this[n.$extra].numberInLine=0);const t=this[n.$childrenToHTML]({filter:u,include:!0});if(t.success)break;if(t.isBreak())return this[n.$popPara](),t;if(g&&0===this[n.$extra].attempt&&0===this[n.$extra].numberInLine&&!i[n.$extra].noLayoutFailure){this[n.$extra].attempt=m;break}}if(this[n.$popPara](),h||_(this),i[n.$extra].noLayoutFailure=c,this[n.$extra].attempt===m)return this.overflow&&(this[n.$getTemplateRoot]()[n.$extra].overflowNode=this.overflow),h||delete this[n.$extra],a.HTMLResult.FAILURE;if(this.overflow){const e=this.overflow[n.$getExtra]();e.addTrailer&&(e.addTrailer=!1,O(this,e.trailer,t))}let y=0,v=0;this.margin&&(y=this.margin.leftInset+this.margin.rightInset,v=this.margin.topInset+this.margin.bottomInset);const b=Math.max(this[n.$extra].width+y,this.w||0),w=Math.max(this[n.$extra].height+v,this.h||0),k=[this.x,this.y,b,w];if(""===this.w&&(p.width=(0,s.measureToString)(b)),""===this.h&&(p.height=(0,s.measureToString)(w)),("0px"===p.width||"0px"===p.height)&&0===e.length)return a.HTMLResult.EMPTY;const A={name:"div",attributes:r,children:e};S(this,r);const M=a.HTMLResult.success((0,s.createWrapper)(this,A),k);if(this.breakAfter.children.length>=1){const t=this.breakAfter.children[0];if(T(t))return this[n.$extra].afterBreakAfter=M,a.HTMLResult.breakNode(t)}return delete this[n.$extra],M}}class ve extends n.XFAObject{constructor(t){super(p,"subformSet",!0),this.id=t.id||"",this.name=t.name||"",this.relation=(0,a.getStringOption)(t.relation,["ordered","choice","unordered"]),this.relevant=(0,a.getRelevant)(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new n.XFAObjectArray,this.breakBefore=new n.XFAObjectArray,this.subform=new n.XFAObjectArray,this.subformSet=new n.XFAObjectArray}*[n.$getContainedChildren](){yield*w(this)}[n.$getSubformParent](){let t=this[n.$getParent]();for(;!(t instanceof ye);)t=t[n.$getParent]();return t}[n.$isBindable](){return!0}}class be extends n.ContentObject{constructor(t){super(p,"subjectDN"),this.delimiter=t.delimiter||",",this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[n.$finalize](){this[n.$content]=new Map(this[n.$content].split(this.delimiter).map((t=>((t=t.split("=",2))[0]=t[0].trim(),t))))}}class we extends n.XFAObject{constructor(t){super(p,"subjectDNs",!0),this.id=t.id||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.subjectDN=new n.XFAObjectArray}}class xe extends n.XFAObject{constructor(t){super(p,"submit",!0),this.embedPDF=(0,a.getInteger)({data:t.embedPDF,defaultValue:0,validate:t=>1===t}),this.format=(0,a.getStringOption)(t.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=t.id||"",this.target=t.target||"",this.textEncoding=(0,a.getKeyword)({data:t.textEncoding?t.textEncoding.toLowerCase():"",defaultValue:"",validate:t=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(t)||t.match(/iso-8859-\d{2}/)}),this.use=t.use||"",this.usehref=t.usehref||"",this.xdpContent=t.xdpContent||"",this.encrypt=null,this.encryptData=new n.XFAObjectArray,this.signData=new n.XFAObjectArray}}class Se extends n.XFAObject{constructor(t){super(p,"template",!0),this.baseProfile=(0,a.getStringOption)(t.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new n.XFAObjectArray}[n.$finalize](){0===this.subform.children.length&&(0,l.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,l.warn)("XFA - Several subforms in template node: please file a bug."),this[n.$tabIndex]=5e3}[n.$isSplittable](){return!0}[n.$searchNode](t,e){return t.startsWith("#")?[this[n.$ids].get(t.slice(1))]:(0,u.searchNode)(this,e,t,!0,!0)}*[n.$toPages](){if(!this.subform.children.length)return a.HTMLResult.success({name:"div",children:[]});this[n.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const t=this.subform.children[0];t.pageSet[n.$cleanPage]();const e=t.pageSet.pageArea.children,r={name:"div",children:[]};let i=null,o=null,s=null;if(t.breakBefore.children.length>=1?(o=t.breakBefore.children[0],s=o.target):t.subform.children.length>=1&&t.subform.children[0].breakBefore.children.length>=1?(o=t.subform.children[0].breakBefore.children[0],s=o.target):t.break&&t.break.beforeTarget?(o=t.break,s=o.beforeTarget):t.subform.children.length>=1&&t.subform.children[0].break&&t.subform.children[0].break.beforeTarget&&(o=t.subform.children[0].break,s=o.beforeTarget),o){const t=this[n.$searchNode](s,o[n.$getParent]());t instanceof Jt&&(i=t,o[n.$extra]={})}i||(i=e[0]),i[n.$extra]={numberOfUse:1};const c=i[n.$getParent]();let h;c[n.$extra]={numberOfUse:1,pageIndex:c.pageArea.children.indexOf(i),pageSetIndex:0};let u=null,p=null,d=!0,f=0,g=0;for(;;){if(d)f=0;else if(r.children.pop(),3==++f)return(0,l.warn)("XFA - Something goes wrong: please file a bug."),r;h=null,this[n.$extra].currentPageArea=i;const e=i[n.$toHTML]().html;r.children.push(e),u&&(this[n.$extra].noLayoutFailure=!0,e.children.push(u[n.$toHTML](i[n.$extra].space).html),u=null),p&&(this[n.$extra].noLayoutFailure=!0,e.children.push(p[n.$toHTML](i[n.$extra].space).html),p=null);const o=i.contentArea.children,s=e.children.filter((t=>t.attributes.class.includes("xfaContentarea")));d=!1,this[n.$extra].firstUnsplittable=null,this[n.$extra].noLayoutFailure=!1;const a=e=>{const r=t[n.$flushHTML]();r&&(d=d||r.children&&0!==r.children.length,s[e].children.push(r))};for(let e=g,i=o.length;e<i;e++){const i=this[n.$extra].currentContentArea=o[e],l={width:i.w,height:i.h};g=0,u&&(s[e].children.push(u[n.$toHTML](l).html),u=null),p&&(s[e].children.push(p[n.$toHTML](l).html),p=null);const c=t[n.$toHTML](l);if(c.success)return c.html?(d=d||c.html.children&&0!==c.html.children.length,s[e].children.push(c.html)):!d&&r.children.length>1&&r.children.pop(),r;if(c.isBreak()){const t=c.breakNode;if(a(e),"auto"===t.targetType)continue;t.leader&&(u=this[n.$searchNode](t.leader,t[n.$getParent]()),u=u?u[0]:null),t.trailer&&(p=this[n.$searchNode](t.trailer,t[n.$getParent]()),p=p?p[0]:null),"pageArea"===t.targetType?(h=t[n.$extra].target,e=1/0):t[n.$extra].target?(h=t[n.$extra].target,g=t[n.$extra].index+1,e=1/0):e=t[n.$extra].index}else if(this[n.$extra].overflowNode){const t=this[n.$extra].overflowNode;this[n.$extra].overflowNode=null;const r=t[n.$getExtra](),i=r.target;r.addLeader=null!==r.leader,r.addTrailer=null!==r.trailer,a(e);const s=e;if(e=1/0,i instanceof Jt)h=i;else if(i instanceof Z){const t=o.findIndex((t=>t===i));-1!==t?t>s?e=t-1:g=t:(h=i[n.$getParent](),g=h.contentArea.children.findIndex((t=>t===i)))}}else a(e)}this[n.$extra].pageNumber+=1,h&&(h[n.$isUsable]()?h[n.$extra].numberOfUse+=1:h=null),i=h||i[n.$getNextPage](),yield null}}}e.Template=Se;class ke extends n.ContentObject{constructor(t){super(p,"text"),this.id=t.id||"",this.maxChars=(0,a.getInteger)({data:t.maxChars,defaultValue:0,validate:t=>t>=0}),this.name=t.name||"",this.rid=t.rid||"",this.use=t.use||"",this.usehref=t.usehref||""}[n.$acceptWhitespace](){return!0}[n.$onChild](t){return t[n.$namespaceId]===i.NamespaceIds.xhtml.id?(this[n.$content]=t,!0):((0,l.warn)(`XFA - Invalid content in Text: ${t[n.$nodeName]}.`),!1)}[n.$onText](t){this[n.$content]instanceof n.XFAObject||super[n.$onText](t)}[n.$finalize](){"string"==typeof this[n.$content]&&(this[n.$content]=this[n.$content].replace(/\r\n/g,"\n"))}[n.$getExtra](){return"string"==typeof this[n.$content]?this[n.$content].split(/[\u2029\u2028\n]/).reduce(((t,e)=>(e&&t.push(e),t)),[]).join("\n"):this[n.$content][n.$text]()}[n.$toHTML](t){if("string"==typeof this[n.$content]){const t=A(this[n.$content]).html;return this[n.$content].includes("\u2029")?(t.name="div",t.children=[],this[n.$content].split("\u2029").map((t=>t.split(/[\u2028\n]/).reduce(((t,e)=>(t.push({name:"span",value:e},{name:"br"}),t)),[]))).forEach((e=>{t.children.push({name:"p",children:e})}))):/[\u2028\n]/.test(this[n.$content])&&(t.name="div",t.children=[],this[n.$content].split(/[\u2028\n]/).forEach((e=>{t.children.push({name:"span",value:e},{name:"br"})}))),a.HTMLResult.success(t)}return this[n.$content][n.$toHTML](t)}}e.Text=ke;class Ae extends n.XFAObject{constructor(t){super(p,"textEdit",!0),this.allowRichText=(0,a.getInteger)({data:t.allowRichText,defaultValue:0,validate:t=>1===t}),this.hScrollPolicy=(0,a.getStringOption)(t.hScrollPolicy,["auto","off","on"]),this.id=t.id||"",this.multiLine=(0,a.getInteger)({data:t.multiLine,defaultValue:"",validate:t=>0===t||1===t}),this.use=t.use||"",this.usehref=t.usehref||"",this.vScrollPolicy=(0,a.getStringOption)(t.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](t){const e=(0,s.toStyle)(this,"border","font","margin");let r;const i=this[n.$getParent]()[n.$getParent]();return""===this.multiLine&&(this.multiLine=i instanceof lt?1:0),r=1===this.multiLine?{name:"textarea",attributes:{dataId:i[n.$data]&&i[n.$data][n.$uid]||i[n.$uid],fieldId:i[n.$uid],class:["xfaTextfield"],style:e,"aria-label":k(i)}}:{name:"input",attributes:{type:"text",dataId:i[n.$data]&&i[n.$data][n.$uid]||i[n.$uid],fieldId:i[n.$uid],class:["xfaTextfield"],style:e,"aria-label":k(i)}},a.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[r]})}}class Ce extends n.StringObject{constructor(t){super(p,"time"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[n.$finalize](){const t=this[n.$content].trim();this[n.$content]=t?new Date(t):null}[n.$toHTML](t){return A(this[n.$content]?this[n.$content].toString():"")}}class _e extends n.XFAObject{constructor(t){super(p,"timeStamp"),this.id=t.id||"",this.server=t.server||"",this.type=(0,a.getStringOption)(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Te extends n.StringObject{constructor(t){super(p,"toolTip"),this.id=t.id||"",this.rid=t.rid||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Oe extends n.XFAObject{constructor(t){super(p,"traversal",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.traverse=new n.XFAObjectArray}}class Me extends n.XFAObject{constructor(t){super(p,"traverse",!0),this.id=t.id||"",this.operation=(0,a.getStringOption)(t.operation,["next","back","down","first","left","right","up"]),this.ref=t.ref||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[n.$isTransparent](){return!1}}class Ee extends n.XFAObject{constructor(t){super(p,"ui",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[n.$getExtra](){if(void 0===this[n.$extra]){for(const t of Object.getOwnPropertyNames(this)){if("extras"===t||"picture"===t)continue;const e=this[t];if(e instanceof n.XFAObject)return this[n.$extra]=e,e}this[n.$extra]=null}return this[n.$extra]}[n.$toHTML](t){const e=this[n.$getExtra]();return e?e[n.$toHTML](t):a.HTMLResult.EMPTY}}class Pe extends n.XFAObject{constructor(t){super(p,"validate",!0),this.formatTest=(0,a.getStringOption)(t.formatTest,["warning","disabled","error"]),this.id=t.id||"",this.nullTest=(0,a.getStringOption)(t.nullTest,["disabled","error","warning"]),this.scriptTest=(0,a.getStringOption)(t.scriptTest,["error","disabled","warning"]),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Ie extends n.XFAObject{constructor(t){super(p,"value",!0),this.id=t.id||"",this.override=(0,a.getInteger)({data:t.override,defaultValue:0,validate:t=>1===t}),this.relevant=(0,a.getRelevant)(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[n.$setValue](t){const e=this[n.$getParent]();if(e instanceof kt&&e.ui&&e.ui.imageEdit)return this.image||(this.image=new Pt({}),this[n.$appendChild](this.image)),void(this.image[n.$content]=t[n.$content]);const r=t[n.$nodeName];if(null===this[r]){for(const t of Object.getOwnPropertyNames(this)){const e=this[t];e instanceof n.XFAObject&&(this[t]=null,this[n.$removeChild](e))}this[t[n.$nodeName]]=t,this[n.$appendChild](t)}else this[r][n.$content]=t[n.$content]}[n.$text](){if(this.exData)return"string"==typeof this.exData[n.$content]?this.exData[n.$content].trim():this.exData[n.$content][n.$text]().trim();for(const t of Object.getOwnPropertyNames(this)){if("image"===t)continue;const e=this[t];if(e instanceof n.XFAObject)return(e[n.$content]||"").toString().trim()}return null}[n.$toHTML](t){for(const e of Object.getOwnPropertyNames(this)){const r=this[e];if(r instanceof n.XFAObject)return r[n.$toHTML](t)}return a.HTMLResult.EMPTY}}e.Value=Ie;class Fe extends n.XFAObject{constructor(t){super(p,"variables",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.manifest=new n.XFAObjectArray,this.script=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}[n.$isTransparent](){return!0}}class De{static[i.$buildXFAObject](t,e){if(De.hasOwnProperty(t)){const r=De[t](e);return r[n.$setSetAttributes](e),r}}static appearanceFilter(t){return new M(t)}static arc(t){return new E(t)}static area(t){return new P(t)}static assist(t){return new I(t)}static barcode(t){return new F(t)}static bind(t){return new D(t)}static bindItems(t){return new R(t)}static bookend(t){return new L(t)}static boolean(t){return new N(t)}static border(t){return new B(t)}static break(t){return new j(t)}static breakAfter(t){return new z(t)}static breakBefore(t){return new U(t)}static button(t){return new $(t)}static calculate(t){return new H(t)}static caption(t){return new V(t)}static certificate(t){return new q(t)}static certificates(t){return new W(t)}static checkButton(t){return new X(t)}static choiceList(t){return new G(t)}static color(t){return new K(t)}static comb(t){return new Y(t)}static connect(t){return new J(t)}static contentArea(t){return new Z(t)}static corner(t){return new Q(t)}static date(t){return new tt(t)}static dateTime(t){return new et(t)}static dateTimeEdit(t){return new rt(t)}static decimal(t){return new nt(t)}static defaultUi(t){return new it(t)}static desc(t){return new ot(t)}static digestMethod(t){return new st(t)}static digestMethods(t){return new at(t)}static draw(t){return new lt(t)}static edge(t){return new ct(t)}static encoding(t){return new ht(t)}static encodings(t){return new ut(t)}static encrypt(t){return new pt(t)}static encryptData(t){return new dt(t)}static encryption(t){return new ft(t)}static encryptionMethod(t){return new gt(t)}static encryptionMethods(t){return new mt(t)}static event(t){return new yt(t)}static exData(t){return new vt(t)}static exObject(t){return new bt(t)}static exclGroup(t){return new wt(t)}static execute(t){return new xt(t)}static extras(t){return new St(t)}static field(t){return new kt(t)}static fill(t){return new At(t)}static filter(t){return new Ct(t)}static float(t){return new _t(t)}static font(t){return new Tt(t)}static format(t){return new Ot(t)}static handler(t){return new Mt(t)}static hyphenation(t){return new Et(t)}static image(t){return new Pt(t)}static imageEdit(t){return new It(t)}static integer(t){return new Ft(t)}static issuers(t){return new Dt(t)}static items(t){return new Rt(t)}static keep(t){return new Lt(t)}static keyUsage(t){return new Nt(t)}static line(t){return new Bt(t)}static linear(t){return new jt(t)}static lockDocument(t){return new zt(t)}static manifest(t){return new Ut(t)}static margin(t){return new $t(t)}static mdp(t){return new Ht(t)}static medium(t){return new Vt(t)}static message(t){return new qt(t)}static numericEdit(t){return new Wt(t)}static occur(t){return new Xt(t)}static oid(t){return new Gt(t)}static oids(t){return new Kt(t)}static overflow(t){return new Yt(t)}static pageArea(t){return new Jt(t)}static pageSet(t){return new Zt(t)}static para(t){return new Qt(t)}static passwordEdit(t){return new te(t)}static pattern(t){return new ee(t)}static picture(t){return new re(t)}static proto(t){return new ne(t)}static radial(t){return new ie(t)}static reason(t){return new oe(t)}static reasons(t){return new se(t)}static rectangle(t){return new ae(t)}static ref(t){return new le(t)}static script(t){return new ce(t)}static setProperty(t){return new he(t)}static signData(t){return new ue(t)}static signature(t){return new pe(t)}static signing(t){return new de(t)}static solid(t){return new fe(t)}static speak(t){return new ge(t)}static stipple(t){return new me(t)}static subform(t){return new ye(t)}static subformSet(t){return new ve(t)}static subjectDN(t){return new be(t)}static subjectDNs(t){return new we(t)}static submit(t){return new xe(t)}static template(t){return new Se(t)}static text(t){return new ke(t)}static textEdit(t){return new Ae(t)}static time(t){return new Ce(t)}static timeStamp(t){return new _e(t)}static toolTip(t){return new Te(t)}static traversal(t){return new Oe(t)}static traverse(t){return new Me(t)}static ui(t){return new Ee(t)}static validate(t){return new Pe(t)}static value(t){return new Ie(t)}static variables(t){return new Fe(t)}}e.TemplateNamespace=De},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.addHTML=function(t,e,r){const s=t[n.$extra],a=s.availableSpace,[l,c,h,u]=r;switch(t.layout){case"position":s.width=Math.max(s.width,l+h),s.height=Math.max(s.height,c+u),s.children.push(e);break;case"lr-tb":case"rl-tb":s.line&&1!==s.attempt||(s.line=o(t,[]),s.children.push(s.line),s.numberInLine=0),s.numberInLine+=1,s.line.children.push(e),0===s.attempt?(s.currentWidth+=h,s.height=Math.max(s.height,s.prevHeight+u)):(s.currentWidth=h,s.prevHeight=s.height,s.height+=u,s.attempt=0),s.width=Math.max(s.width,s.currentWidth);break;case"rl-row":case"row":{s.children.push(e),s.width+=h,s.height=Math.max(s.height,u);const t=(0,i.measureToString)(s.height);for(const e of s.children)e.attributes.style.height=t;break}case"table":case"tb":s.width=Math.min(a.width,Math.max(s.width,h)),s.height+=u,s.children.push(e)}},e.checkDimensions=function(t,e){if(null===t[n.$getTemplateRoot]()[n.$extra].firstUnsplittable)return!0;if(0===t.w||0===t.h)return!0;const r=t[n.$getSubformParent](),i=r[n.$extra]&&r[n.$extra].attempt||0,[,o,s,a]=function(t){let e,r,n=""===t.w?NaN:t.w,i=""===t.h?NaN:t.h,[o,s]=[0,0];switch(t.anchorType||""){case"bottomCenter":[o,s]=[n/2,i];break;case"bottomLeft":[o,s]=[0,i];break;case"bottomRight":[o,s]=[n,i];break;case"middleCenter":[o,s]=[n/2,i/2];break;case"middleLeft":[o,s]=[0,i/2];break;case"middleRight":[o,s]=[n,i/2];break;case"topCenter":[o,s]=[n/2,0];break;case"topRight":[o,s]=[n,0]}switch(t.rotate||0){case 0:[e,r]=[-o,-s];break;case 90:[e,r]=[-s,o],[n,i]=[i,-n];break;case 180:[e,r]=[o,s],[n,i]=[-n,-i];break;case 270:[e,r]=[s,-o],[n,i]=[-i,n]}return[t.x+e+Math.min(0,n),t.y+r+Math.min(0,i),Math.abs(n),Math.abs(i)]}(t);switch(r.layout){case"lr-tb":case"rl-tb":return 0===i?t[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?""!==t.w?Math.round(s-e.width)<=2:e.width>2:!(""!==t.h&&Math.round(a-e.height)>2)&&(""!==t.w?Math.round(s-e.width)<=2||0===r[n.$extra].numberInLine&&e.height>2:e.width>2):!!t[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||!(""!==t.h&&Math.round(a-e.height)>2)&&(""===t.w||Math.round(s-e.width)<=2||!r[n.$isThereMoreWidth]())&&e.height>2;case"table":case"tb":return!!t[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||(""===t.h||t[n.$isSplittable]()?(""===t.w||Math.round(s-e.width)<=2||!r[n.$isThereMoreWidth]())&&e.height>2:Math.round(a-e.height)<=2);case"position":if(t[n.$getTemplateRoot]()[n.$extra].noLayoutFailure)return!0;if(""===t.h||Math.round(a+o-e.height)<=2)return!0;const l=t[n.$getTemplateRoot]()[n.$extra].currentContentArea;return a+o>l.h;case"rl-row":case"row":return!!t[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||""===t.h||Math.round(a-e.height)<=2;default:return!0}},e.flushHTML=function(t){if(!t[n.$extra])return null;const e={name:"div",attributes:t[n.$extra].attributes,children:t[n.$extra].children};if(t[n.$extra].failingNode){const r=t[n.$extra].failingNode[n.$flushHTML]();r&&(t.layout.endsWith("-tb")?e.children.push(o(t,[r])):e.children.push(r))}return 0===e.children.length?null:e},e.getAvailableSpace=function(t){const e=t[n.$extra].availableSpace,r=t.margin?t.margin.topInset+t.margin.bottomInset:0,i=t.margin?t.margin.leftInset+t.margin.rightInset:0;switch(t.layout){case"lr-tb":case"rl-tb":return 0===t[n.$extra].attempt?{width:e.width-i-t[n.$extra].currentWidth,height:e.height-r-t[n.$extra].prevHeight}:{width:e.width-i,height:e.height-r-t[n.$extra].height};case"rl-row":case"row":return{width:t[n.$extra].columnWidths.slice(t[n.$extra].currentColumn).reduce(((t,e)=>t+e)),height:e.height-i};case"table":case"tb":return{width:e.width-i,height:e.height-r-t[n.$extra].height};default:return e}};var n=r(77),i=r(84);function o(t,e){return{name:"div",attributes:{class:["lr-tb"===t.layout?"xfaLr":"xfaRl"]},children:e}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.computeBbox=function(t,e,r){let i;if(""!==t.w&&""!==t.h)i=[t.x,t.y,t.w,t.h];else{if(!r)return null;let o=t.w;if(""===o){if(0===t.maxW){const e=t[n.$getSubformParent]();o="position"===e.layout&&""!==e.w?0:t.minW}else o=Math.min(t.maxW,r.width);e.attributes.style.width=l(o)}let s=t.h;if(""===s){if(0===t.maxH){const e=t[n.$getSubformParent]();s="position"===e.layout&&""!==e.h?0:t.minH}else s=Math.min(t.maxH,r.height);e.attributes.style.height=l(s)}i=[t.x,t.y,o,s]}return i},e.createWrapper=function(t,e){const{attributes:r}=e,{style:i}=r,o={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(r.class.push("xfaWrapped"),t.border){const{widths:r,insets:s}=t.border[n.$extra];let a,l,c=s[0],h=s[3];const p=s[0]+s[2],d=s[1]+s[3];switch(t.border.hand){case"even":c-=r[0]/2,h-=r[3]/2,a=`calc(100% + ${(r[1]+r[3])/2-d}px)`,l=`calc(100% + ${(r[0]+r[2])/2-p}px)`;break;case"left":c-=r[0],h-=r[3],a=`calc(100% + ${r[1]+r[3]-d}px)`,l=`calc(100% + ${r[0]+r[2]-p}px)`;break;case"right":a=d?`calc(100% - ${d}px)`:"100%",l=p?`calc(100% - ${p}px)`:"100%"}const f=["xfaBorder"];u(t.border)&&f.push("xfaPrintOnly");const g={name:"div",attributes:{class:f,style:{top:`${c}px`,left:`${h}px`,width:a,height:l}},children:[]};for(const t of["border","borderWidth","borderColor","borderRadius","borderStyle"])void 0!==i[t]&&(g.attributes.style[t]=i[t],delete i[t]);o.children.push(g,e)}else o.children.push(e);for(const t of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])void 0!==i[t]&&(o.attributes.style[t]=i[t],delete i[t]);return"absolute"===i.position?o.attributes.style.position="absolute":o.attributes.style.position="relative",delete i.position,i.alignSelf&&(o.attributes.style.alignSelf=i.alignSelf,delete i.alignSelf),o},e.fixDimensions=function(t){const e=t[n.$getSubformParent]();if(e.layout&&e.layout.includes("row")){const r=e[n.$extra],i=t.colSpan;let o;o=-1===i?r.columnWidths.slice(r.currentColumn).reduce(((t,e)=>t+e),0):r.columnWidths.slice(r.currentColumn,r.currentColumn+i).reduce(((t,e)=>t+e),0),isNaN(o)||(t.w=o)}e.layout&&"position"!==e.layout&&(t.x=t.y=0),"table"===t.layout&&""===t.w&&Array.isArray(t.columnWidths)&&(t.w=t.columnWidths.reduce(((t,e)=>t+e),0))},e.fixTextIndent=function(t){const e=(0,o.getMeasurement)(t.textIndent,"0px");if(e>=0)return;const r="padding"+("left"==("right"===t.textAlign?"right":"left")?"Left":"Right"),n=(0,o.getMeasurement)(t[r],"0px");t[r]=n-e+"px"},e.fixURL=function(t){const e=(0,i.createValidAbsoluteUrl)(t,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return e?e.href:null},e.isPrintOnly=u,e.layoutClass=function(t){switch(t.layout){case"position":default:return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb"}},e.layoutNode=function(t,e){let r=null,i=null,o=!1;if((!t.w||!t.h)&&t.value){let s=0,a=0;t.margin&&(s=t.margin.leftInset+t.margin.rightInset,a=t.margin.topInset+t.margin.bottomInset);let l=null,c=null;t.para&&(c=Object.create(null),l=""===t.para.lineHeight?null:t.para.lineHeight,c.top=""===t.para.spaceAbove?0:t.para.spaceAbove,c.bottom=""===t.para.spaceBelow?0:t.para.spaceBelow,c.left=""===t.para.marginLeft?0:t.para.marginLeft,c.right=""===t.para.marginRight?0:t.para.marginRight);let u=t.font;if(!u){const e=t[n.$getTemplateRoot]();let r=t[n.$getParent]();for(;r&&r!==e;){if(r.font){u=r.font;break}r=r[n.$getParent]()}}const p=(t.w?t.w:e.width)-s,d=t[n.$globalData].fontFinder;if(t.value.exData&&t.value.exData[n.$content]&&"text/html"===t.value.exData.contentType){const e=h(t.value.exData[n.$content],u,c,l,d,p);i=e.width,r=e.height,o=e.isBroken}else{const e=t.value[n.$text]();if(e){const t=h(e,u,c,l,d,p);i=t.width,r=t.height,o=t.isBroken}}null===i||t.w||(i+=s),null===r||t.h||(r+=a)}return{w:i,h:r,isBroken:o}},e.measureToString=l,e.setAccess=function(t,e){switch(t.access){case"nonInteractive":e.push("xfaNonInteractive");break;case"readOnly":e.push("xfaReadOnly");break;case"protected":e.push("xfaDisabled")}},e.setFontFamily=function(t,e,r,n){if(!r)return void delete n.fontFamily;const i=(0,o.stripQuotes)(t.typeface);n.fontFamily=`"${i}"`;const a=r.find(i);if(a){const{fontFamily:r}=a.regular.cssFontInfo;r!==i&&(n.fontFamily=`"${r}"`);const o=p(e);if(o&&""!==o.lineHeight)return;if(n.lineHeight)return;const l=(0,s.selectFont)(t,a);l&&(n.lineHeight=Math.max(1.2,l.lineHeight))}},e.setMinMaxDimensions=function(t,e){"position"===t[n.$getSubformParent]().layout&&(t.minW>0&&(e.minWidth=l(t.minW)),t.maxW>0&&(e.maxWidth=l(t.maxW)),t.minH>0&&(e.minHeight=l(t.minH)),t.maxH>0&&(e.maxHeight=l(t.maxH)))},e.setPara=function(t,e,r){if(r.attributes.class&&r.attributes.class.includes("xfaRich")){e&&(""===t.h&&(e.height="auto"),""===t.w&&(e.width="auto"));const i=p(t);if(i){const t=r.attributes.style;switch(t.display="flex",t.flexDirection="column",i.vAlign){case"top":t.justifyContent="start";break;case"bottom":t.justifyContent="end";break;case"middle":t.justifyContent="center"}const e=i[n.$toStyle]();for(const[r,n]of Object.entries(e))r in t||(t[r]=n)}}},e.toStyle=function(t,...e){const r=Object.create(null);for(const o of e){const e=t[o];if(null!==e)if(c.hasOwnProperty(o))c[o](t,r);else if(e instanceof n.XFAObject){const t=e[n.$toStyle]();t?Object.assign(r,t):(0,i.warn)(`(DEBUG) - XFA - style for ${o} not implemented yet`)}}return r};var n=r(77),i=r(2),o=r(78),s=r(85),a=r(86);function l(t){return"string"==typeof t?"0px":Number.isInteger(t)?`${t}px`:`${t.toFixed(2)}px`}const c={anchorType(t,e){const r=t[n.$getSubformParent]();if(r&&(!r.layout||"position"===r.layout))switch("transform"in e||(e.transform=""),t.anchorType){case"bottomCenter":e.transform+="translate(-50%, -100%)";break;case"bottomLeft":e.transform+="translate(0,-100%)";break;case"bottomRight":e.transform+="translate(-100%,-100%)";break;case"middleCenter":e.transform+="translate(-50%,-50%)";break;case"middleLeft":e.transform+="translate(0,-50%)";break;case"middleRight":e.transform+="translate(-100%,-50%)";break;case"topCenter":e.transform+="translate(-50%,0)";break;case"topRight":e.transform+="translate(-100%,0)"}},dimensions(t,e){const r=t[n.$getSubformParent]();let i=t.w;const o=t.h;if(r.layout&&r.layout.includes("row")){const e=r[n.$extra],o=t.colSpan;let s;-1===o?(s=e.columnWidths.slice(e.currentColumn).reduce(((t,e)=>t+e),0),e.currentColumn=0):(s=e.columnWidths.slice(e.currentColumn,e.currentColumn+o).reduce(((t,e)=>t+e),0),e.currentColumn=(e.currentColumn+t.colSpan)%e.columnWidths.length),isNaN(s)||(i=t.w=s)}e.width=""!==i?l(i):"auto",e.height=""!==o?l(o):"auto"},position(t,e){const r=t[n.$getSubformParent]();r&&r.layout&&"position"!==r.layout||(e.position="absolute",e.left=l(t.x),e.top=l(t.y))},rotate(t,e){t.rotate&&("transform"in e||(e.transform=""),e.transform+=`rotate(-${t.rotate}deg)`,e.transformOrigin="top left")},presence(t,e){switch(t.presence){case"invisible":e.visibility="hidden";break;case"hidden":case"inactive":e.display="none"}},hAlign(t,e){if("para"===t[n.$nodeName])switch(t.hAlign){case"justifyAll":e.textAlign="justify-all";break;case"radix":e.textAlign="left";break;default:e.textAlign=t.hAlign}else switch(t.hAlign){case"left":e.alignSelf="start";break;case"center":e.alignSelf="center";break;case"right":e.alignSelf="end"}},margin(t,e){t.margin&&(e.margin=t.margin[n.$toStyle]().margin)}};function h(t,e,r,i,o,s){const l=new a.TextMeasure(e,r,i,o);return"string"==typeof t?l.addString(t):t[n.$pushGlyphs](l),l.compute(s)}function u(t){return t.relevant.length>0&&!t.relevant[0].excluded&&"print"===t.relevant[0].viewname}function p(t){const e=t[n.$getTemplateRoot]()[n.$extra].paraStack;return e.length?e[e.length-1]:null}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontFinder=void 0,e.getMetrics=function(t,e=!1){let r=null;if(t){const e=(0,i.stripQuotes)(t.typeface),o=t[n.$globalData].fontFinder.find(e);r=s(t,o)}if(!r)return{lineHeight:12,lineGap:2,lineNoGap:10};const o=t.size||10,a=r.lineHeight?Math.max(e?0:1.2,r.lineHeight):1.2,l=void 0===r.lineGap?.2:r.lineGap;return{lineHeight:a*o,lineGap:l*o,lineNoGap:Math.max(1,a-l)*o}},e.selectFont=s;var n=r(77),i=r(78),o=r(2);function s(t,e){return"italic"===t.posture?"bold"===t.weight?e.bolditalic:e.italic:"bold"===t.weight?e.bold:e.regular}e.FontFinder=class{constructor(t){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(t)}add(t,e=null){for(const e of t)this.addPdfFont(e);for(const t of this.fonts.values())t.regular||(t.regular=t.italic||t.bold||t.bolditalic);if(!e||0===e.size)return;const r=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const t of e)this.fonts.set(t,r)}addPdfFont(t){const e=t.cssFontInfo,r=e.fontFamily;let n=this.fonts.get(r);n||(n=Object.create(null),this.fonts.set(r,n),this.defaultFont||(this.defaultFont=n));let i="";const o=parseFloat(e.fontWeight);0!==parseFloat(e.italicAngle)?i=o>=700?"bolditalic":"italic":o>=700&&(i="bold"),i||((t.name.includes("Bold")||t.psName&&t.psName.includes("Bold"))&&(i="bold"),(t.name.includes("Italic")||t.name.endsWith("It")||t.psName&&(t.psName.includes("Italic")||t.psName.endsWith("It")))&&(i+="italic")),i||(i="regular"),n[i]=t}getDefault(){return this.defaultFont}find(t,e=!0){let r=this.fonts.get(t)||this.cache.get(t);if(r)return r;const n=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let i=t.replace(n,"");if(r=this.fonts.get(i),r)return this.cache.set(t,r),r;i=i.toLowerCase();const s=[];for(const[t,e]of this.fonts.entries())t.replace(n,"").toLowerCase().startsWith(i)&&s.push(e);if(0===s.length)for(const[,t]of this.fonts.entries())t.regular.name&&t.regular.name.replace(n,"").toLowerCase().startsWith(i)&&s.push(t);if(0===s.length){i=i.replace(/psmt|mt/gi,"");for(const[t,e]of this.fonts.entries())t.replace(n,"").toLowerCase().startsWith(i)&&s.push(e)}if(0===s.length)for(const t of this.fonts.values())t.regular.name&&t.regular.name.replace(n,"").toLowerCase().startsWith(i)&&s.push(t);return s.length>=1?(1!==s.length&&e&&(0,o.warn)(`XFA - Too many choices to guess the correct font: ${t}`),this.cache.set(t,s[0]),s[0]):(e&&!this.warned.has(t)&&(this.warned.add(t),(0,o.warn)(`XFA - Cannot find the font: ${t}`)),null)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextMeasure=void 0;var n=r(85);class i{constructor(t,e,r,i){if(this.lineHeight=r,this.paraMargin=e||{top:0,bottom:0,left:0,right:0},!t)return void([this.pdfFont,this.xfaFont]=this.defaultFont(i));this.xfaFont={typeface:t.typeface,posture:t.posture,weight:t.weight,size:t.size,letterSpacing:t.letterSpacing};const o=i.find(t.typeface);o?(this.pdfFont=(0,n.selectFont)(t,o),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(i))):[this.pdfFont,this.xfaFont]=this.defaultFont(i)}defaultFont(t){const e=t.find("Helvetica",!1)||t.find("Myriad Pro",!1)||t.find("Arial",!1)||t.getDefault();if(e&&e.regular){const t=e.regular;return[t,{typeface:t.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0}]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class o{constructor(t,e,r,n){this.fontFinder=n,this.stack=[new i(t,e,r,n)]}pushData(t,e,r){const n=this.stack[this.stack.length-1];for(const e of["typeface","posture","weight","size","letterSpacing"])t[e]||(t[e]=n.xfaFont[e]);for(const t of["top","bottom","left","right"])isNaN(e[t])&&(e[t]=n.paraMargin[t]);const o=new i(t,e,r||n.lineHeight,this.fontFinder);o.pdfFont||(o.pdfFont=n.pdfFont),this.stack.push(o)}popFont(){this.stack.pop()}topFont(){return this.stack[this.stack.length-1]}}e.TextMeasure=class{constructor(t,e,r,n){this.glyphs=[],this.fontSelector=new o(t,e,r,n),this.extraHeight=0}pushData(t,e,r){this.fontSelector.pushData(t,e,r)}popFont(t){return this.fontSelector.popFont()}addPara(){const t=this.fontSelector.topFont();this.extraHeight+=t.paraMargin.top+t.paraMargin.bottom}addString(t){if(!t)return;const e=this.fontSelector.topFont(),r=e.xfaFont.size;if(e.pdfFont){const n=e.xfaFont.letterSpacing,i=e.pdfFont,o=i.lineHeight||1.2,s=e.lineHeight||Math.max(1.2,o)*r,a=o-(void 0===i.lineGap?.2:i.lineGap),l=Math.max(1,a)*r,c=r/1e3,h=i.defaultWidth||i.charsToGlyphs(" ")[0].width;for(const e of t.split(/[\u2029\n]/)){const t=i.encodeString(e).join(""),r=i.charsToGlyphs(t);for(const t of r){const e=t.width||h;this.glyphs.push([e*c+n,s,l,t.unicode,!1])}this.glyphs.push([0,0,0,"\n",!0])}this.glyphs.pop()}else{for(const e of t.split(/[\u2029\n]/)){for(const t of e.split(""))this.glyphs.push([r,1.2*r,r,t,!1]);this.glyphs.push([0,0,0,"\n",!0])}this.glyphs.pop()}}compute(t){let e=-1,r=0,n=0,i=0,o=0,s=0,a=!1,l=!0;for(let c=0,h=this.glyphs.length;c<h;c++){const[h,u,p,d,f]=this.glyphs[c],g=" "===d,m=l?p:u;f?(n=Math.max(n,o),o=0,i+=s,s=m,e=-1,r=0,l=!1):g?o+h>t?(n=Math.max(n,o),o=0,i+=s,s=m,e=-1,r=0,a=!0,l=!1):(s=Math.max(m,s),r=o,o+=h,e=c):o+h>t?(i+=s,s=m,-1!==e?(c=e,n=Math.max(n,r),o=0,e=-1,r=0):(n=Math.max(n,o),o=h),a=!0,l=!1):(o+=h,s=Math.max(m,s))}return n=Math.max(n,o),i+=s+this.extraHeight,{width:1.02*n,height:i,isBroken:a}}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataHandler=void 0;var n=r(77);e.DataHandler=class{constructor(t,e){this.data=e,this.dataset=t.datasets||null}serialize(t){const e=[[-1,this.data[n.$getChildren]()]];for(;e.length>0;){const r=e[e.length-1],[i,o]=r;if(i+1===o.length){e.pop();continue}const s=o[++r[0]],a=t.get(s[n.$uid]);if(a)s[n.$setValue](a);else{const e=s[n.$getAttributes]();for(const r of e.values()){const e=t.get(r[n.$uid]);if(e){r[n.$setValue](e);break}}}const l=s[n.$getChildren]();l.length>0&&e.push([-1,l])}const r=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const t of this.dataset[n.$getChildren]())"data"!==t[n.$nodeName]&&t[n.$toString](r);return this.data[n.$toString](r),r.push("</xfa:datasets>"),r.join("")}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XFAParser=void 0;var n=r(77),i=r(70),o=r(89),s=r(2);class a extends i.XMLParserBase{constructor(t=null,e=!1){super(),this._builder=new o.Builder(t),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=i.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=e}parse(t){if(this.parseXml(t),this._errorCode===i.XMLParserErrorCode.NoError)return this._current[n.$finalize](),this._current.element}onText(t){t=t.replace(this._nbsps,(t=>t.slice(1)+" ")),this._richText||this._current[n.$acceptWhitespace]()?this._current[n.$onText](t,this._richText):this._whiteRegex.test(t)||this._current[n.$onText](t.trim())}onCdata(t){this._current[n.$onText](t)}_mkAttributes(t,e){let r=null,i=null;const o=Object.create({});for(const{name:a,value:l}of t)if("xmlns"===a)r?(0,s.warn)(`XFA - multiple namespace definition in <${e}>`):r=l;else if(a.startsWith("xmlns:")){const t=a.substring("xmlns:".length);i||(i=[]),i.push({prefix:t,value:l})}else{const t=a.indexOf(":");if(-1===t)o[a]=l;else{let e=o[n.$nsAttributes];e||(e=o[n.$nsAttributes]=Object.create(null));const[r,i]=[a.slice(0,t),a.slice(t+1)];let s=e[r];s||(s=e[r]=Object.create(null)),s[i]=l}}return[r,i,o]}_getNameAndPrefix(t,e){const r=t.indexOf(":");return-1===r?[t,null]:[t.substring(r+1),e?"":t.substring(0,r)]}onBeginElement(t,e,r){const[i,o,s]=this._mkAttributes(e,t),[a,l]=this._getNameAndPrefix(t,this._builder.isNsAgnostic()),c=this._builder.build({nsPrefix:l,name:a,attributes:s,namespace:i,prefixes:o});if(c[n.$globalData]=this._globalData,r)return c[n.$finalize](),this._current[n.$onChild](c)&&c[n.$setId](this._ids),void c[n.$clean](this._builder);this._stack.push(this._current),this._current=c}onEndElement(t){const e=this._current;if(e[n.$isCDATAXml]()&&"string"==typeof e[n.$content]){const t=new a;t._globalData=this._globalData;const r=t.parse(e[n.$content]);e[n.$content]=null,e[n.$onChild](r)}e[n.$finalize](),this._current=this._stack.pop(),this._current[n.$onChild](e)&&e[n.$setId](this._ids),e[n.$clean](this._builder)}onError(t){this._errorCode=t}}e.XFAParser=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Builder=void 0;var n=r(79),i=r(77),o=r(90),s=r(82),a=r(99),l=r(2);class c extends i.XFAObject{constructor(t){super(-1,"root",Object.create(null)),this.element=null,this[i.$ids]=t}[i.$onChild](t){return this.element=t,!0}[i.$finalize](){super[i.$finalize](),this.element.template instanceof s.Template&&(this[i.$ids].set(i.$root,this.element),this.element.template[i.$resolvePrototypes](this[i.$ids]),this.element.template[i.$ids]=this[i.$ids])}}class h extends i.XFAObject{constructor(){super(-1,"",Object.create(null))}[i.$onChild](t){return!1}}e.Builder=class{constructor(t=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(n.NamespaceIds).map((({id:t})=>t))),this._currentNamespace=t||new a.UnknownNamespace(++this._nextNsId)}buildRoot(t){return new c(t)}build({nsPrefix:t,name:e,attributes:r,namespace:s,prefixes:a}){const l=null!==s;if(l&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(s)),a&&this._addNamespacePrefix(a),r.hasOwnProperty(i.$nsAttributes)){const t=o.NamespaceSetUp.datasets,e=r[i.$nsAttributes];let n=null;for(const[r,i]of Object.entries(e))if(this._getNamespaceToUse(r)===t){n={xfa:i};break}n?r[i.$nsAttributes]=n:delete r[i.$nsAttributes]}const c=this._getNamespaceToUse(t),u=c&&c[n.$buildXFAObject](e,r)||new h;return u[i.$isNsAgnostic]()&&this._nsAgnosticLevel++,(l||a||u[i.$isNsAgnostic]())&&(u[i.$cleanup]={hasNamespace:l,prefixes:a,nsAgnostic:u[i.$isNsAgnostic]()}),u}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(t){let e=this._namespaces.get(t);if(e)return e;for(const[r,{check:i}]of Object.entries(n.NamespaceIds))if(i(t)){if(e=o.NamespaceSetUp[r],e)return this._namespaces.set(t,e),e;break}return e=new a.UnknownNamespace(++this._nextNsId),this._namespaces.set(t,e),e}_addNamespacePrefix(t){for(const{prefix:e,value:r}of t){const t=this._searchNamespace(r);let n=this._namespacePrefixes.get(e);n||(n=[],this._namespacePrefixes.set(e,n)),n.push(t)}}_getNamespaceToUse(t){if(!t)return this._currentNamespace;const e=this._namespacePrefixes.get(t);return e&&e.length>0?e[e.length-1]:((0,l.warn)(`Unknown namespace prefix: ${t}.`),null)}clean(t){const{hasNamespace:e,prefixes:r,nsAgnostic:n}=t;e&&(this._currentNamespace=this._namespaceStack.pop()),r&&r.forEach((({prefix:t})=>{this._namespacePrefixes.get(t).pop()})),n&&this._nsAgnosticLevel--}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamespaceSetUp=void 0;var n=r(91),i=r(92),o=r(93),s=r(94),a=r(95),l=r(96),c=r(82),h=r(97),u=r(98);const p={config:n.ConfigNamespace,connection:i.ConnectionSetNamespace,datasets:o.DatasetsNamespace,localeSet:s.LocaleSetNamespace,signature:a.SignatureNamespace,stylesheet:l.StylesheetNamespace,template:c.TemplateNamespace,xdp:h.XdpNamespace,xhtml:u.XhtmlNamespace};e.NamespaceSetUp=p},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigNamespace=void 0;var n=r(79),i=r(77),o=r(78),s=r(2);const a=n.NamespaceIds.config.id;class l extends i.XFAObject{constructor(t){super(a,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new i.XFAObjectArray}}class c extends i.XFAObject{constructor(t){super(a,"acrobat7",!0),this.dynamicRender=null}}class h extends i.OptionObject{constructor(t){super(a,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class u extends i.OptionObject{constructor(t){super(a,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class p extends i.Option01{constructor(t){super(a,"addSilentPrint")}}class d extends i.Option01{constructor(t){super(a,"addViewerPreferences")}}class f extends i.Option10{constructor(t){super(a,"adjustData")}}class g extends i.IntegerObject{constructor(t){super(a,"adobeExtensionLevel",0,(t=>t>=1&&t<=8))}}class m extends i.XFAObject{constructor(t){super(a,"agent",!0),this.name=t.name?t.name.trim():"",this.common=new i.XFAObjectArray}}class y extends i.ContentObject{constructor(t){super(a,"alwaysEmbed")}}class v extends i.StringObject{constructor(t){super(a,"amd")}}class b extends i.XFAObject{constructor(t){super(a,"area"),this.level=(0,o.getInteger)({data:t.level,defaultValue:0,validate:t=>t>=1&&t<=3}),this.name=(0,o.getStringOption)(t.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class w extends i.OptionObject{constructor(t){super(a,"attributes",["preserve","delegate","ignore"])}}class x extends i.OptionObject{constructor(t){super(a,"autoSave",["disabled","enabled"])}}class S extends i.StringObject{constructor(t){super(a,"base")}}class k extends i.XFAObject{constructor(t){super(a,"batchOutput"),this.format=(0,o.getStringOption)(t.format,["none","concat","zip","zipCompress"])}}class A extends i.ContentObject{constructor(t){super(a,"behaviorOverride")}[i.$finalize](){this[i.$content]=new Map(this[i.$content].trim().split(/\s+/).filter((t=>t.includes(":"))).map((t=>t.split(":",2))))}}class C extends i.XFAObject{constructor(t){super(a,"cache",!0),this.templateCache=null}}class _ extends i.Option01{constructor(t){super(a,"change")}}class T extends i.XFAObject{constructor(t){super(a,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new i.XFAObjectArray}}class O extends i.XFAObject{constructor(t){super(a,"compress"),this.scope=(0,o.getStringOption)(t.scope,["imageOnly","document"])}}class M extends i.Option01{constructor(t){super(a,"compressLogicalStructure")}}class E extends i.Option10{constructor(t){super(a,"compressObjectStream")}}class P extends i.XFAObject{constructor(t){super(a,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class I extends i.XFAObject{constructor(t){super(a,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new i.XFAObjectArray}}class F extends i.OptionObject{constructor(t){super(a,"conformance",["A","B"])}}class D extends i.Option01{constructor(t){super(a,"contentCopy")}}class R extends i.IntegerObject{constructor(t){super(a,"copies",1,(t=>t>=1))}}class L extends i.StringObject{constructor(t){super(a,"creator")}}class N extends i.IntegerObject{constructor(t){super(a,"currentPage",0,(t=>t>=0))}}class B extends i.XFAObject{constructor(t){super(a,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new i.XFAObjectArray,this.transform=new i.XFAObjectArray}}class j extends i.XFAObject{constructor(t){super(a,"debug",!0),this.uri=null}}class z extends i.ContentObject{constructor(t){super(a,"defaultTypeface"),this.writingScript=(0,o.getStringOption)(t.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class U extends i.OptionObject{constructor(t){super(a,"destination",["pdf","pcl","ps","webClient","zpl"])}}class $ extends i.Option01{constructor(t){super(a,"documentAssembly")}}class H extends i.XFAObject{constructor(t){super(a,"driver",!0),this.name=t.name?t.name.trim():"",this.fontInfo=null,this.xdc=null}}class V extends i.OptionObject{constructor(t){super(a,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class q extends i.OptionObject{constructor(t){super(a,"dynamicRender",["forbidden","required"])}}class W extends i.Option01{constructor(t){super(a,"embed")}}class X extends i.Option01{constructor(t){super(a,"encrypt")}}class G extends i.XFAObject{constructor(t){super(a,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class K extends i.OptionObject{constructor(t){super(a,"encryptionLevel",["40bit","128bit"])}}class Y extends i.StringObject{constructor(t){super(a,"enforce")}}class J extends i.XFAObject{constructor(t){super(a,"equate"),this.force=(0,o.getInteger)({data:t.force,defaultValue:1,validate:t=>0===t}),this.from=t.from||"",this.to=t.to||""}}class Z extends i.XFAObject{constructor(t){super(a,"equateRange"),this.from=t.from||"",this.to=t.to||"",this._unicodeRange=t.unicodeRange||""}get unicodeRange(){const t=[],e=/U\+([0-9a-fA-F]+)/,r=this._unicodeRange;for(let n of r.split(",").map((t=>t.trim())).filter((t=>!!t)))n=n.split("-",2).map((t=>{const r=t.match(e);return r?parseInt(r[1],16):0})),1===n.length&&n.push(n[0]),t.push(n);return(0,s.shadow)(this,"unicodeRange",t)}}class Q extends i.ContentObject{constructor(t){super(a,"exclude")}[i.$finalize](){this[i.$content]=this[i.$content].trim().split(/\s+/).filter((t=>t&&["calculate","close","enter","exit","initialize","ready","validate"].includes(t)))}}class tt extends i.StringObject{constructor(t){super(a,"excludeNS")}}class et extends i.OptionObject{constructor(t){super(a,"flipLabel",["usePrinterSetting","on","off"])}}class rt extends i.XFAObject{constructor(t){super(a,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new i.XFAObjectArray,this.defaultTypeface=new i.XFAObjectArray,this.neverEmbed=new i.XFAObjectArray}}class nt extends i.Option01{constructor(t){super(a,"formFieldFilling")}}class it extends i.StringObject{constructor(t){super(a,"groupParent")}}class ot extends i.OptionObject{constructor(t){super(a,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class st extends i.StringObject{constructor(t){super(a,"includeXDPContent")}}class at extends i.OptionObject{constructor(t){super(a,"incrementalLoad",["none","forwardOnly"])}}class lt extends i.Option01{constructor(t){super(a,"incrementalMerge")}}class ct extends i.Option01{constructor(t){super(a,"interactive")}}class ht extends i.OptionObject{constructor(t){super(a,"jog",["usePrinterSetting","none","pageSet"])}}class ut extends i.XFAObject{constructor(t){super(a,"labelPrinter",!0),this.name=(0,o.getStringOption)(t.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class pt extends i.OptionObject{constructor(t){super(a,"layout",["paginate","panel"])}}class dt extends i.IntegerObject{constructor(t){super(a,"level",0,(t=>t>0))}}class ft extends i.Option01{constructor(t){super(a,"linearized")}}class gt extends i.StringObject{constructor(t){super(a,"locale")}}class mt extends i.StringObject{constructor(t){super(a,"localeSet")}}class yt extends i.XFAObject{constructor(t){super(a,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class vt extends i.XFAObject{constructor(t){super(a,"map",!0),this.equate=new i.XFAObjectArray,this.equateRange=new i.XFAObjectArray}}class bt extends i.XFAObject{constructor(t){super(a,"mediumInfo",!0),this.map=null}}class wt extends i.XFAObject{constructor(t){super(a,"message",!0),this.msgId=null,this.severity=null}}class xt extends i.XFAObject{constructor(t){super(a,"messaging",!0),this.message=new i.XFAObjectArray}}class St extends i.OptionObject{constructor(t){super(a,"mode",["append","overwrite"])}}class kt extends i.Option01{constructor(t){super(a,"modifyAnnots")}}class At extends i.IntegerObject{constructor(t){super(a,"msgId",1,(t=>t>=1))}}class Ct extends i.StringObject{constructor(t){super(a,"nameAttr")}}class _t extends i.ContentObject{constructor(t){super(a,"neverEmbed")}}class Tt extends i.IntegerObject{constructor(t){super(a,"numberOfCopies",null,(t=>t>=2&&t<=5))}}class Ot extends i.XFAObject{constructor(t){super(a,"openAction",!0),this.destination=null}}class Mt extends i.XFAObject{constructor(t){super(a,"output",!0),this.to=null,this.type=null,this.uri=null}}class Et extends i.StringObject{constructor(t){super(a,"outputBin")}}class Pt extends i.XFAObject{constructor(t){super(a,"outputXSL",!0),this.uri=null}}class It extends i.OptionObject{constructor(t){super(a,"overprint",["none","both","draw","field"])}}class Ft extends i.StringObject{constructor(t){super(a,"packets")}[i.$finalize](){"*"!==this[i.$content]&&(this[i.$content]=this[i.$content].trim().split(/\s+/).filter((t=>["config","datasets","template","xfdf","xslt"].includes(t))))}}class Dt extends i.XFAObject{constructor(t){super(a,"pageOffset"),this.x=(0,o.getInteger)({data:t.x,defaultValue:"useXDCSetting",validate:t=>!0}),this.y=(0,o.getInteger)({data:t.y,defaultValue:"useXDCSetting",validate:t=>!0})}}class Rt extends i.StringObject{constructor(t){super(a,"pageRange")}[i.$finalize](){const t=this[i.$content].trim().split(/\s+/).map((t=>parseInt(t,10))),e=[];for(let r=0,n=t.length;r<n;r+=2)e.push(t.slice(r,r+2));this[i.$content]=e}}class Lt extends i.OptionObject{constructor(t){super(a,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Nt extends i.OptionObject{constructor(t){super(a,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Bt extends i.IntegerObject{constructor(t){super(a,"part",1,(t=>!1))}}class jt extends i.XFAObject{constructor(t){super(a,"pcl",!0),this.name=t.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class zt extends i.XFAObject{constructor(t){super(a,"pdf",!0),this.name=t.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class Ut extends i.XFAObject{constructor(t){super(a,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class $t extends i.XFAObject{constructor(t){super(a,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Ht extends i.Option01{constructor(t){super(a,"pickTrayByPDFSize")}}class Vt extends i.StringObject{constructor(t){super(a,"picture")}}class qt extends i.Option01{constructor(t){super(a,"plaintextMetadata")}}class Wt extends i.OptionObject{constructor(t){super(a,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Xt extends i.XFAObject{constructor(t){super(a,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new i.XFAObjectArray,this.labelPrinter=new i.XFAObjectArray,this.pcl=new i.XFAObjectArray,this.pdf=new i.XFAObjectArray,this.ps=new i.XFAObjectArray,this.submitUrl=new i.XFAObjectArray,this.webClient=new i.XFAObjectArray,this.zpl=new i.XFAObjectArray}}class Gt extends i.Option01{constructor(t){super(a,"print")}}class Kt extends i.Option01{constructor(t){super(a,"printHighQuality")}}class Yt extends i.OptionObject{constructor(t){super(a,"printScaling",["appdefault","noScaling"])}}class Jt extends i.StringObject{constructor(t){super(a,"printerName")}}class Zt extends i.StringObject{constructor(t){super(a,"producer")}}class Qt extends i.XFAObject{constructor(t){super(a,"ps",!0),this.name=t.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class te extends i.ContentObject{constructor(t){super(a,"range")}[i.$finalize](){this[i.$content]=this[i.$content].trim().split(/\s*,\s*/,2).map((t=>t.split("-").map((t=>parseInt(t.trim(),10))))).filter((t=>t.every((t=>!isNaN(t))))).map((t=>(1===t.length&&t.push(t[0]),t)))}}class ee extends i.ContentObject{constructor(t){super(a,"record")}[i.$finalize](){this[i.$content]=this[i.$content].trim();const t=parseInt(this[i.$content],10);!isNaN(t)&&t>=0&&(this[i.$content]=t)}}class re extends i.ContentObject{constructor(t){super(a,"relevant")}[i.$finalize](){this[i.$content]=this[i.$content].trim().split(/\s+/)}}class ne extends i.ContentObject{constructor(t){super(a,"rename")}[i.$finalize](){this[i.$content]=this[i.$content].trim(),(this[i.$content].toLowerCase().startsWith("xml")||this[i.$content].match(new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u")))&&(0,s.warn)("XFA - Rename: invalid XFA name")}}class ie extends i.OptionObject{constructor(t){super(a,"renderPolicy",["server","client"])}}class oe extends i.OptionObject{constructor(t){super(a,"runScripts",["both","client","none","server"])}}class se extends i.XFAObject{constructor(t){super(a,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class ae extends i.OptionObject{constructor(t){super(a,"scriptModel",["XFA","none"])}}class le extends i.OptionObject{constructor(t){super(a,"severity",["ignore","error","information","trace","warning"])}}class ce extends i.XFAObject{constructor(t){super(a,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class he extends i.XFAObject{constructor(t){super(a,"staple"),this.mode=(0,o.getStringOption)(t.mode,["usePrinterSetting","on","off"])}}class ue extends i.StringObject{constructor(t){super(a,"startNode")}}class pe extends i.IntegerObject{constructor(t){super(a,"startPage",0,(t=>!0))}}class de extends i.OptionObject{constructor(t){super(a,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class fe extends i.StringObject{constructor(t){super(a,"submitUrl")}}class ge extends i.IntegerObject{constructor(t){super(a,"subsetBelow",100,(t=>t>=0&&t<=100))}}class me extends i.Option01{constructor(t){super(a,"suppressBanner")}}class ye extends i.Option01{constructor(t){super(a,"tagged")}}class ve extends i.XFAObject{constructor(t){super(a,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class be extends i.OptionObject{constructor(t){super(a,"threshold",["trace","error","information","warning"])}}class we extends i.OptionObject{constructor(t){super(a,"to",["null","memory","stderr","stdout","system","uri"])}}class xe extends i.XFAObject{constructor(t){super(a,"templateCache"),this.maxEntries=(0,o.getInteger)({data:t.maxEntries,defaultValue:5,validate:t=>t>=0})}}class Se extends i.XFAObject{constructor(t){super(a,"trace",!0),this.area=new i.XFAObjectArray}}class ke extends i.XFAObject{constructor(t){super(a,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Ae extends i.OptionObject{constructor(t){super(a,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Ce extends i.StringObject{constructor(t){super(a,"uri")}}class _e extends i.OptionObject{constructor(t){super(a,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class Te extends i.ContentObject{constructor(t){super(a,"validateApprovalSignatures")}[i.$finalize](){this[i.$content]=this[i.$content].trim().split(/\s+/).filter((t=>["docReady","postSign"].includes(t)))}}class Oe extends i.OptionObject{constructor(t){super(a,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Me extends i.OptionObject{constructor(t){super(a,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class Ee extends i.XFAObject{constructor(t){super(a,"VersionControl"),this.outputBelow=(0,o.getStringOption)(t.outputBelow,["warn","error","update"]),this.sourceAbove=(0,o.getStringOption)(t.sourceAbove,["warn","error"]),this.sourceBelow=(0,o.getStringOption)(t.sourceBelow,["update","maintain"])}}class Pe extends i.XFAObject{constructor(t){super(a,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class Ie extends i.XFAObject{constructor(t){super(a,"webClient",!0),this.name=t.name?t.name.trim():"",this.fontInfo=null,this.xdc=null}}class Fe extends i.OptionObject{constructor(t){super(a,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class De extends i.ContentObject{constructor(t){super(a,"window")}[i.$finalize](){const t=this[i.$content].trim().split(/\s*,\s*/,2).map((t=>parseInt(t,10)));t.some((t=>isNaN(t)))?this[i.$content]=[0,0]:(1===t.length&&t.push(t[0]),this[i.$content]=t)}}class Re extends i.XFAObject{constructor(t){super(a,"xdc",!0),this.uri=new i.XFAObjectArray,this.xsl=new i.XFAObjectArray}}class Le extends i.XFAObject{constructor(t){super(a,"xdp",!0),this.packets=null}}class Ne extends i.XFAObject{constructor(t){super(a,"xsl",!0),this.debug=null,this.uri=null}}class Be extends i.XFAObject{constructor(t){super(a,"zpl",!0),this.name=t.name?t.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class je{static[n.$buildXFAObject](t,e){if(je.hasOwnProperty(t))return je[t](e)}static acrobat(t){return new l(t)}static acrobat7(t){return new c(t)}static ADBE_JSConsole(t){return new h(t)}static ADBE_JSDebugger(t){return new u(t)}static addSilentPrint(t){return new p(t)}static addViewerPreferences(t){return new d(t)}static adjustData(t){return new f(t)}static adobeExtensionLevel(t){return new g(t)}static agent(t){return new m(t)}static alwaysEmbed(t){return new y(t)}static amd(t){return new v(t)}static area(t){return new b(t)}static attributes(t){return new w(t)}static autoSave(t){return new x(t)}static base(t){return new S(t)}static batchOutput(t){return new k(t)}static behaviorOverride(t){return new A(t)}static cache(t){return new C(t)}static change(t){return new _(t)}static common(t){return new T(t)}static compress(t){return new O(t)}static compressLogicalStructure(t){return new M(t)}static compressObjectStream(t){return new E(t)}static compression(t){return new P(t)}static config(t){return new I(t)}static conformance(t){return new F(t)}static contentCopy(t){return new D(t)}static copies(t){return new R(t)}static creator(t){return new L(t)}static currentPage(t){return new N(t)}static data(t){return new B(t)}static debug(t){return new j(t)}static defaultTypeface(t){return new z(t)}static destination(t){return new U(t)}static documentAssembly(t){return new $(t)}static driver(t){return new H(t)}static duplexOption(t){return new V(t)}static dynamicRender(t){return new q(t)}static embed(t){return new W(t)}static encrypt(t){return new X(t)}static encryption(t){return new G(t)}static encryptionLevel(t){return new K(t)}static enforce(t){return new Y(t)}static equate(t){return new J(t)}static equateRange(t){return new Z(t)}static exclude(t){return new Q(t)}static excludeNS(t){return new tt(t)}static flipLabel(t){return new et(t)}static fontInfo(t){return new rt(t)}static formFieldFilling(t){return new nt(t)}static groupParent(t){return new it(t)}static ifEmpty(t){return new ot(t)}static includeXDPContent(t){return new st(t)}static incrementalLoad(t){return new at(t)}static incrementalMerge(t){return new lt(t)}static interactive(t){return new ct(t)}static jog(t){return new ht(t)}static labelPrinter(t){return new ut(t)}static layout(t){return new pt(t)}static level(t){return new dt(t)}static linearized(t){return new ft(t)}static locale(t){return new gt(t)}static localeSet(t){return new mt(t)}static log(t){return new yt(t)}static map(t){return new vt(t)}static mediumInfo(t){return new bt(t)}static message(t){return new wt(t)}static messaging(t){return new xt(t)}static mode(t){return new St(t)}static modifyAnnots(t){return new kt(t)}static msgId(t){return new At(t)}static nameAttr(t){return new Ct(t)}static neverEmbed(t){return new _t(t)}static numberOfCopies(t){return new Tt(t)}static openAction(t){return new Ot(t)}static output(t){return new Mt(t)}static outputBin(t){return new Et(t)}static outputXSL(t){return new Pt(t)}static overprint(t){return new It(t)}static packets(t){return new Ft(t)}static pageOffset(t){return new Dt(t)}static pageRange(t){return new Rt(t)}static pagination(t){return new Lt(t)}static paginationOverride(t){return new Nt(t)}static part(t){return new Bt(t)}static pcl(t){return new jt(t)}static pdf(t){return new zt(t)}static pdfa(t){return new Ut(t)}static permissions(t){return new $t(t)}static pickTrayByPDFSize(t){return new Ht(t)}static picture(t){return new Vt(t)}static plaintextMetadata(t){return new qt(t)}static presence(t){return new Wt(t)}static present(t){return new Xt(t)}static print(t){return new Gt(t)}static printHighQuality(t){return new Kt(t)}static printScaling(t){return new Yt(t)}static printerName(t){return new Jt(t)}static producer(t){return new Zt(t)}static ps(t){return new Qt(t)}static range(t){return new te(t)}static record(t){return new ee(t)}static relevant(t){return new re(t)}static rename(t){return new ne(t)}static renderPolicy(t){return new ie(t)}static runScripts(t){return new oe(t)}static script(t){return new se(t)}static scriptModel(t){return new ae(t)}static severity(t){return new le(t)}static silentPrint(t){return new ce(t)}static staple(t){return new he(t)}static startNode(t){return new ue(t)}static startPage(t){return new pe(t)}static submitFormat(t){return new de(t)}static submitUrl(t){return new fe(t)}static subsetBelow(t){return new ge(t)}static suppressBanner(t){return new me(t)}static tagged(t){return new ye(t)}static template(t){return new ve(t)}static templateCache(t){return new xe(t)}static threshold(t){return new be(t)}static to(t){return new we(t)}static trace(t){return new Se(t)}static transform(t){return new ke(t)}static type(t){return new Ae(t)}static uri(t){return new Ce(t)}static validate(t){return new _e(t)}static validateApprovalSignatures(t){return new Te(t)}static validationMessaging(t){return new Oe(t)}static version(t){return new Me(t)}static versionControl(t){return new Ee(t)}static viewerPreferences(t){return new Pe(t)}static webClient(t){return new Ie(t)}static whitespace(t){return new Fe(t)}static window(t){return new De(t)}static xdc(t){return new Re(t)}static xdp(t){return new Le(t)}static xsl(t){return new Ne(t)}static zpl(t){return new Be(t)}}e.ConfigNamespace=je},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionSetNamespace=void 0;var n=r(79),i=r(77);const o=n.NamespaceIds.connectionSet.id;class s extends i.XFAObject{constructor(t){super(o,"connectionSet",!0),this.wsdlConnection=new i.XFAObjectArray,this.xmlConnection=new i.XFAObjectArray,this.xsdConnection=new i.XFAObjectArray}}class a extends i.XFAObject{constructor(t){super(o,"effectiveInputPolicy"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class l extends i.XFAObject{constructor(t){super(o,"effectiveOutputPolicy"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class c extends i.StringObject{constructor(t){super(o,"operation"),this.id=t.id||"",this.input=t.input||"",this.name=t.name||"",this.output=t.output||"",this.use=t.use||"",this.usehref=t.usehref||""}}class h extends i.StringObject{constructor(t){super(o,"rootElement"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class u extends i.StringObject{constructor(t){super(o,"soapAction"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class p extends i.StringObject{constructor(t){super(o,"soapAddress"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class d extends i.StringObject{constructor(t){super(o,"uri"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class f extends i.StringObject{constructor(t){super(o,"wsdlAddress"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class g extends i.XFAObject{constructor(t){super(o,"wsdlConnection",!0),this.dataDescription=t.dataDescription||"",this.name=t.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class m extends i.XFAObject{constructor(t){super(o,"xmlConnection",!0),this.dataDescription=t.dataDescription||"",this.name=t.name||"",this.uri=null}}class y extends i.XFAObject{constructor(t){super(o,"xsdConnection",!0),this.dataDescription=t.dataDescription||"",this.name=t.name||"",this.rootElement=null,this.uri=null}}class v{static[n.$buildXFAObject](t,e){if(v.hasOwnProperty(t))return v[t](e)}static connectionSet(t){return new s(t)}static effectiveInputPolicy(t){return new a(t)}static effectiveOutputPolicy(t){return new l(t)}static operation(t){return new c(t)}static rootElement(t){return new h(t)}static soapAction(t){return new u(t)}static soapAddress(t){return new p(t)}static uri(t){return new d(t)}static wsdlAddress(t){return new f(t)}static wsdlConnection(t){return new g(t)}static xmlConnection(t){return new m(t)}static xsdConnection(t){return new y(t)}}e.ConnectionSetNamespace=v},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DatasetsNamespace=void 0;var n=r(77),i=r(79);const o=i.NamespaceIds.datasets.id;class s extends n.XmlObject{constructor(t){super(o,"data",t)}[n.$isNsAgnostic](){return!0}}class a extends n.XFAObject{constructor(t){super(o,"datasets",!0),this.data=null,this.Signature=null}[n.$onChild](t){const e=t[n.$nodeName];("data"===e&&t[n.$namespaceId]===o||"Signature"===e&&t[n.$namespaceId]===i.NamespaceIds.signature.id)&&(this[e]=t),this[n.$appendChild](t)}}class l{static[i.$buildXFAObject](t,e){if(l.hasOwnProperty(t))return l[t](e)}static datasets(t){return new a(t)}static data(t){return new s(t)}}e.DatasetsNamespace=l},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LocaleSetNamespace=void 0;var n=r(79),i=r(77),o=r(78);const s=n.NamespaceIds.localeSet.id;class a extends i.XFAObject{constructor(t){super(s,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new i.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new i.XFAObjectArray(2)}}class l extends i.StringObject{constructor(t){super(s,"currencySymbol"),this.name=(0,o.getStringOption)(t.name,["symbol","isoname","decimal"])}}class c extends i.XFAObject{constructor(t){super(s,"currencySymbols",!0),this.currencySymbol=new i.XFAObjectArray(3)}}class h extends i.StringObject{constructor(t){super(s,"datePattern"),this.name=(0,o.getStringOption)(t.name,["full","long","med","short"])}}class u extends i.XFAObject{constructor(t){super(s,"datePatterns",!0),this.datePattern=new i.XFAObjectArray(4)}}class p extends i.ContentObject{constructor(t){super(s,"dateTimeSymbols")}}class d extends i.StringObject{constructor(t){super(s,"day")}}class f extends i.XFAObject{constructor(t){super(s,"dayNames",!0),this.abbr=(0,o.getInteger)({data:t.abbr,defaultValue:0,validate:t=>1===t}),this.day=new i.XFAObjectArray(7)}}class g extends i.StringObject{constructor(t){super(s,"era")}}class m extends i.XFAObject{constructor(t){super(s,"eraNames",!0),this.era=new i.XFAObjectArray(2)}}class y extends i.XFAObject{constructor(t){super(s,"locale",!0),this.desc=t.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class v extends i.XFAObject{constructor(t){super(s,"localeSet",!0),this.locale=new i.XFAObjectArray}}class b extends i.StringObject{constructor(t){super(s,"meridiem")}}class w extends i.XFAObject{constructor(t){super(s,"meridiemNames",!0),this.meridiem=new i.XFAObjectArray(2)}}class x extends i.StringObject{constructor(t){super(s,"month")}}class S extends i.XFAObject{constructor(t){super(s,"monthNames",!0),this.abbr=(0,o.getInteger)({data:t.abbr,defaultValue:0,validate:t=>1===t}),this.month=new i.XFAObjectArray(12)}}class k extends i.StringObject{constructor(t){super(s,"numberPattern"),this.name=(0,o.getStringOption)(t.name,["full","long","med","short"])}}class A extends i.XFAObject{constructor(t){super(s,"numberPatterns",!0),this.numberPattern=new i.XFAObjectArray(4)}}class C extends i.StringObject{constructor(t){super(s,"numberSymbol"),this.name=(0,o.getStringOption)(t.name,["decimal","grouping","percent","minus","zero"])}}class _ extends i.XFAObject{constructor(t){super(s,"numberSymbols",!0),this.numberSymbol=new i.XFAObjectArray(5)}}class T extends i.StringObject{constructor(t){super(s,"timePattern"),this.name=(0,o.getStringOption)(t.name,["full","long","med","short"])}}class O extends i.XFAObject{constructor(t){super(s,"timePatterns",!0),this.timePattern=new i.XFAObjectArray(4)}}class M extends i.XFAObject{constructor(t){super(s,"typeFace",!0),this.name=""|t.name}}class E extends i.XFAObject{constructor(t){super(s,"typeFaces",!0),this.typeFace=new i.XFAObjectArray}}class P{static[n.$buildXFAObject](t,e){if(P.hasOwnProperty(t))return P[t](e)}static calendarSymbols(t){return new a(t)}static currencySymbol(t){return new l(t)}static currencySymbols(t){return new c(t)}static datePattern(t){return new h(t)}static datePatterns(t){return new u(t)}static dateTimeSymbols(t){return new p(t)}static day(t){return new d(t)}static dayNames(t){return new f(t)}static era(t){return new g(t)}static eraNames(t){return new m(t)}static locale(t){return new y(t)}static localeSet(t){return new v(t)}static meridiem(t){return new b(t)}static meridiemNames(t){return new w(t)}static month(t){return new x(t)}static monthNames(t){return new S(t)}static numberPattern(t){return new k(t)}static numberPatterns(t){return new A(t)}static numberSymbol(t){return new C(t)}static numberSymbols(t){return new _(t)}static timePattern(t){return new T(t)}static timePatterns(t){return new O(t)}static typeFace(t){return new M(t)}static typeFaces(t){return new E(t)}}e.LocaleSetNamespace=P},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SignatureNamespace=void 0;var n=r(79),i=r(77);const o=n.NamespaceIds.signature.id;class s extends i.XFAObject{constructor(t){super(o,"signature",!0)}}class a{static[n.$buildXFAObject](t,e){if(a.hasOwnProperty(t))return a[t](e)}static signature(t){return new s(t)}}e.SignatureNamespace=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StylesheetNamespace=void 0;var n=r(79),i=r(77);const o=n.NamespaceIds.stylesheet.id;class s extends i.XFAObject{constructor(t){super(o,"stylesheet",!0)}}class a{static[n.$buildXFAObject](t,e){if(a.hasOwnProperty(t))return a[t](e)}static stylesheet(t){return new s(t)}}e.StylesheetNamespace=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XdpNamespace=void 0;var n=r(79),i=r(77);const o=n.NamespaceIds.xdp.id;class s extends i.XFAObject{constructor(t){super(o,"xdp",!0),this.uuid=t.uuid||"",this.timeStamp=t.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new i.XFAObjectArray,this.template=null}[i.$onChildCheck](t){const e=n.NamespaceIds[t[i.$nodeName]];return e&&t[i.$namespaceId]===e.id}}class a{static[n.$buildXFAObject](t,e){if(a.hasOwnProperty(t))return a[t](e)}static xdp(t){return new s(t)}}e.XdpNamespace=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XhtmlNamespace=void 0;var n=r(77),i=r(79),o=r(84),s=r(78);const a=i.NamespaceIds.xhtml.id,l=Symbol(),c=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),h=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",t=>"none"===t?"none":"normal"],["xfa-font-horizontal-scale",t=>`scaleX(${Math.max(0,Math.min(parseInt(t)/100)).toFixed(2)})`],["xfa-font-vertical-scale",t=>`scaleY(${Math.max(0,Math.min(parseInt(t)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(t,e)=>(t=e.fontSize=(0,s.getMeasurement)(t),(0,o.measureToString)(.99*t))],["letter-spacing",t=>(0,o.measureToString)((0,s.getMeasurement)(t))],["line-height",t=>(0,o.measureToString)((0,s.getMeasurement)(t))],["margin",t=>(0,o.measureToString)((0,s.getMeasurement)(t))],["margin-bottom",t=>(0,o.measureToString)((0,s.getMeasurement)(t))],["margin-left",t=>(0,o.measureToString)((0,s.getMeasurement)(t))],["margin-right",t=>(0,o.measureToString)((0,s.getMeasurement)(t))],["margin-top",t=>(0,o.measureToString)((0,s.getMeasurement)(t))],["text-indent",t=>(0,o.measureToString)((0,s.getMeasurement)(t))],["font-family",t=>t],["vertical-align",t=>(0,o.measureToString)((0,s.getMeasurement)(t))]]),u=/\s+/g,p=/[\r\n]+/g,d=/\r\n?/g;function f(t,e,r){const i=Object.create(null);if(!t)return i;const a=Object.create(null);for(const[e,r]of t.split(";").map((t=>t.split(":",2)))){const t=h.get(e);if(""===t)continue;let n=r;t&&(n="string"==typeof t?t:t(r,a)),e.endsWith("scale")?i.transform?i.transform=`${i[e]} ${n}`:i.transform=n:i[e.replaceAll(/-([a-zA-Z])/g,((t,e)=>e.toUpperCase()))]=n}if(i.fontFamily&&(0,o.setFontFamily)({typeface:i.fontFamily,weight:i.fontWeight||"normal",posture:i.fontStyle||"normal",size:a.fontSize||0},e,e[n.$globalData].fontFinder,i),r&&i.verticalAlign&&"0px"!==i.verticalAlign&&i.fontSize){const t=.583,e=.333,r=(0,s.getMeasurement)(i.fontSize);i.fontSize=(0,o.measureToString)(r*t),i.verticalAlign=(0,o.measureToString)(Math.sign((0,s.getMeasurement)(i.verticalAlign))*r*e)}return(0,o.fixTextIndent)(i),i}const g=new Set(["body","html"]);class m extends n.XmlObject{constructor(t,e){super(a,e),this[l]=!1,this.style=t.style||""}[n.$clean](t){var e;super[n.$clean](t),this.style=(e=this).style?e.style.trim().split(/\s*;\s*/).filter((t=>!!t)).map((t=>t.split(/\s*:\s*/,2))).filter((([t,r])=>("font-family"===t&&e[n.$globalData].usedTypefaces.add(r),c.has(t)))).map((t=>t.join(":"))).join(";"):""}[n.$acceptWhitespace](){return!g.has(this[n.$nodeName])}[n.$onText](t,e=!1){e?this[l]=!0:(t=t.replace(p,""),this.style.includes("xfa-spacerun:yes")||(t=t.replace(u," "))),t&&(this[n.$content]+=t)}[n.$pushGlyphs](t,e=!0){const r=Object.create(null),i={top:NaN,bottom:NaN,left:NaN,right:NaN};let o=null;for(const[t,e]of this.style.split(";").map((t=>t.split(":",2))))switch(t){case"font-family":r.typeface=(0,s.stripQuotes)(e);break;case"font-size":r.size=(0,s.getMeasurement)(e);break;case"font-weight":r.weight=e;break;case"font-style":r.posture=e;break;case"letter-spacing":r.letterSpacing=(0,s.getMeasurement)(e);break;case"margin":const t=e.split(/ \t/).map((t=>(0,s.getMeasurement)(t)));switch(t.length){case 1:i.top=i.bottom=i.left=i.right=t[0];break;case 2:i.top=i.bottom=t[0],i.left=i.right=t[1];break;case 3:i.top=t[0],i.bottom=t[2],i.left=i.right=t[1];break;case 4:i.top=t[0],i.left=t[1],i.bottom=t[2],i.right=t[3]}break;case"margin-top":i.top=(0,s.getMeasurement)(e);break;case"margin-bottom":i.bottom=(0,s.getMeasurement)(e);break;case"margin-left":i.left=(0,s.getMeasurement)(e);break;case"margin-right":i.right=(0,s.getMeasurement)(e);break;case"line-height":o=(0,s.getMeasurement)(e)}if(t.pushData(r,i,o),this[n.$content])t.addString(this[n.$content]);else for(const e of this[n.$getChildren]())"#text"!==e[n.$nodeName]?e[n.$pushGlyphs](t):t.addString(e[n.$content]);e&&t.popFont()}[n.$toHTML](t){const e=[];if(this[n.$extra]={children:e},this[n.$childrenToHTML]({}),0===e.length&&!this[n.$content])return s.HTMLResult.EMPTY;let r;return r=this[l]?this[n.$content]?this[n.$content].replace(d,"\n"):void 0:this[n.$content]||void 0,s.HTMLResult.success({name:this[n.$nodeName],attributes:{href:this.href,style:f(this.style,this,this[l])},children:e,value:r})}}class y extends m{constructor(t){super(t,"a"),this.href=(0,o.fixURL)(t.href)||""}}class v extends m{constructor(t){super(t,"b")}[n.$pushGlyphs](t){t.pushFont({weight:"bold"}),super[n.$pushGlyphs](t),t.popFont()}}class b extends m{constructor(t){super(t,"body")}[n.$toHTML](t){const e=super[n.$toHTML](t),{html:r}=e;return r?(r.name="div",r.attributes.class=["xfaRich"],e):s.HTMLResult.EMPTY}}class w extends m{constructor(t){super(t,"br")}[n.$text](){return"\n"}[n.$pushGlyphs](t){t.addString("\n")}[n.$toHTML](t){return s.HTMLResult.success({name:"br"})}}class x extends m{constructor(t){super(t,"html")}[n.$toHTML](t){const e=[];if(this[n.$extra]={children:e},this[n.$childrenToHTML]({}),0===e.length)return s.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[n.$content]||""});if(1===e.length){const t=e[0];if(t.attributes&&t.attributes.class.includes("xfaRich"))return s.HTMLResult.success(t)}return s.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:e})}}class S extends m{constructor(t){super(t,"i")}[n.$pushGlyphs](t){t.pushFont({posture:"italic"}),super[n.$pushGlyphs](t),t.popFont()}}class k extends m{constructor(t){super(t,"li")}}class A extends m{constructor(t){super(t,"ol")}}class C extends m{constructor(t){super(t,"p")}[n.$pushGlyphs](t){super[n.$pushGlyphs](t,!1),t.addString("\n"),t.addPara(),t.popFont()}[n.$text](){const t=this[n.$getParent]()[n.$getChildren]();return t[t.length-1]===this?super[n.$text]():super[n.$text]()+"\n"}}class _ extends m{constructor(t){super(t,"span")}}class T extends m{constructor(t){super(t,"sub")}}class O extends m{constructor(t){super(t,"sup")}}class M extends m{constructor(t){super(t,"ul")}}class E{static[i.$buildXFAObject](t,e){if(E.hasOwnProperty(t))return E[t](e)}static a(t){return new y(t)}static b(t){return new v(t)}static body(t){return new b(t)}static br(t){return new w(t)}static html(t){return new x(t)}static i(t){return new S(t)}static li(t){return new k(t)}static ol(t){return new A(t)}static p(t){return new C(t)}static span(t){return new _(t)}static sub(t){return new T(t)}static sup(t){return new O(t)}static ul(t){return new M(t)}}e.XhtmlNamespace=E},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.UnknownNamespace=void 0;var n=r(79),i=r(77);class o{constructor(t){this.namespaceId=t}[n.$buildXFAObject](t,e){return new i.XmlObject(this.namespaceId,t,e)}}e.UnknownNamespace=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DatasetReader=void 0;var n=r(2),i=r(8),o=r(70);function s(t){try{return(0,n.stringToUTF8String)(t)}catch(e){return(0,n.warn)(`UTF-8 decoding failed: "${e}".`),t}}class a extends o.SimpleXMLParser{constructor(t){super(t),this.node=null}onEndElement(t){const e=super.onEndElement(t);if(e&&"xfa:datasets"===t)throw this.node=e,new Error("Aborting DatasetXMLParser.")}}e.DatasetReader=class{constructor(t){if(t.datasets)this.node=new o.SimpleXMLParser({hasAttributes:!0}).parseFromString(t.datasets).documentElement;else{const e=new a({hasAttributes:!0});try{e.parseFromString(t["xdp:xdp"])}catch(t){}this.node=e.node}}getValue(t){if(!this.node||!t)return"";const e=this.node.searchNode((0,i.parseXFAPath)(t),0);if(!e)return"";const r=e.firstChild;return r&&"value"===r.nodeName?e.children.map((t=>s(t.textContent))):s(e.textContent)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XRef=void 0;var n=r(2),i=r(5),o=r(8),s=r(27),a=r(9),l=r(74);e.XRef=class{constructor(t,e){this.stream=t,this.pdfManager=e,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new i.RefSet,this.stats=new o.DocStats(e.msgHandler),this._newRefNum=null}getNewRef(){return null===this._newRefNum&&(this._newRefNum=this.entries.length),i.Ref.get(this._newRefNum++,0)}resetNewRef(){this._newRefNum=null}setStartXRef(t){this.startXRefQueue=[t]}parse(t=!1){let e,r,s;t?((0,n.warn)("Indexing all PDF objects"),e=this.indexObjects()):e=this.readXRef(),e.assignXref(this),this.trailer=e;try{r=e.get("Encrypt")}catch(t){if(t instanceof o.MissingDataException)throw t;(0,n.warn)(`XRef.parse - Invalid "Encrypt" reference: "${t}".`)}if(r instanceof i.Dict){const t=e.get("ID"),n=t&&t.length?t[0]:"";r.suppressEncryption=!0,this.encrypt=new l.CipherTransformFactory(r,n,this.pdfManager.password)}try{s=e.get("Root")}catch(t){if(t instanceof o.MissingDataException)throw t;(0,n.warn)(`XRef.parse - Invalid "Root" reference: "${t}".`)}if(s instanceof i.Dict)try{if(s.get("Pages")instanceof i.Dict)return void(this.root=s)}catch(t){if(t instanceof o.MissingDataException)throw t;(0,n.warn)(`XRef.parse - Invalid "Pages" reference: "${t}".`)}if(!t)throw new o.XRefParseException;throw new n.InvalidPDFException("Invalid Root reference.")}processXRefTable(t){"tableState"in this||(this.tableState={entryNum:0,streamPos:t.lexer.stream.pos,parserBuf1:t.buf1,parserBuf2:t.buf2});const e=this.readXRefTable(t);if(!(0,i.isCmd)(e,"trailer"))throw new n.FormatError("Invalid XRef table: could not find trailer dictionary");let r=t.getObj();if(r instanceof i.Dict||!r.dict||(r=r.dict),!(r instanceof i.Dict))throw new n.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,r}readXRefTable(t){const e=t.lexer.stream,r=this.tableState;let o;for(e.pos=r.streamPos,t.buf1=r.parserBuf1,t.buf2=r.parserBuf2;;){if(!("firstEntryNum"in r)||!("entryCount"in r)){if((0,i.isCmd)(o=t.getObj(),"trailer"))break;r.firstEntryNum=o,r.entryCount=t.getObj()}let s=r.firstEntryNum;const a=r.entryCount;if(!Number.isInteger(s)||!Number.isInteger(a))throw new n.FormatError("Invalid XRef table: wrong types in subsection header");for(let o=r.entryNum;o<a;o++){r.streamPos=e.pos,r.entryNum=o,r.parserBuf1=t.buf1,r.parserBuf2=t.buf2;const l={};l.offset=t.getObj(),l.gen=t.getObj();const c=t.getObj();if(c instanceof i.Cmd)switch(c.cmd){case"f":l.free=!0;break;case"n":l.uncompressed=!0}if(!Number.isInteger(l.offset)||!Number.isInteger(l.gen)||!l.free&&!l.uncompressed)throw new n.FormatError(`Invalid entry in XRef subsection: ${s}, ${a}`);0===o&&l.free&&1===s&&(s=0),this.entries[o+s]||(this.entries[o+s]=l)}r.entryNum=0,r.streamPos=e.pos,r.parserBuf1=t.buf1,r.parserBuf2=t.buf2,delete r.firstEntryNum,delete r.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new n.FormatError("Invalid XRef table: unexpected first object");return o}processXRefStream(t){if(!("streamState"in this)){const e=t.dict,r=e.get("W");let n=e.get("Index");n||(n=[0,e.get("Size")]),this.streamState={entryRanges:n,byteWidths:r,entryNum:0,streamPos:t.pos}}return this.readXRefStream(t),delete this.streamState,t.dict}readXRefStream(t){const e=this.streamState;t.pos=e.streamPos;const[r,i,o]=e.byteWidths,s=e.entryRanges;for(;s.length>0;){const[a,l]=s;if(!Number.isInteger(a)||!Number.isInteger(l))throw new n.FormatError(`Invalid XRef range fields: ${a}, ${l}`);if(!Number.isInteger(r)||!Number.isInteger(i)||!Number.isInteger(o))throw new n.FormatError(`Invalid XRef entry fields length: ${a}, ${l}`);for(let s=e.entryNum;s<l;++s){e.entryNum=s,e.streamPos=t.pos;let l=0,c=0,h=0;for(let e=0;e<r;++e){const e=t.getByte();if(-1===e)throw new n.FormatError("Invalid XRef byteWidths 'type'.");l=l<<8|e}0===r&&(l=1);for(let e=0;e<i;++e){const e=t.getByte();if(-1===e)throw new n.FormatError("Invalid XRef byteWidths 'offset'.");c=c<<8|e}for(let e=0;e<o;++e){const e=t.getByte();if(-1===e)throw new n.FormatError("Invalid XRef byteWidths 'generation'.");h=h<<8|e}const u={};switch(u.offset=c,u.gen=h,l){case 0:u.free=!0;break;case 1:u.uncompressed=!0;break;case 2:break;default:throw new n.FormatError(`Invalid XRef entry type: ${l}`)}this.entries[a+s]||(this.entries[a+s]=u)}e.entryNum=0,e.streamPos=t.pos,s.splice(0,2)}}indexObjects(){function t(t,e){let r="",n=t[e];for(;10!==n&&13!==n&&60!==n&&!(++e>=t.length);)r+=String.fromCharCode(n),n=t[e];return r}function e(t,e,r){const n=r.length,i=t.length;let o=0;for(;e<i;){let i=0;for(;i<n&&t[e+i]===r[i];)++i;if(i>=n)break;e++,o++}return o}const r=/^(\d+)\s+(\d+)\s+obj\b/,a=/\bendobj[\b\s]$/,l=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,c=new Uint8Array([116,114,97,105,108,101,114]),h=new Uint8Array([115,116,97,114,116,120,114,101,102]),u=new Uint8Array([111,98,106]),p=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const d=this.stream;d.pos=0;const f=d.getBytes(),g=f.length;let m=d.start;const y=[],v=[];for(;m<g;){let i=f[m];if(9===i||10===i||13===i||32===i){++m;continue}if(37===i){do{if(++m,m>=g)break;i=f[m]}while(10!==i&&13!==i);continue}const b=t(f,m);let w;if(b.startsWith("xref")&&(4===b.length||/\s/.test(b[4])))m+=e(f,m,c),y.push(m),m+=e(f,m,h);else if(w=r.exec(b)){const t=0|w[1],r=0|w[2];let i,c=m+b.length,h=!1;if(this.entries[t]){if(this.entries[t].gen===r)try{new s.Parser({lexer:new s.Lexer(d.makeSubStream(c))}).getObj(),h=!0}catch(t){t instanceof o.ParserEOFException?(0,n.warn)(`indexObjects -- checking object (${b}): "${t}".`):h=!0}}else h=!0;for(h&&(this.entries[t]={offset:m-d.start,gen:r,uncompressed:!0});c<f.length;){const t=c+e(f,c,u)+4;i=t-m;const r=Math.max(t-25,c),o=(0,n.bytesToString)(f.subarray(r,t));if(a.test(o))break;{const t=l.exec(o);if(t&&t[1]){(0,n.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),i-=t[1].length;break}}c=t}const g=f.subarray(m,m+i),y=e(g,0,p);y<i&&g[y+5]<64&&(v.push(m-d.start),this.xrefstms[m-d.start]=1),m+=i}else b.startsWith("trailer")&&(7===b.length||/\s/.test(b[7]))?(y.push(m),m+=e(f,m,h)):m+=b.length+1}for(let t=0,e=v.length;t<e;++t)this.startXRefQueue.push(v[t]),this.readXRef(!0);let b;for(let t=0,e=y.length;t<e;++t){d.pos=y[t];const e=new s.Parser({lexer:new s.Lexer(d),xref:this,allowStreams:!0,recoveryMode:!0}),r=e.getObj();if(!(0,i.isCmd)(r,"trailer"))continue;const n=e.getObj();if(n instanceof i.Dict){try{const t=n.get("Root");if(!(t instanceof i.Dict))continue;const e=t.get("Pages");if(!(e instanceof i.Dict))continue;const r=e.get("Count");if(!Number.isInteger(r))continue}catch(t){continue}if(n.has("ID"))return n;b=n}}if(b)return b;if(this.topDict)return this.topDict;throw new n.InvalidPDFException("Invalid PDF structure.")}readXRef(t=!1){const e=this.stream,r=new Set;try{for(;this.startXRefQueue.length;){const t=this.startXRefQueue[0];if(r.has(t)){(0,n.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}r.add(t),e.pos=t+e.start;const o=new s.Parser({lexer:new s.Lexer(e),xref:this,allowStreams:!0});let l,c=o.getObj();if((0,i.isCmd)(c,"xref")){if(l=this.processXRefTable(o),this.topDict||(this.topDict=l),c=l.get("XRefStm"),Number.isInteger(c)){const t=c;t in this.xrefstms||(this.xrefstms[t]=1,this.startXRefQueue.push(t))}}else{if(!Number.isInteger(c))throw new n.FormatError("Invalid XRef stream header");if(!(Number.isInteger(o.getObj())&&(0,i.isCmd)(o.getObj(),"obj")&&(c=o.getObj())instanceof a.BaseStream))throw new n.FormatError("Invalid XRef stream");if(l=this.processXRefStream(c),this.topDict||(this.topDict=l),!l)throw new n.FormatError("Failed to read XRef stream")}c=l.get("Prev"),Number.isInteger(c)?this.startXRefQueue.push(c):c instanceof i.Ref&&this.startXRefQueue.push(c.num),this.startXRefQueue.shift()}return this.topDict}catch(t){if(t instanceof o.MissingDataException)throw t;(0,n.info)("(while reading XRef): "+t),this.startXRefQueue.shift()}if(!t)throw new o.XRefParseException}getEntry(t){const e=this.entries[t];return e&&!e.free&&e.offset?e:null}fetchIfRef(t,e=!1){return t instanceof i.Ref?this.fetch(t,e):t}fetch(t,e=!1){if(!(t instanceof i.Ref))throw new Error("ref object is not a reference");const r=t.num,o=this._cacheMap.get(r);if(void 0!==o)return o instanceof i.Dict&&!o.objId&&(o.objId=t.toString()),o;let s=this.getEntry(r);if(null===s)return this._cacheMap.set(r,s),s;if(this._pendingRefs.has(t))return this._pendingRefs.remove(t),(0,n.warn)(`Ignoring circular reference: ${t}.`),i.CIRCULAR_REF;this._pendingRefs.put(t);try{s=s.uncompressed?this.fetchUncompressed(t,s,e):this.fetchCompressed(t,s,e),this._pendingRefs.remove(t)}catch(e){throw this._pendingRefs.remove(t),e}return s instanceof i.Dict?s.objId=t.toString():s instanceof a.BaseStream&&(s.dict.objId=t.toString()),s}fetchUncompressed(t,e,r=!1){const n=t.gen;let l=t.num;if(e.gen!==n)throw new o.XRefEntryException(`Inconsistent generation in XRef: ${t}`);const c=this.stream.makeSubStream(e.offset+this.stream.start),h=new s.Parser({lexer:new s.Lexer(c),xref:this,allowStreams:!0}),u=h.getObj(),p=h.getObj(),d=h.getObj();if(u!==l||p!==n||!(d instanceof i.Cmd))throw new o.XRefEntryException(`Bad (uncompressed) XRef entry: ${t}`);if("obj"!==d.cmd){if(d.cmd.startsWith("obj")&&(l=parseInt(d.cmd.substring(3),10),!Number.isNaN(l)))return l;throw new o.XRefEntryException(`Bad (uncompressed) XRef entry: ${t}`)}return(e=this.encrypt&&!r?h.getObj(this.encrypt.createCipherTransform(l,n)):h.getObj())instanceof a.BaseStream||this._cacheMap.set(l,e),e}fetchCompressed(t,e,r=!1){const l=e.offset,c=this.fetch(i.Ref.get(l,0));if(!(c instanceof a.BaseStream))throw new n.FormatError("bad ObjStm stream");const h=c.dict.get("First"),u=c.dict.get("N");if(!Number.isInteger(h)||!Number.isInteger(u))throw new n.FormatError("invalid first and n parameters for ObjStm stream");let p=new s.Parser({lexer:new s.Lexer(c),xref:this,allowStreams:!0});const d=new Array(u),f=new Array(u);for(let t=0;t<u;++t){const e=p.getObj();if(!Number.isInteger(e))throw new n.FormatError(`invalid object number in the ObjStm stream: ${e}`);const r=p.getObj();if(!Number.isInteger(r))throw new n.FormatError(`invalid object offset in the ObjStm stream: ${r}`);d[t]=e,f[t]=r}const g=(c.start||0)+h,m=new Array(u);for(let t=0;t<u;++t){const e=t<u-1?f[t+1]-f[t]:void 0;if(e<0)throw new n.FormatError("Invalid offset in the ObjStm stream.");p=new s.Parser({lexer:new s.Lexer(c.makeSubStream(g+f[t],e,c.dict)),xref:this,allowStreams:!0});const r=p.getObj();if(m[t]=r,r instanceof a.BaseStream)continue;const i=d[t],o=this.entries[i];o&&o.offset===l&&o.gen===t&&this._cacheMap.set(i,r)}if(void 0===(e=m[e.gen]))throw new o.XRefEntryException(`Bad (compressed) XRef entry: ${t}`);return e}async fetchIfRefAsync(t,e){return t instanceof i.Ref?this.fetchAsync(t,e):t}async fetchAsync(t,e){try{return this.fetch(t,e)}catch(r){if(!(r instanceof o.MissingDataException))throw r;return await this.pdfManager.requestRange(r.begin,r.end),this.fetchAsync(t,e)}}getCatalogObj(){return this.root}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=r(2);const i=1,o=2,s=1,a=2,l=3,c=4,h=5,u=6,p=7,d=8;function f(t){switch(t instanceof Error||"object"==typeof t&&null!==t||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new n.AbortException(t.message);case"MissingPDFException":return new n.MissingPDFException(t.message);case"PasswordException":return new n.PasswordException(t.message,t.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new n.UnknownErrorException(t.message,t.details);default:return new n.UnknownErrorException(t.message,t.toString())}}e.MessageHandler=class{constructor(t,e,r){this.sourceName=t,this.targetName=e,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=t=>{const e=t.data;if(e.targetName!==this.sourceName)return;if(e.stream)return void this._processStreamMessage(e);if(e.callback){const t=e.callbackId,r=this.callbackCapabilities[t];if(!r)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],e.callback===i)r.resolve(e.data);else{if(e.callback!==o)throw new Error("Unexpected callback case");r.reject(f(e.reason))}return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const t=this.sourceName,s=e.sourceName;new Promise((function(t){t(n(e.data))})).then((function(n){r.postMessage({sourceName:t,targetName:s,callback:i,callbackId:e.callbackId,data:n})}),(function(n){r.postMessage({sourceName:t,targetName:s,callback:o,callbackId:e.callbackId,reason:f(n)})}))}else e.streamId?this._createStreamSink(e):n(e.data)},r.addEventListener("message",this._onComObjOnMessage)}on(t,e){const r=this.actionHandler;if(r[t])throw new Error(`There is already an actionName called "${t}"`);r[t]=e}send(t,e,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},r)}sendWithPromise(t,e,r){const i=this.callbackId++,o=(0,n.createPromiseCapability)();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},r)}catch(t){o.reject(t)}return o.promise}sendWithStream(t,e,r,i){const o=this.streamId++,a=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:r=>{const s=(0,n.createPromiseCapability)();return this.streamControllers[o]={controller:r,startCall:s,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:l,action:t,streamId:o,data:e,desiredSize:r.desiredSize},i),s.promise},pull:t=>{const e=(0,n.createPromiseCapability)();return this.streamControllers[o].pullCall=e,c.postMessage({sourceName:a,targetName:l,stream:u,streamId:o,desiredSize:t.desiredSize}),e.promise},cancel:t=>{(0,n.assert)(t instanceof Error,"cancel must have a valid reason");const e=(0,n.createPromiseCapability)();return this.streamControllers[o].cancelCall=e,this.streamControllers[o].isClosed=!0,c.postMessage({sourceName:a,targetName:l,stream:s,streamId:o,reason:f(t)}),e.promise}},r)}_createStreamSink(t){const e=t.streamId,r=this.sourceName,i=t.sourceName,o=this.comObj,s=this,a=this.actionHandler[t.action],u={enqueue(t,s=1,a){if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=s,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,n.createPromiseCapability)(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:r,targetName:i,stream:c,streamId:e,chunk:t},a)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:l,streamId:e}),delete s.streamSinks[e])},error(t){(0,n.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:h,streamId:e,reason:f(t)}))},sinkCapability:(0,n.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[e]=u,new Promise((function(e){e(a(t.data,u))})).then((function(){o.postMessage({sourceName:r,targetName:i,stream:d,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:r,targetName:i,stream:d,streamId:e,reason:f(t)})}))}_processStreamMessage(t){const e=t.streamId,r=this.sourceName,i=t.sourceName,o=this.comObj,g=this.streamControllers[e],m=this.streamSinks[e];switch(t.stream){case d:t.success?g.startCall.resolve():g.startCall.reject(f(t.reason));break;case p:t.success?g.pullCall.resolve():g.pullCall.reject(f(t.reason));break;case u:if(!m){o.postMessage({sourceName:r,targetName:i,stream:p,streamId:e,success:!0});break}m.desiredSize<=0&&t.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=t.desiredSize,new Promise((function(t){t(m.onPull&&m.onPull())})).then((function(){o.postMessage({sourceName:r,targetName:i,stream:p,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:r,targetName:i,stream:p,streamId:e,reason:f(t)})}));break;case c:if((0,n.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(t.chunk);break;case l:if((0,n.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),this._deleteStreamController(g,e);break;case h:(0,n.assert)(g,"error should have stream controller"),g.controller.error(f(t.reason)),this._deleteStreamController(g,e);break;case a:t.success?g.cancelCall.resolve():g.cancelCall.reject(f(t.reason)),this._deleteStreamController(g,e);break;case s:if(!m)break;new Promise((function(e){e(m.onCancel&&m.onCancel(f(t.reason)))})).then((function(){o.postMessage({sourceName:r,targetName:i,stream:a,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:r,targetName:i,stream:a,streamId:e,reason:f(t)})})),m.sinkCapability.reject(f(t.reason)),m.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(t,e){await Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]),delete this.streamControllers[e]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFWorkerStream=void 0;var n=r(2);e.PDFWorkerStream=class{constructor(t){this._msgHandler=t,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new i(this._msgHandler),this._fullRequestReader}getRangeReader(t,e){const r=new o(t,e,this._msgHandler);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class i{constructor(t){this._msgHandler=t,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const e=this._msgHandler.sendWithStream("GetReader");this._reader=e.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then((t=>{this._isStreamingSupported=t.isStreamingSupported,this._isRangeSupported=t.isRangeSupported,this._contentLength=t.contentLength}))}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:t,done:e}=await this._reader.read();return e?{value:void 0,done:!0}:{value:t.buffer,done:!1}}cancel(t){this._reader.cancel(t)}}class o{constructor(t,e,r){this._msgHandler=r,this.onProgress=null;const n=this._msgHandler.sendWithStream("GetRangeReader",{begin:t,end:e});this._reader=n.getReader()}get isStreamingSupported(){return!1}async read(){const{value:t,done:e}=await this._reader.read();return e?{value:void 0,done:!0}:{value:t.buffer,done:!1}}cancel(t){this._reader.cancel(t)}}}],e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{var t=n;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"WorkerMessageHandler",{enumerable:!0,get:function(){return e.WorkerMessageHandler}});var e=r(1)})(),n})(),t.exports=e()},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Component:()=>H,FormKeyTrap:()=>Ae,GridBase:()=>Pr,Key:()=>fe,KeyCode:()=>de,KeyModifiers:()=>ge,NavigationService:()=>ve,Platform:()=>Ce,ResizeService:()=>Nr,ScrollSync:()=>Ee,Shortcut:()=>me,TabKeyTrap:()=>we,addClass:()=>J,addComponentSuffix:()=>ae,appendChildren:()=>$t,areElementsOverlapping:()=>Ft,childrenWidth:()=>Ut,clamp:()=>he,closestAll:()=>Kt,closestDivisibleTo:()=>ue,columnResizableAutoFitAllColumns:()=>gP,columnResizableAutoFitColumns:()=>fP,columnResizableSetColumns:()=>mP,converToKeyboardEventArgs:()=>P,convertToHtml:()=>j,convertToMouseEventArgs:()=>I,createCancellableTimerPromise:()=>C,deepExtend:()=>g,delay:()=>A,destroyChart:()=>oM,destroyColumnDraggable:()=>XE,destroyColumnReorderable:()=>QE,destroyColumnResizable:()=>dP,destroyComponent:()=>Qt,destroyGrid:()=>rV,destroyGroupable:()=>RE,destroyTileLayout:()=>nG,destroyTreeList:()=>SG,destroyVirtualColumnScroller:()=>aK,disableFormTabKeyTrap:()=>ke,enableFormTabKeyTrap:()=>Se,extend:()=>u,findEditable:()=>ut,findFocusable:()=>ht,findNextSiblings:()=>mt,findPreviousSiblings:()=>gt,firstVisibleItem:()=>It,focusElement:()=>ot,focusElementInNextFrame:()=>it,focusFirstFocusableChild:()=>pt,focusInNextFrameAsync:()=>nt,focusTimePickerInput:()=>sE,getComponentInstance:()=>re,getComponentInstanceBySelector:()=>ne,getElementByDataId:()=>G,getElementById:()=>X,getElementIndex:()=>Nt,getElementScrollHeight:()=>W,getIntersectionRect:()=>Dt,getLocationHost:()=>h,getMaxScrollLeft:()=>Pt,getScrollBarHeight:()=>kt,getScrollBarWidth:()=>St,getSiblings:()=>vt,getSlotMetrics:()=>OX,groupBy:()=>z,guid:()=>m,hasAncestor:()=>at,hasAnyClass:()=>tt,hasClass:()=>Q,hasValue:()=>k,haveSameParent:()=>Lt,hideAnimationGroup:()=>tn,hideAnimationGroupAsync:()=>Qr,hideElement:()=>Y,htmlEncode:()=>_,initAnimationGroup:()=>Jr,initAutoComplete:()=>IP,initBreadcrumb:()=>qO,initCalendar:()=>yE,initCheckBox:()=>aV,initColorGradient:()=>mM,initColorPalette:()=>cM,initColorPicker:()=>pM,initColumnDraggable:()=>WE,initColumnMenu:()=>kM,initColumnReorderable:()=>ZE,initColumnResizable:()=>pP,initComboBox:()=>RP,initComponent:()=>Zt,initComponentLoaderContainer:()=>Dr,initContextMenu:()=>_M,initDateInput:()=>KM,initDatePicker:()=>tE,initDateRangePicker:()=>CE,initDateTimePicker:()=>wE,initDayTable:()=>CX,initDialog:()=>OE,initDrawer:()=>xP,initDropDownGroupHeader:()=>eI,initDropDownList:()=>qP,initDropDownListFilter:()=>WP,initEditor:()=>wH,initFileManager:()=>SH,initFileSelect:()=>eK,initFilterMenu:()=>TH,initFilterRow:()=>RH,initFlatColorPicker:()=>bM,initGantt:()=>zH,initGanttTimeline:()=>UH,initGrid:()=>eV,initGroupable:()=>DE,initMaskedTextBox:()=>wV,initMediaQuery:()=>Lq,initMenuItem:()=>KV,initMonthTable:()=>_X,initMultiColumnComboBox:()=>ZP,initMultiSelect:()=>KP,initNumericTextBox:()=>_V,initOrUpdateArcGauge:()=>XH,initOrUpdateBarcode:()=>zO,initOrUpdateChart:()=>iM,initOrUpdateCircularGauge:()=>KH,initOrUpdateLinearGauge:()=>JH,initOrUpdateMap:()=>Eq,initOrUpdateQRCode:()=>$O,initOrUpdateRadialGauge:()=>QH,initPager:()=>Hq,initPanelBar:()=>Xq,initPdfViewer:()=>TW,initPopup:()=>uX,initRangeSlider:()=>VV,initScheduler:()=>AX,initSlider:()=>zV,initSplitButton:()=>BX,initSplitter:()=>ZX,initStepper:()=>tq,initSwitch:()=>RV,initTabStrip:()=>uq,initTextArea:()=>PV,initTextBox:()=>IV,initTileLayout:()=>rG,initTimeCarousel:()=>aE,initTimePicker:()=>oE,initTimelineTable:()=>TX,initToggleButton:()=>aG,initToolBar:()=>_q,initTooltip:()=>bG,initTreeList:()=>xG,initTreeView:()=>yq,initUpload:()=>tK,initVirtualColumnScroller:()=>sK,initVirtualScroller:()=>hK,initWindow:()=>wK,invokeComponentMethod:()=>ce,isArray:()=>b,isChild:()=>et,isDefined:()=>x,isDomElement:()=>f,isFocusable:()=>ct,isFunction:()=>y,isHtmlElement:()=>d,isNotNull:()=>S,isObject:()=>p,isString:()=>v,isTargetAfterElement:()=>Rt,isVisible:()=>lt,isWholeElementInView:()=>Et,mousewheelDelta:()=>$,noop:()=>T,offsetWidth:()=>zt,ownsElement:()=>V,ownsElementOrSelf:()=>q,parseAttrToInt:()=>N,parseStyleAttrToInt:()=>B,removeChildren:()=>Ht,removeClass:()=>Z,removeComponentInstance:()=>oe,removeComponentSuffix:()=>le,roughlyEqual:()=>pe,runInNextFrameAsync:()=>rt,saveFile:()=>O,scrollListToItem:()=>xt,setCarouselSelectedIndex:()=>lE,setComponentInstance:()=>ie,setComponentOptions:()=>te,setElementValue:()=>st,setIndeterminate:()=>bt,setOptions:()=>ee,setPosition:()=>wt,setScrollbarSizeCssVariables:()=>Bt,showAnimationGroup:()=>en,showAnimationGroupAsync:()=>Zr,showElement:()=>K,stringifyToStyle:()=>M,supportsTouchEvents:()=>c,toArray:()=>w,toAttrQuerySelector:()=>D,toAttrValueQuerySelector:()=>R,toClassSelector:()=>L,toDataAttr:()=>F,toPixel:()=>U,unwrapElement:()=>Xt,unwrapElements:()=>Gt,updateDateInputValue:()=>YM,wrapElement:()=>Vt,wrapElements:()=>qt,wrapInnerElement:()=>Wt});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{IntlError:()=>sn,cldr:()=>hn,currencyDisplay:()=>ii,currencyDisplays:()=>ni,currencyFractionOptions:()=>oi,dateFieldName:()=>qn,dateFormatNames:()=>Wn,errors:()=>cn,firstDay:()=>ui,format:()=>Go,formatDate:()=>wo,formatNumber:()=>Li,load:()=>Hn,localeCurrency:()=>ai,localeInfo:()=>pn,numberSymbols:()=>fi,parseDate:()=>zo,parseNumber:()=>Ui,setData:()=>Vn,splitDateFormat:()=>qo,territoryCurrencyCode:()=>si,toIntlErrors:()=>ln,toString:()=>Xo,weekendRange:()=>di});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{DEG_TO_RAD:()=>_a,LRUCache:()=>rl,MAX_NUM:()=>Ta,MIN_NUM:()=>Oa,TextMetrics:()=>hl,append:()=>wa,arabicToRoman:()=>Sa,bindEvents:()=>Ha,createPromise:()=>ka,defined:()=>Ds,definitionId:()=>Ca,deg:()=>Ma,elementOffset:()=>Va,elementPadding:()=>Ka,elementScale:()=>tl,elementSize:()=>Xa,elementStyles:()=>qa,encodeBase64:()=>Ia,eventCoordinates:()=>Fa,eventElement:()=>Da,hashKey:()=>sl,isTransparent:()=>Ra,last:()=>La,limitValue:()=>Na,measureText:()=>ul,mergeSort:()=>Ba,normalizeText:()=>il,now:()=>ja,objectKey:()=>ol,promiseAll:()=>za,rad:()=>Ua,round:()=>la,unbindEvents:()=>Ga,valueOrDefault:()=>$a});var r={};function n(t,e,r){void 0===r&&(r={});var n=l;if(r.forceProxy&&!r.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");r.forceProxy||(o()&&(n=a),navigator.msSaveBlob&&(n=s)),n(t,e,r)}__webpack_require__.r(r),__webpack_require__.d(r,{easeOutElastic:()=>Hh,linear:()=>$h,swing:()=>Uh});var i=function(){return document.createElement("a")},o=function(){return"download"in i()};function s(t,e){var r=t;if("string"==typeof t){for(var n=t.split(";base64,"),i=n[0],o=atob(n[1]),s=new Uint8Array(o.length),a=0;a<o.length;a++)s[a]=o.charCodeAt(a);r=new Blob([s.buffer],{type:i})}navigator.msSaveBlob(r,e)}function a(t,e){var r=t;window.Blob&&t instanceof Blob&&(r=URL.createObjectURL(t));var n=i();n.download=e,n.href=r;var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o),setTimeout((function(){return URL.revokeObjectURL(r)}))}function l(t,e,r){if(r.proxyURL){var n=document.createElement("form");n.setAttribute("action",r.proxyURL),n.setAttribute("method","POST"),n.setAttribute("target",r.proxyTarget||"_self");var i=r.proxyData||{};i.fileName=e;var o=t.split(";base64,");for(var s in i.contentType=o[0].replace("data:",""),i.base64=o[1],i)if(i.hasOwnProperty(s)){var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",s),a.setAttribute("value",i[s]),n.appendChild(a)}document.body.appendChild(n),n.submit(),document.body.removeChild(n)}}String.fromCharCode;var c=()=>{var t="ontouchstart"in window;return Boolean(t)},h=()=>window.location.host,u=function(){return Object.assign(...arguments)},p=t=>t&&"object"==typeof t&&!Array.isArray(t),d=t=>t instanceof HTMLElement,f=t=>t instanceof Element,g=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(!n.length)return e;var o=n.shift();if(p(e)&&p(o))for(var s in o)d(o[s])?e[s]=o[s]:p(o[s])?(e[s]||u(e,{[s]:{}}),t(e[s],o[s])):u(e,{[s]:o[s]});return t(e,...n)},m=()=>{var t,e,r="";for(t=0;t<32;t++)e=16*Math.random()|0,8!==t&&12!==t&&16!==t&&20!==t||(r+="-"),r+=(12===t?4:16===t?3&e|8:e).toString(16);return r},y=t=>"function"==typeof t,v=t=>"string"==typeof t,b=t=>Array.isArray(t),w=t=>Array.from(t),x=t=>void 0!==t,S=t=>null!==t,k=t=>x(t)&&S(t),A=t=>new Promise((e=>setTimeout(e,t))),C=t=>{var e,r;return{promise:new Promise((function(n,i){r=i,e=setTimeout((function(){n("timer done")}),t)})),cancel:function(){clearTimeout(e),r()}}},_=t=>String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),T=function(){},O=(t,e)=>{n(e,t)},M=t=>{var e=[],r=Object.entries(t);for(var[n,i]of r)if(x(i)){var o="".concat(E(n),": ").concat(i);e.push(o.toLowerCase())}return e.join("; ")},E=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2"),P=t=>({type:t.type,key:t.key,code:(t.keyCode||"").toString(),ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey}),I=t=>({type:t.type,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY,button:t.button,buttons:t.buttons,detail:t.detail,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey}),F=t=>"data-".concat(t),D=t=>"[".concat(t,"]"),R=(t,e)=>"[".concat(t,'="').concat(e,'"]'),L=t=>".".concat(t),N=(t,e)=>{if(!e)return-1;var r=e.getAttribute(t),n=parseInt(r,10);return Number.isNaN(n)?-1:n},B=(t,e)=>{if(!e)return 0;var r=e.style[t],n=parseInt(r,10);return Number.isNaN(n)?0:n},j=(t,e)=>{var r=(e||document).createElement("template");r.innerHTML=t.trim();var n=r.content;return n.childNodes.length>1?n.childNodes:n.firstChild},z=(t,e)=>t.reduce((function(t,r){var n=e instanceof Function?e(r):r[e];return(t[n]=t[n]||[]).push(r),t}),{}),U=t=>parseFloat(t)+"px",$=t=>{var e=0;return t.wheelDelta?e=-t.wheelDelta/120:t.detail&&(e=t.detail/3),e=e>0?Math.ceil(e):Math.floor(e)};class H{constructor(t,e){!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{dotNetInstance:null,events:{}}),this.element=t,this.dotNetInstance=e.dotNetInstance}destroy(){this.element=null,this.dotNetInstance=null}extendOptions(t){this.options=g(this.options,t)}setOptions(t){this.options=t}invokeMethodAsync(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.dotNetInstance;if(r&&r.invokeMethodAsync&&t)return r.invokeMethodAsync(t,e)}trigger(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={defaultPrevented:!1,preventDefault:()=>{r.defaultPrevented=!0}};if(y(this.options.events[t]))return this.options.events[t](u(r,e,{sender:this})),r.defaultPrevented}}function V(t,e){if(!e)return!1;for(var r=e.parentNode;null!==r;){if(r===t)return!0;r=r.parentNode}return!1}function q(t,e){return t===e||V(t,e)}function W(t){return(G(t)||document.getElementById(t)).scrollHeight.toString()}function X(t,e){var r=R("id",t);return(e||document).querySelector(r)}function G(t,e){return(e||document).querySelector('[data-id="'.concat(t,'"]'))}var K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t instanceof HTMLElement&&(t.style.display=e)},Y=t=>{t instanceof HTMLElement&&(t.style.display="none")},J=(t,e)=>{e.classList.add(t)},Z=(t,e)=>{e.classList.remove(t)},Q=(t,e)=>{if(e instanceof HTMLElement)return e.classList.contains(t)},tt=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=0;r<t.length;r++)if(Q(t[r],e))return!0},et=(t,e)=>{for(var r=t;r&&r!==document;){if(e.indexOf(r)>=0)return!0;r=r.parentElement}return!1},rt=t=>A(33).then((()=>t())),nt=t=>rt((()=>{t&&t.focus&&t.focus()})),it=t=>{var e=G(t);e&&nt(e)},ot=(t,e)=>{var r=G(t);r instanceof HTMLElement&&r.focus({preventScroll:e})},st=(t,e)=>{var r=G(t);r instanceof HTMLElement&&(r.value=e)},at=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t instanceof HTMLElement&&t.closest(e);return r?Boolean(n):n&&!t.matches(e)},lt=t=>"none"!==window.getComputedStyle(t).display,ct=t=>{var e=t.nodeName.toLowerCase(),r=/input|^a$|area|iframe|select|textarea|button|object/.test(e),n=t.tabIndex>-1;return(r||n)&&lt(t)&&!t.disabled},ht=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=ft(t,ct,e);return r},ut=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=ft(t,dt,e);return r},pt=(t,e)=>{var r=G(t)||document.getElementById(t);if(r){var n=ht(r,!1);n instanceof HTMLElement&&setTimeout((()=>{n.focus({preventScroll:e})}),33)}},dt=t=>{var e=ct(t),r=(t.tagName||"").toLowerCase(),n="span"===r,i=n&&t.classList.contains("k-switch"),o=n&&t.classList.contains("k-dropdownlist");return e&&r&&(/input|^a$|area|select|textarea|button/.test(r)||i||o)},ft=function t(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;if(n&&r(e))return e;for(e=e.firstElementChild;e;){var i=t(e,r,!0);if(i)return i;e=e.nextElementSibling}},gt=(t,e)=>yt(t,e,"previousElementSibling"),mt=(t,e)=>yt(t,e,"nextElementSibling"),yt=(t,e,r)=>{if(!t)return null;for(var n=[],i=t[r];i;)(!e||y(e)&&e(i))&&n.push(i),i=i[r];return n},vt=t=>t&&t.parentNode?Array.from(t.parentNode.children):[],bt=(t,e)=>{var r=G(t)||document.getElementById(t);r&&(r.indeterminate=e)},wt=(t,e,r)=>{var n=G(t)||document.getElementById(t);n&&(n.style.top=e,n.style.left=r)},xt=(t,e,r)=>{var n=G(t)||document.getElementById(t),i="UL"===n.tagName?n:n.getElementsByTagName("ul")[0],o=i.getElementsByTagName("li")[e],s=r&&_t(i.parentElement)?i.parentElement:null,a=s||i.offsetParent;if(o&&a){var l=a.scrollTop,c=l+a.offsetHeight,h=o.offsetTop,u=h+o.offsetHeight;u>c?a.scrollTop+=u-c:h<l&&(a.scrollTop=h)}},St=t=>!t||t&&_t(t)?At().width:0,kt=t=>!t||t&&Ct(t)?At().height:0,At=()=>{var t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);var e=document.createElement("div");t.appendChild(e);var r=t.offsetWidth-e.offsetWidth,n=t.offsetHeight-e.offsetHeight;return t.parentNode.removeChild(t),{width:r,height:n}},Ct=t=>Tt(t)&&t.clientWidth<t.scrollWidth,_t=t=>Ot(t)&&t.clientHeight<t.scrollHeight,Tt=t=>Mt(t,"overflow-x"),Ot=t=>Mt(t,"overflow-y"),Mt=(t,e)=>{var r=window.getComputedStyle(t)[e];return r.indexOf("auto")>-1||r.indexOf("scroll")>-1},Et=(t,e)=>{if(!t||!e)return!1;var r=t.getBoundingClientRect(),n=e.getBoundingClientRect();return r.top+r.height>=n.top&&r.bottom<=n.bottom&&r.left+r.width>=n.left&&r.right<=n.right},Pt=t=>d(t)?t.scrollWidth-t.clientWidth:0,It=(t,e)=>{for(var r,n=t.scrollTop,i=t.querySelectorAll(e),o=0;o<i.length;o++)if(i[o].offsetTop+i[o].clientHeight>n){r=i[o];break}return r},Ft=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!t||!e||t===e)return!1;var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=n.top+r<=i.bottom&&n.bottom-r>=i.top&&n.left+r<=i.right&&n.right-r>=i.left;return o},Dt=(t,e)=>{var r=Ft(t,e);if(!t||!e||t===e||!r)return{width:0,height:0};var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=Math.max(n.left,i.left),s=Math.max(n.top,i.top),a=Math.min(n.right,i.right),l=Math.min(n.bottom,i.bottom);return{x:o,y:s,top:s,left:o,right:a,bottom:l,width:a-o,height:l-s}},Rt=(t,e)=>!(!t||!e)&&(Lt(t,e)&&Nt(t)>Nt(e)),Lt=(t,e)=>!(!d(t)||!d(e))&&t.parentNode===e.parentNode,Nt=(t,e)=>{if(!t)return[].indexOf(t);var r=Array.from(t.parentElement.children);return e&&(r=r.filter((t=>t.matches(e)))),Array.from(r).indexOf(t)},Bt=()=>{var t=At();jt("--kendo-scrollbar-width","".concat(t.width,"px")),jt("--kendo-scrollbar-height","".concat(t.height,"px"))},jt=(t,e)=>{var r=document.documentElement;r&&r.style.setProperty(t,e)},zt=t=>{var e=window.getComputedStyle(t),r=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return t.offsetWidth+r},Ut=t=>{if(t)return[...t.children].reduce(((t,e)=>t+zt(e)),0)},$t=(t,e)=>{if(e)for(var r=0;r<t.length;r++)e.appendChild(t[r])},Ht=t=>{if(t)for(;t.firstChild;)t.removeChild(t.firstChild)},Vt=(t,e)=>{var r;t&&t.parentNode&&e&&(v(e)?r=j(e):f(e)&&(r=e),t.parentNode.insertBefore(r,t),r.appendChild(t))},qt=(t,e)=>{if(t&&t.length&&!(t.length<=0)&&e)for(var r=0;r<t.length;r++)Vt(t[r],e)},Wt=(t,e)=>{var r;if(t&&t.parentNode&&e)for(v(e)?r=j(e):f(e)&&(r=e),t.appendChild(r);t.firstChild!==r;)r.appendChild(t.firstChild)},Xt=t=>{var e=t.parentElement;t&&e.replaceWith(...e.childNodes)},Gt=t=>{if(t&&t.length&&!(t.length<=0))for(var e=0;e<t.length;e++)Xt(t[e])},Kt=(t,e)=>{for(var r=[],n=t.parentNode;n&&n!==document;)e?(n.matches(e)&&r.push(n),n=n.parentNode):(r.push(n),n=n.parentNode);return r},Yt="telerik",Jt=new RegExp("-".concat(Yt,"-.*$"),"ig");function Zt(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=le(e),i=G(n),o=re(e);if(!o){var s=new t(i,r);ie(e,s)}}function Qt(t){var e=re(t);e&&e.destroy&&(e.destroy(),e=null),oe(t)}function te(t,e){t&&t.setOptions&&t.setOptions(e)}function ee(t,e){te(se()[t],e)}function re(t){return se()[t]}function ne(t,e){var r=t&&t.closest(e);return r?re(r.getAttribute("data-id")):null}function ie(t,e){se()[t]=e}function oe(t){delete(window.TelerikBlazor._instances||{})[t]}var se=()=>{if(void 0===window.TelerikBlazor)throw new Error("The telerik-blazor.js script is not loaded");return window.TelerikBlazor._instances=window.TelerikBlazor._instances||{},window.TelerikBlazor._instances},ae=(t,e)=>"".concat(t,"-").concat(Yt,"-").concat(e),le=t=>t.replace(Jt,"");function ce(t,e,r){var n=re(e);if(n&&y(n[t]))return n[t](r)}var he=(t,e,r)=>Math.min(r,Math.max(e,t));function ue(t,e){var r=t%e,n=t-r,i=t+e-r;return n+i<2*t?i:n}function pe(t,e,r){var{decimals:n=0}=r;if(t&&e)return t.toFixed(n)===e.toFixed(n)}var de={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,SPACE:32,END:35,HOME:36,PAGE_UP:33,PAGE_DOWN:34,PAGEUP:33,PAGEDOWN:34},fe={DELETE:"Delete",BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESC:"Escape",ARROWLEFT:"ArrowLeft",ARROWUP:"ArrowUp",ARROWRIGHT:"ArrowRight",ARROWDOWN:"ArrowDown",SPACE:"Space",END:"End",HOME:"Home",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},ge={CTRL:"CTRL",ALT:"ALT",SHIFT:"SHIFT"};class me{static equals(t,e){return t.ctrl===e.ctrl&&t.alt===e.alt&&t.shift===e.shift&&t.code===e.code}constructor(t){"string"==typeof t?this._initFromString(t):t instanceof KeyboardEvent&&this._initFromEvent(t)}_initFromString(t){var e=t.toUpperCase().split(/[\t-\r \+\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]/);for(var r of e)switch(r){case ge.CTRL:this.ctrl=!0;break;case ge.ALT:this.alt=!0;break;case ge.SHIFT:this.shift=!0;break;default:this.code=this._toNormalizedCode(r)}this.name=t}_initFromEvent(t){this.name="",t.ctrlKey&&(this.ctrl=t.ctrlKey,this.name+="".concat(ge.CTRL," ")),t.shiftKey&&(this.shift=t.shiftKey,this.name+="".concat(ge.SHIFT," ")),t.altKey&&(this.alt=t.altKey,this.name+="".concat(ge.ALT," ")),this.code=t.keyCode,this.name+=t.key}_toNormalizedCode(t){return de[t.toUpperCase()]}}var ye="keydown";class ve{constructor(t){!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"onNavigate",(t=>{var e=new me(t),r=1===e.name.length,n=this.shortcuts.find((t=>me.equals(t,e)))||r&&this.shortcuts.find((t=>"printableKey"===t.name));n&&this.callbacks[n.name].forEach((r=>{r(e,t)||(t.preventDefault(),t.stopPropagation())}))})),this.element=t,this.callbacks={},this.shortcuts=[],this.bindEvents()}destroy(){this.unbindEvents(),this.element=this.callbacks=this.shortcuts=null}bindEvents(){this.element.addEventListener(ye,this.onNavigate)}unbindEvents(){this.element.removeEventListener(ye,this.onNavigate)}bind(t,e){var r=Array.isArray(t)?t:[t];for(var n of r){var i=new me(n);this.callbacks[i.name]=this.callbacks[i.name]||[],this.shortcuts.push(i),this.callbacks[i.name].push(e)}}}function be(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class we{constructor(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]";be(this,"disableTabKeyTrap",(()=>{this.element&&this.element.removeEventListener("keydown",this.onKeyDown)})),be(this,"onKeyDown",(t=>{this.tryFindEdgeElements()?t.keyCode===de.TAB&&(t.shiftKey?document.activeElement===this.firstElement&&(this.lastElement.focus(),t.preventDefault()):document.activeElement===this.lastElement&&(this.firstElement.focus(),t.preventDefault())):this.element.removeEventListener("keydown",this.onKeyDown)})),this.element=t,this.focusableElementsSelector=e}destroy(){this.disableTabKeyTrap(),this.element=null,this.firstElement=null,this.lastElement=null}enableKeyTrap(){this.element&&this.element.addEventListener("keydown",this.onKeyDown)}tryFindEdgeElements(){return this.findEdgeElements(),this.firstElement&&this.lastElement}findEdgeElements(){var t=this.element.querySelectorAll(this.focusableElementsSelector);this.firstElement=t[0],this.lastElement=t[t.length-1]}}function xe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Se=t=>{Ae&&Ae.instanceMap&&rt((()=>{var e=G(t);if(e&&!Ae.instanceMap[t]){var r=new Ae(e);Ae.instanceMap[t]=r,r.enableKeyTrap()}}))},ke=t=>{if(Ae&&Ae.instanceMap){var e=Ae.instanceMap[t];e&&e.disableTabKeyTrap()}};class Ae{constructor(t){xe(this,"disableTabKeyTrap",(()=>{this.firstElement&&this.firstElement.removeEventListener("keydown",this.onFirstElementKeyDown),this.lastElement&&this.lastElement.removeEventListener("keydown",this.onLastElementKeyDown)})),xe(this,"onFirstElementKeyDown",(t=>{t.keyCode===de.TAB&&t.shiftKey&&(t.preventDefault(),this.lastElement&&this.lastElement.focus())})),xe(this,"onLastElementKeyDown",(t=>{t.keyCode!==de.TAB||t.shiftKey||(t.preventDefault(),this.firstElement&&this.firstElement.focus())})),t&&(this.element=t,this.firstElement=ht(t,!1),this.lastElement=(t=>{if(t.length)return t[t.length-1]})(t.querySelectorAll("button, .k-button")))}destroy(){this.disableTabKeyTrap(),this.element=null,this.firstElement=null,this.lastElement=null}enableKeyTrap(){this.element&&this.firstElement&&this.lastElement&&(this.firstElement.addEventListener("keydown",this.onFirstElementKeyDown),this.lastElement.addEventListener("keydown",this.onLastElementKeyDown))}}xe(Ae,"instanceMap",{});class Ce{static get webAssembly(){return Boolean(window.Blazor&&window.Blazor.platform)}static get serverSideBlazor(){return Boolean(window.Blazor&&window.Blazor.reconnect)}static get firefox(){return Boolean(/Firefox/i.test(navigator.userAgent))}}function _e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Te="scroll",Oe="scrollLeft",Me="horizontal";class Ee extends H{constructor(t,e){super(t,e),_e(this,"options",{horizontal:!0,vertical:!0,minScrollDelta:1,syncFromConnections:!1,connections:[]}),_e(this,"onScroll",(t=>{var e=t.currentTarget;(this.options.syncFromConnections?this.scrollableElements:this.connections).filter((t=>t!==e)).forEach((t=>{this.syncScroll(e,t,{orientation:Me}),this.syncScroll(e,t,{orientation:"vertical"})}))})),this.extendOptions(e),this.connections=this.options.connections.filter(d),this.scrollableElements=this.getScrollableElements(),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.forEachScrollableElement((t=>{t.addEventListener(Te,this.onScroll)}))}unbindEvents(){this.forEachScrollableElement((t=>{t.removeEventListener(Te,this.onScroll)}))}syncScroll(t,e,r){var{orientation:n=Me}=r,i=n===Me?Oe:"scrollTop",o=i===Oe?"dataScrollLeft":"dataScrollTop",s=t[i],a=t[o]||0,l=e[i],c=e[o],h=a!==s||c!==s,u=Pt(this.element)>0;if(this.options[n]&&h&&u){var p=Math.abs(a-s),d=Math.abs(l-s),f=this.options.minScrollDelta;(p>=f||d>=10*f)&&(e[o]=s,e[i]=s)}}getScrollableElements(){var t=[];return this.options.syncFromConnections&&(t=this.connections),[this.element,...t]}forEachScrollableElement(t){this.forEachElement(this.scrollableElements,t)}forEachConnection(t){this.forEachElement(this.connections,t)}forEachElement(){var t=arguments.length>1?arguments[1]:void 0;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((e=>{d(e)&&y(t)&&t(e)}))}}var Pe=t=>tt(["k-grid-content-sticky","k-grid-header-sticky","k-grid-footer-sticky"],t);function Ie(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Fe="data-col-index",De="data-render-row-index",Re="nearest",Le=Array.from,Ne="right",Be="left";class je extends H{constructor(t,e){super(t,e),Ie(this,"options",{navigable:!1,incellEdit:!1,columnVirtualization:!1,virtualScrollDelay:66.66666666666667,events:{removeFocus:null,blur:null,incellEditBlur:null},rowSelector:t=>"tr[data-render-row-index='".concat(t,"']"),columnSelector:t=>"[".concat(Fe,"='").concat(t,"']"),cellNavigationSelector:t=>"[".concat("data-cell-navigation-id","='").concat(t,"']"),groupRowClass:"k-grouping-row",headerClass:"k-grid-header",contentClass:"k-grid-content",editRowClass:"k-grid-edit-row",filterRowClass:"k-filter-row",lockedHeaderClass:"k-grid-header-sticky"}),Ie(this,"onClick",(t=>{"input"===t.target.tagName.toLowerCase()&&t.stopPropagation()})),Ie(this,"onKeyDown",(t=>{var e=this.options.navigable&&[de.ARROWRIGHT,de.ARROWLEFT,de.ARROWUP,de.ARROWDOWN,de.PAGE_DOWN,de.PAGE_UP,de.HOME,de.END,de.SPACE].includes(t.keyCode),r=t.keyCode===de.SPACE&&Q("k-checkbox",t.target),n=e&&!r&&(t.target.matches("td")||t.target.matches("th")),i=t.keyCode===de.TAB&&this.options.incellEdit&&t.target.closest(".k-grid-edit-row");(n||i)&&t.preventDefault()})),Ie(this,"onFocusOut",(t=>{var e=t.target.closest("[".concat(Fe,"]")),r=e?e.closest("tr"):null,n=r&&r.hasAttribute(De)?parseInt(r.getAttribute(De)):null,i=e&&e.hasAttribute(Fe)?parseInt(e.getAttribute(Fe)):null,o={originalEvent:t};null!==n&&null!==i&&(o.rowIndex=n,o.columnIndex=i,o.isChildFocused=e&&!t.target.hasAttribute(Fe)),this.options.incellEdit&&t.target&&t.target.closest(".k-grid-edit-cell")&&(!t.relatedTarget&&document.activeElement===document.body||t.relatedTarget&&!this.element.contains(t.relatedTarget)&&!t.relatedTarget.closest(".k-popup")||t.relatedTarget&&t.relatedTarget.closest(".k-detail-row,.k-grid-search,.k-filter-row,.k-pager")&&this.element.contains(t.relatedTarget.closest(".k-detail-row,.k-grid-search,.k-filter-row,.k-pager")))&&this.triggerIncellEditBlur(o),this.options.navigable&&(!t.relatedTarget||this.element.contains(t.relatedTarget)&&!t.relatedTarget.closest(".k-detail-row,.k-grid-toolbar")||t.relatedTarget.closest(".k-window")||t.relatedTarget.closest(".k-grid-filter-popup")?this.triggerBlur(o):this.triggerRemoveFocus())})),this.extendOptions(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("focusout",this.onFocusOut),this.options.navigable&&this.element.addEventListener("click",this.onClick)}unbindEvents(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("focusout",this.onFocusOut),this.options.navigable&&this.element.removeEventListener("click",this.onClick)}focusCell(t){var{rowIndex:e,columnIndex:r,isChildFocused:n,cellNavigationId:i,keyboardEventArgs:o}=t,s=this.getRow(e),a=i>=0?this.element.querySelector(this.options.cellNavigationSelector(i)):null;if(a)this.focusElement(a);else if(s){if(Q("k-grouping-row",s))a=s.querySelector("td[role='gridcell']");else if(!(a=s.querySelector(this.options.columnSelector(r)))){if(this.hasNavigableVirtualColumns())return;var l=s.querySelector("[".concat(Fe,"]"));parseInt(l.attributes["".concat(Fe)].value)>r&&(a=l)}if(a)if(this.hasNavigableVirtualColumns()){var c=this.hasEditRow(),h=this.isCellInFilterRow(e,r);if(n&&(c||h))this.focusEditable({rowIndex:e,columnIndex:r});else{var u=this.getKeyboardDirection(o);this.scrollIntoView(a,u),this.focusElement(a)}}else this.focusElement(a)}}focusElement(t){t instanceof HTMLElement&&t!==document.activeElement&&t.focus()}selectElement(t){t instanceof HTMLElement&&y(t.select)&&t.select()}selectAndFocusElement(t){t!==document.activeElement&&(this.selectElement(t),this.focusElement(t))}focusEditable(t){var{rowIndex:e,columnIndex:r}=t;clearTimeout(this.selectAndFocusTimeout),setTimeout((()=>{var t=this.getCell(e,r),n=ut(t,!1);if(d(n)&&n.tabIndex<0){var i=ht(t,!1);n=i||t}this.scrollIntoView(t),this.options.columnVirtualization?this.selectAndFocusTimeout=setTimeout((()=>{this.selectAndFocusElement(n)}),2*this.options.virtualScrollDelay):this.selectAndFocusElement(n)}),1)}focusFirstFocusable(t){var{rowIndex:e,columnIndex:r}=t;setTimeout((()=>{this.focusCellChild(e,r,ht)}),1)}focusCellChild(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ht,n=this.getCell(t,e),i=n?r(n,!1):null;this.focusElement(i)}getRow(t){var e=this.element.parentElement.closest(".k-grid");return e&&e!==this.element?this.element.querySelector(this.options.rowSelector(t)):Array.from(this.element.querySelectorAll(this.options.rowSelector(t))).filter((t=>null===t.closest(".k-detail-row")))[0]}getCell(t,e){var r=this.getRow(t);if(r)return r.querySelector(this.options.columnSelector(e))}triggerRemoveFocus(){this.trigger("removeFocus")}triggerBlur(t){this.trigger("blur",t)}triggerIncellEditBlur(t){this.trigger("incellEditBlur",t)}scrollIntoView(t,e){if(this.preventScrollIntoView)this.preventScrollIntoView=!1;else{var r=t.closest(D(Fe)),n=r?r.closest("tr"):null;if(t&&r&&!Pe(r)&&n){var i=this.getClosestOverlappingLockedCell(r),o=this.hasSpaceToScrollIntoView(r),s=Et(r,this.getContentElement());i&&o?(s||this.scrollElementIntoView(r),this.scrollToLockedCell(i,r,e)):!this.hasLockedColumns()||s||o?i||!o?this.scrollToCell(r):this.scrollElementIntoView(t):this.scrollToCell(r)}}}scrollToCell(t){var e=this.getContentElement(),r=gt(t,(t=>!Pe(t))),n=this.getTotalCellsWidth(r);n!==e.scrollLeft&&(this.preventScrollIntoView=!0,e.scrollLeft=n)}scrollToLockedCell(t,e,r){var n=this.getContentElement(),i=this.getIntersectionOffset(e,t,r);0!==i&&(this.preventScrollIntoView=!0,n.scrollLeft+=i)}scrollElementIntoView(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{horizontalAlign:Re,verticalAlign:Re};t&&t.scrollIntoView&&t.scrollIntoView({inline:e.horizontalAlign||Re,block:e.verticalAlign||Re})}scrollAndFocusFirstCell(t){this.scrollAndFocusCell({scrollLeft:0,rowIndex:t.rowIndex,columnIndex:t.columnIndex})}scrollAndFocusLastCell(t){var e=this.getContentElement(),r=Pt(e);this.scrollAndFocusCell({scrollLeft:r,rowIndex:t.rowIndex,columnIndex:t.columnIndex})}scrollAndFocusCell(t){var{scrollLeft:e,rowIndex:r,columnIndex:n}=t;this.getContentElement().scrollLeft=e,setTimeout((()=>{this.focusCell({rowIndex:r,columnIndex:n})}),2*this.options.virtualScrollDelay)}getHeaderElement(){return this.element.querySelector(L(this.options.headerClass))}getContentElement(){return this.element.querySelector(L(this.options.contentClass))}hasEditRow(){var t=this.getContentElement();return t&&t.querySelector(L(this.options.editRowClass))}isCellInFilterRow(t,e){var r=this.getHeaderElement(),n=r?r.querySelector(L(this.options.filterRowClass)):null;if(!k(n))return!1;if(N(De,n)===t){var i=Le(n.querySelectorAll("th[".concat(Fe,"]")));return k(i[e])}return!1}hasLockedColumns(){var t=this.getHeaderElement();return t&&t.querySelector(L(this.options.lockedHeaderClass))}hasNavigableVirtualColumns(){return this.options.navigable&&this.options.columnVirtualization}hasSpaceToScrollIntoView(t){var e=vt(t).filter(Pe),r=this.getContentElement();return this.getTotalCellsWidth(e)+t.getBoundingClientRect().width<r.clientWidth}getTotalCellsWidth(t){return t.reduce(((t,e)=>t+e.getBoundingClientRect().width),0)}getClosestOverlappingLockedCell(t){if(!this.hasLockedColumns())return null;var e=gt(t),r=mt(t),n=e.concat(r).filter(Pe),i=null;for(var o of n)if(Ft(t,o)){i=o;break}return i}getKeyboardDirection(t){if(!t)return null;var e=t.key;return e===fe.ARROWRIGHT||e===fe.END?Ne:e===fe.ARROWLEFT||e===fe.HOME?Be:null}getIntersectionOffset(t,e,r){if(!Lt(t,e))return 0;var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=i.left<=n.left&&i.right<=n.right,s=n.left<=i.left&&n.right<=i.right,a=i.left<n.left&&i.right>n.right,l=n.left<i.left&&n.right>i.right,c=n.left===i.left&&n.right===i.right,h=Dt(t,e).width,u=n.width,p=i.width,d=0;return c?r===Be?d=-1*h:r===Ne&&(d=h):o?d=-1*h:s?d=-1*(u-h+p):a?d=i.right-n.right+u:l&&(d=-1*(i.right-n.left)),d}}var ze="col-initialization-index",Ue="cell-navigation-id",$e=t=>R(F(ze),t),He=t=>{if(t.length)return t[t.length-1]},Ve=t=>{var{clientX:e,clientY:r}=t;if(x(e)&&x(r))return document.elementFromPoint(e,r)},qe=t=>{var e=N(F("level"),t);return e>=0?e:1},We=t=>(t.getAttribute(F("has-children"))||"").toLowerCase()===(!0).toString(),Xe=t=>Ke(t,F(ze)),Ge=t=>Ke(t,F("parent-col-initialization-index")),Ke=(t,e)=>t?N(e,t):[].indexOf(t),Ye=(t,e)=>{for(var r=Xe(t),n=Je(e),i=[],o=0;o<e.length;o++){var s=e[o],a=Ge(s),l=Xe(s),c=n.indexOf(s);if(a===r){i.push({parentIndex:a,index:l,leafIndex:c,element:s});var h=Ye(s,e);i=i.concat(h)}}return i},Je=t=>t.filter((e=>t.every((t=>!tr(e,t))))),Ze=(t,e)=>{var r=N(F(Ue),t),n=N(F(Ue),e);return r>n?1:r<n?-1:0},Qe=(t,e)=>{var r=Xe(t),n=Xe(e);return r>n?1:r<n?-1:0},tr=(t,e)=>Xe(t)===Ge(e),er=t=>{t.preventDefault&&t.preventDefault(),t.originalEvent&&t.originalEvent.preventDefault()},rr=t=>{var{clientTop:e,clientLeft:r}=(t=>t.ownerDocument.documentElement)(t),{pageYOffset:n,pageXOffset:i}=(t=>t.ownerDocument.defaultView)(t),{top:o,left:s}=t.getBoundingClientRect();return{top:o+n-e,left:s+i-r}},nr=t=>".".concat(t),ir=function(t,e){return function(r){return e(t(r))}},or=function(t,e,r){return t.addEventListener&&t.addEventListener(e,r)},sr=function(t,e,r){return t&&t.removeEventListener&&t.removeEventListener(e,r)},ar=function(){},lr=function(t){return t.preventDefault()},cr=/touch/;function hr(t){return t.type.match(cr)?{pageX:t.changedTouches[0].pageX,pageY:t.changedTouches[0].pageY,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,type:t.type,originalEvent:t,isTouch:!0}:{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY,offsetX:t.offsetX,offsetY:t.offsetY,type:t.type,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,originalEvent:t}}var ur=function(t){var e=this,r=t.press;void 0===r&&(r=ar);var n=t.drag;void 0===n&&(n=ar);var i=t.release;void 0===i&&(i=ar);var o=t.mouseOnly;void 0===o&&(o=!1),this._pressHandler=ir(hr,r),this._dragHandler=ir(hr,n),this._releaseHandler=ir(hr,i),this._ignoreMouse=!1,this._mouseOnly=o,this._touchstart=function(t){1===t.touches.length&&e._pressHandler(t)},this._touchmove=function(t){1===t.touches.length&&e._dragHandler(t)},this._touchend=function(t){0===t.touches.length&&1===t.changedTouches.length&&(e._releaseHandler(t),e._ignoreMouse=!0,setTimeout(e._restoreMouse,2e3))},this._restoreMouse=function(){e._ignoreMouse=!1},this._mousedown=function(t){var r=t.which;r&&r>1||e._ignoreMouse||(or(document,"mousemove",e._mousemove),or(document,"mouseup",e._mouseup),e._pressHandler(t))},this._mousemove=function(t){e._dragHandler(t)},this._mouseup=function(t){sr(document,"mousemove",e._mousemove),sr(document,"mouseup",e._mouseup),e._releaseHandler(t)},this._pointerdown=function(t){t.isPrimary&&0===t.button&&(or(document,"pointermove",e._pointermove),or(document,"pointerup",e._pointerup),or(document,"pointercancel",e._pointerup),or(document,"contextmenu",lr),e._pressHandler(t))},this._pointermove=function(t){t.isPrimary&&e._dragHandler(t)},this._pointerup=function(t){t.isPrimary&&(sr(document,"pointermove",e._pointermove),sr(document,"pointerup",e._pointerup),sr(document,"pointercancel",e._pointerup),sr(document,"contextmenu",lr),e._releaseHandler(t))}};ur.supportPointerEvent=function(){return"undefined"!=typeof window&&window.PointerEvent},ur.prototype.bindTo=function(t){t!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=t,this._bindToCurrent())},ur.prototype._bindToCurrent=function(){var t=this._element;this._usePointers()?or(t,"pointerdown",this._pointerdown):(or(t,"mousedown",this._mousedown),this._mouseOnly||(or(t,"touchstart",this._touchstart),or(t,"touchmove",this._touchmove),or(t,"touchend",this._touchend)))},ur.prototype._unbindFromCurrent=function(){var t=this._element;if(this._usePointers())return sr(t,"pointerdown",this._pointerdown),sr(document,"pointermove",this._pointermove),sr(document,"pointerup",this._pointerup),sr(document,"contextmenu",lr),void sr(document,"pointercancel",this._pointerup);sr(t,"mousedown",this._mousedown),this._mouseOnly||(sr(t,"touchstart",this._touchstart),sr(t,"touchmove",this._touchmove),sr(t,"touchend",this._touchend))},ur.prototype._usePointers=function(){return!this._mouseOnly&&ur.supportPointerEvent()},ur.prototype.destroy=function(){this._unbindFromCurrent(),this._element=null},ur.default=ur;function pr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class dr extends H{constructor(t,e){super(t,e),pr(this,"options",{id:m(),group:null,itemSelector:"",allowsDragFrom:()=>!0,allowsDropFrom:()=>!0,events:{dragEnter:null,dragLeave:null,dragOver:null,drop:null}}),this.extendOptions(e),ie(this.options.id,this),dr.InstancesByGroup[this.options.group]||(dr.InstancesByGroup[this.options.group]=new Set),dr.InstancesByGroup[this.options.group].add(this)}destroy(){dr.InstancesByGroup[this.options.group]&&dr.InstancesByGroup[this.options.group].delete(this),oe(this.options.id),super.destroy()}triggerDragEnter(t){this.trigger("dragEnter",t)}triggerDragLeave(t){this.trigger("dragLeave",t)}triggerDragOver(t){this.trigger("dragOver",t)}triggerDrop(t){this.trigger("drop",t)}allowsDragFrom(t,e){return t&&t.options.group===this.options.group&&this.options.allowsDragFrom(t,e)}allowsDropFrom(t,e){return t&&t.options.group===this.options.group&&this.options.allowsDropFrom(t,e)}}function fr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}pr(dr,"InstancesByGroup",{}),pr(dr,"forEachInstanceInGroup",((t,e)=>{var r=dr.InstancesByGroup[t]||new Set;for(var n of r)n&&n instanceof dr&&e(n)}));var gr=(t,e)=>!(!e||!t||!t.closest(e)&&!t.matches(e));class mr extends H{constructor(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),fr(this,"options",{events:{dragStart:null,drag:null,dragEnd:null,dropTargetEnter:null},offset:{x:0,y:0},filter:null,ignore:"",hint:null,group:null,ignoreElementUnderCursor:()=>!1,touchAction:"none"}),fr(this,"onPress",(t=>{this.dragStarted=!1,gr(t.originalEvent.target,this.options.ignore)?this.originalCurrentTarget=null:gr(t.originalEvent.target,this.options.filter)?(er(t),this.originalCurrentTarget=t.originalEvent.target.closest(this.options.filter),this.dragStarted=!0,this.triggerDragStart(t)):this.originalCurrentTarget=null})),fr(this,"onDrag",(t=>{var e=u(t,{originalCurrentTarget:this.originalCurrentTarget});if(this.originalCurrentTarget&&(er(e),this.dragStarted&&(this.processDropTargetIntersection(e),!this.triggerDrag(u(e,{dropTarget:this.getLastDropTarget()}))))){!this.hint&&this.options.hint&&(this.createHint(this.originalCurrentTarget),this.appendHint());var r=this.getOffset();this.dragHint({top:e.pageY+r.y,left:e.pageX+r.x}),this.triggerDropTargetDragOver(e)}})),fr(this,"onRelease",(t=>{this.originalCurrentTarget&&(er(t),this.processDropTargetDrop(t),this.destroyHint(),this.triggerDragEnd(t))})),this.extendOptions(e),this.initDraggableEvents(t)}destroy(){this.destroyDraggableEvents(),this.destroyHint(),this.lastDropTargetId=null,this.originalCurrentTarget=null,super.destroy()}initDraggableEvents(){this.destroyDraggableEvents(),this.draggableEvents=new ur({press:this.onPress,drag:this.onDrag,release:this.onRelease}),this.draggableEvents.bindTo(this.element),this.element.style.touchAction=this.options.touchAction}destroyDraggableEvents(){this.draggableEvents&&this.draggableEvents.destroy&&this.draggableEvents.destroy()}triggerDragStart(t){this.trigger("dragStart",t)}triggerDrag(t){return this.trigger("drag",t)}triggerDragEnd(t){this.trigger("dragEnd",t)}trigger(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.trigger(t,u(e,{originalCurrentTarget:this.originalCurrentTarget,elementUnderCursor:this.getElementUnderCursor(e)}))}triggerDropTargetDragEnter(t,e){t&&(t.triggerDragEnter(u(e,{draggable:this})),this.triggerDropTargetEnter(u(e,{dropTarget:t})))}triggerDropTargetEnter(t){this.trigger("dropTargetEnter",t)}triggerDropTargetDragLeave(t,e){t&&(t.triggerDragLeave(u(e,{draggable:this})),this.triggerDropTargetLeave(u(e,{dropTarget:t})))}triggerDropTargetLeave(t){this.trigger("dropTargetLeave",u(t,{dropTarget:this.dropTarget}))}triggerDropTargetDragOver(t){if(this.lastDropTargetId){var e=this.getLastDropTarget();if(!e)return;e.triggerDragOver(u(t,{draggable:this})),this.triggerDropTargetOver(u(t,{dropTarget:e}))}}triggerDropTargetOver(t){this.trigger("dropTargetOver",t)}triggerDropTargetDrop(t,e){var r=u(e,{elementUnderCursor:this.getElementUnderCursor(e)});t&&(t.allowsDropFrom(this,r)&&t.triggerDrop(u(r,{draggable:this})),this.triggerDrop(u(r,{dropTarget:t})))}triggerDrop(t){this.trigger("drop",t)}processDropTargetIntersection(t){var e=this.getElementUnderCursor(t),r=!1;this.forEachDropTarget((n=>{var i=n.element.contains(e);r=r||i,i&&this.lastDropTargetId!==n.options.id&&(this.triggerDropTargetDragLeave(this.getLastDropTarget(),t),this.lastDropTargetId=n.options.id,this.triggerDropTargetDragEnter(n,t))})),r||(this.triggerDropTargetDragLeave(this.getLastDropTarget(),t),this.lastDropTargetId=null)}processDropTargetDrop(t){this.forEachDropTarget((e=>{var r=this.getElementUnderCursor(t);e.element.contains(r)&&(this.lastDropTargetId=null,this.triggerDropTargetDrop(e,t))}))}getOffset(){return y(this.options.offset)?this.options.offset(this.hint):this.options.offset}createHint(t){this.hint=y(this.options.hint)?this.options.hint(t):this.options.hint}destroyHint(){this.hint&&(this.removeHint(),this.hint=null)}showHint(){K(this.hint)}hideHint(){Y(this.hint)}appendHint(){document.body.appendChild(this.hint)}removeHint(){document.body.removeChild(this.hint)}dragHint(t){var{top:e,left:r}=t;this.setHintState({top:e,left:r})}setHintState(t){var{top:e,left:r}=t;this.hint&&this.setHintPosition({top:e,left:r})}setHintPosition(t){var{top:e=0,left:r=0}=t,{width:n,height:i}=this.hint.getBoundingClientRect(),o=e-i/2,s=r-n/2;this.hint.style.top="".concat(o,"px"),this.hint.style.left="".concat(s,"px")}getElementUnderCursor(t){var e=Ve(t);if(this.hint&&this.hint.contains(e)){if(this.hideHint(),e=Ve(t),this.options.ignoreElementUnderCursor(e)){var r=e;Y(r);var n=Ve(t);n&&(e=n),K(r)}this.showHint()}return e}forEachDropTarget(t){dr.forEachInstanceInGroup(this.options.group,t)}getLastDropTarget(){return re(this.lastDropTargetId)}}class yr{constructor(t){var e;!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{appendTo:document.body,template:(e=M({position:"absolute","z-index":1e4}),'<div class="k-grouping-dropclue" style="'.concat(e,'" />'))}),this.extendOptions(t),this.initElement(),this.append()}destroy(){this.remove()}extendOptions(t){this.options=u(this.options,t)}initElement(){this.element=j(this.options.template)}append(){this.hide(),this.options.appendTo.appendChild(this.element)}remove(){this.options.appendTo.removeChild(this.element),this.element=null}show(){K(this.element)}hide(){Y(this.element)}setState(t){var{top:e,left:r,height:n,visible:i}=t;this.setPosition({top:e,left:r}),this.setVisibility(i),this.setSize({height:n})}setSize(t){var{height:e}=t;this.element.style.height="".concat(e,"px")}getIsVisible(){return lt(this.element)}getSize(){var t=this.element.style.display,e=this.element.style.visibility;this.element.style.visibility="hidden",this.element.style.display="block";var r=this.element.offsetWidth,n=this.element.offsetHeight;return this.element.style.display=t,this.element.style.visibility=e,{width:r,height:n}}setVisibility(t){t?this.show():this.hide()}setPosition(t){var{top:e=0,left:r=0}=t;this.element.style.top="".concat(e,"px"),this.element.style.left="".concat(r,"px")}getOffsetState(t,e){var r=rr(t),{offsetWidth:n,offsetHeight:i}=t;return{top:r.top,left:r.left+(e?n:0),height:i}}}function vr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var br={forbidden:"k-i-cancel",before:"k-i-insert-middle",after:"k-i-insert-middle",over:"k-i-plus"},wr="forbidden",xr="before",Sr="after",kr="over",Ar="[data-draggable]";class Cr extends H{constructor(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),vr(this,"options",{group:"",filter:"",itemSelector:"",dropClueTemplate:'<div class="k-drop-hint k-drop-hint-h" style="position: absolute; z-index: 10000;">\n                               <div class="k-drop-hint-start"></div>\n                               <div class="k-drop-hint-line"></div>\n                           </div>',hint:null,allowDropOver:!0,events:{itemDragStart:null,itemDrop:null}}),vr(this,"onDragStart",(t=>{var e=this.getItem(t.originalCurrentTarget);e.closest(Ar)===this.element?(this.dragging=!0,this.trigger("itemDragStart",u(t,{sourceItem:e})),this.createDropClue()):this.dragging=!1})),vr(this,"onDrag",(t=>{if(this.dragging){var e,r,n=this.getElementUnderCursor(t),i=ne(n,Ar);i&&i.getDropSettings?(e=i.getDropSettings(),i.getDropPosition?this.lastDropPosition=i.getDropPosition(t):this.lastDropPosition=this.getDropPosition(t,e)):this.lastDropPosition=wr,this.updateDragClueState(this.draggable.hint);var o=e&&e.offsetDropClue;e&&e.dropClueTargetSelector&&(r=n&&n.closest(e.dropClueTargetSelector)),this.updateDropClueState(r,o)}})),vr(this,"onDragEnd",(t=>{if(this.dragging&&(this.destroyDropClue(),this.lastDropPosition!==wr)){var e=this.getItem(t.originalCurrentTarget),r=this.getElementUnderCursor(t),n=this.getItem(r),i="",o="",s=ne(r,Ar);s&&(i=s.getId(),o=s.getDropItemIndex(r,t)),e&&e!==n&&this.trigger("itemDrop",u(t,{sourceItem:e,destinationIndex:o,destinationElement:r,destinationComponentId:i,dropPosition:this.lastDropPosition}))}})),this.extendOptions(e),this.createDraggable()}destroy(){this.draggable&&this.draggable.destroy(),super.destroy()}createDraggable(){if(this.element){var t=this.options.hint;this.draggable=new mr(this.element,g(this.options,{offset:t=>{var e=t.getBoundingClientRect();return{x:e.width/2+10,y:e.height/2+10}},hint:e=>{var r=t(e);return this.updateDragClueState(r),r},events:{dragStart:this.onDragStart,drag:this.onDrag,dragEnd:this.onDragEnd}}))}}getItem(t){return t.closest(this.options.itemSelector)}createDropClue(){this.dropClue||(this.dropClue=new yr({template:this.options.dropClueTemplate}))}destroyDropClue(){this.dropClue&&(this.dropClue.destroy(),this.dropClue=null)}getDropPosition(t,e){var r=this.getElementUnderCursor(t),n=r&&r.closest(e.dropClueTargetSelector);if(e.dropClueEmptySelector&&r&&r.closest(e.dropClueEmptySelector))return kr;if(!e.dropClueTargetSelector||!n||n===t.originalCurrentTarget.closest(e.dropClueTargetSelector))return wr;var i=n.getBoundingClientRect(),o=e.allowDropOver?4:2,s=i.height/o,a=t.clientY,l=i.top;return a<l+s?xr:a>=l+i.height-s?Sr:kr}updateDragClueState(t){if(t){var e=t.querySelector(".k-icon");Z(this.dropStatusClass,e),this.dropStatusClass=br[this.lastDropPosition],J(this.dropStatusClass,e)}}updateDropClueState(t,e){if(!this.shouldHideDropClue()&&t){this.dropClue.show();var r=rr(t),n=r.top,i=r.left;this.lastDropPosition===Sr&&(n+=t.offsetHeight),e||(i+=this.dropClue.element.offsetWidth/2),this.dropClue.setPosition({top:n,left:i})}else this.dropClue.hide()}shouldHideDropClue(){return this.lastDropPosition===kr||this.lastDropPosition===wr}getElementUnderCursor(t){var e,r=this.dropClue&&this.dropClue.getIsVisible();return r&&this.dropClue.hide(),e=document.elementFromPoint(t.clientX,t.clientY),r&&this.dropClue.show(),e}}function _r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Tr="k-grid-header-wrap",Or="k-grid-footer-wrap",Mr="k-grid-content",Er="mousedown";class Pr extends H{constructor(t,e){super(t,e),_r(this,"options",{dotNetInstance:null,incellEdit:!1,columnVirtualization:!1,virtualScrollDelay:66.66666666666667,rowDraggable:!1,draggedItemsHint:"",componentSelector:"",jsinterop:{removeFocus:"",blur:"",incellEditBlur:"",rowDragStart:"",rowDrop:""}}),_r(this,"onMouseDown",(t=>{t.shiftKey&&t.preventDefault()})),_r(this,"onNavigationRemoveFocus",(()=>{this.removeFocus()})),_r(this,"onNavigationBlur",(t=>{this.blur(t)})),_r(this,"onIncellEditBlur",(t=>{this.incellEditBlur(t)})),_r(this,"createHint",(t=>{var e=this.getDragHintText(t);return j('<div class="k-header k-drag-clue">\n                <span class="k-icon k-drag-status k-icon-with-modifier">\n                    <span class="k-icon k-icon-modifier"></span>\n                </span>\n                '.concat(e,"\n            </div>"))})),_r(this,"getDragHintText",(t=>{if(Q("k-selected",t.closest("tr"))){var e=this.element.querySelectorAll("tr.k-master-row.k-selected").length;if(e>1)return e+" "+this.options.draggedItemsHint}return t.closest("td").getAttribute("data-drag-clue-text")})),_r(this,"onItemDragStart",(t=>{this.invokeMethodAsync(this.options.jsinterop.rowDragStart,{sourceIndex:this.getDropItemIndex(t.sourceItem)})})),_r(this,"onItemDrop",(t=>{this.invokeMethodAsync(this.options.jsinterop.rowDrop,{destinationIndex:t.destinationIndex,destinationComponentId:t.destinationComponentId,dotNetInstance:this.getDestinationComponent(t.destinationElement),dropPosition:t.dropPosition})})),_r(this,"setSearchBoxValue",(t=>{var e=this.element.querySelector(".k-grid-search input");e&&(e.value=t)})),this.extendOptions(e),this.content=this.getChildElement(Mr),this.header=this.getChildElement(Tr),this.adjustScrollbarPadding(),this.bindEvents(),this.createNavigationService(),this.setSearchBoxValue(e.searchString),this.setRowDraggable(e.rowDraggable)}setRowDraggable(t){t?this.createRowDraggable():this.destroyRowDraggable()}setOptions(t){this.options.rowDraggable!==t.rowDraggable&&this.setRowDraggable(t.rowDraggable),this.extendOptions(t)}getChildElement(t){return this.element.getElementsByClassName(t)[0]}destroy(){this.destroyRowDraggable(),this.unbindEvents(),this.destroyNavigationService(),this.content=null,this.header=null,super.destroy()}adjustScrollbarPadding(){Bt()}bindEvents(){this.createContentScrollSync(),this.content.addEventListener(Er,this.onMouseDown)}unbindEvents(){this.destroyContentScrollSync(),this.content.removeEventListener(Er,this.onMouseDown)}createContentScrollSync(){this.contentScrollSync&&this.destroyContentScrollSync();var t=this.element.querySelector(nr(Or));this.contentScrollSync=new Ee(this.content,{horizontal:!0,vertical:!1,syncFromConnections:this.hasNavigableVirtualColumns(),connections:[this.header,t]})}destroyContentScrollSync(){this.contentScrollSync&&(this.contentScrollSync.destroy(),this.contentScrollSync=null)}createNavigationService(){this.navigationService=new je(this.element,{navigable:this.options.navigable,incellEdit:this.options.incellEdit,columnVirtualization:this.options.columnVirtualization,virtualScrollDelay:this.options.virtualScrollDelay,events:{removeFocus:this.onNavigationRemoveFocus,blur:this.onNavigationBlur,incellEditBlur:this.onIncellEditBlur}})}destroyNavigationService(){this.navigationService&&(this.navigationService.destroy(),this.navigationService=null)}hasNavigableVirtualColumns(){return this.options.navigable&&this.options.columnVirtualization}focusCell(t){this.navigationService.focusCell(t)}focusEditable(t){this.navigationService.focusEditable(t)}focusFirstFocusable(t){this.navigationService.focusFirstFocusable(t)}scrollAndFocusFirstCell(t){this.navigationService.scrollAndFocusFirstCell(t)}scrollAndFocusLastCell(t){this.navigationService.scrollAndFocusLastCell(t)}scrollContent(t){this.content.scrollLeft=t}removeFocus(){this.invokeMethodAsync(this.options.jsinterop.removeFocus)}blur(t){this.invokeDefferedMethodAsync(this.options.jsinterop.blur,t)}incellEditBlur(t){this.invokeDefferedMethodAsync(this.options.jsinterop.incellEditBlur,t)}invokeDefferedMethodAsync(t,e){Ce.webAssembly?setTimeout((()=>{e.deferred=!0,document.body.contains(e.originalEvent.target)&&this.invokeMethodAsync(t,e)}),1):this.invokeMethodAsync(t,e)}createRowDraggable(){this.element&&(this.rowDraggable=new Cr(this.element,{group:".k-grid-table",filter:".k-i-reorder",itemSelector:"tr.k-master-row",hint:this.createHint,events:{itemDragStart:this.onItemDragStart,itemDrop:this.onItemDrop}}))}destroyRowDraggable(){this.rowDraggable&&this.rowDraggable.destroy()}getDestinationComponent(t){var e=ne(t,this.options.componentSelector);return e&&e.dotNetInstance}getDropItemIndex(t){return t?t.closest(this.options.dropOptions.dropClueEmptySelector)?"-1":t.closest("tr.k-master-row").getAttribute("data-render-row-index"):""}getId(){return this.element.id}getDropSettings(){return this.options.dropOptions}}function Ir(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Fr extends H{constructor(t,e){super(t,e),Ir(this,"options",{showDelay:600}),Ir(this,"_loaderIntervals",[]),this.extendOptions(e)}startLoaderShowTimer(){this.addShowTimer()}showLoader(){K(this.element)}hideLoader(){this.removeShowTimer(),this._loaderIntervals.length||Y(this.element)}addShowTimer(){this._loaderIntervals.push(setTimeout((()=>this.showLoader()),this.options.showDelay))}removeShowTimer(){clearTimeout(this._loaderIntervals.shift())}}function Dr(t,e){Zt(Fr,t,e)}var Rr=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function n(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=this;n.context=this,n.args=o,n.pending=!0,clearTimeout(e),e=setTimeout((()=>{clearTimeout(e),n.pending=!1,t.call(a,...o)}),r)};return n.pending=!1,n.callback=t,n.stop=function(){clearTimeout(e)},n.runCallback=function(){t.call(n.context,n.args)},n},Lr=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;return!r||r<=0?t:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=this,l=0,c=()=>{t.call(a,...o),n=performance.now()};if(n||(n=performance.now(),e=setTimeout(c,r)),(l=performance.now()-n)>3*r)return clearTimeout(e),void(n=0);clearTimeout(e),l>r?c():e=setTimeout(c,r-l)}};class Nr{constructor(t){!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"onResize",(t=>{t[0].target===this.element&&this.resizeCallback()})),this.element=t.element,this.resizeCallback=t.onResize,this.initResizeObserver()}destroy(){this.destroyResizeObserver(),this.element=null}initResizeObserver(){this.debounceResize=Rr(this.onResize,50),this.resizeObserver=new ResizeObserver(this.debounceResize),this.resizeObserver.observe(this.element)}destroyResizeObserver(){this.resizeObserver&&this.resizeObserver.unobserve(this.element),this.resizeObserver=this.debounceResize=this.resizeCallback=null}}function Br(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Br(Object(r),!0).forEach((function(e){zr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Br(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function zr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ur="none",$r="k-animation-container-shown",Hr="reveal-vertical",Vr="reveal-horizontal",qr={"slide-down":"slide-up","push-down":"push-up"},Wr={appear:"appear",exit:"exit"},Xr=()=>A(20),Gr=(t,e)=>"k-".concat(t,"-").concat(e),Kr=t=>Object.keys(Wr).reduce(((e,r)=>jr(jr({},e),{},{[r]:{base:Gr(t,r),active:Gr(t,"".concat(r,"-active"))}})),{});class Yr extends H{constructor(t,e){super(t,e),zr(this,"options",{dotNetInstance:null,animationName:"slide-down",duration:300,showDelay:10,hideDelay:10,jsinterop:{showStart:null,hideStart:null}}),this.extendOptions(e),this.element.parentElement.style.display=Ur,this.animationClasses=Kr(this.options.animationName)}setOptions(t){super.setOptions(t),this.animationClasses=Kr(this.options.animationName)}destroy(){this.cancelCallback(),this.parentComponent=null,super.destroy()}showAsync(){return this.cancelCallback(),this.onAppearStart().then((()=>this.onAppearing())).then((()=>this.onTransitionEnd(this.onAppearEnd.bind(this))))}hideAsync(){return this.cancelCallback(),this.onExitStart().then(this.onExiting()).then((()=>this.onTransitionEnd(this.onExitEnd.bind(this))))}show(){this.cancelCallback(),this.removeClasses(Wr.exit),this.removeClasses(Wr.appear),this.element.style.display=null,this.element.parentElement.style.display=null,this.triggerOpen()}hide(){this.cancelCallback(),this.removeClasses(Wr.exit),this.removeClasses(Wr.appear),this.element.style.display=Ur,this.element.parentElement.style.display=Ur,this.triggerClose()}onAppearStart(){return this.updateAppearStartState().then((()=>{var t=this.getParentPosition(),e=this.options.animationName;return this.maxDimensions(),t&&t.flipped&&qr[e]?(this.element.style.display=Ur,this.element.parentElement.style.display=Ur,Xr().then((()=>(this.removeClasses(Wr.appear),this.animationClasses=Kr(qr[e]),this.updateAppearStartState())))):Promise.resolve()}))}updateAppearStartState(){return this.removeClasses(Wr.exit),this.addClasses(this.animationClasses[Wr.appear].base),Xr().then((()=>{this.element&&(this.element.style.display=null,this.element.parentElement.style.display=null)}))}onAppearing(){return this.triggerOpen(),Xr().then((()=>{this.addClasses(this.animationClasses[Wr.appear].active)}))}onAppearEnd(){var t=Wr.appear;Xr().then((()=>{this.removeClasses(t),this.removeMaxDimensions(),this.isPopup()&&J($r,this.element.parentElement)}))}onExitStart(){return Xr().then((()=>{var t=this.getParentPosition(),e=this.options.animationName;t&&t.flipped&&qr[e]&&(this.animationClasses=Kr(qr[e])),this.removeClasses(Wr.appear),this.addClasses(this.animationClasses[Wr.exit].base)}))}onExiting(){return this.triggerClose(),this.maxDimensions(),Xr().then((()=>{this.addClasses(this.animationClasses[Wr.exit].active),this.isPopup()&&Z($r,this.element.parentElement)}))}onExitEnd(){this.removeClasses(Wr.exit),this.removeMaxDimensions(),this.element.style.display=Ur,this.element.parentElement.style.display=Ur}onTransitionEnd(t){var e=this.options,r=e.duration+e.showDelay;return this.timer=C(r),this.timer.promise.then(t)}cancelCallback(){this.timer&&this.timer.cancel(),this.timer=null}getParentComponent(){if(this.parentComponent)return this.parentComponent;if(!this.element)return null;var t=this.element.closest(".k-animation-container");if(!t)return null;var e=t.getAttribute("data-id");return this.parentComponent=re(e),this.parentComponent}callParentMethod(t,e){var r=this.getParentComponent();if(r&&y(r[t]))return r[t](e)}getParentPosition(){return this.callParentMethod("getElementPosition")}triggerOpen(){this.invokeMethodAsync(this.options.jsinterop.showStart),this.callParentMethod("onOpen")}triggerClose(){this.invokeMethodAsync(this.options.jsinterop.hideStart),this.callParentMethod("onClose")}removeClasses(t){var e=this.animationClasses[t];this.element&&(this.element.classList.remove(e.base),this.element.classList.remove(e.active))}addClasses(t){var e=this;t&&t.split(/\s+/).forEach((t=>{e.element&&e.element.classList.add(t)}))}maxDimensions(){var t=this.options,e=this.element,r="".concat(e.scrollHeight,"px"),n="".concat(e.scrollWidth,"px");return t.animationName.includes(Hr)?(e.style.maxHeight=r,"max-height: ".concat(r)):t.animationName.includes(Vr)?(e.style.maxWidth=n,"max-width: ".concat(n)):""}removeMaxDimensions(){var t=this.options.animationName.includes(Hr)||this.options.animationName.includes(Vr);this.element&&t&&(this.element.style.maxHeight=null,this.element.style.maxWidth=null)}isPopup(){return this.element&&this.element.firstElementChild&&Q("k-popup",this.element.firstElementChild)&&this.element.parentElement}}function Jr(t,e){Zt(Yr,t,e)}function Zr(t,e){var r=re(t);return r?(r.setOptions(e),r.showAsync().catch(T)):null}function Qr(t,e){var r=re(t);return r?(r.setOptions(e),r.hideAsync().catch(T)):null}function tn(t){var e=re(t);e&&e.hide()}function en(t){var e=re(t);e&&e.show()}const rn={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"×",perMille:"‰",infinity:"∞",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"€","symbol-alt-narrow":"€"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function nn(t){return"string"==typeof t}var on=/\{(\d+)}?\}/g,sn=function(t){var e=t.name,r=t.message;if(!e||!r)throw new Error("{ name: string, message: string } object is required!");this.name=e,this.message=r};sn.prototype.formatMessage=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=an(t),n=this.message.replace(on,(function(t,e){return r[parseInt(e,10)]}));return this.name+": "+n},sn.prototype.error=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new Error(this.formatMessage(t))};var an=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},ln=function(t){return Object.keys(t).reduce((function(e,r){return e[r]=new sn({name:r,message:t[r]}),e}),{})},cn=ln({NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."});var hn=rn;function un(t){return nn(t)?pn(t):t}function pn(t){if(hn[t])return hn[t];if(hn.supplemental.likelySubtags){var e=t.split("-"),r=e[0],n=e.slice(1),i=function(t,e){for(var r=hn.supplemental.likelySubtags,n=0;n<e.length;n++){var i=r[t+"-"+e[n]];if(i)return i}if(r[t])return r[t]}(r,n),o=i?function(t,e){var r=t.split("-"),n=r[0],i=r[1],o=r[2];return hn[t]||-1!==e.indexOf(o)&&hn[n+"-"+o]||-1!==e.indexOf(i)&&hn[n+"-"+i]||hn[n]}(i,n):null;if(o)return o}throw cn.NoLocale.error(t)}var dn="decimal",fn="currency",gn="accounting",mn="percent",yn="scientific",vn="$",bn="n",wn=".",xn="",Sn="en",kn="Formats-numberSystem-latn",An=/([#,0.]+)/g,Cn=/¤/g;function _n(t){return An.lastIndex=0,t.replace(Cn,vn).replace(An,bn).split(";")}function Tn(t){return An.lastIndex=0,An.exec(t.split(";")[0])[0].split(wn)[0].split(",").slice(1).map((function(t){return t.length})).reverse()}function On(t,e){for(var r in e)r.startsWith("unitPattern")&&(t[r]=e[r].replace("{0}",bn).replace("{1}",vn))}function Mn(t,e){var r=hn[t],n=r.numbers=r.numbers||{};for(var i in n.symbols=n.symbols||{},e)if("symbols-numberSystem-latn"===i)Object.assign(n.symbols,e[i]);else if(i.includes(kn)){var o=i.substr(0,i.indexOf(kn)),s=e[i].standard;n[o]={patterns:_n(s)},o===fn?(n[o].groupSize=Tn((e[dn+kn]||e[i]).standard),On(n[o],e[i]),n.accounting={patterns:_n(e[i].accounting),groupSize:n[o].groupSize}):n[o].groupSize=Tn(s)}else"currencies"===i&&(n.currencies=e[i])}var En={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},Pn=/y+/g,In=[["dateFormats","short"]],Fn={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]};function Dn(t){for(var e=[],r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=t[r[n]];e.push(i)}return e}function Rn(t,e){var r={};for(var n in t){var i=r[n]={};for(var o in t[n]){var s=t[n][o];i[o]=e?s:Dn(s)}}return r}function Ln(t,e){var r=hn[t].calendar;r.days=Rn(e.days),r.months=Rn(e.months),r.quarters=Rn(e.quarters),r.dayPeriods=Rn(e.dayPeriods,!0),r.eras=function(t){var e={},r=e.format={},n={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(var i in t)r[n[i]]=t[i];return e}(e.eras)}function Nn(t,e){var r=hn[t].calendar,n={};for(var i in e){var o=i.split("-"),s=o[0],a=o[1];void 0===a&&(a="wide");var l=n[s]||{},c=e[i].displayName;c&&(l[a]=c,n[s]=l)}r.dateFields=n}function Bn(t,e){for(var r=[],n=0;n<t.length;n++){for(var i=t[n],o=e,s=0;s<i.length;s++)o=o[i[s]];r.push(o)}return r.join(" ")}function jn(t,e){var r=hn[t].calendar,n=r.patterns={};for(var i in n.d=Bn(In,e).replace(Pn,"y"),Fn)n[i]=Bn(Fn[i],e);for(var o in En)n[o]=En[o];var s=e.dateTimeFormats;r.dateTimeFormats={full:s.full,long:s.long,medium:s.medium,short:s.short,availableFormats:s.availableFormats},r.timeFormats=e.timeFormats,r.dateFormats=e.dateFormats}function zn(t,e){var r=hn[t].calendar=hn[t].calendar||{};for(var n in e)"timeZoneNames"===n?(r.gmtFormat=e[n].gmtFormat,r.gmtZeroFormat=e[n].gmtZeroFormat):"calendars"===n&&e[n].gregorian?(jn(t,e[n].gregorian),Ln(t,e[n].gregorian)):"fields"===n&&Nn(t,e.fields)}function Un(t){if(t.territory)return t.territory;var e,r=t.name,n=t.identity;return e=n&&n.territory?n.territory:function(t,e){var r=hn.supplemental.likelySubtags,n=t.split("-");if(r){var i=r[t]||r[n[0]];i&&(n=i.split("-"))}if(e)for(var o=n.length-1;o>=1;o--){var s=n[o];s!==e.variant&&s!==e.script||n.splice(o,1)}var a=n.length;if(a>1)return n[a-1].toUpperCase()}(r,n),t.territory=e,e}function $n(t,e){for(var r in e)"numbers"===r?Mn(t,e[r]):"dates"===r&&zn(t,e[r])}function Hn(){for(var t=arguments,e=arguments.length,r=0;r<e;r++){var n=t[r];if(n.main){var i=Object.keys(n.main)[0],o=n.main[i],s=hn[i]=hn[i]||{};s.name=s.name||i,s.identity=s.identity||o.identity,Un(s),$n(i,o)}else n.supplemental&&(n.supplemental.weekData?hn.supplemental.weekData={firstDay:n.supplemental.weekData.firstDay,weekendStart:n.supplemental.weekData.weekendStart,weekendEnd:n.supplemental.weekData.weekendEnd}:Object.assign(hn.supplemental,n.supplemental))}}function Vn(t){var e=t.name,r=hn[e]=hn[e]||{};if(t.likelySubtags){var n=hn.supplemental=hn.supplemental||{};n.likelySubtags=Object.assign(n.likelySubtags||{},t.likelySubtags)}var i=r.numbers;Object.assign(r,t),i&&t.numbers&&(r.numbers=Object.assign({},i,t.numbers))}function qn(t,e){void 0===e&&(e=Sn);var r=pn(e).calendar.dateFields;if(!r)throw cn.NoDateFieldNames.error();var n=r[t.type]||{};return n[t.nameType]||n.wide}function Wn(t,e){var r=e.type,n=e.nameType,i=e.standAlone,o=e.lower,s=un(t),a=i?"stand-alone":"format",l=(o?"lower-":xn)+n,c=s.calendar[r][a],h=c[l];return!h&&o&&(h=c[l]=function(t){var e=Array.isArray(t)?function(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].toLowerCase());return e}(t):function(t){var e={};for(var r in t)e[r]=t[r].toLowerCase();return e}(t);return e}(c[n])),h}function Xn(t){var e=t.split("-"),r=parseInt(e[0],10),n=parseInt(e[1],10)-1,i=parseInt(e[2],10);return new Date(r,n,i)}var Gn=cn.NoCurrency,Kn=cn.NoCurrencyDisplay,Yn=cn.NoSupplementalCurrency,Jn=cn.NoCurrencyRegion,Zn=cn.NoValidCurrency,Qn="symbol",ti={"001":"USD",150:"EUR"};function ei(t,e,r){var n=un(t).numbers.currencies;if(n){var i=n[e];if(i)return i;if(r)throw Kn.error()}else if(r)throw Gn.error()}function ri(t,e){return e.length-t.length}function ni(t,e,r){void 0===r&&(r=!0);var n=ei(t,e,r);if(n){if(!n.displays){var i=[e];for(var o in n)i.push(n[o]);i.sort(ri),n.displays=i}return n.displays}}function ii(t,e){var r=e.value,n=e.currency,i=e.currencyDisplay;if(void 0===i&&(i=Qn),"code"===i)return n;var o=ei(t,n,!0);return i===Qn?o["symbol-alt-narrow"]||o.symbol:void 0===typeof r||1!==r?o["displayName-count-other"]:o["displayName-count-one"]}function oi(t){var e=2,r=2,n=((hn.supplemental.currencyData||{}).fractions||{})[t];return n&&n._digits&&(r=e=parseInt(n._digits,10)),{minimumFractionDigits:e,maximumFractionDigits:r}}function si(t,e){if(void 0===e&&(e=!0),ti[t])return ti[t];var r=hn.supplemental.currencyData;if(r){var n=r.region[t];if(n){var i=function(t){for(var e,r,n,i,o=0;o<t.length;o++){var s=t[o],a=Object.keys(s)[0],l=s[a];if("XXX"!==a&&"false"!==l._tender&&l._from)if(l._to){if(!n){var c=Xn(l._from),h=Xn(l._to);(!r||r.to<h||r.from<c)&&(e=a,r={from:c,to:h})}}else{var u=Xn(l._from);(!i||i<u)&&(n=a,i=u)}}return n||e}(n);return i}if(e)throw Jn.error(t)}else if(e)throw Yn.error()}function ai(t,e){var r=un(t),n=r.numbers;if(!n.localeCurrency){var i=si(Un(r),e);if(!i&&e)throw Zn.error(r.name);n.localeCurrency=i}return n.localeCurrency}var li=["sun","mon","tue","wed","thu","fri","sat"],ci=cn.NoWeekData,hi=cn.NoFirstDay;function ui(t){var e=un(t);if(!isNaN(e.firstDay))return e.firstDay;var r=hn.supplemental.weekData;if(!r)throw ci.error();var n=r.firstDay[Un(e)]||r.firstDay["001"];if(!n)throw hi.error();return e.firstDay=li.indexOf(n),e.firstDay}var pi=cn.NoWeekData;function di(t){var e=un(t);if(e.weekendRange)return e.weekendRange;var r=hn.supplemental.weekData;if(!r)throw pi.error();var n=Un(e),i=r.weekendStart[n]||r.weekendStart["001"],o=r.weekendEnd[n]||r.weekendEnd["001"];return e.weekendRange={start:li.indexOf(i),end:li.indexOf(o)},e.weekendRange}function fi(t){return un(t).numbers.symbols}function gi(t,e){return void 0===e&&(e={}),e.currency||(e.currency=ai(t,!0)),ii(t,e)}function mi(t,e,r,n,i){var o=i.numbers.symbols,s=t.indexOf(o.decimal),a=n.groupSize.slice(),l=a.shift(),c=-1!==s?s:r+1,h=t.substring(e,c),u=t,p=h.length;if(p>=l){for(var d=p,f=[];d>-1;){var g=h.substring(d-l,d);g&&f.push(g),d-=l;var m=a.shift();if(0===(l=void 0!==m?m:l)){(g=h.substring(0,d))&&f.push(g);break}}h=f.reverse().join(o.group),u=t.substring(0,e)+h+t.substring(c)}return u}function yi(t){return t===fn||t===gn}function vi(t,e,r){void 0===e&&(e=2),void 0===r&&(r=!1);var n=e-String(t).length,i=t;if(n>0){var o=new Array(n+1).join("0");i=r?t+o:o+t}return i}function bi(t,e){var r=t,n=e||0;return r=r.toString().split("e"),r=(r=Math.round(Number(r[0]+"e"+(r[1]?Number(r[1])+n:n)))).toString().split("e"),(r=Number(r[0]+"e"+(r[1]?Number(r[1])-n:-n))).toFixed(Math.min(n,20))}var wi=/0+$/;function xi(t,e,r){var n=r.numbers.symbols,i=e.style,o=yi(i);if(i===yn)return(void 0!==e.minimumFractionDigits?t.toExponential(e.minimumFractionDigits):t.toExponential()).replace(wn,n.decimal);var s,a=t;o&&(e.value=a,s=gi(r,e)),i===mn&&(a*=100,s=n.percentSign);var l=function(t){var e,r=t.minimumFractionDigits,n=t.maximumFractionDigits,i=t.style,o=yi(i);return o&&(e=oi(t.currency)),void 0===r&&(r=o?e.minimumFractionDigits:0),void 0===n&&(n=i===mn?Math.max(r,0):o?Math.max(r,e.maximumFractionDigits):Math.max(r,3)),{minimumFractionDigits:r,maximumFractionDigits:n}}(e),c=l.minimumFractionDigits,h=(a=bi(a,l.maximumFractionDigits))<0,u=a.split(wn),p=u[0],d=vi(u[1]?u[1].replace(wi,xn):xn,c,!0);h&&(p=p.substring(1)),e.minimumIntegerDigits&&(p=vi(p,e.minimumIntegerDigits));var f,g=!1!==e.useGrouping?mi(p,0,p.length,e,r):p;if(d&&(g+=n.decimal+d),o&&"name"===e.currencyDisplay)f=function(t,e){var r=t.numbers.currency,n=1!==e?r["unitPattern-count-other"]:r["unitPattern-count-one"];return e<0&&(n=n.replace(bn,"-n")),n}(r,t);else{var m=e.patterns;f=h?m[1]||"-"+m[0]:m[0]}if(f===bn&&!h)return g;var y=function(t,e,r){for(var n=xn,i=0,o=e.length;i<o;i++){var s=e.charAt(i);n+=s===bn?t:s===vn||"%"===s?r:s}return n}(g,f,s);return y}var Si="__??__",ki="#",Ai="0",Ci=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,_i=/(\.(?:[0-9]*[1-9])?)0+$/g,Ti=/\.$/,Oi=/\,/g;function Mi(t){var e,r,n,i=t.number,o=t.format,s=o.indexOf(wn);if(-1!==s){var a=o.lastIndexOf(Ai)-s,l=o.lastIndexOf(ki)-s,c=a>-1,h=l>-1,u=i.toString().split("e"),p=(u=(u=u[1]?bi(i,Math.abs(u[1])):u[0]).split(wn)[1]||xn).length,d=-1;c||h?c&&a>l?p=a:l>a&&(h&&p>l?p=l:c&&p<a&&(p=a),d=c?a:0):(t.format=o.substring(0,s)+o.substring(s+1),s=-1,p=0),p>-1&&(i=bi(i,p),d>-1&&(e=i,n=0===(r=d)?_i:new RegExp("(\\.[0-9]{"+r+"}[1-9]*)0+$","g"),i=e.replace(n,"$1").replace(Ti,xn)))}else i=bi(i);t.negative&&-1*i>=0&&(t.negative=!1),t.number=i,t.decimalIndex=s}function Ei(t){var e=t.number,r=t.format;if(r=r.split(";"),t.negative&&r[1])r=r[1],t.hasNegativeFormat=!0;else if(0===e){var n=r[2];r=n||r[0],n&&function(t){return-1===t.indexOf(ki)&&-1===t.indexOf(Ai)}(n)&&(t.constant=n)}else r=r[0];t.format=r}function Pi(t,e,r){return-1===t&&-1!==e?e:-1!==t&&-1===e?t:r?Math.min(t,e):Math.max(t,e)}function Ii(t,e){var r=t.number;return-1!==t.start&&(r=function(t,e){var r=t.start,n=t.end,i=t.negative,o=t.format,s=t.decimalIndex,a=t.lastZeroIndex,l=t.hasNegativeFormat,c=t.hasGroup,h=t.number,u=h.toString().split(wn),p=o.length,d=u[0],f=u[1]||xn,g=d.length,m=xn;h=o.substring(0,r),i&&!l&&(h+="-");for(var y=r;y<p;y++){var v=o.charAt(y);if(-1===s){if(n-y<g){h+=d;break}}else if(-1!==a&&a<y&&(m=xn),s-y<=g&&s-y>-1&&(h+=d,y=s),s===y){h+=(f?e.numbers.symbols.decimal:xn)+f,y+=n-s+1;continue}v===Ai?(h+=v,m=v):v===ki&&(h+=m)}return c&&(h=mi(h,r+(i&&!l?1:0),Math.max(n,g+r),e.numbers.decimal,e)),n>=r&&(h+=o.substring(n+1)),h}(t,e),r=function(t,e,r){var n=t;if(e===fn||e===mn){n=xn;for(var i=0,o=t.length;i<o;i++){var s=t.charAt(i);n+=s===vn||"%"===s?r:s}}return n}(r,t.style,t.symbol),r=function(t,e){var r=t;if(e)for(var n=e.length,i=0;i<n;i++)r=r.replace(Si,e[i]);return r}(r,t.literals)),r}function Fi(t,e,r){var n={negative:t<0,number:Math.abs(t),format:e};return Ei(n),n.constant?n.constant:(function(t){var e=t.format;if(e.indexOf("'")>-1||e.indexOf('"')>-1||e.indexOf("\\")>-1){var r=t.literals=[];t.format=e.replace(Ci,(function(t){var e=t.charAt(0).replace("\\",xn),n=t.slice(1).replace(e,xn);return r.push(n),Si}))}}(n),function(t,e){var r=t.format;-1!==r.indexOf("%")&&(t.style=mn,t.symbol=e.numbers.symbols.percentSign,t.number*=100),-1!==r.indexOf(vn)&&(t.style=fn,t.symbol=gi(e))}(n,r),function(t){t.hasGroup=t.format.indexOf(",")>-1,t.hasGroup&&(t.format=t.format.replace(Oi,xn))}(n),Mi(n),function(t){var e=t.format,r=e.indexOf(ki),n=e.indexOf(Ai),i=Pi(r,n,!0),o=Pi(r=e.lastIndexOf(ki),n=e.lastIndexOf(Ai));i===e.length&&(o=i),t.start=i,t.end=o,t.lastZeroIndex=n}(n),Ii(n,r))}var Di=/^(n|c|p|e|a)(\d*)$/i;function Ri(t){var e;return e=nn(t)?function(t){var e=Di.exec(t);if(e){var r={style:dn},n=e[1].toLowerCase();return"c"===n?r.style=fn:"a"===n?r.style=gn:"p"===n?r.style=mn:"e"===n&&(r.style=yn),e[2]&&(r.minimumFractionDigits=r.maximumFractionDigits=parseInt(e[2],10)),r}}(t):t,e}function Li(t,e,r){if(void 0===e&&(e=bn),void 0===r&&(r=Sn),null==t)return xn;if(!isFinite(t))return String(t);var n,i=pn(r),o=Ri(e);if(o){var s=o.style||dn;n=xi(t,Object.assign({},i.numbers[s],o),i)}else n=Fi(t,e,i);return n}function Ni(t){return"number"==typeof t}var Bi=/[eE][\-+]?[0-9]+/,ji=/\u00A0/g;function zi(t,e){if(e.length>1){var r=(e[1]||xn).replace(vn,xn).split(bn);if(t.indexOf(r[0])>-1&&t.indexOf(r[1])>-1)return t.replace(r[0],xn).replace(r[1],xn)}}function Ui(t,e,r){if(void 0===e&&(e=Sn),void 0===r&&(r={}),!t&&0!==t)return null;if(Ni(t))return t;var n,i=pn(e),o=i.numbers.symbols,s=t.toString();if(Bi.test(s))return s=parseFloat(s.replace(o.decimal,wn)),isNaN(s)?null:s;var a=s.indexOf("-");if(a>0)return null;var l=a>-1,c=function(t,e,r){var n,i=Ri(r)||{},o=yi(i.style),s=t,a=i.currency||ai(e,o);if(a){var l=ni(e,a,o);if(l)for(var c=0;c<l.length;c++){var h=l[c];if(s.includes(h)){s=s.replace(h,xn),o=!0;break}}if(o){var u=zi(s,e.numbers.currency.patterns)||zi(s,e.numbers.accounting.patterns);u&&(n=!0,s=u)}}return{number:s,negative:n}}(s,i,r),h=c.negative;return s=c.number,l=void 0!==h?h:l,(r.style===mn||s.indexOf(o.percentSign)>-1)&&(s=s.replace(o.percentSign,xn),n=!0),s=s.replace("-",xn).replace(ji," ").split(o.group.replace(ji," ")).join(xn).replace(o.decimal,wn),s=parseFloat(s),isNaN(s)?s=null:l&&(s*=-1),s&&n&&(s/=100),s}var $i=/\{(\d+)}/g;function Hi(t){var e=arguments;return t.replace($i,(function(t,r){return e[parseInt(r,10)+1]}))}var Vi=[2,1,5,3,4],qi={};qi[(-2).toString()]=8,qi[(-1).toString()]=6,qi[2..toString()]=6,qi[1..toString()]=3;var Wi={numeric:1,"2-digit":2,short:3,long:4,narrow:5},Xi=/[hHmsSzZoOvVxX]/;var Gi=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(t){return t.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],Ki={e:"c",E:"c",M:"L",Q:"q"},Yi={},Ji={};function Zi(t){return Yi[t]||(Yi[t]=new RegExp(t+"+")),Yi[t]}function Qi(t){for(var e=[],r=t.charAt(0),n=r,i=1;i<t.length;i++){var o=t.charAt(i);o===n?r+=o:(e.push(r),r=n=o)}return e.push(r),e}function to(t,e){var r,n,i=t.length,o=-Number.MAX_VALUE;for(var s in e){for(var a=[],l=s.replace("v","z"),c=0,h=0;h<i;h++){var u=t[h],p=(Zi(u[0]).exec(l)||[])[0];if(p){if(l=l.replace(p,xn),p.length!==u.length){var d=Math.max(Math.min(Vi[p.length]-Vi[u.length],2),-2);c-=qi[d]}}else c-=120;if(a.push(p),c<o)break}l.length&&(c-=20*Qi(l).length),c>o&&(o=c,r=a,n=e[s])}n=n.replace("v","z");for(var f=0;f<i;f++){var g=r[f];if(g&&g!==t[f]){var m=r[f][0];n=n.replace(Zi(m),t[f]),Ki[m]&&(n=n.replace(Zi(Ki[m]),t[f]))}}return n}function eo(t,e){var r=e.calendar.dateTimeFormats.availableFormats;if(r[t])return r[t];if(Ji[e.name]&&Ji[e.name][t])return Ji[e.name][t];var n,i=t.search(Xi);if(i>0){var o=t.substr(0,i),s=t.substr(i);n=Hi(e.calendar.dateTimeFormats.short,r[s]||to(Qi(s),r),r[o]||to(Qi(o),r))}else n=to(Qi(t),r);return function(t,e,r){Ji[r]||(Ji[r]={}),Ji[r][t]=e}(t,n,e.name),n}function ro(t,e){var r,n=e.calendar;if(nn(t))r=n.patterns[t]?n.patterns[t]:t;else if(t){if(t.pattern)return t.pattern;var i=t.skeleton;i||(t.datetime?r=Hi(n.dateTimeFormats[t.datetime],n.timeFormats[t.datetime],n.dateFormats[t.datetime]):t.date?r=n.dateFormats[t.date]:t.time?r=n.timeFormats[t.time]:i=function(t){for(var e=[],r=0;r<Gi.length;r++){var n=Gi[r],i=t[n.key];if(i){var o=n.specifier||n.getSpecifier(t);e.push(o.repeat(Wi[i]))}}return e.join(xn)}(t)),i&&(r=eo(i,e))}return r||(r=n.patterns.d),r}function no(t){var e;return t<=3?e="abbreviated":4===t?e="wide":5===t?e="narrow":6===t&&(e="short"),e}function io(t,e,r,n,i){return Wn(t,{type:e,nameType:no(r),standAlone:n,lower:i})}function oo(t){return"function"==typeof t}function so(t){return Boolean(t)&&oo(t.getTime)&&oo(t.getMonth)}var ao="month",lo="hour",co="zone",ho="weekday",uo="quarter",po={G:"era",y:"year",q:uo,Q:uo,M:ao,L:ao,d:"day",E:ho,c:ho,e:ho,h:lo,H:lo,k:lo,K:lo,m:"minute",s:"second",a:"dayperiod",x:co,X:co,z:co,Z:co},fo=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function go(t,e,r,n){return e<=2?vi(t+1,e):io(r,"months",e,n)[t]}function mo(t,e,r,n){var i=Math.floor(t.getMonth()/3);return e<3?i+1:io(r,"quarters",e,n)[i]}function yo(t,e,r){var n=r.shortHours,i=r.optionalMinutes,o=r.separator,s=r.localizedName,a=r.zZeroOffset,l=t.getTimezoneOffset()/60;if(0===l&&a)return"Z";var c=l<=0?"+":"-",h=Math.abs(l).toString().split("."),u=h[1]||0,p=c+(n?h[0]:vi(h[0],2));(!u&&i||(p+=(o?":":xn)+vi(u,2)),s)&&(p=Hi(0===l?e.calendar.gmtZeroFormat:e.calendar.gmtFormat,p));return p}function vo(t,e,r,n){var i;return i=e<3?function(t,e,r){var n=ui(r);return(t<n?7-n+t:t-n)+1}(t.getDay(),0,r):io(r,"days",e,n)[t.getDay()],i}var bo={};function wo(t,e,r){if(void 0===r&&(r=Sn),!so(t))return null==t?xn:t;var n=pn(r);return ro(e,n).replace(fo,(function(e){var r=e.length;return e.includes("'")||e.includes('"')?e.slice(1,r-1):bo[e[0]](t,r,n)}))}function xo(t,e,r){var n=t.getTimezoneOffset(),i=new Date(t.getTime()+6e4*(e-r)),o=i.getTimezoneOffset();return new Date(i.getTime()+6e4*(o-n))}bo.d=function(t,e){return vi(t.getDate(),e)},bo.E=function(t,e,r){return io(r,"days",e)[t.getDay()]},bo.M=function(t,e,r){return go(t.getMonth(),e,r,!1)},bo.L=function(t,e,r){return go(t.getMonth(),e,r,!0)},bo.y=function(t,e){var r=t.getFullYear();return 2===e&&(r%=100),vi(r,e)},bo.h=function(t,e){return vi(t.getHours()%12||12,e)},bo.H=function(t,e){return vi(t.getHours(),e)},bo.k=function(t,e){return vi(t.getHours()||24,e)},bo.K=function(t,e){return vi(t.getHours()%12,e)},bo.m=function(t,e){return vi(t.getMinutes(),e)},bo.s=function(t,e){return vi(t.getSeconds(),e)},bo.S=function(t,e){return 0!==t.getMilliseconds()?String(t.getMilliseconds()/1e3).split(".")[1].substr(0,e):vi(xn,e)},bo.a=function(t,e,r){return io(r,"dayPeriods",e)[t.getHours()<12?"am":"pm"]},bo.z=function(t,e,r){return yo(t,r,{shortHours:e<4,optionalMinutes:e<4,separator:!0,localizedName:!0})},bo.Z=function(t,e,r){return yo(t,r,{separator:e>3,localizedName:4===e,zZeroOffset:5===e})},bo.x=function(t,e,r){return yo(t,r,{optionalMinutes:1===e,separator:3===e||5===e})},bo.X=function(t,e,r){return yo(t,r,{optionalMinutes:1===e,separator:3===e||5===e,zZeroOffset:!0})},bo.G=function(t,e,r){var n=t.getFullYear()>=0?1:0;return io(r,"eras",e)[n]},bo.e=vo,bo.c=function(t,e,r){return vo(t,e,r,!0)},bo.q=function(t,e,r){return mo(t,e,r,!0)},bo.Q=mo;var So=/([+|\-]\d{1,2})(:?)(\d{2})?/,ko=/^\/Date\((.*?)\)\/$/,Ao=/[+-]\d*/,Co={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},_o=/\d+/,To=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],Oo=["G","g","F","Y","y","M","m","D","d","y","T","t"];function Mo(t,e,r){return!(t>=e&&t<=r)}function Eo(t,e){for(var r=e.format,n=e.idx,i=0;r[n]===t;)i++,n++;return i>0&&(n-=1),e.idx=n,i}function Po(t,e){var r=t?Co[t]||new RegExp("^\\d{1,"+t+"}"):_o,n=e.value.substr(e.valueIdx,t).match(r);return n?(n=n[0],e.valueIdx+=n.length,parseInt(n,10)):null}function Io(t,e,r){for(var n,i,o,s=0,a=t.length,l=0,c=0;s<a;s++)i=(n=t[s]).length,o=e.value.substr(e.valueIdx,i),r&&(o=o.toLowerCase()),o===n&&i>l&&(l=i,c=s);return l?(e.valueIdx+=l,c+1):null}function Fo(t){var e=!1;return t.value.charAt(t.valueIdx)===t.format[t.idx]&&(t.valueIdx++,e=!0),e}function Do(t,e,r){var n=r.shortHours,i=r.noSeparator,o=r.optionalMinutes,s=r.localizedName,a=r.zLiteral;if(t.UTC=!0,a&&"Z"===t.value.charAt(t.valueIdx))return t.valueIdx++,!1;if(s&&!Io(function(t){var e=t.gmtFormat,r=t.gmtZeroFormat;if(!e)throw cn.NoGMTInfo.error();return[e.replace("{0}",xn).toLowerCase(),r.replace("{0}",xn).toLowerCase()]}(e.calendar),t,!0))return!0;var l=So.exec(t.value.substr(t.valueIdx,6));if(!l)return!s;var c=l[1],h=l[3],u=parseInt(c,10),p=l[2],d=parseInt(h,10);return!!(isNaN(u)||!n&&3!==c.length||!o&&isNaN(d)||i&&p)||(isNaN(d)&&(d=null),!!(Mo(u,-12,13)||d&&Mo(d,0,59))||(t.valueIdx+=l[0].length,t.hoursOffset=u,void(t.minutesOffset=d)))}function Ro(t,e,r){var n=Eo(t,e),i=io(r,"months",n,"L"===t,!0),o=n<3?Po(2,e):Io(i,e,!0);if(null===o||Mo(o,1,12))return!0;e.month=o-1}function Lo(t,e,r){var n=Eo(t,e),i=io(r,"days",n,"c"===t,!0),o=n<3?Po(1,e):Io(i,e,!0);if(!o&&0!==o||Mo(o,1,7))return!0}var No={};function Bo(t,e,r){for(var n=ro(e,r).split(xn),i={format:n,idx:0,value:t,valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},o=n.length,s=!1;i.idx<o;i.idx++){var a=n[i.idx];if(s)"'"===a&&(s=!1),Fo(i);else if(No[a]){if(No[a](i,r))return null}else if("'"===a)s=!0,Fo(i);else if(!Fo(i))return null}return i.valueIdx<t.length?null:function(t){var e,r=t.year,n=t.month,i=t.day,o=t.hours,s=t.minutes,a=t.seconds,l=t.milliseconds,c=t.pmHour,h=t.UTC,u=t.hoursOffset,p=t.minutesOffset,d=null!==o||null!==s||a||null,f=new Date;return null===r&&null===n&&null===i&&d?(r=f.getFullYear(),n=f.getMonth(),i=f.getDate()):(null===r&&(r=f.getFullYear()),null===i&&(i=1)),c&&o<12&&(o+=12),h?(u&&(o+=-u),p&&(s+=-p*(u<0?-1:1)),e=new Date(Date.UTC(r,n,i,o,s,a,l))):function(t,e){e||23!==t.getHours()||t.setHours(t.getHours()+2)}(e=new Date(r,n,i,o,s,a,l),o),r<100&&e.setFullYear(r),e.getDate()!==i&&void 0===h?null:e}(i)||null}function jo(t){if(t&&0===t.indexOf("/D")){var e=ko.exec(t);if(e){e=e[1];var r=Ao.exec(e.substring(1));return e=new Date(parseInt(e,10)),r&&(r=function(t){var e="-"===t.substr(0,1)?-1:1,r=t.substring(1);return e*(60*parseInt(r.substr(0,2),10)+parseInt(r.substring(2),10))}(r[0]),e=xo(e,e.getTimezoneOffset(),0),e=xo(e,0,-1*r)),e}}}function zo(t,e,r){if(void 0===r&&(r=Sn),!t)return null;if(so(t))return t;var n=String(t).trim(),i=jo(n);if(i)return i;for(var o=pn(r),s=e||function(t){for(var e=[],r=t.patterns,n=Oo.length,i=0;i<n;i++)e.push(r[Oo[i]]);return e.concat(To)}(o.calendar),a=(s=Array.isArray(s)?s:[s]).length,l=0;l<a;l++)if(i=Bo(n,s[l],o))return i;return i}No.d=function(t){Eo("d",t);var e=Po(2,t);if(null===e||Mo(e,1,31))return!0;null===t.day&&(t.day=e)},No.E=function(t,e){if(null===Io(io(e,"days",Eo("E",t),!1,!0),t,!0))return!0},No.M=function(t,e){return Ro("M",t,e)},No.L=function(t,e){return Ro("L",t,e)},No.y=function(t){var e=Eo("y",t),r=Po(1===e?void 0:e,t);if(null===r)return!0;if(2===e){var n=(new Date).getFullYear();(r=n-n%100+r)>2029&&(r-=100)}t.year=r},No.h=function(t){Eo("h",t);var e=Po(2,t);if(12===e&&(e=0),null===e||Mo(e,0,11))return!0;t.hours=e},No.K=function(t){Eo("K",t);var e=Po(2,t);if(null===e||Mo(e,0,11))return!0;t.hours=e},No.a=function(t,e){var r=io(e,"dayPeriods",Eo("a",t),!1,!0),n=Io([r.pm],t,!0);if(!n&&!Io([r.am],t,!0))return!0;t.pmHour=n},No.H=function(t){Eo("H",t);var e=Po(2,t);if(null===e||Mo(e,0,23))return!0;t.hours=e},No.k=function(t){Eo("k",t);var e=Po(2,t);if(null===e||Mo(e,1,24))return!0;t.hours=24===e?0:e},No.m=function(t){Eo("m",t);var e=Po(2,t);if(null===e||Mo(e,0,59))return!0;t.minutes=e},No.s=function(t){Eo("s",t);var e=Po(2,t);if(null===e||Mo(e,0,59))return!0;t.seconds=e},No.S=function(t){var e=Eo("S",t),r=t.value.substr(t.valueIdx,e),n=null;if(isNaN(parseInt(r,10))||(n=bi(n=parseFloat("0."+r,10),3),n*=1e3,t.valueIdx+=e),null===n||Mo(n,0,999))return!0;t.milliseconds=n},No.z=function(t,e){var r=Eo("z",t)<4,n=Do(t,e,{shortHours:r,optionalMinutes:r,localizedName:!0});if(n)return n},No.Z=function(t,e){var r=Eo("Z",t),n=Do(t,e,{noSeparator:r<4,zLiteral:5===r,localizedName:4===r});if(n)return n},No.x=function(t,e){var r=Eo("x",t),n=Do(t,e,{noSeparator:3!==r&&5!==r,optionalMinutes:1===r});if(n)return n},No.X=function(t,e){var r=Eo("X",t),n=Do(t,e,{noSeparator:3!==r&&5!==r,optionalMinutes:1===r,zLiteral:!0});if(n)return n},No.G=function(t,e){var r=io(e,"eras",Eo("G",t),!1,!0);if(null===Io([r[0],r[1]],t,!0))return!0},No.e=function(t,e){return Lo("e",t,e)},No.c=function(t,e){return Lo("c",t,e)};var Uo={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},$o="literal";function Ho(t,e){var r=t[t.length-1];r&&r.type===$o?r.pattern+=e:t.push({type:$o,pattern:e})}function Vo(t){return"h"===t||"K"===t}function qo(t,e){void 0===e&&(e=Sn);for(var r=ro(t,pn(e)),n=[],i=fo.lastIndex=0,o=fo.exec(r);o;){var s=o[0];if(i<o.index&&Ho(n,r.substring(i,o.index)),s.startsWith('"')||s.startsWith("'"))Ho(n,s);else{var a=s[0],l=po[a],c={type:l,pattern:s};"hour"===l&&(c.hour12=Vo(s));var h=Uo[l];if(h){var u=Ni(h.minLength)?h.minLength:h.minLength[a],p=s.length;p>=u&&(c.names={type:h.type,nameType:no(p),standAlone:h.standAlone===a})}n.push(c)}i=fo.lastIndex,o=fo.exec(r)}return i<r.length&&Ho(n,r.substring(i)),n}var Wo=/\{(\d+)(:[^\}]+)?\}/g;function Xo(t,e,r){if(e){if(so(t))return wo(t,e,r);if(Ni(t))return Li(t,e,r)}return null!=t?t:xn}function Go(t,e,r){return t.replace(Wo,(function(t,n,i){return Xo(e[parseInt(n,10)],i?i.substring(1):xn,r)}))}class Ko{static setLocale(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Vn(g({},pn("en"),t)),this.localeId=t.name}static format(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Go(t,r,this.localeId)}static toString(t,e,r){var n=t;return new RegExp("^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$").test(t)&&(n=new Date(t)),Xo(n,e,this.localeId||r)}static parseDate(t,e,r){return zo(t,e,this.localeId||r)}}var Yo=/\$\{([^}]*)\}/g,Jo=/\\\}/g,Zo=/__CURLY__/g,Qo=/\\#/g,ts=/__SHARP__/g;class es{static htmlEncode(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}static render(t,e){var r,n,i="";for(r=0,n=e.length;r<n;r++)i+=t(e[r]);return i}static compile(t){var e,r,n="var $kendoOutput, $kendoHtmlEncode = htmlEncode;",i=es.options.paramName,o=es.options.useWithBlock;if("function"==typeof t)return t;for(n+=o?"with("+i+"){":"",n+="$kendoOutput=",e=t.replace(Jo,"__CURLY__").replace(Yo,"#=$kendoHtmlEncode($1)#").replace(Zo,"}").replace(Qo,"__SHARP__").split("#"),r=0;r<e.length;r++)n+=es.compilePart(e[r],r%2==0);n+=o?";}":";",n=(n+="return $kendoOutput;").replace(ts,"#");try{var s=new Function(i,"htmlEncode",n);return function(t){return s(t,es.htmlEncode)}}catch(e){throw new Error("Invalid template:'"+t+"' Generated code:'"+n+"'")}}static compilePart(t,e){if(e)return"'"+t.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var r=t.charAt(0),n=t.substring(1);return"="===r?"+("+n+")+":":"===r?"+$kendoHtmlEncode("+n+")+":";"+t+";$kendoOutput+="}}!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(es,"options",{useWithBlock:!0,paramName:"dataItem"});class rs{static compile(t){return es.compile(t)}}var ns="arc",is="#000",ss="bottom",as="center",ls="circle",cs="cross",hs="date",us="12px sans-serif",ps=10,ds=/\{\d+:?/,fs="height",gs="inside",ms="left",ys=Number.MAX_VALUE,vs=-Number.MAX_VALUE,bs="none",ws="object",xs="outside",Ss="right",ks="roundedRect",As="string",Cs="top",_s="value",Ts="#fff",Os="width",Ms="x",Es="y";function Ps(t){return Array.isArray(t)}function Is(t,e){for(var r=Ps(e)?e:[e],n=0;n<r.length;n++){var i=r[n];-1===t.className.indexOf(i)&&(t.className+=" "+i)}}var Fs=/\s+/g;function Ds(t){return void 0!==t}function Rs(t){var e=.5;t.options.stroke&&Ds(t.options.stroke.width)&&t.options.stroke.width%2==0&&(e=0);for(var r=0;r<t.segments.length;r++)t.segments[r].anchor().round(0).translate(e,e);return t}function Ls(t,e){return-t.x*e.y+t.y*e.x<0}function Ns(t){return"number"==typeof t&&!isNaN(t)}function Bs(t){return typeof t===As}function js(t){return Ns(t)||Bs(t)&&isFinite(t)}function zs(t){return"function"==typeof t}var Us="object";function $s(t,e){for(var r in e){var n=e[r],i=typeof n,o=void 0;if((o=i===Us&&null!==n?n.constructor:null)&&o!==Array)if(n instanceof Date)t[r]=new Date(n.getTime());else if(zs(n.clone))t[r]=n.clone();else{var s=t[r];t[r]=typeof s===Us&&s||{},$s(t[r],n)}else"undefined"!==i&&(t[r]=n)}return t}function Hs(t){for(var e=arguments,r=arguments.length,n=1;n<r;n++)$s(t,e[n]);return t}function Vs(t){return"object"==typeof t}function qs(t){return Ns(t)?t+"px":t}var Ws=/width|height|top|left|bottom|right/i;function Xs(t){return Ws.test(t)}function Gs(t,e){var r=Bs(e)?[e]:e;if(Ps(r)){for(var n={},i=window.getComputedStyle(t),o=0;o<r.length;o++){var s=r[o];n[s]=Xs(s)?parseFloat(i[s]):i[s]}return n}if(Vs(e))for(var a in e)t.style[a]=qs(e[a])}function Ks(t,e){void 0===e&&(e=0);var r={top:0,right:0,bottom:0,left:0};return"number"==typeof t?r.top=r.right=r.bottom=r.left=t:(r.top=t.top||e,r.right=t.right||e,r.bottom=t.bottom||e,r.left=t.left||e),r}var Ys={compile:function(t){return t}},Js=function(){};Js.register=function(t){Ys=t},Js.compile=function(t){return Ys.compile(t)};const Zs=Js;function Qs(t){var e;return void 0===t&&(t={}),t.template?t.template=e=Zs.compile(t.template):zs(t.content)&&(e=t.content),e}var ta=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,ea={};function ra(t){if(ea[t])return ea[t];var e=[];return t.replace(ta,(function(t,r,n,i){e.push(Ds(r)?r:n||i)})),ea[t]=function(t){for(var r=t,n=0;n<e.length&&r;n++)r=r[e[n]];return r},ea[t]}function na(t,e){for(var r=t.length,n=[],i=0;i<r;i++)e(t[i])&&n.push(t[i]);return n}function ia(t,e){if(t.className)for(var r=e.split(" "),n=0;n<r.length;n++)if(-1!==t.className.indexOf(r[n]))return!0}ea[void 0]=function(t){return t};var oa=function(){this._map={}};oa.prototype.get=function(t){return this._map[this._key(t)]},oa.prototype.set=function(t,e){this._map[this._key(t)]=e},oa.prototype._key=function(t){return t instanceof Date?t.getTime():t};const sa=oa;function aa(t,e){if(e)return-1!==e.indexOf(t)}function la(t,e){var r,n=(r=e)?Math.pow(10,r):1;return Math.round(t*n)/n}function ca(t,e,r){return la(t+(e-t)*r,3)}var ha="trigger",ua=function(t,e){this.observer=t,this.handlerMap=Hs({},this.handlerMap,e)};ua.prototype.trigger=function(t,e){var r,n=this.observer,i=this.handlerMap;return i[t]?r=this.callObserver(i[t],e):n.trigger&&(r=this.callObserver(ha,t,e)),r},ua.prototype.callObserver=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return this.observer[t].apply(this.observer,e)},ua.prototype.requiresHandlers=function(t){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(t);for(var e=0;e<t.length;e++)if(this.handlerMap[t[e]])return!0};const pa=ua;function da(t,e){for(var r=t.length,n=[],i=0;i<r;i++){var o=e(t[i]);Ds(o)&&n.push(o)}return n}var fa={};const ga={get browser(){return"undefined"==typeof window||fa?fa:fa=function(t){var e,r={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var n in r)if(r.hasOwnProperty(n)){var i=t.match(r[n]);if(i){(e={})[n]=!0,e[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||i[2],10);break}}return e}(window.navigator.userAgent)}};var ma=ga.browser||{};function ya(t){var e=0;return t.wheelDelta?(e=-t.wheelDelta/120,ma.webkit&&(e/=2*Math.max(window.devicePixelRatio,.625))):t.detail&&(e=t.detail/3),e=e>0?Math.ceil(e):Math.floor(e)}const va=function(){};function ba(t){var e=window.console;void 0!==e&&e.log&&e.log(t)}function wa(t,e){return t.push.apply(t,e),t}var xa={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function Sa(t){for(var e=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],r="";t>0;)t<e[0]?e.shift():(r+=xa[e[0]],t-=e[0]);return r}function ka(){var t,e,r=new Promise((function(n,i){t=function(t){return r._state="resolved",n(t),r},e=function(t){return r._state="rejected",i(t),r}}));return r._state="pending",r.resolve=t,r.reject=e,r.state=function(){return r._state},r}var Aa=1;function Ca(){return"kdef"+Aa++}var _a=Math.PI/180,Ta=Number.MAX_VALUE,Oa=-Number.MAX_VALUE;function Ma(t){return t/_a}var Ea=String.fromCharCode;var Pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ia(t){for(var e="",r=0,n=function(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r);if(55296<=n&&n<=56319){var i=n,o=t.charCodeAt(++r);isNaN(o)||(n=1024*(i-55296)+(o-56320)+65536)}n<128?e+=Ea(n):n<2048?(e+=Ea(192|n>>>6),e+=Ea(128|63&n)):n<65536?(e+=Ea(224|n>>>12),e+=Ea(128|n>>>6&63),e+=Ea(128|63&n)):n<1114111&&(e+=Ea(240|n>>>18),e+=Ea(128|n>>>12&63),e+=Ea(128|n>>>6&63),e+=Ea(128|63&n))}return e}(t);r<n.length;){var i=n.charCodeAt(r++),o=n.charCodeAt(r++),s=n.charCodeAt(r++),a=i>>2,l=(3&i)<<4|o>>4,c=(15&o)<<2|s>>6,h=63&s;isNaN(o)?c=h=64:isNaN(s)&&(h=64),e=e+Pa.charAt(a)+Pa.charAt(l)+Pa.charAt(c)+Pa.charAt(h)}return e}function Fa(t){return Ds((t.x||{}).location)?{x:t.x.location,y:t.y.location}:{x:t.pageX||t.clientX||0,y:t.pageY||t.clientY||0}}function Da(t){return void 0===t&&(t={}),t.touch?t.touch.initialTouch:t.target}function Ra(t){return""===t||null===t||"none"===t||"transparent"===t||!Ds(t)}function La(t){if(t)return t[t.length-1]}function Na(t,e,r){return Math.max(Math.min(t,r),e)}function Ba(t,e){if(t.length<2)return t.slice();return function t(r){if(r.length<=1)return r;var n=Math.floor(r.length/2),i=r.slice(0,n),o=r.slice(n);return function(t,r){for(var n=[],i=0,o=0,s=0;i<t.length&&o<r.length;)e(t[i],r[o])<=0?n[s++]=t[i++]:n[s++]=r[o++];return i<t.length&&n.push.apply(n,t.slice(i)),o<r.length&&n.push.apply(n,r.slice(o)),n}(i=t(i),o=t(o))}(t)}const ja=Date.now||function(){return(new Date).getTime()};function za(t){return Promise.all(t)}function Ua(t){return t*_a}function $a(t,e){return Ds(t)?t:e}function Ha(t,e){for(var r in e)for(var n=r.trim().split(" "),i=0;i<n.length;i++)t.addEventListener(n[i],e[r],!1)}function Va(t){var e=t.getBoundingClientRect(),r=document.documentElement;return{top:e.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||0),left:e.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function qa(t,e){for(var r={},n=window.getComputedStyle(t)||{},i=Array.isArray(e)?e:[e],o=0;o<i.length;o++){var s=i[o];r[s]=n[s]}return r}function Wa(t){return isNaN(t)?t:t+"px"}function Xa(t,e){if(!e){var r=qa(t,["width","height"]);return{width:parseInt(r.width,10),height:parseInt(r.height,10)}}var n=e.width,i=e.height;Ds(n)&&(t.style.width=Wa(n)),Ds(i)&&(t.style.height=Wa(i))}function Ga(t,e){for(var r in void 0===e&&(e={}),e)for(var n=r.trim().split(" "),i=0;i<n.length;i++)t.removeEventListener(n[i],e[r],!1)}function Ka(t){var e=qa(t,["paddingLeft","paddingTop"]),r=e.paddingLeft,n=e.paddingTop;return{top:parseFloat(n),left:parseFloat(r)}}var Ya=function(t){function e(e,r,n,i,o,s){void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),t.call(this),this.a=e,this.b=r,this.c=n,this.d=i,this.e=o,this.f=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.multiplyCopy=function(t){return new e(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)},e.prototype.invert=function(){var t=this,r=t.a,n=t.b,i=t.c,o=t.d,s=t.e,a=t.f,l=r*o-n*i;return 0===l?null:new e(o/l,-n/l,-i/l,r/l,(i*a-o*s)/l,(n*s-r*a)/l)},e.prototype.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},e.prototype.equals=function(t){return!!t&&(this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f)},e.prototype.round=function(t){return this.a=la(this.a,t),this.b=la(this.b,t),this.c=la(this.c,t),this.d=la(this.d,t),this.e=la(this.e,t),this.f=la(this.f,t),this},e.prototype.toArray=function(t){var e=[this.a,this.b,this.c,this.d,this.e,this.f];if(Ds(t))for(var r=0;r<e.length;r++)e[r]=la(e[r],t);return e},e.prototype.toString=function(t,e){return void 0===e&&(e=","),this.toArray(t).join(e)},e.translate=function(t,r){return new e(1,0,0,1,t,r)},e.unit=function(){return new e(1,0,0,1,0,0)},e.rotate=function(t,r,n){var i=new e;return i.a=Math.cos(Ua(t)),i.b=Math.sin(Ua(t)),i.c=-i.b,i.d=i.a,i.e=r-r*i.a+n*i.b||0,i.f=n-n*i.a-r*i.b||0,i},e.scale=function(t,r){return new e(t,0,0,r,0,0)},e}(va);Ya.IDENTITY=Ya.unit();const Ja=Ya;var Za=/matrix\((.*)\)/;function Qa(t){var e=getComputedStyle(t).transform;return"none"===e?Ja.unit():function(t){var e=t.match(Za);if(null===e||2!==e.length)return Ja.unit();var r=e[1].split(",").map((function(t){return parseFloat(t)}));return new(Function.prototype.bind.apply(Ja,[null].concat(r)))}(e)}function tl(t){if(!t)return Ja.unit();for(var e=Qa(t),r=t.parentElement;r;){var n=Qa(r);e=e.multiplyCopy(n),r=r.parentElement}return e.b=e.c=e.e=e.f=0,e}var el=function(t){function e(e){t.call(this),this._size=e,this._length=0,this._map={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.put=function(t,e){var r=this._map,n={key:t,value:e};r[t]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(r[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},e.prototype.get=function(t){var e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value},e}(va);const rl=el;var nl=/\r?\n|\r|\t/g;function il(t){return String(t).replace(nl," ")}function ol(t){var e=[];for(var r in t)e.push(r+t[r]);return e.sort().join("")}function sl(t){for(var e=2166136261,r=0;r<t.length;++r)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(r);return e>>>0}var al,ll={baselineMarkerSize:1};"undefined"!=typeof document&&((al=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var cl=function(t){function e(e){t.call(this),this._cache=new rl(1e3),this.options=Object.assign({},ll,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.measure=function(t,e,r){if(void 0===r&&(r={}),null==t)return{width:0,height:0,baseline:0};var n=sl(t+ol(e)),i=this._cache.get(n);if(i)return i;var o={width:0,height:0,baseline:0},s=r.box||al,a=this._baselineMarker().cloneNode(!1);for(var l in e){var c=e[l];void 0!==c&&(s.style[l]=c)}var h=!1!==r.normalizeText?il(t):String(t);return s.textContent=h,s.appendChild(a),document.body.appendChild(s),h.length&&(o.width=s.offsetWidth-this.options.baselineMarkerSize,o.height=s.offsetHeight,o.baseline=a.offsetTop+this.options.baselineMarkerSize),o.width>0&&o.height>0&&this._cache.put(n,o),s.parentNode.removeChild(s),o},e.prototype._baselineMarker=function(){var t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t},e}(va);cl.current=new cl;const hl=cl;function ul(t,e,r){return hl.current.measure(t,e,r)}var pl=e.append,dl=e.bindEvents,fl=e.defined,gl=e.deg,ml=e.elementOffset,yl=e.elementSize,vl=e.eventCoordinates,bl=e.eventElement,wl=e.hashKey,xl=e.last,Sl=e.limitValue,kl=e.objectKey,Al=e.rad,Cl=e.round,_l=e.unbindEvents,Tl=e.valueOrDefault,Ol=function(){};Ol.fetchFonts=function(t,e,r){void 0===r&&(r={depth:0});!t||r.depth>5||!document.fonts||Object.keys(t).forEach((function(n){var i=t[n];"dataSource"!==n&&"$"!==n[0]&&i&&("font"===n?e.push(i):"object"==typeof i&&(r.depth++,Ol.fetchFonts(i,e,r),r.depth--))}))},Ol.loadFonts=function(t,e){var r=[];if(t.length>0&&document.fonts){try{r=t.map((function(t){return document.fonts.load(t)}))}catch(t){ba(t)}Promise.all(r).then(e,e)}else e()},Ol.preloadFonts=function(t,e){var r=[];Ol.fetchFonts(t,r),Ol.loadFonts(r,e)};const Ml=Ol;function El(t,e){var r=t.prototype;r.options?r.options=Hs({},r.options,e):r.options=e}function Pl(t){for(var e=ys,r=vs,n=0,i=t.length;n<i;n++){var o=t[n];null!==o&&isFinite(o)&&(e=Math.min(e,o),r=Math.max(r,o))}return{min:e===ys?void 0:e,max:r===vs?void 0:r}}function Il(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(e(n,r,t))return n}}var Fl=Ja,Dl=/matrix\((.*)\)/;function Rl(t){var e=getComputedStyle(t).transform;return"none"===e?Fl.unit():function(t){var e=t.match(Dl);if(null===e||2!==e.length)return Fl.unit();var r=e[1].split(",").map((function(t){return parseFloat(t)}));return new(Function.prototype.bind.apply(Fl,[null].concat(r)))}(e)}const Ll={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var Nl=ga.browser,Bl=function(t){var e=Object.keys(Ll);e.push("transparent");var r=new RegExp("^("+e.join("|")+")(\\W|$)","i");return Bl=function(t){return r.exec(t)},r.exec(t)},jl=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toHSV=function(){return this},e.prototype.toRGB=function(){return this},e.prototype.toHex=function(t){return this.toBytes().toHex(t)},e.prototype.toBytes=function(){return this},e.prototype.toCss=function(t){return"#"+this.toHex(t)},e.prototype.toCssRgba=function(){var t=this.toBytes();return"rgba("+t.r+", "+t.g+", "+t.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},e.prototype.toDisplay=function(){return Nl.msie&&Nl.version<9?this.toCss():this.toCssRgba()},e.prototype.equals=function(t){return t===this||null!==t&&this.toCssRgba()===Xl(t).toCssRgba()},e.prototype.diff=function(t){if(null===t)return NaN;var e=this.toBytes(),r=t.toBytes();return Math.sqrt(Math.pow(.3*(e.r-r.r),2)+Math.pow(.59*(e.g-r.g),2)+Math.pow(.11*(e.b-r.b),2))},e.prototype.clone=function(){var t=this.toBytes();return t===this&&(t=new Ul(t.r,t.g,t.b,t.a)),t},e}(va),zl=function(t){function e(e,r,n,i){t.call(this),this.r=e,this.g=r,this.b=n,this.a=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toHSV=function(){var t,e,r=this,n=r.r,i=r.g,o=r.b,s=Math.min(n,i,o),a=Math.max(n,i,o),l=a-s,c=a;return 0===l?new Hl(0,0,c,this.a):(0!==a?(e=l/a,t=n===a?(i-o)/l:i===a?2+(o-n)/l:4+(n-i)/l,(t*=60)<0&&(t+=360)):(e=0,t=-1),new Hl(t,e,c,this.a))},e.prototype.toHSL=function(){var t,e,r=this,n=r.r,i=r.g,o=r.b,s=Math.max(n,i,o),a=Math.min(n,i,o),l=(s+a)/2;if(s===a)t=e=0;else{var c=s-a;switch(e=l>.5?c/(2-s-a):c/(s+a),s){case n:t=(i-o)/c+(i<o?6:0);break;case i:t=(o-n)/c+2;break;case o:t=(n-i)/c+4}}return new Vl(60*t,100*e,100*l,this.a)},e.prototype.toBytes=function(){return new Ul(255*this.r,255*this.g,255*this.b,this.a)},e}(jl),Ul=function(t){function e(e,r,n,i){t.call(this,Math.round(e),Math.round(r),Math.round(n),i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toRGB=function(){return new t(this.r/255,this.g/255,this.b/255,this.a)},e.prototype.toHSV=function(){return this.toRGB().toHSV()},e.prototype.toHSL=function(){return this.toRGB().toHSL()},e.prototype.toHex=function(t){var e=$l(this.r,2)+$l(this.g,2)+$l(this.b,2);return t&&t.alpha&&(e+=$l(Math.round(255*this.a),2)),e},e.prototype.toBytes=function(){return this},e}(zl);function $l(t,e,r){void 0===r&&(r="0");for(var n=t.toString(16);e>n.length;)n=r+n;return n}var Hl=function(t){function e(e,r,n,i){t.call(this),this.h=e,this.s=r,this.v=n,this.a=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toRGB=function(){var t,e,r,n=this,i=n.h,o=n.s,s=n.v;if(0===o)t=e=r=s;else{i/=60;var a=Math.floor(i),l=i-a,c=s*(1-o),h=s*(1-o*l),u=s*(1-o*(1-l));switch(a){case 0:t=s,e=u,r=c;break;case 1:t=h,e=s,r=c;break;case 2:t=c,e=s,r=u;break;case 3:t=c,e=h,r=s;break;case 4:t=u,e=c,r=s;break;default:t=s,e=c,r=h}}return new zl(t,e,r,this.a)},e.prototype.toHSL=function(){return this.toRGB().toHSL()},e.prototype.toBytes=function(){return this.toRGB().toBytes()},e}(jl),Vl=function(t){function e(e,r,n,i){t.call(this),this.h=e,this.s=r,this.l=n,this.a=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toRGB=function(){var t,e,r,n=this.h/360,i=this.s/100,o=this.l/100;if(0===i)t=e=r=o;else{var s=o<.5?o*(1+i):o+i-o*i,a=2*o-s;t=ql(a,s,n+1/3),e=ql(a,s,n),r=ql(a,s,n-1/3)}return new zl(t,e,r,this.a)},e.prototype.toHSV=function(){return this.toRGB().toHSV()},e.prototype.toBytes=function(){return this.toRGB().toBytes()},e}(jl);function ql(t,e,r){var n=r;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Wl(t){return parseFloat(parseFloat(parseInt(t,16)/255).toFixed(3))}function Xl(t,e){var r,n;if(null==t||"none"===t)return null;if(t instanceof jl)return t;var i=t.toLowerCase();if(r=Bl(i))return(i="transparent"===r[1]?new zl(1,1,1,0):Xl(Ll[r[1]],e)).match=[r[1]],i;if((r=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(i))?n=new Ul(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16),1):(r=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(i))?n=new Ul(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16),1):(r=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(i))?n=new Ul(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16),Wl(r[4]+r[4])):(r=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(i))?n=new Ul(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16),Wl(r[4])):(r=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(i))?n=new Ul(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),1):(r=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(i))?n=new Ul(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4])):(r=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(i))?n=new zl(parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3])/100,1):(r=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(i))&&(n=new zl(parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3])/100,parseFloat(r[4]))),n)n.match=r;else if(!e)throw new Error("Cannot parse color: "+i);return n}var Gl=function(t){function e(r){var n=this;if(t.call(this),1===arguments.length)for(var i=e.formats,o=this.resolveColor(r),s=0;s<i.length;s++){var a=i[s].re,l=i[s].process,c=a.exec(o);if(c){var h=l(c);n.r=h[0],n.g=h[1],n.b=h[2]}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toHex=function(){var t=this.padDigit,e=this.r.toString(16),r=this.g.toString(16),n=this.b.toString(16);return"#"+t(e)+t(r)+t(n)},e.prototype.resolveColor=function(t){var r=t||"black";return"#"===r.charAt(0)&&(r=r.substr(1,6)),r=(r=r.replace(/ /g,"")).toLowerCase(),r=e.namedColors[r]||r},e.prototype.normalizeByte=function(t){return t<0||isNaN(t)?0:t>255?255:t},e.prototype.padDigit=function(t){return 1===t.length?"0"+t:t},e.prototype.brightness=function(t){var e=Math.round;return this.r=e(this.normalizeByte(this.r*t)),this.g=e(this.normalizeByte(this.g*t)),this.b=e(this.normalizeByte(this.b*t)),this},e.prototype.percBrightness=function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)},e.prototype.isDark=function(){return this.percBrightness()<180},e.fromBytes=function(t,e,r,n){return new Ul(t,e,r,null!=n?n:1)},e.fromRGB=function(t,e,r,n){return new zl(t,e,r,null!=n?n:1)},e.fromHSV=function(t,e,r,n){return new Hl(t,e,r,null!=n?n:1)},e.fromHSL=function(t,e,r,n){return new Vl(t,e,r,null!=n?n:1)},e}(va);Gl.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],Gl.namedColors=Ll;const Kl=Gl;const Yl=function(t){return new Kl(t).isDark()?Ts:is};var Jl={},Zl=function(t){this._index={},this._values=t?t.slice(0):[];for(var e=0;e<this._values.length;e++)this._index[this._values[e]]=e},Ql={size:{configurable:!0}};Zl.prototype.values=function(){return this._values.filter((function(t){return t!==Jl}))},Zl.prototype.has=function(t){return void 0!==this._index[t]},Zl.prototype.add=function(t){this.has(t)||(this._index[t]=this._values.length,this._values.push(t))},Zl.prototype.delete=function(t){var e=this._index[t];void 0!==e&&(this._values[e]=Jl,delete this._index[t])},Zl.prototype.clear=function(){this._index={},this._values=[]},Ql.size.get=function(){return this._values.length},Object.defineProperties(Zl.prototype,Ql);var tc=function(t){this._set=new Set(t)},ec={size:{configurable:!0}};tc.prototype.values=function(){return Array.from(this._set)},tc.prototype.has=function(t){return this._set.has(t)},tc.prototype.add=function(t){this._set.add(t)},tc.prototype.delete=function(t){this._set.delete(t)},tc.prototype.clear=function(){this._set.clear()},ec.size.get=function(){return this._set.size},Object.defineProperties(tc.prototype,ec);function rc(t){return e=!1,"function"==typeof Set&&(e=new Set([1]).has(1)),e?new tc(t):new Zl(t);var e}function nc(t){throw t}const ic={INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110};function oc(t,e){var r=Cl(e-t,9);if(0===r){if(0===e)return.1;r=Math.abs(e)}var n=Math.pow(10,Math.floor(Math.log(r)/Math.log(10))),i=Cl(r/n,ps);return Cl(n*(i<1.904762?.2:i<4.761904?.5:i<9.523809?1:2),ps)}var sc=function(t){function e(e,r){t.call(this),this.x=e||0,this.y=r||0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y},e.prototype.rotate=function(t,e){var r=Al(e),n=Math.cos(r),i=Math.sin(r),o=t.x,s=t.y,a=this.x,l=this.y;return this.x=Cl(o+(a-o)*n+(l-s)*i,3),this.y=Cl(s+(l-s)*n-(a-o)*i,3),this},e.prototype.multiply=function(t){return this.x*=t,this.y*=t,this},e.prototype.distanceTo=function(t){var e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)},e.onCircle=function(t,r,n){var i=Al(r);return new e(t.x-n*Math.cos(i),t.y-n*Math.sin(i))},e}(va);const ac=sc;var lc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.observers=function(){return this._observers=this._observers||[],this._observers},e.prototype.addObserver=function(t){return this._observers?this._observers.push(t):this._observers=[t],this},e.prototype.removeObserver=function(t){var e=this.observers(),r=e.indexOf(t);return-1!==r&&e.splice(r,1),this},e.prototype.trigger=function(t,e){var r=this._observers;if(r&&!this._suspended)for(var n=0;n<r.length;n++){var i=r[n];i[t]&&i[t](e)}return this},e.prototype.optionsChange=function(t){void 0===t&&(t={}),t.element=this,this.trigger("optionsChange",t)},e.prototype.geometryChange=function(){this.trigger("geometryChange",{element:this})},e.prototype.suspend=function(){return this._suspended=(this._suspended||0)+1,this},e.prototype.resume=function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},e.prototype._observerField=function(t,e){this[t]&&this[t].removeObserver(this),this[t]=e,e.addObserver(this)},e}(va);const cc=lc;function hc(t){return function(e){return this[t]!==e&&(this[t]=e,this.geometryChange()),this}}function uc(t){return function(){return this[t]}}const pc=function(t,e){var r=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t);return function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=n.charAt(0).toUpperCase()+n.substring(1,n.length);t["set"+i]=hc(n),t["get"+i]=uc(n)}}(r.prototype,e),r};function dc(t){return t&&"function"==typeof t.matrix?t.matrix():t}var fc=function(t){function e(e,r){t.call(this),this.x=e||0,this.y=r||0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={ZERO:{configurable:!0}};return e.prototype.equals=function(t){return t&&t.x===this.x&&t.y===this.y},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.rotate=function(t,r){var n=e.create(r)||e.ZERO;return this.transform(Ja.rotate(t,n.x,n.y))},e.prototype.translate=function(t,e){return this.x+=t,this.y+=e,this.geometryChange(),this},e.prototype.translateWith=function(t){return this.translate(t.x,t.y)},e.prototype.move=function(t,e){return this.x=this.y=0,this.translate(t,e)},e.prototype.scale=function(t,e){return void 0===e&&(e=t),this.x*=t,this.y*=e,this.geometryChange(),this},e.prototype.scaleCopy=function(t,e){return this.clone().scale(t,e)},e.prototype.transform=function(t){var e=dc(t),r=this.x,n=this.y;return this.x=e.a*r+e.c*n+e.e,this.y=e.b*r+e.d*n+e.f,this.geometryChange(),this},e.prototype.transformCopy=function(t){var e=this.clone();return t&&e.transform(t),e},e.prototype.distanceTo=function(t){var e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)},e.prototype.round=function(t){return this.x=la(this.x,t),this.y=la(this.y,t),this.geometryChange(),this},e.prototype.toArray=function(t){var e=Ds(t);return[e?la(this.x,t):this.x,e?la(this.y,t):this.y]},e.prototype.toString=function(t,e){void 0===e&&(e=" ");var r=this.x,n=this.y;return Ds(t)&&(r=la(r,t),n=la(n,t)),r+e+n},e.create=function(t,r){if(Ds(t))return t instanceof e?t:1===arguments.length&&2===t.length?new e(t[0],t[1]):new e(t,r)},e.min=function(){for(var t=arguments,r=Ta,n=Ta,i=0;i<arguments.length;i++){var o=t[i];r=Math.min(o.x,r),n=Math.min(o.y,n)}return new e(r,n)},e.max=function(){for(var t=arguments,r=Oa,n=Oa,i=0;i<arguments.length;i++){var o=t[i];r=Math.max(o.x,r),n=Math.max(o.y,n)}return new e(r,n)},e.minPoint=function(){return new e(Oa,Oa)},e.maxPoint=function(){return new e(Ta,Ta)},r.ZERO.get=function(){return new e(0,0)},Object.defineProperties(e,r),e}(pc(cc,["x","y"]));const gc=fc;var mc=function(t){function e(e,r){t.call(this),this.width=e||0,this.height=r||0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={ZERO:{configurable:!0}};return e.prototype.equals=function(t){return t&&t.width===this.width&&t.height===this.height},e.prototype.clone=function(){return new e(this.width,this.height)},e.prototype.toArray=function(t){var e=Ds(t);return[e?la(this.width,t):this.width,e?la(this.height,t):this.height]},e.create=function(t,r){if(Ds(t))return t instanceof e?t:1===arguments.length&&2===t.length?new e(t[0],t[1]):new e(t,r)},r.ZERO.get=function(){return new e(0,0)},Object.defineProperties(e,r),e}(pc(cc,["width","height"]));const yc=mc;var vc=function(t){function e(e,r,n){void 0===e&&(e=new gc),void 0===r&&(r=new yc),void 0===n&&(n=0),t.call(this),this.setOrigin(e),this.setSize(r),this.setCornerRadius(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.origin.clone(),this.size.clone())},e.prototype.equals=function(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)},e.prototype.setOrigin=function(t){return this._observerField("origin",gc.create(t)),this.geometryChange(),this},e.prototype.getOrigin=function(){return this.origin},e.prototype.setCornerRadius=function(t){return this.cornerRadius=Array.isArray(t)?t:[t,t],this.geometryChange(),this},e.prototype.getCornerRadius=function(){return this.cornerRadius},e.prototype.setSize=function(t){return this._observerField("size",yc.create(t)),this.geometryChange(),this},e.prototype.getSize=function(){return this.size},e.prototype.width=function(){return this.size.width},e.prototype.height=function(){return this.size.height},e.prototype.topLeft=function(){return this.origin.clone()},e.prototype.bottomRight=function(){return this.origin.clone().translate(this.width(),this.height())},e.prototype.topRight=function(){return this.origin.clone().translate(this.width(),0)},e.prototype.bottomLeft=function(){return this.origin.clone().translate(0,this.height())},e.prototype.center=function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},e.prototype.bbox=function(t){var r=this.topLeft().transformCopy(t),n=this.topRight().transformCopy(t),i=this.bottomRight().transformCopy(t),o=this.bottomLeft().transformCopy(t);return e.fromPoints(r,n,i,o)},e.prototype.transformCopy=function(t){return e.fromPoints(this.topLeft().transform(t),this.bottomRight().transform(t))},e.prototype.expand=function(t,e){return void 0===e&&(e=t),this.size.width+=2*t,this.size.height+=2*e,this.origin.translate(-t,-e),this},e.prototype.expandCopy=function(t,e){return this.clone().expand(t,e)},e.prototype.containsPoint=function(t){var e=this.origin,r=this.bottomRight();return!(t.x<e.x||t.y<e.y||r.x<t.x||r.y<t.y)},e.prototype._isOnPath=function(t,e){var r=this.expandCopy(e,e),n=this.expandCopy(-e,-e);return r.containsPoint(t)&&!n.containsPoint(t)},e.fromPoints=function(){var t=gc.min.apply(null,arguments),r=gc.max.apply(null,arguments),n=new yc(r.x-t.x,r.y-t.y);return new e(t,n)},e.union=function(t,r){return e.fromPoints(gc.min(t.topLeft(),r.topLeft()),gc.max(t.bottomRight(),r.bottomRight()))},e.intersect=function(t,r){var n={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},i={left:r.topLeft().x,top:r.topLeft().y,right:r.bottomRight().x,bottom:r.bottomRight().y};if(n.left<=i.right&&i.left<=n.right&&n.top<=i.bottom&&i.top<=n.bottom)return e.fromPoints(new gc(Math.max(n.left,i.left),Math.max(n.top,i.top)),new gc(Math.min(n.right,i.right),Math.min(n.bottom,i.bottom)))},e}(cc);const bc=vc;var wc=function(t){function e(e,r,n,i){t.call(this),this.x1=e||0,this.y1=r||0,this.x2=n||0,this.y2=i||0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.equals=function(t){return this.x1===t.x1&&this.x2===t.x2&&this.y1===t.y1&&this.y2===t.y2},e.prototype.width=function(){return this.x2-this.x1},e.prototype.height=function(){return this.y2-this.y1},e.prototype.translate=function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},e.prototype.move=function(t,e){var r=this.height(),n=this.width();return fl(t)&&(this.x1=t,this.x2=this.x1+n),fl(e)&&(this.y1=e,this.y2=this.y1+r),this},e.prototype.wrap=function(t){return this.x1=Math.min(this.x1,t.x1),this.y1=Math.min(this.y1,t.y1),this.x2=Math.max(this.x2,t.x2),this.y2=Math.max(this.y2,t.y2),this},e.prototype.wrapPoint=function(t){var r=Ps(t),n=r?t[0]:t.x,i=r?t[1]:t.y;return this.wrap(new e(n,i,n,i)),this},e.prototype.snapTo=function(t,e){return e!==Ms&&e||(this.x1=t.x1,this.x2=t.x2),e!==Es&&e||(this.y1=t.y1,this.y2=t.y2),this},e.prototype.alignTo=function(t,e){var r=this.height(),n=this.width(),i=e===Cs||e===ss?Es:Ms,o=i===Es?r:n;if(e===as){var s=t.center(),a=this.center();this.x1+=s.x-a.x,this.y1+=s.y-a.y}else this[i+1]=e===Cs||e===ms?t[i+1]-o:t[i+2];return this.x2=this.x1+n,this.y2=this.y1+r,this},e.prototype.shrink=function(t,e){return this.x2-=t,this.y2-=e,this},e.prototype.expand=function(t,e){return this.shrink(-t,-e),this},e.prototype.pad=function(t){var e=Ks(t);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this},e.prototype.unpad=function(t){var e=Ks(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)},e.prototype.clone=function(){return new e(this.x1,this.y1,this.x2,this.y2)},e.prototype.center=function(){return new ac(this.x1+this.width()/2,this.y1+this.height()/2)},e.prototype.containsPoint=function(t){return t.x>=this.x1&&t.x<=this.x2&&t.y>=this.y1&&t.y<=this.y2},e.prototype.points=function(){return[new ac(this.x1,this.y1),new ac(this.x2,this.y1),new ac(this.x2,this.y2),new ac(this.x1,this.y2)]},e.prototype.getHash=function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},e.prototype.overlaps=function(t){return!(t.y2<this.y1||this.y2<t.y1||t.x2<this.x1||this.x2<t.x1)},e.prototype.rotate=function(t){var e=this.width(),r=this.height(),n=this.center(),i=n.x,o=n.y,s=xc(0,0,i,o,t),a=xc(e,0,i,o,t),l=xc(e,r,i,o,t),c=xc(0,r,i,o,t);return e=Math.max(s.x,a.x,l.x,c.x)-Math.min(s.x,a.x,l.x,c.x),r=Math.max(s.y,a.y,l.y,c.y)-Math.min(s.y,a.y,l.y,c.y),this.x2=this.x1+e,this.y2=this.y1+r,this},e.prototype.toRect=function(){return new bc([this.x1,this.y1],[this.width(),this.height()])},e.prototype.hasSize=function(){return 0!==this.width()&&0!==this.height()},e.prototype.align=function(t,e,r){var n=e+1,i=e+2,o=e===Ms?Os:fs,s=this[o]();aa(r,[ms,Cs])?(this[n]=t[n],this[i]=this[n]+s):aa(r,[Ss,ss])?(this[i]=t[i],this[n]=this[i]-s):r===as&&(this[n]=t[n]+(t[o]()-s)/2,this[i]=this[n]+s)},e}(va);function xc(t,e,r,n,i){var o=Al(i);return new ac(r+(t-r)*Math.cos(o)+(e-n)*Math.sin(o),n-(t-r)*Math.sin(o)+(e-n)*Math.cos(o))}const Sc=wc;var kc=function(t){function e(e,r,n,i,o){t.call(this),this.center=e,this.innerRadius=r,this.radius=n,this.startAngle=i,this.angle=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},e.prototype.middle=function(){return this.startAngle+this.angle/2},e.prototype.setRadius=function(t,e){return e?this.innerRadius=t:this.radius=t,this},e.prototype.point=function(t,e){var r=Al(t),n=Math.cos(r),i=Math.sin(r),o=e?this.innerRadius:this.radius,s=Cl(this.center.x-n*o,3),a=Cl(this.center.y-i*o,3);return new ac(s,a)},e.prototype.adjacentBox=function(t,e,r){var n=this.clone().expand(t),i=n.middle(),o=n.point(i),s=e/2,a=r/2,l=Math.sin(Al(i)),c=Math.cos(Al(i)),h=o.x-s,u=o.y-a;return Math.abs(l)<.9&&(h+=s*-c/Math.abs(c)),Math.abs(c)<.9&&(u+=a*-l/Math.abs(l)),new Sc(h,u,h+e,u+r)},e.prototype.containsPoint=function(t){var e=this.center,r=this.innerRadius,n=this.radius,i=this.startAngle,o=this.startAngle+this.angle,s=t.x-e.x,a=t.y-e.y,l=new ac(s,a),c=this.point(i),h=new ac(c.x-e.x,c.y-e.y),u=this.point(o),p=new ac(u.x-e.x,u.y-e.y),d=Cl(s*s+a*a,3);return(h.equals(l)||Ls(h,l))&&!Ls(p,l)&&d>=r*r&&d<=n*n},e.prototype.getBBox=function(){var t,e=new Sc(ys,ys,vs,vs),r=Cl(this.startAngle%360),n=Cl((r+this.angle)%360),i=this.innerRadius,o=[0,90,180,270,r,n].sort(Ac),s=o.indexOf(r),a=o.indexOf(n);t=r===n?o:s<a?o.slice(s,a+1):[].concat(o.slice(0,a+1),o.slice(s,o.length));for(var l=0;l<t.length;l++){var c=this.point(t[l]);e.wrapPoint(c),e.wrapPoint(c,i)}return i||e.wrapPoint(this.center),e},e.prototype.expand=function(t){return this.radius+=t,this},e}(va);function Ac(t,e){return t-e}const Cc=kc;!function(t){function e(e,r,n,i){t.call(this,e,0,r,n,i)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expand=function(e){return t.prototype.expand.call(this,e)},e.prototype.clone=function(){return new e(this.center,this.radius,this.startAngle,this.angle)},e.prototype.setRadius=function(t){return this.radius=t,this}}(Cc);var _c=10;function Tc(t,e,r){return void 0===r&&(r=_c),0===la(Math.abs(t-e),r)}function Oc(t,e,r){return t<e||Tc(t,e,r)}function Mc(t,e,r,n){var i=0,o=0;return n&&(i=Math.atan2(n.c*r,n.a*e),0!==n.b&&(o=Math.atan2(n.d*r,n.b*e))),{x:i,y:o}}var Ec=function(t){function e(e){void 0===e&&(e=Ja.unit()),t.call(this),this._matrix=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this._matrix.clone())},e.prototype.equals=function(t){return t&&t._matrix.equals(this._matrix)},e.prototype.translate=function(t,e){return this._matrix=this._matrix.multiplyCopy(Ja.translate(t,e)),this._optionsChange(),this},e.prototype.scale=function(t,e,r){void 0===e&&(e=t),void 0===r&&(r=null);var n=r;return n&&(n=gc.create(n),this._matrix=this._matrix.multiplyCopy(Ja.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(Ja.scale(t,e)),n&&(this._matrix=this._matrix.multiplyCopy(Ja.translate(-n.x,-n.y))),this._optionsChange(),this},e.prototype.rotate=function(t,e){var r=gc.create(e)||gc.ZERO;return this._matrix=this._matrix.multiplyCopy(Ja.rotate(t,r.x,r.y)),this._optionsChange(),this},e.prototype.multiply=function(t){var e=dc(t);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this},e.prototype.matrix=function(t){return t?(this._matrix=t,this._optionsChange(),this):this._matrix},e.prototype._optionsChange=function(){this.optionsChange({field:"transform",value:this})},e}(cc);const Pc=Ec;function Ic(t){return null===t?null:t instanceof Pc?t:new Pc(t)}var Fc=Math.pow,Dc=function(t){function e(e,r){void 0===e&&(e=new gc),void 0===r&&(r={}),t.call(this),this.setCenter(e),this.radiusX=r.radiusX,this.radiusY=r.radiusY||r.radiusX,this.startAngle=r.startAngle,this.endAngle=r.endAngle,this.anticlockwise=r.anticlockwise||!1,this.xRotation=r.xRotation}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},e.prototype.setCenter=function(t){return this._observerField("center",gc.create(t)),this.geometryChange(),this},e.prototype.getCenter=function(){return this.center},e.prototype.pointAt=function(t){var e=this.center,r=Ua(t);return new gc(e.x+this.radiusX*Math.cos(r),e.y+this.radiusY*Math.sin(r))},e.prototype.curvePoints=function(){var t,e=this.startAngle,r=this.anticlockwise?-1:1,n=[this.pointAt(e)],i=this._arcInterval(),o=i.endAngle-i.startAngle,s=Math.ceil(o/45),a=o/s,l=e;this.xRotation&&(t=Ic().rotate(this.xRotation,this.center));for(var c=1;c<=s;c++){var h=l+r*a,u=this._intervalCurvePoints(l,h,t);n.push(u.cp1,u.cp2,u.p2),l=h}return n},e.prototype.bbox=function(t){for(var e=this._arcInterval(),r=e.startAngle,n=e.endAngle,i=Mc(this.center,this.radiusX,this.radiusY,t),o=Ma(i.x),s=Ma(i.y),a=this.pointAt(n).transformCopy(t),l=Lc(o,r),c=Lc(s,r),h=this.pointAt(r).transformCopy(t),u=gc.min(h,a),p=gc.max(h,a);l<n||c<n;){var d=void 0;l<n&&(d=this.pointAt(l).transformCopy(t),l+=90);var f=void 0;c<n&&(f=this.pointAt(c).transformCopy(t),c+=90),h=new gc(d.x,f.y),u=gc.min(u,h),p=gc.max(p,h)}return bc.fromPoints(u,p)},e.prototype._arcInterval=function(){var t=this,e=t.startAngle,r=t.endAngle,n=t.anticlockwise;if(n){var i=e;e=r,r=i}return(e>r||n&&e===r)&&(r+=360),{startAngle:e,endAngle:r}},e.prototype._intervalCurvePoints=function(t,e,r){var n=this.pointAt(t),i=this.pointAt(e),o=this._derivativeAt(t),s=this._derivativeAt(e),a=(Ua(e)-Ua(t))/3,l=new gc(n.x+a*o.x,n.y+a*o.y),c=new gc(i.x-a*s.x,i.y-a*s.y);return r&&(n.transform(r),i.transform(r),l.transform(r),c.transform(r)),{p1:n,cp1:l,cp2:c,p2:i}},e.prototype._derivativeAt=function(t){var e=Ua(t);return new gc(-this.radiusX*Math.sin(e),this.radiusY*Math.cos(e))},e.prototype.containsPoint=function(t){var e,r=this._arcInterval(),n=r.endAngle-r.startAngle,i=this,o=i.center,s=i.radiusX,a=i.radiusY,l=o.distanceTo(t),c=Math.atan2(t.y-o.y,t.x-o.x),h=s*a/Math.sqrt(Fc(s,2)*Fc(Math.sin(c),2)+Fc(a,2)*Fc(Math.cos(c),2)),u=this.pointAt(this.startAngle).round(_c),p=this.pointAt(this.endAngle).round(_c),d=function(t,e,r,n){var i=e.x-t.x,o=n.x-r.x,s=e.y-t.y,a=n.y-r.y,l=t.x-r.x,c=t.y-r.y,h=i*a-o*s,u=(i*c-s*l)/h,p=(o*c-a*l)/h;if(u>=0&&u<=1&&p>=0&&p<=1)return new gc(t.x+p*i,t.y+p*s)}(o,t.round(_c),u,p);if(n<180)e=d&&Oc(o.distanceTo(d),l)&&Oc(l,h);else{var f=Rc(o.x,o.y,s,a,t.x,t.y);360!==f&&(f=(360+f)%360);var g=r.startAngle<=f&&f<=r.endAngle;e=g&&Oc(l,h)||!g&&(!d||d.equals(t))}return e},e.prototype._isOnPath=function(t,e){var r=this._arcInterval(),n=this.center,i=Rc(n.x,n.y,this.radiusX,this.radiusY,t.x,t.y);return 360!==i&&(i=(360+i)%360),r.startAngle<=i&&i<=r.endAngle&&this.pointAt(i).distanceTo(t)<=e},e.fromPoints=function(t,r,n,i,o,s,a){var l=function(t){var e=t.x1,r=t.y1,n=t.x2,i=t.y2,o=t.rx,s=t.ry,a=t.largeArc,l=t.swipe,c=t.rotation;void 0===c&&(c=0);var h=Ua(c),u=Math.cos(h),p=Math.sin(h),d=u*(e-n)/2+p*(r-i)/2,f=-p*(e-n)/2+u*(r-i)/2,g=a!==l?1:-1,m=Math.pow(d,2),y=Math.pow(f,2),v=Math.pow(o,2),b=Math.pow(s,2),w=m/v+y/b;w>1&&(o*=w=Math.sqrt(m/v+y/b),v=Math.pow(o,2),s*=w,b=Math.pow(s,2));var x=g*Math.sqrt((v*b-v*y-b*m)/(v*y+b*m));isNaN(x)&&(x=0);var S=x*(o*f)/s,k=s*d*-x/o,A=u*S-p*k+(e+n)/2,C=p*S+u*k+(r+i)/2,_=(d-S)/o,T=(f-k)/s,O=-(d+S)/o,M=-(f+k)/s,E=(T>=0?1:-1)*Ma(Math.acos(_/Math.sqrt(_*_+T*T))),P=la((_*O+T*M)/(Math.sqrt(_*_+T*T)*Math.sqrt(O*O+M*M)),10),I=(_*M-T*O>=0?1:-1)*Ma(Math.acos(P));!l&&I>0&&(I-=360);l&&I<0&&(I+=360);var F=E+I,D=F>=0?1:-1;return F=Math.abs(F)%360*D,{center:new gc(A,C),startAngle:E,endAngle:F,radiusX:o,radiusY:s,xRotation:c}}({x1:t.x,y1:t.y,x2:r.x,y2:r.y,rx:n,ry:i,largeArc:o,swipe:s,rotation:a});return new e(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:0===s})},e}(pc(cc,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]));function Rc(t,e,r,n,i,o){var s=la((i-t)/r,3),a=la((o-e)/n,3);return la(Ma(Math.atan2(a,s)))}function Lc(t,e){for(var r=t;r<e;)r+=90;return r}const Nc=Dc;var Bc=[].push,jc=[].pop,zc=[].splice,Uc=[].shift,$c=[].slice,Hc=[].unshift,Vc=function(t){function e(e){void 0===e&&(e=[]),t.call(this),this.length=0,this._splice(0,e.length,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.elements=function(t){return t?(this._splice(0,this.length,t),this._change(),this):this.slice(0)},e.prototype.push=function(){var t=arguments,e=Bc.apply(this,t);return this._add(t),e},e.prototype.slice=function(){return $c.call(this)},e.prototype.pop=function(){var t=this.length,e=jc.apply(this);return t&&this._remove([e]),e},e.prototype.splice=function(t,e){var r=$c.call(arguments,2),n=this._splice(t,e,r);return this._change(),n},e.prototype.shift=function(){var t=this.length,e=Uc.apply(this);return t&&this._remove([e]),e},e.prototype.unshift=function(){var t=arguments,e=Hc.apply(this,t);return this._add(t),e},e.prototype.indexOf=function(t){for(var e=this.length,r=0;r<e;r++)if(this[r]===t)return r;return-1},e.prototype._splice=function(t,e,r){var n=zc.apply(this,[t,e].concat(r));return this._clearObserver(n),this._setObserver(r),n},e.prototype._add=function(t){this._setObserver(t),this._change()},e.prototype._remove=function(t){this._clearObserver(t),this._change()},e.prototype._setObserver=function(t){for(var e=0;e<t.length;e++)t[e].addObserver(this)},e.prototype._clearObserver=function(t){for(var e=0;e<t.length;e++)t[e].removeObserver(this)},e.prototype._change=function(){},e}(cc);const qc=Vc;var Wc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._change=function(){this.geometryChange()},e}(qc);const Xc=Wc;var Gc={}.toString,Kc=function(t){function e(e,r){for(var n in void 0===r&&(r=""),t.call(this),this.prefix=r,e){var i=e[n];i=this._wrap(i,n),this[n]=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){for(var e=t.split("."),r=this;e.length&&r;){r=r[e.shift()]}return r},e.prototype.set=function(t,e){this.get(t)!==e&&(this._set(t,this._wrap(e,t)),this.optionsChange({field:this.prefix+t,value:e}))},e.prototype._set=function(t,r){var n=t.indexOf(".")>=0,i=this,o=t;if(n){for(var s=o.split("."),a=this.prefix;s.length>1;){a+=(o=s.shift())+".";var l=i[o];l||((l=new e({},a)).addObserver(this),i[o]=l),i=l}o=s[0]}i._clear(o),i[o]=r},e.prototype._clear=function(t){var e=this[t];e&&e.removeObserver&&e.removeObserver(this)},e.prototype._wrap=function(t,r){var n=Gc.call(t),i=t;return null!==i&&Ds(i)&&"[object Object]"===n&&(t instanceof e||t instanceof va||(i=new e(i,this.prefix+r+".")),i.addObserver(this)),i},e}(cc);const Yc=Kc;var Jc=function(t){function e(e){t.call(this),this._initOptions(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={nodeType:{configurable:!0}};return r.nodeType.get=function(){return"Rect"},e.prototype._initOptions=function(t){void 0===t&&(t={});var e=t.clip,r=t.transform;r&&(t.transform=Ic(r)),e&&!e.id&&(e.id=Ca()),this.options=new Yc(t),this.options.addObserver(this)},e.prototype.transform=function(t){if(!Ds(t))return this.options.get("transform");this.options.set("transform",Ic(t))},e.prototype.parentTransform=function(){for(var t,e=this;e.parent;){var r=(e=e.parent).transform();r&&(t=r.matrix().multiplyCopy(t||Ja.unit()))}if(t)return Ic(t)},e.prototype.currentTransform=function(t){void 0===t&&(t=this.parentTransform());var e,r=dc(this.transform()),n=dc(t);if(e=r&&n?n.multiplyCopy(r):r||n)return Ic(e)},e.prototype.visible=function(t){return Ds(t)?(this.options.set("visible",t),this):!1!==this.options.get("visible")},e.prototype.clip=function(t){var e=this.options;return Ds(t)?(t&&!t.id&&(t.id=Ca()),e.set("clip",t),this):e.get("clip")},e.prototype.opacity=function(t){return Ds(t)?(this.options.set("opacity",t),this):$a(this.options.get("opacity"),1)},e.prototype.clippedBBox=function(t){var e=this._clippedBBox(t);if(e){var r=this.clip();return r?bc.intersect(e,r.bbox(t)):e}},e.prototype.containsPoint=function(t,e){if(this.visible()){var r=this.currentTransform(e),n=t;return r&&(n=t.transformCopy(r.matrix().invert())),this._hasFill()&&this._containsPoint(n)||this._isOnPath&&this._hasStroke()&&this._isOnPath(n)}return!1},e.prototype._hasFill=function(){var t=this.options.fill;return t&&!Ra(t.color)},e.prototype._hasStroke=function(){var t=this.options.stroke;return t&&t.width>0&&!Ra(t.color)},e.prototype._clippedBBox=function(t){return this.bbox(t)},Object.defineProperties(e.prototype,r),e}(cc);const Zc=Jc;const Qc=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fill=function(t,e){var r=this.options;if(Ds(t)){if(t&&"Gradient"!==t.nodeType){var n={color:t};Ds(e)&&(n.opacity=e),r.set("fill",n)}else r.set("fill",t);return this}return r.get("fill")},e.prototype.stroke=function(t,e,r){return Ds(t)?(this.options.set("stroke.color",t),Ds(e)&&this.options.set("stroke.width",e),Ds(r)&&this.options.set("stroke.opacity",r),this):this.options.get("stroke")},e}(t)};var th=Ja.IDENTITY.toString();const eh=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bbox=function(t){var e,r=dc(this.currentTransform(t)),n=r?r.toString():th;this._bboxCache&&this._matrixHash===n?e=this._bboxCache.clone():(e=this._bbox(r),this._bboxCache=e?e.clone():null,this._matrixHash=n);var i=this.options.get("stroke.width");return i&&e&&e.expand(i/2),e},e.prototype.geometryChange=function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})},e}(t)};function rh(t,e,r){var n=Ma(Math.atan2(e.y-t.y,e.x-t.x));return r.transformCopy(Ic().rotate(-n,t)).x<t.x}function nh(t,e,r){var n=1-t;return Math.pow(n,3)*r[0][e]+3*Math.pow(n,2)*t*r[1][e]+3*Math.pow(t,2)*n*r[2][e]+Math.pow(t,3)*r[3][e]}function ih(t,e){return[-t[0][e]+3*t[1][e]-3*t[2][e]+t[3][e],3*(t[0][e]-2*t[1][e]+t[2][e]),3*(-t[0][e]+t[1][e]),t[0][e]]}var oh=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=0),t.call(this),this.real=e,this.img=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.add=function(t){return new e(la(this.real+t.real,_c),la(this.img+t.img,_c))},e.prototype.addConstant=function(t){return new e(this.real+t,this.img)},e.prototype.negate=function(){return new e(-this.real,-this.img)},e.prototype.multiply=function(t){return new e(this.real*t.real-this.img*t.img,this.real*t.img+this.img*t.real)},e.prototype.multiplyConstant=function(t){return new e(this.real*t,this.img*t)},e.prototype.nthRoot=function(t){var r=Math.atan2(this.img,this.real),n=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),i=Math.pow(n,1/t);return new e(i*Math.cos(r/t),i*Math.sin(r/t))},e.prototype.equals=function(t){return this.real===t.real&&this.img===t.img},e.prototype.isReal=function(){return 0===this.img},e}(va);const sh=oh;function ah(t){return t<0?-1:1}function lh(t,e,r,n){if(0===t)return function(t,e,r){var n=Math.sqrt(Math.pow(e,2)-4*t*r);return[(-e+n)/(2*t),(-e-n)/(2*t)]}(e,r,n);var i,o,s,a,l,c,h,u=(3*t*r-Math.pow(e,2))/(3*Math.pow(t,2)),p=(2*Math.pow(e,3)-9*t*e*r+27*Math.pow(t,2)*n)/(27*Math.pow(t,3)),d=Math.pow(u/3,3)+Math.pow(p/2,2),f=new sh(0,1),g=-e/(3*t);d<0?(i=new sh(-p/2,Math.sqrt(-d)).nthRoot(3),o=new sh(-p/2,-Math.sqrt(-d)).nthRoot(3)):(i=-p/2+Math.sqrt(d),i=new sh(ah(i)*Math.pow(Math.abs(i),1/3)),o=-p/2-Math.sqrt(d),o=new sh(ah(o)*Math.pow(Math.abs(o),1/3))),s=i.add(o),c=i.add(o).multiplyConstant(-.5),h=i.add(o.negate()).multiplyConstant(Math.sqrt(3)/2),a=c.add(f.multiply(h)),l=c.add(f.negate().multiply(h));var m=[];return s.isReal()&&m.push(la(s.real+g,_c)),a.isReal()&&m.push(la(a.real+g,_c)),l.isReal()&&m.push(la(l.real+g,_c)),m}function ch(t,e,r,n,i){for(var o,s=ih(t,n),a=lh(s[0],s[1],s[2],s[3]-e[n]),l=0;l<a.length;l++)if(0<=a[l]&&a[l]<=1&&(o=nh(a[l],r,t),Math.abs(o-e[r])<=i))return!0}function hh(t,e,r){var n;if(t.x!==e.x){var i=Math.min(t.x,e.x),o=Math.max(t.x,e.x),s=Math.min(t.y,e.y),a=Math.max(t.y,e.y),l=i<=r.x&&r.x<o;n=s===a?r.y<=s&&l:l&&(a-s)*((t.x-e.x)*(t.y-e.y)>0?r.x-i:o-r.x)/(o-i)+s-r.y>=0}return n?1:0}function uh(t){var e="_"+t;return function(t){return Ds(t)?(this._observerField(e,gc.create(t)),this.geometryChange(),this):this[e]}}const ph=function(t,e){var r=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t);return function(t,e){for(var r=0;r<e.length;r++)t[e[r]]=uh(e[r])}(r.prototype,e),r};var dh=function(t){function e(e,r,n){t.call(this),this.anchor(e||new gc),this.controlIn(r),this.controlOut(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bboxTo=function(t,e){var r=this.anchor().transformCopy(e),n=t.anchor().transformCopy(e);return this.controlOut()&&t.controlIn()?this._curveBoundingBox(r,this.controlOut().transformCopy(e),t.controlIn().transformCopy(e),n):this._lineBoundingBox(r,n)},e.prototype._lineBoundingBox=function(t,e){return bc.fromPoints(t,e)},e.prototype._curveBoundingBox=function(t,e,r,n){var i=[t,e,r,n],o=this._curveExtremesFor(i,"x"),s=this._curveExtremesFor(i,"y"),a=fh([o.min,o.max,t.x,n.x]),l=fh([s.min,s.max,t.y,n.y]);return bc.fromPoints(new gc(a.min,l.min),new gc(a.max,l.max))},e.prototype._curveExtremesFor=function(t,e){var r=this._curveExtremes(t[0][e],t[1][e],t[2][e],t[3][e]);return{min:nh(r.min,e,t),max:nh(r.max,e,t)}},e.prototype._curveExtremes=function(t,e,r,n){var i=t-3*e+3*r-n,o=-2*(t-2*e+r),s=t-e,a=Math.sqrt(o*o-4*i*s),l=0,c=1;0===i?0!==o&&(l=c=-s/o):isNaN(a)||(l=(-o+a)/(2*i),c=(-o-a)/(2*i));var h=Math.max(Math.min(l,c),0);(h<0||h>1)&&(h=0);var u=Math.min(Math.max(l,c),1);return(u>1||u<0)&&(u=1),{min:h,max:u}},e.prototype._intersectionsTo=function(t,e){var r;return r=this.controlOut()&&t.controlIn()?function(t,e,r){for(var n,i=ih(t,"x"),o=lh(i[0],i[1],i[2],i[3]-e.x),s=0,a=0;a<o.length;a++)(Tc(n=nh(o[a],"y",t),e.y)||n>e.y)&&((0===o[a]||1===o[a])&&r.bottomRight().x>e.x||0<o[a]&&o[a]<1)&&s++;return s}([this.anchor(),this.controlOut(),t.controlIn(),t.anchor()],e,this.bboxTo(t)):hh(this.anchor(),t.anchor(),e),r},e.prototype._isOnCurveTo=function(t,e,r,n){if(this.bboxTo(t).expand(r,r).containsPoint(e)){var i=this.anchor(),o=this.controlOut(),s=t.controlIn(),a=t.anchor();if("start"===n&&i.distanceTo(e)<=r)return!rh(i,o,e);if("end"===n&&a.distanceTo(e)<=r)return!rh(a,s,e);var l=[i,o,s,a];if(ch(l,e,"x","y",r)||ch(l,e,"y","x",r))return!0;var c=Ic().rotate(45,e),h=[i.transformCopy(c),o.transformCopy(c),s.transformCopy(c),a.transformCopy(c)];return ch(h,e,"x","y",r)||ch(h,e,"y","x",r)}},e.prototype._isOnLineTo=function(t,e,r){var n=this.anchor(),i=t.anchor(),o=Ma(Math.atan2(i.y-n.y,i.x-n.x));return new bc([n.x,n.y-r/2],[n.distanceTo(i),r]).containsPoint(e.transformCopy(Ic().rotate(-o,n)))},e.prototype._isOnPathTo=function(t,e,r,n){return this.controlOut()&&t.controlIn()?this._isOnCurveTo(t,e,r/2,n):this._isOnLineTo(t,e,r)},e}(ph(cc,["anchor","controlIn","controlOut"]));function fh(t){for(var e=t.length,r=Ta,n=Oa,i=0;i<e;i++)n=Math.max(n,t[i]),r=Math.min(r,t[i]);return{min:r,max:n}}const gh=dh;var mh={l:function(t,e){for(var r=e.parameters,n=e.position,i=0;i<r.length;i+=2){var o=new gc(r[i],r[i+1]);e.isRelative&&o.translateWith(n),t.lineTo(o.x,o.y),n.x=o.x,n.y=o.y}},c:function(t,e){for(var r=e.parameters,n=e.position,i=0;i<r.length;i+=6){var o=new gc(r[i],r[i+1]),s=new gc(r[i+2],r[i+3]),a=new gc(r[i+4],r[i+5]);e.isRelative&&(s.translateWith(n),o.translateWith(n),a.translateWith(n)),t.curveTo(o,s,a),n.x=a.x,n.y=a.y}},v:function(t,e){var r=e.isRelative?0:e.position.x;yh(e.parameters,!0,r),this.l(t,e)},h:function(t,e){var r=e.isRelative?0:e.position.y;yh(e.parameters,!1,r),this.l(t,e)},a:function(t,e){for(var r=e.parameters,n=e.position,i=0;i<r.length;i+=7){var o=r[i],s=r[i+1],a=r[i+2],l=r[i+3],c=r[i+4],h=new gc(r[i+5],r[i+6]);e.isRelative&&h.translateWith(n),n.x===h.x&&n.y===h.y||(t.arcTo(h,o,s,l,c,a),n.x=h.x,n.y=h.y)}},s:function(t,e){var r,n=e.parameters,i=e.position,o=e.previousCommand;"s"!==o&&"c"!==o||(r=La(La(t.paths).segments).controlIn());for(var s=0;s<n.length;s+=4){var a=new gc(n[s],n[s+1]),l=new gc(n[s+2],n[s+3]),c=void 0;e.isRelative&&(a.translateWith(i),l.translateWith(i)),c=r?vh(r,i):i.clone(),r=a,t.curveTo(c,a,l),i.x=l.x,i.y=l.y}},q:function(t,e){for(var r=e.parameters,n=e.position,i=0;i<r.length;i+=4){var o=new gc(r[i],r[i+1]),s=new gc(r[i+2],r[i+3]);e.isRelative&&(o.translateWith(n),s.translateWith(n));var a=wh(n,o,s);t.curveTo(a.controlOut,a.controlIn,s),n.x=s.x,n.y=s.y}},t:function(t,e){var r,n=e.parameters,i=e.position,o=e.previousCommand;"q"!==o&&"t"!==o||(r=La(La(t.paths).segments).controlIn().clone().translateWith(i.scaleCopy(-1/3)).scale(1.5));for(var s=0;s<n.length;s+=2){var a=new gc(n[s],n[s+1]);e.isRelative&&a.translateWith(i),r=r?vh(r,i):i.clone();var l=wh(i,r,a);t.curveTo(l.controlOut,l.controlIn,a),i.x=a.x,i.y=a.y}}};function yh(t,e,r){for(var n=e?0:1,i=0;i<t.length;i+=2)t.splice(i+n,0,r)}function vh(t,e){if(t&&e)return e.scaleCopy(2).translate(-t.x,-t.y)}var bh=1/3;function wh(t,e,r){var n=e.clone().scale(2/3);return{controlOut:n.clone().translateWith(t.scaleCopy(bh)),controlIn:n.translateWith(r.scaleCopy(bh))}}const xh=mh;var Sh=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,kh=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g;const Ah=function(t,e){var r,n=new gc;return e.replace(Sh,(function(e,i,o,s){var a=i.toLowerCase(),l=a===i,c=function(t){var e=[];return t.replace(kh,(function(t,r){e.push(parseFloat(r))})),e}(o.trim());if("m"===a&&(l?(n.x+=c[0],n.y+=c[1]):(n.x=c[0],n.y=c[1]),t.moveTo(n.x,n.y),c.length>2&&(a="l",c.splice(0,2))),xh[a])xh[a](t,{parameters:c,position:n,isRelative:l,previousCommand:r}),s&&"z"===s.toLowerCase()&&t.close();else if("m"!==a)throw new Error("Error while parsing SVG path. Unsupported command: "+a);r=a})),t};function Ch(t,e,r){for(var n,i=0;i<t.length;i++){var o=t[i];if(o.visible()){var s=e?o.bbox(r):o.rawBBox();s&&(n=n?bc.union(n,s):s)}}return n}function _h(t,e){for(var r,n=0;n<t.length;n++){var i=t[n];if(i.visible()){var o=i.clippedBBox(e);o&&(r=r?bc.union(r,o):o)}}return r}var Th=function(t){function e(e){t.call(this,e),this.segments=new Xc,this.segments.addObserver(this),Ds(this.options.stroke)||(this.stroke("#000"),Ds(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={nodeType:{configurable:!0}};return e.parse=function(t,e){return Oh.parse(t,e)},r.nodeType.get=function(){return"Path"},e.prototype.moveTo=function(t,e){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(t,e),this},e.prototype.lineTo=function(t,e){var r=Ds(e)?new gc(t,e):t,n=new gh(r);return this.segments.push(n),this},e.prototype.curveTo=function(t,e,r){if(this.segments.length>0){var n=La(this.segments),i=new gh(r,e);this.suspend(),n.controlOut(t),this.resume(),this.segments.push(i)}return this},e.prototype.arc=function(t,e,r,n,i){if(this.segments.length>0){var o=La(this.segments).anchor(),s=Ua(t),a=new gc(o.x-r*Math.cos(s),o.y-n*Math.sin(s)),l=new Nc(a,{startAngle:t,endAngle:e,radiusX:r,radiusY:n,anticlockwise:i});this._addArcSegments(l)}return this},e.prototype.arcTo=function(t,e,r,n,i,o){if(this.segments.length>0){var s=La(this.segments).anchor(),a=Nc.fromPoints(s,gc.create(t),e,r,n,i,o);this._addArcSegments(a)}return this},e.prototype._addArcSegments=function(t){this.suspend();for(var e=t.curvePoints(),r=1;r<e.length;r+=3)this.curveTo(e[r],e[r+1],e[r+2]);this.resume(),this.geometryChange()},e.prototype.close=function(){return this.options.closed=!0,this.geometryChange(),this},e.prototype.rawBBox=function(){return this._bbox()},e.prototype._containsPoint=function(t){for(var e,r,n=this.segments,i=n.length,o=0,s=1;s<i;s++)e=n[s-1],r=n[s],o+=e._intersectionsTo(r,t);return!this.options.closed&&n[0].anchor().equals(n[i-1].anchor())||(o+=hh(n[0].anchor(),n[i-1].anchor(),t)),o%2!=0},e.prototype._isOnPath=function(t,e){var r=this.segments,n=r.length,i=e||this.options.stroke.width;if(n>1){if(r[0]._isOnPathTo(r[1],t,i,"start"))return!0;for(var o=2;o<=n-2;o++)if(r[o-1]._isOnPathTo(r[o],t,i))return!0;if(r[n-2]._isOnPathTo(r[n-1],t,i,"end"))return!0}return!1},e.prototype._bbox=function(t){var e,r=this.segments,n=r.length;if(1===n){var i=r[0].anchor().transformCopy(t);e=new bc(i,yc.ZERO)}else if(n>0)for(var o=1;o<n;o++){var s=r[o-1].bboxTo(r[o],t);e=e?bc.union(e,s):s}return e},e.fromRect=function(t,r){var n=new e(r),i=t.cornerRadius,o=i[0],s=i[1];if(0===o&&0===s)n.moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close();else{var a=t.origin,l=a.x,c=a.y,h=t.width(),u=t.height();o=Na(o,0,h/2),s=Na(s,0,u/2),n.moveTo(l+o,c).lineTo(l+h-o,c).arcTo([l+h,c+s],o,s,!1).lineTo(l+h,c+u-s).arcTo([l+h-o,c+u],o,s,!1).lineTo(l+o,c+u).arcTo([l,c+u-s],o,s,!1).lineTo(l,c+s).arcTo([l+o,c],o,s,!1)}return n},e.fromPoints=function(t,r){if(t){for(var n=new e(r),i=0;i<t.length;i++){var o=gc.create(t[i]);o&&(0===i?n.moveTo(o):n.lineTo(o))}return n}},e.fromArc=function(t,r){var n=new e(r),i=t.startAngle,o=t.pointAt(i);return n.moveTo(o.x,o.y),n.arc(i,t.endAngle,t.radiusX,t.radiusY,t.anticlockwise),n},Object.defineProperties(e.prototype,r),e}(Qc(eh(Zc))),Oh=function(t){function e(e){t.call(this,e),this.paths=new Xc,this.paths.addObserver(this),Ds(this.options.stroke)||this.stroke("#000")}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={nodeType:{configurable:!0}};return e.parse=function(t,r){var n=new e(r);return Ah(n,t)},r.nodeType.get=function(){return"MultiPath"},e.prototype.moveTo=function(t,e){var r=new Th;return r.moveTo(t,e),this.paths.push(r),this},e.prototype.lineTo=function(t,e){return this.paths.length>0&&La(this.paths).lineTo(t,e),this},e.prototype.curveTo=function(t,e,r){return this.paths.length>0&&La(this.paths).curveTo(t,e,r),this},e.prototype.arc=function(t,e,r,n,i){return this.paths.length>0&&La(this.paths).arc(t,e,r,n,i),this},e.prototype.arcTo=function(t,e,r,n,i,o){return this.paths.length>0&&La(this.paths).arcTo(t,e,r,n,i,o),this},e.prototype.close=function(){return this.paths.length>0&&La(this.paths).close(),this},e.prototype._bbox=function(t){return Ch(this.paths,!0,t)},e.prototype.rawBBox=function(){return Ch(this.paths,!1)},e.prototype._containsPoint=function(t){for(var e=this.paths,r=0;r<e.length;r++)if(e[r]._containsPoint(t))return!0;return!1},e.prototype._isOnPath=function(t){for(var e=this.paths,r=this.options.stroke.width,n=0;n<e.length;n++)if(e[n]._isOnPath(t,r))return!0;return!1},e.prototype._clippedBBox=function(t){return _h(this.paths,this.currentTransform(t))},Object.defineProperties(e.prototype,r),e}(Qc(eh(Zc))),Mh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRing=function(t,e){var r=t.startAngle+180,n=t.angle+r;t.angle>0&&r===n&&(n+=.001);var i=new gc(t.center.x,t.center.y),o=Math.max(t.radius,0),s=Math.max(t.innerRadius,0),a=new Nc(i,{startAngle:r,endAngle:n,radiusX:o,radiusY:o}),l=Th.fromArc(a,e).close();if(s){a.radiusX=a.radiusY=s;var c=a.pointAt(n);l.lineTo(c.x,c.y),l.arc(n,r,s,s,!0)}else l.lineTo(i.x,i.y);return l},e}(va);Mh.current=new Mh;const Eh=Mh;var Ph=Math.PI/2,Ih=function(t){function e(e,r){void 0===e&&(e=new gc),void 0===r&&(r=0),t.call(this),this.setCenter(e),this.setRadius(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setCenter=function(t){return this._observerField("center",gc.create(t)),this.geometryChange(),this},e.prototype.getCenter=function(){return this.center},e.prototype.equals=function(t){return t&&t.center.equals(this.center)&&t.radius===this.radius},e.prototype.clone=function(){return new e(this.center.clone(),this.radius)},e.prototype.pointAt=function(t){return this._pointAt(Ua(t))},e.prototype.bbox=function(t){for(var e=Mc(this.center,this.radius,this.radius,t),r=gc.maxPoint(),n=gc.minPoint(),i=0;i<4;i++){var o=this._pointAt(e.x+i*Ph).transformCopy(t),s=this._pointAt(e.y+i*Ph).transformCopy(t),a=new gc(o.x,s.y);r=gc.min(r,a),n=gc.max(n,a)}return bc.fromPoints(r,n)},e.prototype._pointAt=function(t){var e=this.center,r=this.radius;return new gc(e.x+r*Math.cos(t),e.y+r*Math.sin(t))},e.prototype.containsPoint=function(t){var e=this.center,r=this.radius;return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(r,2)},e.prototype._isOnPath=function(t,e){var r=this.center,n=this.radius,i=r.distanceTo(t);return n-e<=i&&i<=n+e},e}(pc(cc,["radius"]));const Fh=Ih;function Dh(t){var e="_"+t;return function(t){return Ds(t)?(this._observerField(e,t),this.geometryChange(),this):this[e]}}const Rh=function(t,e){void 0===e&&(e=["geometry"]);var r=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t);return function(t,e){for(var r=0;r<e.length;r++)t[e[r]]=Dh(e[r])}(r.prototype,e),r};var Lh=function(t){function e(e,r){void 0===e&&(e=new Fh),void 0===r&&(r={}),t.call(this,r),this.geometry(e),Ds(this.options.stroke)||this.stroke("#000")}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={nodeType:{configurable:!0}};return r.nodeType.get=function(){return"Circle"},e.prototype.rawBBox=function(){return this._geometry.bbox()},e.prototype._bbox=function(t){return this._geometry.bbox(t)},e.prototype._containsPoint=function(t){return this.geometry().containsPoint(t)},e.prototype._isOnPath=function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)},Object.defineProperties(e.prototype,r),e}(Qc(eh(Rh(Zc))));const Nh=Lh;const Bh=function(t,e){return function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.traverse=function(t){for(var r=this[e],n=0;n<r.length;n++){var i=r[n];i.traverse?i.traverse(t):t(i)}return this},r}(t)};var jh=function(t){function e(e){t.call(this,e),this.children=[]}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={nodeType:{configurable:!0}};return r.nodeType.get=function(){return"Group"},e.prototype.childrenChange=function(t,e,r){this.trigger("childrenChange",{action:t,items:e,index:r})},e.prototype.append=function(){return wa(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this},e.prototype.insert=function(t,e){return this.children.splice(t,0,e),e.parent=this,this.childrenChange("add",[e],t),this},e.prototype.insertAt=function(t,e){return this.insert(e,t)},e.prototype.remove=function(t){var e=this.children.indexOf(t);return e>=0&&(this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)),this},e.prototype.removeAt=function(t){if(0<=t&&t<this.children.length){var e=this.children[t];this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)}return this},e.prototype.clear=function(){var t=this.children;return this.children=[],this._reparent(t,null),this.childrenChange("remove",t,0),this},e.prototype.bbox=function(t){return Ch(this.children,!0,this.currentTransform(t))},e.prototype.rawBBox=function(){return Ch(this.children,!1)},e.prototype._clippedBBox=function(t){return _h(this.children,this.currentTransform(t))},e.prototype.currentTransform=function(t){return Zc.prototype.currentTransform.call(this,t)||null},e.prototype.containsPoint=function(t,e){if(this.visible())for(var r=this.children,n=this.currentTransform(e),i=0;i<r.length;i++)if(r[i].containsPoint(t,n))return!0;return!1},e.prototype._reparent=function(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=n.parent;i&&i!==this&&i.remove&&i.remove(n),n.parent=e}},Object.defineProperties(e.prototype,r),e}(Bh(Zc,"children"));const zh=jh;function Uh(t){return.5-Math.cos(t*Math.PI)/2}function $h(t){return t}function Hh(t,e,r,n){var i=1.70158,o=0,s=n;return 0===t?r:1===t?r+n:(o||(o=.5),s<Math.abs(n)?(s=n,i=o/4):i=o/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-10*t)*Math.sin((Number(t)-i)*(1.1*Math.PI)/o)+n+r)}var Vh=function(t){var e="undefined"!=typeof window?window:{},r=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};Vh=function(t){return r.call(e,t)},Vh(t)};const qh=Vh;var Wh,Xh=function(t){function e(){t.call(this),this._items=[]}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={current:{configurable:!0}};return r.current.get=function(){return Wh||(Wh=new e),Wh},e.prototype.register=function(t,e){this._items.push({name:t,type:e})},e.prototype.create=function(t,e){var r,n=this._items;if(e&&e.type)for(var i=e.type.toLowerCase(),o=0;o<n.length;o++)if(n[o].name.toLowerCase()===i){r=n[o];break}if(r)return new r.type(t,e)},Object.defineProperties(e,r),e}(va);const Gh=Xh;var Kh=function(t){function e(e,r){t.call(this),this.options=Object.assign({},this.options,r),this.element=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={options:{configurable:!0}};return e.create=function(t,e,r){return Gh.current.create(t,e,r)},n.options.get=function(){return this._options||{duration:500,easing:"swing"}},n.options.set=function(t){this._options=t},e.prototype.setup=function(){},e.prototype.step=function(){},e.prototype.play=function(){var t=this,e=this.options,n=e.duration,i=e.delay;void 0===i&&(i=0);var o=r[e.easing],s=ja()+i,a=s+n;0===n?(this.step(1),this.abort()):setTimeout((function(){var e=function(){if(!t._stopped){var r=ja(),i=Na(r-s,0,n),l=o(i/n,i,0,1,n);t.step(l),r<a?qh(e):t.abort()}};e()}),i)},e.prototype.abort=function(){this._stopped=!0},e.prototype.destroy=function(){this.abort()},Object.defineProperties(e.prototype,n),e}(va);const Yh=Kh;var Jh=function(t){function e(e){t.call(this),this.children=[],this.options=Hs({},this.options,this.initUserOptions(e))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){return t},e.prototype.reflow=function(t){for(var e,r=this.children,n=0;n<r.length;n++){var i=r[n];i.reflow(t),e=e?e.wrap(i.box):i.box.clone()}this.box=e||t},e.prototype.destroy=function(){var t=this.children;this.animation&&this.animation.destroy();for(var e=0;e<t.length;e++)t[e].destroy()},e.prototype.getRoot=function(){var t=this.parent;return t?t.getRoot():null},e.prototype.getSender=function(){var t=this.getService();if(t)return t.sender},e.prototype.getService=function(){for(var t=this;t;){if(t.chartService)return t.chartService;t=t.parent}},e.prototype.translateChildren=function(t,e){for(var r=this.children,n=r.length,i=0;i<n;i++)r[i].box.translate(t,e)},e.prototype.append=function(){for(var t=arguments,e=this,r=0;r<arguments.length;r++){var n=t[r];e.children.push(n),n.parent=e}},e.prototype.renderVisual=function(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},e.prototype.addVisual=function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},e.prototype.renderChildren=function(){for(var t=this.children,e=t.length,r=0;r<e;r++)t[r].renderVisual()},e.prototype.createVisual=function(){this.visual=new zh({zIndex:this.options.zIndex,visible:Tl(this.options.visible,!0)})},e.prototype.createAnimation=function(){this.visual&&this.options.animation&&(this.animation=Yh.create(this.visual,this.options.animation))},e.prototype.appendVisual=function(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.clipRoot().visual.append(t):fl(t.options.zIndex)?this.stackRoot().stackVisual(t):this.isStackRoot?this.stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)},e.prototype.clipRoot=function(){return this.parent?this.parent.clipRoot():this},e.prototype.stackRoot=function(){return this.parent?this.parent.stackRoot():this},e.prototype.stackVisual=function(t){var e,r=t.options.zIndex||0,n=this.visual.children,i=n.length;for(e=0;e<i;e++){var o=n[e];if(Tl(o.options.zIndex,0)>r)break}this.visual.insert(e,t)},e.prototype.traverse=function(t){for(var e=this.children,r=e.length,n=0;n<r;n++){var i=e[n];t(i),i.traverse&&i.traverse(t)}},e.prototype.closest=function(t){for(var e=this,r=!1;e&&!r;)(r=t(e))||(e=e.parent);if(r)return e},e.prototype.renderComplete=function(){},e.prototype.hasHighlight=function(){var t=(this.options||{}).highlight;return!(!this.createHighlight||t&&!1===t.visible)},e.prototype.toggleHighlight=function(t,e){var r=this,n=(this.options||{}).highlight||{},i=n.visual,o=this._highlight;if(!o){var s={fill:{color:Ts,opacity:e||.2},stroke:{color:Ts,width:1,opacity:e||.2}};if(i){if(!(o=this._highlight=i(Object.assign(this.highlightVisualArgs(),{createVisual:function(){return r.createHighlight(s)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total}))))return}else o=this._highlight=this.createHighlight(s);fl(o.options.zIndex)||(o.options.zIndex=Tl(n.zIndex,this.options.zIndex)),this.appendVisual(o)}o.visible(t)},e.prototype.createGradientOverlay=function(t,e,r){var n=new Th(Object.assign({stroke:{color:"none"},fill:this.createGradient(r),closed:t.options.closed},e));return n.segments.elements(t.segments.elements()),n},e.prototype.createGradient=function(t){if(this.parent)return this.parent.createGradient(t)},e.prototype.supportsPointInactiveOpacity=function(){return!0},e}(va);Jh.prototype.options={};const Zh=Jh;var Qh=function(t){function e(e){t.call(this,e),this.options.margin=Ks(this.options.margin),this.options.padding=Ks(this.options.padding)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(e){var r,n=this,i=this.options,o=i.width,s=i.height,a=i.shrinkToFit,l=o&&s,c=i.margin,h=i.padding,u=i.border.width,p=function(){n.align(e,Ms,i.align),n.align(e,Es,i.vAlign),n.paddingBox=r.clone().unpad(c).unpad(u)},d=e.clone();l&&(d.x2=d.x1+o,d.y2=d.y1+s),a&&d.unpad(c).unpad(u).unpad(h),t.prototype.reflow.call(this,d),r=l?this.box=new Sc(0,0,o,s):this.box,a&&l?(p(),d=this.contentBox=this.paddingBox.clone().unpad(h)):(d=this.contentBox=r.clone(),r.pad(h).pad(u).pad(c),p()),this.translateChildren(r.x1-d.x1+c.left+u+h.left,r.y1-d.y1+c.top+u+h.top);for(var f=this.children,g=0;g<f.length;g++){var m=f[g];m.reflow(m.box)}},e.prototype.align=function(t,e,r){this.box.align(t,e,r)},e.prototype.hasBox=function(){var t=this.options;return t.border.width||t.background},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.options.visible&&this.hasBox()&&this.visual.append(Th.fromRect(this.paddingBox.toRect(),this.visualStyle()))},e.prototype.visualStyle=function(){var t=this.options,e=t.border||{};return{stroke:{width:e.width,color:e.color,opacity:Tl(e.opacity,t.opacity),dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}},e}(Zh);El(Qh,{align:ms,vAlign:Cs,margin:{},padding:{},border:{color:is,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});const tu=Qh;var eu=function(t){function e(e,r){t.call(this,e),this.pointData=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){var t=this.options,e=this.paddingBox,r=t.type,n=t.rotation,i=e.center(),o=e.width()/2,s=e.height()/2;if(!t.visible||!this.hasBox())return null;var a,l=this.visualStyle();if(r===ls)a=new Nh(new Fh([Cl(e.x1+o,3),Cl(e.y1+s,3)],Math.min(o,s)),l);else if("triangle"===r)a=Th.fromPoints([[e.x1+o,e.y1],[e.x1,e.y2],[e.x2,e.y2]],l).close();else if(r===cs)(a=new Oh(l)).moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),a.moveTo(e.x1,e.y2).lineTo(e.x2,e.y1);else{var c=e.toRect();if(r===ks){var h=Tl(t.borderRadius,c.width()/5);c.setCornerRadius(h)}a=Th.fromRect(c,l)}return n&&a.transform(Ic().rotate(-n,[i.x,i.y])),a.options.zIndex=t.zIndex,a},e.prototype.createElement=function(){var t=this,e=this.options.visual,r=this.pointData||{};return e?e({value:r.value,dataItem:r.dataItem,sender:this.getSender(),series:r.series,category:r.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return t.getElement()}}):this.getElement()},e.prototype.visualOptions=function(){var t=this.options;return{background:t.background,border:t.border,margin:t.margin,padding:t.padding,type:t.type,size:t.width,visible:t.visible}},e.prototype.createVisual=function(){this.visual=this.createElement()},e}(tu);El(eu,{type:ls,align:as,vAlign:as});const ru=eu;var nu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._change=function(){this.optionsChange({field:"stops"})},e}(qc);const iu=nu;function ou(t){return function(e){return Ds(e)?(this.options.set(t,e),this):this.options.get(t)}}const su=function(t,e){var r=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t);return function(t,e){for(var r=0;r<e.length;r++)t[e[r]]=ou(e[r])}(r.prototype,e),r};var au=function(t){function e(e,r,n){t.call(this),this.options=new Yc({offset:e,color:r,opacity:Ds(n)?n:1}),this.options.addObserver(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(Ds(t))return t instanceof e?t:t.length>1?new e(t[0],t[1],t[2]):new e(t.offset,t.color,t.opacity)},e}(su(cc,["offset","color","opacity"]));const lu=au;var cu=function(t){function e(e){void 0===e&&(e={}),t.call(this),this.stops=new iu(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=Ca()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={nodeType:{configurable:!0}};return r.nodeType.get=function(){return"Gradient"},e.prototype.userSpace=function(t){return Ds(t)?(this._userSpace=t,this.optionsChange(),this):this._userSpace},e.prototype._createStops=function(t){void 0===t&&(t=[]);for(var e=[],r=0;r<t.length;r++)e.push(lu.create(t[r]));return e},e.prototype.addStop=function(t,e,r){this.stops.push(new lu(t,e,r))},e.prototype.removeStop=function(t){var e=this.stops.indexOf(t);e>=0&&this.stops.splice(e,1)},e.prototype.optionsChange=function(t){this.trigger("optionsChange",{field:"gradient"+(t?"."+t.field:""),value:this})},e.prototype.geometryChange=function(){this.optionsChange()},Object.defineProperties(e.prototype,r),e}(cc);const hu=cu;var uu=function(t){function e(e){void 0===e&&(e={}),t.call(this,e),this.start(e.start||new gc),this.end(e.end||new gc(1,0))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ph(hu,["start","end"]));const pu=uu;var du=function(t){function e(e){void 0===e&&(e={}),t.call(this,e),this.center(e.center||new gc),this._radius=Ds(e.radius)?e.radius:1,this._fallbackFill=e.fallbackFill}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radius=function(t){return Ds(t)?(this._radius=t,this.geometryChange(),this):this._radius},e.prototype.fallbackFill=function(t){return Ds(t)?(this._fallbackFill=t,this.optionsChange(),this):this._fallbackFill},e}(ph(hu,["center"]));const fu=du;var gu="radial";const mu={glass:{type:"linear",rotation:0,stops:[{offset:0,color:Ts,opacity:0},{offset:.25,color:Ts,opacity:.3},{offset:1,color:Ts,opacity:0}]},sharpBevel:{type:gu,stops:[{offset:0,color:Ts,opacity:.55},{offset:.65,color:Ts,opacity:0},{offset:.95,color:Ts,opacity:.25}]},roundedBevel:{type:gu,stops:[{offset:.33,color:Ts,opacity:.06},{offset:.83,color:Ts,opacity:.2},{offset:.95,color:Ts,opacity:0}]},roundedGlass:{type:gu,supportVML:!1,stops:[{offset:0,color:Ts,opacity:0},{offset:.5,color:Ts,opacity:.3},{offset:.99,color:Ts,opacity:0}]},sharpGlass:{type:gu,supportVML:!1,stops:[{offset:0,color:Ts,opacity:.2},{offset:.15,color:Ts,opacity:.15},{offset:.17,color:Ts,opacity:.35},{offset:.85,color:Ts,opacity:.05},{offset:.87,color:Ts,opacity:.15},{offset:.99,color:Ts,opacity:0}]},bubbleShadow:{type:gu,center:[.5,.5],radius:.5}};function yu(t,e){if(t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2)return e;var r=Math.min(t.x1,e.x1),n=Math.max(t.x1,e.x1),i=Math.min(t.x2,e.x2),o=Math.max(t.x2,e.x2),s=Math.min(t.y1,e.y1),a=Math.max(t.y1,e.y1),l=Math.min(t.y2,e.y2),c=Math.max(t.y2,e.y2),h=[];return h[0]=new Sc(n,s,i,a),h[1]=new Sc(r,a,n,l),h[2]=new Sc(i,a,o,l),h[3]=new Sc(n,l,i,c),t.x1===r&&t.y1===s||e.x1===r&&e.y1===s?(h[4]=new Sc(r,s,n,a),h[5]=new Sc(i,l,o,c)):(h[4]=new Sc(i,s,o,a),h[5]=new Sc(r,l,n,c)),na(h,(function(t){return t.height()>0&&t.width()>0}))[0]}var vu=function(t){function e(e){t.call(this,e);var r=this.options;r.width=parseInt(r.width,10),r.height=parseInt(r.height,10),this.gradients={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(){var t=this.options,e=this.children,r=new Sc(0,0,t.width,t.height);this.box=r.unpad(t.margin);for(var n=0;n<e.length;n++)e[n].reflow(r),r=yu(r,e[n].box)||new Sc},e.prototype.createVisual=function(){this.visual=new zh,this.createBackground()},e.prototype.createBackground=function(){var t=this.options,e=t.border||{},r=this.box.clone().pad(t.margin).unpad(e.width),n=Th.fromRect(r.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(n)},e.prototype.getRoot=function(){return this},e.prototype.createGradient=function(t){var e,r=this.gradients,n=kl(t),i=mu[t.gradient];if(r[n])e=r[n];else{var o=Object.assign({},i,t);"linear"===i.type?e=new pu(o):(t.innerRadius&&(o.stops=function(t){for(var e=t.stops,r=t.innerRadius/t.radius*100,n=e.length,i=[],o=0;o<n;o++){var s=Object.assign({},e[o]);s.offset=(s.offset*(100-r)+r)/100,i.push(s)}return i}(o)),(e=new fu(o)).supportVML=!1!==i.supportVML),r[n]=e}return e},e.prototype.cleanGradients=function(){var t=this.gradients;for(var e in t)t[e]._observers=[]},e.prototype.size=function(){var t=this.options;return new Sc(0,0,t.width,t.height)},e}(Zh);El(vu,{width:600,height:400,background:Ts,border:{color:is,width:0},margin:Ks(5),zIndex:-2});const bu=vu;var wu=function(t){function e(e){t.call(this,e),this._initDirection()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initDirection=function(){var t=this.options;t.vertical?(this.groupAxis=Ms,this.elementAxis=Es,this.groupSizeField=Os,this.elementSizeField=fs,this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=Es,this.elementAxis=Ms,this.groupSizeField=fs,this.elementSizeField=Os,this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)},e.prototype.reflow=function(t){this.box=t.clone(),this.reflowChildren()},e.prototype.reflowChildren=function(){var t=this,e=this,r=e.box,n=e.elementAxis,i=e.groupAxis,o=e.elementSizeField,s=e.groupSizeField,a=this.groupOptions(),l=a.groups,c=a.groupsSize,h=a.maxGroupElementsSize,u=l.length,p=r[i+1]+this.alignStart(c,r[s]());if(u){for(var d=p,f=0;f<u;f++){for(var g=l[f],m=g.groupElements,y=r[n+1],v=m.length,b=0;b<v;b++){var w=m[b],x=t.elementSize(w),S=d+t.alignStart(x[s],g.groupSize),k=new Sc;k[i+1]=S,k[i+2]=S+x[s],k[n+1]=y,k[n+2]=y+x[o],w.reflow(k),y+=x[o]+t.elementSpacing}d+=g.groupSize+t.groupSpacing}r[i+1]=p,r[i+2]=p+c,r[n+2]=r[n+1]+h}},e.prototype.alignStart=function(t,e){var r=0,n=this.options.align;return n===Ss||n===ss?r=e-t:n===as&&(r=(e-t)/2),r},e.prototype.groupOptions=function(){for(var t=this,e=t.box,r=t.children,n=t.elementSizeField,i=t.groupSizeField,o=t.elementSpacing,s=t.groupSpacing,a=Cl(e[n]()),l=r.length,c=[],h=0,u=0,p=0,d=0,f=[],g=0;g<l;g++){var m=r[g];m.box||m.reflow(e);var y=this.elementSize(m);this.options.wrap&&Cl(u+o+y[n])>a&&(c.push({groupElements:f,groupSize:h,groupElementsSize:u}),d=Math.max(d,u),p+=s+h,h=0,u=0,f=[]),h=Math.max(h,y[i]),u>0&&(u+=o),u+=y[n],f.push(m)}return c.push({groupElements:f,groupSize:h,groupElementsSize:u}),{groups:c,groupsSize:p+=h,maxGroupElementsSize:d=Math.max(d,u)}},e.prototype.elementSize=function(t){return{width:t.box.width(),height:t.box.height()}},e.prototype.createVisual=function(){},e}(Zh);El(wu,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});const xu=wu;var Su=function(t){function e(e,r,n){void 0===r&&(r=new gc),void 0===n&&(n={}),t.call(this,n),this.content(e),this.position(r),this.options.font||(this.options.font="12px sans-serif"),Ds(this.options.fill)||this.fill("#000")}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={nodeType:{configurable:!0}};return r.nodeType.get=function(){return"Text"},e.prototype.content=function(t){return Ds(t)?(this.options.set("content",t),this):this.options.get("content")},e.prototype.measure=function(){return ul(this.content(),{font:this.options.get("font")})},e.prototype.rect=function(){var t=this.measure(),e=this.position().clone();return new bc(e,[t.width,t.height])},e.prototype.bbox=function(t){var e=dc(this.currentTransform(t));return this.rect().bbox(e)},e.prototype.rawBBox=function(){return this.rect().bbox()},e.prototype._containsPoint=function(t){return this.rect().containsPoint(t)},Object.defineProperties(e.prototype,r),e}(Qc(ph(Zc,["position"])));const ku=Su;var Au=ku,Cu=function(t){function e(e,r){t.call(this,r),this.content=e,this.reflow(new Sc)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,r=e.size=ul(this.content,{font:e.font});this.baseline=r.baseline,this.box=new Sc(t.x1,t.y1,t.x1+r.width,t.y1+r.height)},e.prototype.createVisual=function(){var t=this.options,e=t.font,r=t.color,n=t.opacity,i=t.cursor;this.visual=new Au(this.content,this.box.toRect().topLeft(),{font:e,fill:{color:r,opacity:n},cursor:i})},e}(Zh);El(Cu,{font:us,color:is});const _u=Cu;function Tu(t){var e=t.origin,r=t.bottomRight();return new Sc(e.x,e.y,r.x,r.y)}var Ou=/\n/m,Mu=function(t){function e(e,r,n){t.call(this,r),this.content=e,this.data=n,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new Sc)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initContainer=function(){var t=this.options,e=String(this.content).split(Ou),r=new xu({vertical:!0,align:t.align,wrap:!1}),n=Hs({},t,{opacity:1,animation:null});this.container=r,this.append(r);for(var i=0;i<e.length;i++){var o=new _u(e[i].trim(),n);r.append(o)}},e.prototype.reflow=function(e){var r=this.options,n=r.visual;if(this.container.options.align=r.align,n&&!this._boxReflow){var i=e;i.hasSize()||(this._boxReflow=!0,this.reflow(i),this._boxReflow=!1,i=this.box);var o=this.visual=n(this.visualContext(i));o&&(i=Tu(o.clippedBBox()||new bc),o.options.zIndex=r.zIndex),this.box=this.contentBox=this.paddingBox=i}else if(t.prototype.reflow.call(this,e),r.rotation){var s=Ks(r.margin),a=this.box.unpad(s);this.targetBox=e,this.normalBox=a.clone(),(a=this.rotate()).translate(s.left-s.right,s.top-s.bottom),this.rotatedBox=a.clone(),a.pad(s)}},e.prototype.createVisual=function(){var t=this.options;if(this.visual=new zh({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()){var e=Th.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(e)}},e.prototype.renderVisual=function(){if(this.options.visible)if(this.options.visual){var e=this.visual;e&&!fl(e.options.noclip)&&(e.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else t.prototype.renderVisual.call(this)},e.prototype.visualContext=function(t){var e=this,r={text:this.content,rect:t.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){return e._boxReflow=!0,e.reflow(t),e._boxReflow=!1,e.getDefaultVisual()}};return this.data&&Object.assign(r,this.data),r},e.prototype.getDefaultVisual=function(){this.createVisual(),this.renderChildren();var t=this.visual;return delete this.visual,t},e.prototype.rotate=function(){var t=this.options;return this.box.rotate(t.rotation),this.align(this.targetBox,Ms,t.align),this.align(this.targetBox,Es,t.vAlign),this.box},e.prototype.rotationTransform=function(){var t=this.options.rotation;if(!t)return null;var e=this.normalBox.center(),r=e.x,n=e.y,i=this.rotatedBox.center();return Ic().translate(i.x-r,i.y-n).rotate(t,[r,n])},e}(tu);const Eu=Mu;var Pu=function(t){function e(e){t.call(this,e),this.append(new Eu(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(e){t.prototype.reflow.call(this,e),this.box.snapTo(e,Ms)},e.buildTitle=function(t,r,n){var i,o=t;return"string"==typeof t&&(o={text:t}),(o=Object.assign({visible:!0},n,o))&&o.visible&&o.text&&(i=new e(o),r.append(i)),i},e}(Zh);El(Pu,{color:is,position:Cs,align:as,margin:Ks(5),padding:Ks(5)});const Iu=Pu;var Fu=function(t){function e(e,r,n,i,o){t.call(this,r,o),this.text=r,this.value=e,this.index=n,this.dataItem=i,this.reflow(new Sc)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.visualContext=function(e){var r=t.prototype.visualContext.call(this,e);return r.value=this.value,r.dataItem=this.dataItem,r.format=this.options.format,r.culture=this.options.culture,r},e.prototype.click=function(t,e){t.trigger("axisLabelClick",{element:bl(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},e.prototype.rotate=function(){if(this.options.alignRotation!==as){var e=this.normalBox.toRect(),r=this.rotationTransform();this.box=Tu(e.bbox(r.matrix()))}else t.prototype.rotate.call(this);return this.box},e.prototype.rotationTransform=function(){var e=this.options,r=e.rotation;if(!r)return null;if(e.alignRotation===as)return t.prototype.rotationTransform.call(this);var n=Ic().rotate(r).matrix(),i=this.normalBox.toRect(),o=this.targetBox.toRect(),s=e.rotationOrigin||Cs,a=s===Cs||s===ss?Ms:Es,l=s===Cs||s===ss?Es:Ms,c=s===Cs||s===ms?o.origin:o.bottomRight(),h=i.topLeft().transformCopy(n),u=i.topRight().transformCopy(n),p=i.bottomRight().transformCopy(n),d=i.bottomLeft().transformCopy(n),f=bc.fromPoints(h,u,p,d),g={};g[l]=o.origin[l]-f.origin[l];var m,y,v=Math.abs(h[l]+g[l]-c[l]),b=Math.abs(u[l]+g[l]-c[l]);Cl(v,ps)===Cl(b,ps)?(m=h,y=u):b<v?(m=u,y=p):(m=h,y=d);var w=m[a]+(y[a]-m[a])/2;return g[a]=o.center()[a]-w,Ic().translate(g.x,g.y).rotate(r)},e}(Eu);El(Fu,{_autoReflow:!1});const Du=Fu;var Ru=function(t){function e(e,r,n){t.call(this,r),this.fields=e,this.chartService=n,this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hide=function(){this.options.visible=!1},e.prototype.show=function(){this.options.visible=!0},e.prototype.render=function(){var t=this,e=this.options;if(e.visible){var r,n,i=e.label,o=e.icon,s=new Sc,a=function(){return t},l=o.size,c=this.fields.text;if(fl(i)&&i.visible){var h=Qs(i);h?c=h(this.fields):i.format&&(c=this.chartService.format.auto(i.format,c)),i.color||(i.color=i.position===gs?"#fff":o.background),this.label=new Eu(c,Hs({},i)),this.label.aliasFor=a,i.position!==gs||fl(l)||(o.type===ls?l=Math.max(this.label.box.width(),this.label.box.height()):(r=this.label.box.width(),n=this.label.box.height()),s.wrap(this.label.box))}o.width=r||l||7,o.height=n||l||7;var u=new ru(Hs({},o));u.aliasFor=a,this.marker=u,this.append(u),this.label&&this.append(this.label),u.reflow(new Sc),this.wrapperBox=s.wrap(u.box)}},e.prototype.reflow=function(t){var e,r,n,i=this,o=i.options,s=i.label,a=i.marker,l=i.wrapperBox,c=t.center(),h=o.line.length,u=o.position;o.visible&&(aa(u,[ms,Ss])?u===ms?(n=l.alignTo(t,u).translate(-h,t.center().y-l.center().y),o.line.visible&&(e=[t.x1,c.y],this.linePoints=[e,[n.x2,c.y]],r=n.clone().wrapPoint(e))):(n=l.alignTo(t,u).translate(h,t.center().y-l.center().y),o.line.visible&&(e=[t.x2,c.y],this.linePoints=[e,[n.x1,c.y]],r=n.clone().wrapPoint(e))):u===ss?(n=l.alignTo(t,u).translate(t.center().x-l.center().x,h),o.line.visible&&(e=[c.x,t.y2],this.linePoints=[e,[c.x,n.y1]],r=n.clone().wrapPoint(e))):(n=l.alignTo(t,u).translate(t.center().x-l.center().x,-h),o.line.visible&&(e=[c.x,t.y1],this.linePoints=[e,[c.x,n.y2]],r=n.clone().wrapPoint(e))),a&&a.reflow(n),s&&(s.reflow(n),a&&(o.label.position===xs&&s.box.alignTo(a.box,u),s.reflow(s.box))),this.contentBox=n,this.targetBox=t,this.box=r||n)},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()},e.prototype.renderVisual=function(){var e=this,r=this.options,n=r.visual;r.visible&&n?(this.visual=n(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:r.background,border:r.background,icon:r.icon,label:r.label,line:r.line,position:r.position,visible:r.visible},createVisual:function(){e.createVisual(),e.renderChildren();var t=e.visual;return delete e.visual,t}})),this.addVisual()):t.prototype.renderVisual.call(this)},e.prototype.createLine=function(){var t=this.options.line;if(this.linePoints){var e=Th.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});Rs(e),this.visual.append(e)}},e.prototype.click=function(t,e){var r=this.eventArgs(e);t.trigger("noteClick",r)||e.preventDefault()},e.prototype.over=function(t,e){var r=this.eventArgs(e);t.trigger("noteHover",r)||e.preventDefault()},e.prototype.out=function(t,e){var r=this.eventArgs(e);t.trigger("noteLeave",r)},e.prototype.eventArgs=function(t){var e=this.options;return Object.assign(this.fields,{element:bl(t),text:fl(e.label)?e.label.text:"",visual:this.visual})},e}(tu);El(Ru,{icon:{visible:!0,type:ls},label:{position:gs,visible:!0,align:as,vAlign:as},line:{visible:!0},visible:!0,position:Cs,zIndex:2});const Lu=Ru;var Nu={format:function(t,e){return e},toString:function(t){return t},parseDate:function(t){return new Date(t)},firstDay:function(){return 0}},Bu=function(){},ju={implementation:{configurable:!0}};Bu.register=function(t){Nu=t},ju.implementation.get=function(){return Nu},Object.defineProperties(Bu,ju);const zu=Bu;var Uu=/\{(\d+)(:[^\}]+)?\}/g,$u=function(t){this._intlService=t},Hu={intl:{configurable:!0}};Hu.intl.get=function(){return this._intlService||zu.implementation},Hu.intl.set=function(t){this._intlService=t},$u.prototype.auto=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];var n=this.intl;return Bs(t)&&t.match(ds)?n.format.apply(n,[t].concat(e)):n.toString(e[0],t)},$u.prototype.localeAuto=function(t,e,r){var n=this.intl;return Bs(t)&&t.match(ds)?t.replace(Uu,(function(t,i,o){var s=e[parseInt(i,10)];return n.toString(s,o?o.substring(1):"",r)})):n.toString(e[0],t,r)},Object.defineProperties($u.prototype,Hu);const Vu=$u;var qu=function(t,e){void 0===e&&(e={}),this._intlService=e.intlService,this.sender=e.sender||t,this.format=new Vu(e.intlService),this.chart=t,this.rtl=Boolean(e.rtl)},Wu={intl:{configurable:!0}};Wu.intl.get=function(){return this._intlService||zu.implementation},Wu.intl.set=function(t){this._intlService=t,this.format.intl=t},qu.prototype.notify=function(t,e){this.chart&&this.chart.trigger(t,e)},qu.prototype.isPannable=function(t){var e=((this.chart||{}).options||{}).pannable;return e&&e.lock!==t},Object.defineProperties(qu.prototype,Wu);const Xu=qu;var Gu,Ku=function(){};Ku.register=function(t){Gu=t},Ku.create=function(t,e){if(Gu)return Gu.create(t,e)};const Yu=Ku;function Ju(t,e){var r=t.tickX,n=t.tickY,i=t.position,o=new Th({stroke:{width:e.width,color:e.color}});return t.vertical?o.moveTo(r,i).lineTo(r+e.size,i):o.moveTo(i,n).lineTo(i,n+e.size),Rs(o),o}function Zu(t,e){var r=t.lineStart,n=t.lineEnd,i=t.position,o=new Th({stroke:{width:e.width,color:e.color,dashType:e.dashType}});return t.vertical?o.moveTo(r,i).lineTo(n,i):o.moveTo(i,r).lineTo(i,n),Rs(o),o}var Qu=function(t){function e(e,r){void 0===r&&(r=new Xu),t.call(this,e),this.chartService=r,this.options.visible||(this.options=Hs({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=Hs({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==bs},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=Hs({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==bs},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){},e.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.labelsCount()}},e.prototype.normalizeLabelRotation=function(t){var e=t.rotation;Vs(e)&&(t.alignRotation=e.align,t.rotation=e.angle)},e.prototype.createLabels=function(){var t=this,e=this.options,r=e.vertical?Ss:as,n=Hs({},e.labels,{align:r,zIndex:e.zIndex}),i=Math.max(1,n.step);if(this.clearLabels(),n.visible){this.normalizeLabelRotation(n),"auto"===n.rotation&&(n.rotation=0,e.autoRotateLabels=!0);for(var o=this.labelsRange(),s=o.min;s<o.max;s+=i){var a={index:s,count:o.max},l=t.createAxisLabel(s,n,a);l&&(t.append(l),t.labels.push(l))}}},e.prototype.clearLabels=function(){this.children=na(this.children,(function(t){return!(t instanceof Du)})),this.labels=[]},e.prototype.clearTitle=function(){var t=this;this.title&&(this.children=na(this.children,(function(e){return e!==t.title})),this.title=void 0)},e.prototype.clear=function(){this.clearLabels(),this.clearTitle()},e.prototype.lineBox=function(){var t=this.options,e=this.box,r=t.vertical,n=t.labels.mirror,i=n?e.x1:e.x2,o=n?e.y2:e.y1,s=t.line.width||0;return r?new Sc(i,e.y1,i,e.y2-s):new Sc(e.x1,o,e.x2-s,o)},e.prototype.createTitle=function(){var t=this.options,e=Hs({rotation:t.vertical?-90:0,text:"",zIndex:1,visualSize:!0},t.title);if(e.visible&&e.text){var r=new Eu(e.text,e);this.append(r),this.title=r}},e.prototype.createNotes=function(){var t=this,e=this.options,r=e.notes,n=r.data||[];this.notes=[];for(var i=0;i<n.length;i++){var o=Hs({},r,n[i]);o.value=t.parseNoteValue(o.value);var s=new Lu({value:o.value,text:o.label.text,dataItem:o},o,t.chartService);s.options.visible&&(fl(s.options.position)?e.vertical&&!aa(s.options.position,[ms,Ss])?s.options.position=e.reverse?ms:Ss:e.vertical||aa(s.options.position,[Cs,ss])||(s.options.position=e.reverse?ss:Cs):e.vertical?s.options.position=e.reverse?ms:Ss:s.options.position=e.reverse?ss:Cs,t.append(s),t.notes.push(s))}},e.prototype.parseNoteValue=function(t){return t},e.prototype.renderVisual=function(){t.prototype.renderVisual.call(this),this.createPlotBands()},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.createBackground(),this.createLine()},e.prototype.gridLinesVisual=function(){var t=this._gridLines;return t||(t=this._gridLines=new zh({zIndex:-2}),this.appendVisual(this._gridLines)),t},e.prototype.createTicks=function(t){var e=this.options,r=this.lineBox(),n=e.labels.mirror,i=e.majorTicks.visible?e.majorUnit:0,o={vertical:e.vertical};function s(e,i,s){var a=e.length,l=Math.max(1,i.step);if(i.visible)for(var c=i.skip;c<a;c+=l)fl(s)&&c%s==0||(o.tickX=n?r.x2:r.x2-i.size,o.tickY=n?r.y1-i.size:r.y1,o.position=e[c],t.append(Ju(o,i)))}s(this.getMajorTickPositions(),e.majorTicks),s(this.getMinorTickPositions(),e.minorTicks,i/e.minorUnit)},e.prototype.createLine=function(){var t=this.options,e=t.line,r=this.lineBox();if(e.width>0&&e.visible){var n=new Th({stroke:{width:e.width,color:e.color,dashType:e.dashType}});n.moveTo(r.x1,r.y1).lineTo(r.x2,r.y2),t._alignLines&&Rs(n);var i=this._lineGroup=new zh;i.append(n),this.visual.append(i),this.createTicks(i)}},e.prototype.getActualTickSize=function(){var t=this.options,e=0;return t.majorTicks.visible&&t.minorTicks.visible?e=Math.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?e=t.majorTicks.size:t.minorTicks.visible&&(e=t.minorTicks.size),e},e.prototype.createBackground=function(){var t=this.options,e=this.box,r=t.background;r&&(this._backgroundPath=Th.fromRect(e.toRect(),{fill:{color:r},stroke:null}),this.visual.append(this._backgroundPath))},e.prototype.createPlotBands=function(){var t=this,e=this.options,r=e.plotBands||[],n=e.vertical,i=this.plotArea;if(0!==r.length){for(var o=this._plotbandGroup=new zh({zIndex:-1}),s=na(this.pane.axes,(function(e){return e.options.vertical!==t.options.vertical}))[0],a=0;a<r.length;a++){var l=r[a],c=void 0,h=void 0,u=l.label,p=void 0;if(n?(c=(s||i.axisX).lineBox(),h=t.getSlot(l.from,l.to,!0)):(c=t.getSlot(l.from,l.to,!0),h=(s||i.axisY).lineBox()),u&&(u.vAlign=u.position||ms,p=t.createPlotBandLabel(u,l,new Sc(c.x1,h.y1,c.x2,h.y2))),0!==c.width()&&0!==h.height()){var d=new bc([c.x1,h.y1],[c.width(),h.height()]),f=Th.fromRect(d,{fill:{color:l.color,opacity:l.opacity},stroke:null});o.append(f),p&&o.append(p)}}this.appendVisual(o)}},e.prototype.createPlotBandLabel=function(t,e,r){if(!1===t.visible)return null;var n,i=t.text;if(fl(t)&&t.visible){var o=Qs(t);o?i=o({text:i,item:e}):t.format&&(i=this.chartService.format.auto(t.format,i)),t.color||(t.color=this.options.labels.color)}return(n=new Eu(i,t)).reflow(r),n.renderVisual(),n.visual},e.prototype.createGridLines=function(t){var e=this.options,r=e.minorGridLines,n=e.majorGridLines,i=e.minorUnit,o=e.vertical,s=t.options.line.visible,a=n.visible?e.majorUnit:0,l=t.lineBox(),c=l[o?"y1":"x1"],h={lineStart:l[o?"x1":"y1"],lineEnd:l[o?"x2":"y2"],vertical:o},u=[],p=this.gridLinesVisual();function d(t,e,r){var n=t.length,i=Math.max(1,e.step);if(e.visible)for(var o=e.skip;o<n;o+=i){var a=Cl(t[o]);aa(a,u)||o%r==0||s&&c===a||(h.position=a,p.append(Zu(h,e)),u.push(a))}}return d(this.getMajorTickPositions(),n),d(this.getMinorTickPositions(),r,a/i),p.children},e.prototype.reflow=function(t){for(var e=this,r=e.options,n=e.labels,i=e.title,o=r.vertical,s=n.length,a=o?Os:fs,l=i?i.box[a]():0,c=this.getActualTickSize()+r.margin+l,h=((this.getRoot()||{}).box||t)[a](),u=0,p=0;p<s;p++){var d=n[p].box[a]();d+c<=h&&(u=Math.max(u,d))}this.box=o?new Sc(t.x1,t.y1,t.x1+u+c,t.y2):new Sc(t.x1,t.y1,t.x2,t.y1+u+c),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()},e.prototype.getLabelsTickPositions=function(){return this.getMajorTickPositions()},e.prototype.labelTickIndex=function(t){return t.index},e.prototype.arrangeLabels=function(){for(var t=this.options,e=this.labels,r=this.labelsBetweenTicks(),n=t.vertical,i=t.labels.mirror,o=this.getLabelsTickPositions(),s=0;s<e.length;s++){var a=e[s],l=this.labelTickIndex(a),c=n?a.box.height():a.box.width(),h=o[l],u=o[l+1],p=void 0,d=void 0;if(n){if(r)p=h+(u-h)/2-c/2;else p=h-c/2;d=p}else r?(p=h,d=u):d=(p=h-c/2)+c;this.positionLabel(a,i,p,d)}},e.prototype.positionLabel=function(t,e,r,n){void 0===n&&(n=r);var i,o=this.options,s=o.vertical,a=this.lineBox(),l=this.getActualTickSize()+o.margin;if(s){var c=a.x2;e?(c+=l,t.options.rotationOrigin=ms):(c-=l+t.box.width(),t.options.rotationOrigin=Ss),i=t.box.move(c,r)}else{var h=a.y1;e?(h-=l+t.box.height(),t.options.rotationOrigin=ss):(h+=l,t.options.rotationOrigin=Cs),i=new Sc(r,h,n,h+t.box.height())}t.reflow(i)},e.prototype.autoRotateLabelAngle=function(t,e){return t.width()<e?0:t.height()>e?-90:-45},e.prototype.autoRotateLabels=function(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;for(var t=this.getMajorTickPositions(),e=this.labels,r=Math.min(e.length,t.length-1),n=0,i=0;i<r;i++){var o=Math.abs(t[i+1]-t[i]),s=e[i].box,a=this.autoRotateLabelAngle(s,o);if(0!==a&&(n=a),-90===n)break}if(0!==n){for(var l=0;l<e.length;l++)e[l].options.rotation=n,e[l].reflow(new Sc);return!0}},e.prototype.arrangeTitle=function(){var t=this.options,e=this.title,r=t.labels.mirror,n=t.vertical;e&&(n?(e.options.align=r?Ss:ms,e.options.vAlign=e.options.position):(e.options.align=e.options.position,e.options.vAlign=r?Cs:ss),e.reflow(this.box))},e.prototype.arrangeNotes=function(){for(var t=this,e=0;e<this.notes.length;e++){var r=t.notes[e],n=r.options.value,i=void 0;fl(n)?(t.shouldRenderNote(n)?r.show():r.hide(),i=t.noteSlot(n)):r.hide(),r.reflow(i||t.lineBox())}},e.prototype.noteSlot=function(t){return this.getSlot(t)},e.prototype.alignTo=function(t){var e=t.lineBox(),r=this.options.vertical,n=r?Es:Ms;this.box.snapTo(e,n),r?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[n+1]-=this.lineBox()[n+1]-e[n+1],this.box[n+2]-=this.lineBox()[n+2]-e[n+2]},e.prototype.axisLabelText=function(t,e,r){var n,i=this,o=Qs(e),s=function(){return e.format?i.chartService.format.localeAuto(e.format,[t],e.culture):t};o?n=o(Object.assign({},r,{get text(){return s()},value:t,format:e.format,culture:e.culture})):n=s();return n},e.prototype.slot=function(t,e,r){var n=this.getSlot(t,e,r);if(n)return n.toRect()},e.prototype.contentBox=function(){var t=this.box.clone(),e=this.labels;if(e.length){var r=this.options.vertical?Es:Ms;if(this.chartService.isPannable(r)){var n=this.maxLabelOffset();t[r+1]-=n.start,t[r+2]+=n.end}else{e[0].options.visible&&t.wrap(e[0].box);var i=e[e.length-1];i.options.visible&&t.wrap(i.box)}}return t},e.prototype.maxLabelOffset=function(){for(var t=this.options,e=t.vertical,r=t.reverse,n=this.labelsBetweenTicks(),i=this.getLabelsTickPositions(),o=e?Es:Ms,s=this.labels,a=r?1:0,l=r?0:1,c=0,h=0,u=0;u<s.length;u++){var p=s[u],d=this.labelTickIndex(p),f=void 0,g=void 0;n?(f=i[d+a],g=i[d+l]):f=g=i[d],c=Math.max(c,f-p.box[o+1]),h=Math.max(h,p.box[o+2]-g)}return{start:c,end:h}},e.prototype.limitRange=function(t,e,r,n,i){var o=this.options;if(t<r&&i<0&&(!fl(o.min)||o.min<=r)||n<e&&i>0&&(!fl(o.max)||n<=o.max))return null;if(e<r&&i>0||n<t&&i<0)return{min:t,max:e};var s=e-t,a=t,l=e;return t<r&&i<0?(a=Sl(t,r,n),l=Sl(t+s,r+s,n)):e>n&&i>0&&(l=Sl(e,r,n),a=Sl(e-s,r,n-s)),{min:a,max:l}},e.prototype.valueRange=function(){return{min:this.seriesMin,max:this.seriesMax}},e.prototype.lineDir=function(){var t=this.options;return(t.vertical?-1:1)*(t.reverse?-1:1)},e.prototype.lineInfo=function(){var t=this.options.vertical,e=this.lineBox(),r=t?e.height():e.width(),n=t?Es:Ms,i=this.lineDir(),o=n+(1===i?1:2).toString();return{axis:n,axisOrigin:o,axisDir:i,lineBox:e,lineSize:r,lineStart:e[o]}},e.prototype.pointOffset=function(t){var e=this.lineInfo(),r=e.axis,n=e.axisDir,i=e.axisOrigin,o=e.lineBox,s=e.lineSize;return(n>0?t[r]-o[i]:o[i]-t[r])/s},e.prototype.scaleToDelta=function(t,e){var r=Sl(t,-.999,.999);return r>0?e*Math.min(1,r):e-e/(1+r)},e.prototype.labelsBetweenTicks=function(){return!this.options.justified},e.prototype.prepareUserOptions=function(){},e}(Zh);El(Qu,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:is,visible:!0},title:{visible:!0,position:as},majorTicks:{align:xs,size:4,skip:0,step:1},minorTicks:{align:xs,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:xs,minorTickType:bs,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:is,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});const tp=Qu;var ep="milliseconds",rp="seconds",np="minutes",ip="hours",op="days",sp="weeks",ap="months",lp="years",cp=1e3,hp=6e4,up=36e5,pp=864e5,dp=6048e5,fp=26784e5,gp=31536e6,mp={years:gp,months:fp,weeks:dp,days:pp,hours:up,minutes:hp,seconds:cp,milliseconds:1};function yp(t,e){return t.getTime()-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hp}function vp(t,e){return new Date(t.getTime()+e)}function bp(t){var e;return t instanceof Date?e=t:t&&(e=new Date(t)),e}function wp(t,e){return 0===e&&23===t.getHours()&&(t.setHours(t.getHours()+2),!0)}function xp(t,e,r,n){var i=t;if(t){var o=bp(t),s=o.getHours();r===lp?wp(i=new Date(o.getFullYear()+e,0,1),0):r===ap?wp(i=new Date(o.getFullYear(),o.getMonth()+e,1),s):r===sp?(i=xp(function(t,e){void 0===e&&(e=0);var r=0,n=t.getDay();if(!isNaN(n))for(;n!==e;)0===n?n=6:n--,r++;return vp(t,-r*pp)}(o,n),7*e,op),wp(i,s)):r===op?wp(i=new Date(o.getFullYear(),o.getMonth(),o.getDate()+e),s):r===ip?i=function(t,e){var r=new Date(t);r.setMinutes(0,0,0);var n=(t.getTimezoneOffset()-r.getTimezoneOffset())*hp;return vp(r,n+e*up)}(o,e):r===np?(i=vp(o,e*hp)).getSeconds()>0&&i.setSeconds(0):r===rp?i=vp(o,e*cp):r===ep&&(i=vp(o,e)),r!==ep&&i.getMilliseconds()>0&&i.setMilliseconds(0)}return i}function Sp(t,e,r){return xp(bp(t),0,e,r)}function kp(t,e,r){var n=bp(t);return n&&Sp(n,e,r).getTime()===n.getTime()?n:xp(n,1,e,r)}function Ap(t,e){return t&&e?t.getTime()-e.getTime():-1}function Cp(t,e){return t.getTime()-e}function _p(t){if(Ps(t)){for(var e=[],r=0;r<t.length;r++)e.push(_p(t[r]));return e}if(t)return bp(t).getTime()}function Tp(t,e){return t&&e?_p(t)===_p(e):t===e}function Op(t,e,r){return yp(t,e)/mp[r]}function Mp(t,e,r,n){var i=bp(t),o=bp(e);return(r===ap?i.getMonth()-o.getMonth()+12*(i.getFullYear()-o.getFullYear())+Op(i,new Date(i.getFullYear(),i.getMonth()),op)/new Date(i.getFullYear(),i.getMonth()+1,0).getDate():r===lp?i.getFullYear()-o.getFullYear()+Mp(i,new Date(i.getFullYear(),0),ap,1)/12:r===op||r===sp?Op(i,o,r):Cp(i,e)/mp[r])/n}function Ep(t,e,r){return r===lp?e.getFullYear()-t.getFullYear():r===ap?12*Ep(t,e,lp)+e.getMonth()-t.getMonth():r===op?Math.floor(Cp(e,t)/pp):Math.floor(Cp(e,t)/mp[r])}function Pp(t,e){return Bs(e)&&t.parseDate(e)||bp(e)}function Ip(t,e){if(Ps(e)){for(var r=[],n=0;n<e.length;n++)r.push(Pp(t,e[n]));return r}return Pp(t,e)}function Fp(t,e){return Ns(t.weekStartDay)?t.weekStartDay:e&&e.firstDay?e.firstDay():0}var Dp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this._ticks={}},e.prototype.categoriesHash=function(){return""},e.prototype.clone=function(){var t=new e(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return t.createLabels(),t},e.prototype.initUserOptions=function(t){var e=t.categories||[],r=fl(t.min),n=fl(t.max);if(t.srcCategories=t.categories=e,(r||n)&&e.length){var i,o=r?Math.floor(t.min):0;i=n?t.justified?Math.floor(t.max)+1:Math.ceil(t.max):e.length,t.categories=t.categories.slice(o,i)}return t},e.prototype.rangeIndices=function(){var t=this.options,e=t.categories.length||1;return{min:Ns(t.min)?t.min%1:0,max:Ns(t.max)&&t.max%1!=0&&t.max<this.totalRange().max?e-(1-t.max%1):e-(t.justified?1:0)}},e.prototype.totalRangeIndices=function(t){var e,r=this.options,n=Ns(r.min)?r.min:0;if(e=Ns(r.max)?r.max:Ns(r.min)?n+r.categories.length:this.totalRange().max||1,t){var i=this.totalRange();n=Sl(n,0,i.max),e=Sl(e,0,i.max)}return{min:n,max:e}},e.prototype.range=function(){var t=this.options;return{min:Ns(t.min)?t.min:0,max:Ns(t.max)?t.max:this.totalRange().max}},e.prototype.roundedRange=function(){return this.range()},e.prototype.totalRange=function(){var t=this.options;return{min:0,max:Math.max(this._seriesMax||0,t.srcCategories.length)-(t.justified?1:0)}},e.prototype.scaleOptions=function(){var t=this.rangeIndices(),e=t.min,r=t.max,n=this.lineBox();return{scale:(this.options.vertical?n.height():n.width())/(r-e||1)*(this.options.reverse?-1:1),box:n,min:e,max:r}},e.prototype.arrangeLabels=function(){t.prototype.arrangeLabels.call(this),this.hideOutOfRangeLabels()},e.prototype.hideOutOfRangeLabels=function(){var t=this.box,e=this.labels;if(e.length>0){var r=this.options.vertical?Es:Ms,n=t[r+1],i=t[r+2],o=e[0],s=xl(e);(o.box[r+1]>i||o.box[r+2]<n)&&(o.options.visible=!1),(s.box[r+1]>i||s.box[r+2]<n)&&(s.options.visible=!1)}},e.prototype.getMajorTickPositions=function(){return this.getTicks().majorTicks},e.prototype.getMinorTickPositions=function(){return this.getTicks().minorTicks},e.prototype.getLabelsTickPositions=function(){return this.getTicks().labelTicks},e.prototype.tickIndices=function(t){for(var e=this.rangeIndices(),r=e.min,n=e.max,i=Math.ceil(n),o=Math.floor(r),s=[];o<=i;)s.push(o),o+=t;return s},e.prototype.getTickPositions=function(t){for(var e=this.options,r=e.vertical,n=e.reverse,i=this.scaleOptions(),o=i.scale,s=i.box,a=i.min,l=s[(r?Es:Ms)+(n?2:1)],c=this.tickIndices(t),h=[],u=0;u<c.length;u++)h.push(l+Cl(o*(c[u]-a),3));return h},e.prototype.getTicks=function(){var t=this.options,e=this._ticks,r=this.rangeIndices(),n=this.lineBox(),i=n.getHash()+r.min+","+r.max+t.reverse+t.justified;if(e._hash!==i){var o=t.minorTicks.visible||t.minorGridLines.visible;e._hash=i,e.labelTicks=this.getTickPositions(1),e.majorTicks=this.filterOutOfRangePositions(e.labelTicks,n),e.minorTicks=o?this.filterOutOfRangePositions(this.getTickPositions(.5),n):[]}return e},e.prototype.filterOutOfRangePositions=function(t,e){if(!t.length)return t;for(var r=this.options.vertical?Es:Ms,n=function(t){return e[r+1]<=t&&t<=e[r+2]},i=t.length-1,o=0;!n(t[o])&&o<=i;)o++;for(var s=i;!n(t[s])&&s>=0;)s--;return t.slice(o,s+1)},e.prototype.lineInfo=function(){var t=this.options,e=t.vertical,r=t.reverse,n=this.lineBox(),i=e?n.height():n.width(),o=e?Es:Ms,s=r?-1:1,a=o+(1===s?1:2).toString();return{axis:o,axisOrigin:a,axisDir:s,lineBox:n,lineSize:i,lineStart:n[a]}},e.prototype.lineDir=function(){return this.options.reverse?-1:1},e.prototype.getSlot=function(t,e,r){var n=this.options,i=n.reverse,o=n.justified,s=this.scaleOptions(),a=s.scale,l=s.box,c=s.min,h=this.lineInfo(),u=h.axis,p=h.lineStart,d=l.clone(),f=!fl(e),g=Tl(t,0),m=Tl(e,g);m=Math.max(m-1,g);var y=p+(g-c)*a,v=p+((m=Math.max(g,m))+1-c)*a;return f&&o&&(v=y),r&&(y=Sl(y,l[u+1],l[u+2]),v=Sl(v,l[u+1],l[u+2])),d[u+1]=i?v:y,d[u+2]=i?y:v,d},e.prototype.limitSlot=function(t){var e=this.options.vertical?Es:Ms,r=this.lineBox(),n=t.clone();return n[e+1]=Sl(t[e+1],r[e+1],r[e+2]),n[e+2]=Sl(t[e+2],r[e+1],r[e+2]),n},e.prototype.slot=function(e,r,n){var i=Math.floor(this.options.min||0),o=e,s=r;return"string"==typeof o?o=this.categoryIndex(o):Ns(o)&&(o-=i),"string"==typeof s?s=this.categoryIndex(s):Ns(s)&&(s-=i),t.prototype.slot.call(this,o,s,n)},e.prototype.pointCategoryIndex=function(t){var e=this.options,r=e.reverse,n=e.justified,i=e.vertical?Es:Ms,o=this.scaleOptions(),s=o.scale,a=o.box,l=o.min,c=o.max,h=r?c:l,u=a[i+1],p=a[i+2],d=t[i];if(d<u||d>p)return null;var f=h+(d-u)/s,g=f%1;return n?f=Math.round(f):0===g&&f>0&&f--,Math.floor(f)},e.prototype.getCategory=function(t){var e=this.pointCategoryIndex(t);return null===e?null:this.options.categories[e]},e.prototype.categoryIndex=function(t){return this.totalIndex(t)-Math.floor(this.options.min||0)},e.prototype.categoryAt=function(t,e){var r=this.options;return(e?r.srcCategories:r.categories)[t]},e.prototype.categoriesCount=function(){return(this.options.categories||[]).length},e.prototype.translateRange=function(t){var e=this.options,r=this.lineBox(),n=e.vertical?r.height():r.width(),i=e.categories.length,o=Cl(t/(n/i),ps);return{min:o,max:i+o}},e.prototype.scaleRange=function(t,e){var r=Math.abs(this.pointOffset(e)),n=this.totalRangeIndices(),i=n.max-n.min,o=this.scaleToDelta(t,i),s=r*o,a=(1-r)*o,l=n.min+s,c=n.max-a;return c-l<.1&&(c=l+.1),{min:l,max:c}},e.prototype.zoomRange=function(t,e){var r=this.totalRange(),n=r.min,i=r.max,o=this.scaleRange(t,e);return{min:Sl(o.min,n,i),max:Sl(o.max,n,i)}},e.prototype.labelsCount=function(){var t=this.labelsRange();return t.max-t.min},e.prototype.labelsRange=function(){var t=this.options,e=t.justified,r=t.labels,n=this.totalRangeIndices(!0),i=n.min,o=n.max,s=Math.floor(i);return e?(i=Math.ceil(i),o=Math.floor(o)):(i=Math.floor(i),o=Math.ceil(o)),{min:(i>r.skip?r.skip+r.step*Math.ceil((i-r.skip)/r.step):r.skip)-s,max:(t.categories.length?o+(e?1:0):0)-s}},e.prototype.createAxisLabel=function(t,e,r){var n=this.options,i=n.dataItems?n.dataItems[t]:null,o=Tl(n.categories[t],"");r.dataItem=i;var s=this.axisLabelText(o,e,r);return new Du(o,s,t,i,e)},e.prototype.shouldRenderNote=function(t){var e=this.totalRangeIndices();return Math.floor(e.min)<=t&&t<=Math.ceil(e.max)},e.prototype.noteSlot=function(t){var e=this.options,r=t-Math.floor(e.min||0);return this.getSlot(r)},e.prototype.arrangeNotes=function(){t.prototype.arrangeNotes.call(this),this.hideOutOfRangeNotes()},e.prototype.hideOutOfRangeNotes=function(){var t=this.notes,e=this.box;if(t&&t.length)for(var r=this.options.vertical?Es:Ms,n=e[r+1],i=e[r+2],o=0;o<t.length;o++){var s=t[o];s.box&&(i<s.box[r+1]||s.box[r+2]<n)&&s.hide()}},e.prototype.pan=function(t){var e=this.totalRangeIndices(!0),r=this.scaleOptions().scale,n=Cl(t/r,ps),i=this.totalRange(),o=e.min+n,s=e.max+n;return this.limitRange(o,s,0,i.max,n)},e.prototype.pointsRange=function(t,e){var r=this.options,n=r.reverse,i=r.vertical?Es:Ms,o=this.totalRangeIndices(!0),s=this.scaleOptions(),a=s.scale,l=s.box[i+(n?2:1)],c=t[i]-l,h=e[i]-l,u=o.min+c/a,p=o.min+h/a,d=Math.min(u,p),f=Math.max(u,p);if(f-d>=.01)return{min:d,max:f}},e.prototype.valueRange=function(){return this.range()},e.prototype.totalIndex=function(t){var e=this.options,r=this._categoriesMap?this._categoriesMap.get(t):function(t,e){if(t instanceof Date){for(var r=e.length,n=0;n<r;n++)if(Tp(e[n],t))return n;return-1}return e.indexOf(t)}(t,e.srcCategories);return r},e.prototype.currentRangeIndices=function(){var t=this.options,e=0;return Ns(t.min)&&(e=Math.floor(t.min)),{min:e,max:Ns(t.max)?t.justified?Math.floor(t.max):Math.ceil(t.max)-1:this.totalCount()-1}},e.prototype.mapCategories=function(){if(!this._categoriesMap)for(var t=this._categoriesMap=new sa,e=this.options.srcCategories,r=0;r<e.length;r++)t.set(e[r],r)},e.prototype.totalCount=function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)},e}(tp);El(Dp,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:is},labels:{zIndex:1},justified:!1,_deferLabels:!0});const Rp=Dp;var Lp=3e5,Np={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Bp=[ep,rp,np,ip,op,sp,ap,lp],jp="fit";function zp(t){var e=t._range;return e||((e=t._range=Pl(t)).min=bp(e.min),e.max=bp(e.max)),e}var Up=function(t){this.options=t};Up.prototype.displayIndices=function(){return{min:0,max:1}},Up.prototype.displayRange=function(){return{}},Up.prototype.total=function(){return{}},Up.prototype.valueRange=function(){return{}},Up.prototype.valueIndex=function(){return-1},Up.prototype.values=function(){return[]},Up.prototype.totalIndex=function(){return-1},Up.prototype.valuesCount=function(){return 0},Up.prototype.totalCount=function(){return 0},Up.prototype.dateAt=function(){return null};var $p=function(t,e,r){this.options=r,r.baseUnitStep=r.baseUnitStep||1;var n=r.roundToBaseUnit,i=r.justified;this.start=xp(t,0,r.baseUnit,r.weekStartDay);var o=this.roundToTotalStep(e),s=!i&&Tp(e,o)&&!r.justifyEnd;this.end=this.roundToTotalStep(e,!i,s?1:0);var a=r.min||t;this.valueStart=this.roundToTotalStep(a),this.displayStart=n?this.valueStart:a;var l=r.max;if(l){var c=!i&&Tp(l,this.roundToTotalStep(l))?-1:0;this.valueEnd=this.roundToTotalStep(l,!1,c),this.displayEnd=n?this.roundToTotalStep(l,!i):r.max}else this.valueEnd=o,this.displayEnd=n||s?this.end:e;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))};function Hp(t,e,r){for(var n,i,o,s=zp(t.categories),a=(t.max||s.max)-(t.min||s.min),l=t.autoBaseUnitSteps,c=t.maxDateGroups,h=t.baseUnit===jp,u=e?Bp.indexOf(e):0,p=h?Bp[u++]:t.baseUnit,d=a/mp[p],f=d;!i||d>=c;){n=n||l[p].slice(0);do{o=n.shift()}while(o&&e===p&&o<r);if(o)d=f/(i=o);else{if(p===xl(Bp)){i=Math.ceil(f/c);break}if(!h){d>c&&(i=Math.ceil(f/c));break}p=Bp[u++]||xl(Bp),f=a/mp[p],n=null}}t.baseUnitStep=i,t.baseUnit=p}function Vp(t){var e=(t.baseUnit||"").toLowerCase();return e!==jp&&!aa(e,Bp)&&function(t){for(var e,r,n=t.categories,i=fl(n)?n.length:0,o=ys,s=0;s<i;s++){var a=n[s];if(a&&e){var l=yp(a,e);l>0&&(r=(o=Math.min(o,l))>=gp?lp:o>=24192e5?ap:o>=dp?sp:o>=pp?op:o>=up?ip:o>=hp?np:rp)}e=a}t.baseUnit=r||op}(t),e!==jp&&"auto"!==t.baseUnitStep||Hp(t),t}$p.prototype.displayRange=function(){return{min:this.displayStart,max:this.displayEnd}},$p.prototype.displayIndices=function(){if(!this._indices){var t=this.options,e=t.baseUnit,r=t.baseUnitStep,n=Mp(this.displayStart,this.valueStart,e,r),i=Mp(this.displayEnd,this.valueStart,e,r);this._indices={min:n,max:i}}return this._indices},$p.prototype.total=function(){return{min:this.start,max:this.end}},$p.prototype.totalCount=function(){return this.totalIndex(this.end)+(this.options.justified?1:0)},$p.prototype.valueRange=function(){return{min:this.valueStart,max:this.valueEnd}},$p.prototype.valueIndex=function(t){var e=this.options;return Math.floor(Mp(t,this.valueStart,e.baseUnit,e.baseUnitStep))},$p.prototype.totalIndex=function(t){var e=this.options;return Math.floor(Mp(t,this.start,e.baseUnit,e.baseUnitStep))},$p.prototype.dateIndex=function(t){var e=this.options;return Mp(t,this.valueStart,e.baseUnit,e.baseUnitStep)},$p.prototype.valuesCount=function(){return this.valueIndex(this.valueEnd)+1},$p.prototype.values=function(){var t=this._values;if(!t){var e=this.options,r=this.valueRange();this._values=t=[];for(var n=r.min;n<=r.max;)t.push(n),n=xp(n,e.baseUnitStep,e.baseUnit,e.weekStartDay)}return t},$p.prototype.dateAt=function(t,e){var r=this.options;return xp(e?this.start:this.valueStart,r.baseUnitStep*t,r.baseUnit,r.weekStartDay)},$p.prototype.roundToTotalStep=function(t,e,r){var n=this.options,i=n.baseUnit,o=n.baseUnitStep,s=n.weekStartDay,a=this.start,l=Mp(t,a,i,o),c=e?Math.ceil(l):Math.floor(l);return r&&(c+=r),xp(a,c*o,i,s)};var qp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(Object.assign({},this.options),this.chartService);return t.createLabels(),t},e.prototype.categoriesHash=function(){var t=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+t},e.prototype.initUserOptions=function(t){return t},e.prototype.initFields=function(){t.prototype.initFields.call(this);var e=this.chartService,r=e.intl,n=this.options,i=n.categories||[];if(i._parsed||((i=Ip(r,i))._parsed=!0),n=Hs({roundToBaseUnit:!0},n,{categories:i,min:Pp(r,n.min),max:Pp(r,n.max),weekStartDay:Fp(n,r)}),e.panning&&e.isPannable(n.vertical?Es:Ms)&&(n.roundToBaseUnit=!1),n.userSetBaseUnit=n.userSetBaseUnit||n.baseUnit,n.userSetBaseUnitStep=n.userSetBaseUnitStep||n.baseUnitStep,this.options=n,n.srcCategories=i,i.length>0){var o=zp(i),s=n.maxDivisions;if(this.dataRange=new $p(o.min,o.max,Vp(n)),s){var a=this.dataRange.displayRange(),l=Object.assign({},n,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:a.min,max:a.max,maxDateGroups:s}),c=this.dataRange.options;Hp(l,c.baseUnit,c.baseUnitStep),this.divisionRange=new $p(o.min,o.max,l)}else this.divisionRange=this.dataRange}else n.baseUnit=n.baseUnit||op,this.dataRange=this.divisionRange=new Up(n);this.rangeLabels=[]},e.prototype.tickIndices=function(e){var r=this.dataRange,n=this.divisionRange,i=n.valuesCount();if(!this.options.maxDivisions||!i)return t.prototype.tickIndices.call(this,e);var o=[],s=n.values(),a=0;this.options.justified||(s=s.concat(n.dateAt(i)),a=.5);for(var l=0;l<s.length;l++)if(o.push(r.dateIndex(s[l])+a),1!==e&&l>=1){var c=o.length-1;o.splice(l,0,o[c-1]+(o[c]-o[c-1])*e)}return o},e.prototype.shouldRenderNote=function(t){var e=this.range(),r=this.options.categories||[];return Ap(t,e.min)>=0&&Ap(t,e.max)<=0&&r.length},e.prototype.parseNoteValue=function(t){return Pp(this.chartService.intl,t)},e.prototype.noteSlot=function(t){return this.getSlot(t)},e.prototype.translateRange=function(t){var e=this.options,r=e.baseUnit,n=e.weekStartDay,i=e.vertical,o=this.lineBox(),s=i?o.height():o.width(),a=this.range(),l=s/(a.max-a.min),c=Cl(t/l,ps);if(a.min&&a.max){var h=vp(e.min||a.min,c),u=vp(e.max||a.max,c);a={min:xp(h,0,r,n),max:xp(u,0,r,n)}}return a},e.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}},e.prototype.pan=function(t){if(this.isEmpty())return null;var e=this.options,r=this.lineBox(),n=e.vertical?r.height():r.width(),i=this.dataRange.displayRange(),o=i.min,s=i.max,a=this.dataRange.total(),l=Cl(t/(n/(s-o)),ps)*(e.reverse?-1:1),c=vp(o,l),h=vp(s,l),u=this.limitRange(_p(c),_p(h),_p(a.min),_p(a.max),l);return u?(u.min=bp(u.min),u.max=bp(u.max),u.baseUnit=e.baseUnit,u.baseUnitStep=e.baseUnitStep||1,u.userSetBaseUnit=e.userSetBaseUnit,u.userSetBaseUnitStep=e.userSetBaseUnitStep,u):void 0},e.prototype.pointsRange=function(e,r){if(this.isEmpty())return null;var n=t.prototype.pointsRange.call(this,e,r),i=this.dataRange.displayRange(),o=this.dataRange.displayIndices(),s=Cp(i.max,i.min)/(o.max-o.min),a=this.options;return{min:vp(i.min,n.min*s),max:vp(i.min,n.max*s),baseUnit:a.userSetBaseUnit||a.baseUnit,baseUnitStep:a.userSetBaseUnitStep||a.baseUnitStep}},e.prototype.scaleRange=function(t,e){if(this.isEmpty())return{};var r=this.options,n=r.userSetBaseUnit===jp,i=this.dataRange.total(),o=this.dataRange.displayRange(),s=o.min,a=o.max,l=Math.abs(this.pointOffset(e)),c=a-s,h=this.scaleToDelta(t,c),u=Math.round(l*h),p=Math.round((1-l)*h),d=this.dataRange.options.baseUnit,f=new Date(s.getTime()+u),g=new Date(a.getTime()-p);if(n){var m,y,v=r.autoBaseUnitSteps,b=r.maxDateGroups,w=xl(v[d])*b*mp[d],x=Cp(a,s),S=Cp(g,f),k=Bp.indexOf(d);if(S<mp[d]&&d!==ep)d=Bp[k-1],f=vp(s,y=(x-(b-1)*(m=xl(v[d]))*mp[d])/2),g=vp(a,-y);else if(S>w&&d!==lp){var A=0;do{k++,d=Bp[k],A=0,y=2*mp[d];do{m=v[d][A],A++}while(A<v[d].length&&y*m<x)}while(d!==lp&&y*m<x);(y=(y*m-x)/2)>0&&(f=vp(s,-y),g=vp(a,y),f=vp(f,Sl(g,i.min,i.max)-g),g=vp(g,Sl(f,i.min,i.max)-f))}}return f&&g&&Cp(g,f)>0?{min:f,max:g,baseUnit:r.userSetBaseUnit||r.baseUnit,baseUnitStep:r.userSetBaseUnitStep||r.baseUnitStep}:void 0},e.prototype.zoomRange=function(t,e){var r=this.dataRange.total(),n=this.scaleRange(t,e);return n&&(n.min<r.min&&(n.min=r.min),n.max>r.max&&(n.max=r.max)),n},e.prototype.range=function(){return this.dataRange.displayRange()},e.prototype.createLabels=function(){t.prototype.createLabels.call(this),this.createRangeLabels()},e.prototype.clearLabels=function(){t.prototype.clearLabels.call(this),this.rangeLabels=[]},e.prototype.arrangeLabels=function(){this.arrangeRangeLabels(),t.prototype.arrangeLabels.call(this)},e.prototype.arrangeRangeLabels=function(){var t=this.options,e=this.rangeLabels;if(0!==e.length){var r=this.lineBox(),n=t.vertical,i=t.rangeLabels.mirror||t.labels.mirror,o=e[0];if(o){var s=n?r.y1-o.box.height()/2:r.x1;this.positionLabel(o,i,s)}var a=e[1];if(a){var l=n?r.y2-a.box.height()/2:r.x2;this.positionLabel(a,i,l)}}},e.prototype.autoRotateLabels=function(){t.prototype.autoRotateLabels.call(this),this.autoRotateRangeLabels()},e.prototype.hideOutOfRangeLabels=function(){t.prototype.hideOutOfRangeLabels.call(this),this.hideOverlappingLabels()},e.prototype.hideOverlappingLabels=function(){var t=this.rangeLabels,e=this.labels;if(0!==t.length){var r=t[0];if(r&&r.options.visible)for(var n=0;n<e.length;n++){if(!s(r,e[n]))break}var i=t[1];if(i&&i.options.visible)for(var o=e.length-1;o>0;--o){if(!s(i,e[o]))break}}function s(t,e){return!(e.options.visible&&!e.box.overlaps(t.box))&&(e.options.visible=!1,!0)}},e.prototype.contentBox=function(){for(var e=t.prototype.contentBox.call(this),r=this.rangeLabels,n=0;n<r.length;n++){var i=r[n];i.options.visible&&e.wrap(i.box)}return e},e.prototype.createAxisLabel=function(t,e,r){void 0===r&&(r={});var n=this.options,i=n.dataItems&&!n.maxDivisions?n.dataItems[t]:null,o=this.divisionRange.dateAt(t),s=e.dateFormats[this.divisionRange.options.baseUnit];e.format=e.format||s,r.dataItem=i;var a=this.axisLabelText(o,e,r);if(a)return new Du(o,a,t,i,e)},e.prototype.createRangeLabels=function(){var t=this,e=this.divisionRange,r=e.displayStart,n=e.displayEnd,i=this.options,o=Object.assign({},i.labels,i.rangeLabels,{align:as,zIndex:i.zIndex});if(!0===o.visible){this.normalizeLabelRotation(o),o.alignRotation=as,"auto"===o.rotation&&(o.rotation=0,i.autoRotateRangeLabels=!0);var s=o.dateFormats[this.divisionRange.options.baseUnit];o.format=o.format||s;var a=function(e,r,n){if(n){var i=new Du(r,n,e,null,o);t.append(i),t.rangeLabels.push(i)}};a(0,r,this.axisLabelText(r,o,{index:0,count:2})),a(1,n,this.axisLabelText(n,o,{index:1,count:2}))}},e.prototype.autoRotateRangeLabels=function(){var t=this,e=this.rangeLabels;if(this.options.autoRotateRangeLabels&&!this.options.vertical&&2===e.length){var r=function(e,r,n){var i=2*Math.abs(r[n+1]-r[n]),o=t.autoRotateLabelAngle(e.box,i);0!==o&&(e.options.rotation=o,e.reflow(new Sc))},n=this.getMajorTickPositions();r(e[0],n,0),r(e[1],n,n.length-2)}},e.prototype.categoryIndex=function(t){return this.dataRange.valueIndex(t)},e.prototype.slot=function(t,e,r){var n=this.dataRange,i=t,o=e;i instanceof Date&&(i=n.dateIndex(i)),o instanceof Date&&(o=n.dateIndex(o));var s=this.getSlot(i,o,r);if(s)return s.toRect()},e.prototype.getSlot=function(e,r,n){var i=e,o=r;return typeof i===ws&&(i=this.categoryIndex(i)),typeof o===ws&&(o=this.categoryIndex(o)),t.prototype.getSlot.call(this,i,o,n)},e.prototype.valueRange=function(){var t=zp(this.options.srcCategories);return{min:bp(t.min),max:bp(t.max)}},e.prototype.categoryAt=function(t,e){return this.dataRange.dateAt(t,e)},e.prototype.categoriesCount=function(){return this.dataRange.valuesCount()},e.prototype.rangeIndices=function(){return this.dataRange.displayIndices()},e.prototype.labelsBetweenTicks=function(){return!this.divisionRange.options.justified},e.prototype.prepareUserOptions=function(){this.isEmpty()||(this.options.categories=this.dataRange.values())},e.prototype.getCategory=function(t){var e=this.pointCategoryIndex(t);return null===e?null:this.dataRange.dateAt(e)},e.prototype.totalIndex=function(t){return this.dataRange.totalIndex(t)},e.prototype.currentRangeIndices=function(){var t=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}},e.prototype.totalRange=function(){return this.dataRange.total()},e.prototype.totalCount=function(){return this.dataRange.totalCount()},e.prototype.isEmpty=function(){return!this.options.srcCategories.length},e.prototype.roundedRange=function(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();var t=this.options,e=zp(t.srcCategories);return new $p(e.min,e.max,Object.assign({},t,{justified:!1,roundToBaseUnit:!0,justifyEnd:t.justified})).displayRange()},e}(Rp);El(qp,{type:hs,labels:{dateFormats:Np},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});const Wp=qp;function Xp(t,e){return Cl(Math.floor(t/e)*e,ps)}function Gp(t,e){return Cl(Math.ceil(t/e)*e,ps)}function Kp(t){return Math.max(Math.min(t,Lp),-3e5)}var Yp=Math.pow(10,-9),Jp=function(t){function e(e,r,n,i){t.call(this,Object.assign({},n,{seriesMin:e,seriesMax:r}),i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=function(t,e,r){var n=r.narrowRange,i=function(t,e,r){if(!t&&!e)return 0;var n;if(t>=0&&e>=0){var i=t===e?0:t;if(!1===r||!r&&(e-i)/e>.2)return 0;n=Math.max(0,i-(e-i)/2)}else n=t;return n}(t,e,n),o=function(t,e,r){if(!t&&!e)return 1;var n;if(t<=0&&e<=0){var i=t===e?0:e,o=Math.abs((i-t)/i);if(!1===r||!r&&o>.2)return 0;n=Math.min(0,i-(t-i)/2)}else n=e;return n}(t,e,n),s=oc(i,o),a={majorUnit:s};!1!==r.roundToMajorUnit&&(i<0&&Zp(i,s,1/3)&&(i-=s),o>0&&Zp(o,s,1/3)&&(o+=s));return a.min=Xp(i,s),a.max=Gp(o,s),a}(t.seriesMin,t.seriesMax,t);return this.totalOptions=function(t,e){return{min:fl(e.min)?Math.min(t.min,e.min):t.min,max:fl(e.max)?Math.max(t.max,e.max):t.max,majorUnit:t.majorUnit}}(e,t),function(t,e){var r,n,i=e;if(e){!function(t,e){for(var r=0;r<e.length;r++){var n=e[r];null===t[n]&&(t[n]=void 0)}}(e,["min","max"]),r=fl(e.min),n=fl(e.max);var o=r||n;o&&e.min===e.max&&(e.min>0?e.min=0:e.max=1),e.majorUnit?(t.min=Xp(t.min,e.majorUnit),t.max=Gp(t.max,e.majorUnit)):o&&(i=Hs(t,e),t.majorUnit=oc(i.min,i.max))}t.minorUnit=(i.majorUnit||t.majorUnit)/5;var s=Hs(t,i);s.min>=s.max&&(r&&!n?s.max=s.min+s.majorUnit:!r&&n&&(s.min=s.max-s.majorUnit));return s}(e,t)},e.prototype.initFields=function(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax},e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.startValue=function(){return 0},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.getDivisions=function(t){if(0===t)return 1;var e=this.options,r=e.max-e.min;return Math.floor(Cl(r/t,3))+1},e.prototype.getTickPositions=function(t,e){var r=this.options,n=this.lineInfo(),i=n.axisDir,o=n.axisOrigin,s=n.lineBox,a=t*(n.lineSize/(r.max-r.min)),l=this.getDivisions(t),c=[],h=s[o],u=0;e&&(u=e/t);for(var p=0;p<l;p++)p%u!=0&&c.push(Cl(h,3)),h+=a*i;return c},e.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},e.prototype.getSlot=function(t,e,r){void 0===r&&(r=!1);var n=this.options,i=this.lineInfo(),o=i.axis,s=i.axisDir,a=i.lineBox,l=i.lineSize,c=i.lineStart,h=s*(l/(n.max-n.min)),u=Tl(t,e||0),p=Tl(e,t||0);r&&(u=Sl(u,n.min,n.max),p=Sl(p,n.min,n.max));var d=Math.min(u,p)-n.min,f=Math.max(u,p)-n.min,g=new Sc(a.x1,a.y1,a.x1,a.y1);return g[o+1]=Kp(c+h*(s>0?d:f)),g[o+2]=Kp(c+h*(s>0?f:d)),g},e.prototype.getValue=function(t){var e=this.options,r=Number(e.max),n=Number(e.min),i=this.pointOffset(t);return i<0||i>1?null:Cl(n+i*(r-n),ps)},e.prototype.translateRange=function(t){var e=this.options,r=e.vertical,n=e.reverse,i=e.max,o=e.min,s=this.lineInfo().lineSize,a=Cl(t/(s/(i-o)),ps);return!r&&!n||r&&n||(a=-a),{min:o+a,max:i+a,offset:a}},e.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},e.prototype.createAxisLabel=function(t,e,r){var n=this.options,i=Cl(n.min+t*n.majorUnit,ps),o=this.axisLabelText(i,e,r);return new Du(i,o,t,null,e)},e.prototype.shouldRenderNote=function(t){var e=this.range();return e.min<=t&&t<=e.max},e.prototype.pan=function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)},e.prototype.pointsRange=function(t,e){var r=this.getValue(t),n=this.getValue(e),i=Math.min(r,n),o=Math.max(r,n);if(this.isValidRange(i,o))return{min:i,max:o}},e.prototype.scaleRange=function(t,e){var r=Math.abs(this.pointOffset(e)),n=this.options.max-this.options.min,i=this.scaleToDelta(t,n),o=r*i,s=(1-r)*i,a=Cl(this.options.min+o,ps),l=Cl(this.options.max-s,ps);return l-a<Yp&&(l=a+Yp),{min:a,max:l}},e.prototype.zoomRange=function(t,e){var r=this.totalMin,n=this.totalMax,i=this.scaleRange(t,e);return{min:Sl(i.min,r,n),max:Sl(i.max,r,n),narrowRange:!1}},e.prototype.isValidRange=function(t,e){return e-t>Yp},e}(tp);function Zp(t,e,r){var n=Cl(Math.abs(t%e),ps);return 0===n||n>e*(1-r)}El(Jp,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:is},labels:{format:"#.####################"},zIndex:1});const Qp=Jp;var td=function(t){function e(e,r,n,i){var o=bp(e),s=bp(r),a=i.intl,l=n||{};l=function(t,e,r){var n=r.min||t,i=r.max||e,o=r.baseUnit||(i&&n?function(t){var e=ip;t>=gp?e=lp:t>=fp?e=ap:t>=dp?e=sp:t>=pp&&(e=op);return e}(yp(i,n)):ip),s=mp[o],a=r.weekStartDay||0,l=Sp(_p(n)-1,o,a)||bp(i),c=kp(_p(i)+1,o,a),h=(r.majorUnit?r.majorUnit:void 0)||Gp(oc(l.getTime(),c.getTime()),s)/s,u=Ep(l,c,o),p=Gp(u,h)-u,d=Math.floor(p/2),f=p-d;r.baseUnit||delete r.baseUnit;return r.baseUnit=r.baseUnit||o,r.min=r.min||xp(l,-d,o,a),r.max=r.max||xp(c,f,o,a),r.minorUnit=r.minorUnit||h/5,r.majorUnit=h,r}(o,s,l=Hs(l||{},{min:Pp(a,l.min),max:Pp(a,l.max),axisCrossingValue:Ip(a,l.axisCrossingValues||l.axisCrossingValue),weekStartDay:Fp(l,a)})),t.call(this,l,i),this.intlService=a,this.seriesMin=o,this.seriesMax=s;var c=l.weekStartDay||0;this.totalMin=_p(Sp(_p(o)-1,l.baseUnit,c)),this.totalMax=_p(kp(_p(s)+1,l.baseUnit,c))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.getDivisions=function(t){var e=this.options;return Math.floor(Ep(e.min,e.max,e.baseUnit)/t+1)},e.prototype.getTickPositions=function(t){for(var e=this.options,r=this.lineInfo(),n=r.axisDir,i=r.lineSize,o=r.lineStart,s=this.getDivisions(t),a=i/Cp(e.max,e.min),l=e.weekStartDay||0,c=[o],h=1;h<s;h++){var u=o+Cp(xp(e.min,h*t,e.baseUnit,l),e.min)*a*n;c.push(Cl(u,3))}return c},e.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},e.prototype.getSlot=function(t,e,r){return Qp.prototype.getSlot.call(this,Pp(this.intlService,t),Pp(this.intlService,e),r)},e.prototype.getValue=function(t){var e=Qp.prototype.getValue.call(this,t);return null!==e?bp(e):null},e.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},e.prototype.createAxisLabel=function(t,e,r){var n=this.options,i=t*n.majorUnit,o=n.weekStartDay||0,s=n.min;i>0&&(s=xp(s,i,n.baseUnit,o));var a=e.dateFormats[n.baseUnit];e.format=e.format||a;var l=this.axisLabelText(s,e,r);return new Du(s,l,t,null,e)},e.prototype.translateRange=function(t){var e=this.options,r=this.lineBox(),n=e.vertical,i=e.reverse,o=n?r.height():r.width(),s=this.range(),a=o/Cp(s.max,s.min),l=Cl(t/a,ps);return!n&&!i||n&&i||(l=-l),{min:vp(e.min,l),max:vp(e.max,l),offset:l}},e.prototype.shouldRenderNote=function(t){var e=this.range();return Ap(t,e.min)>=0&&Ap(t,e.max)<=0},e.prototype.pan=function(t){var e=this.translateRange(t,!0),r=this.limitRange(_p(e.min),_p(e.max),this.totalMin,this.totalMax,e.offset);if(r)return{min:bp(r.min),max:bp(r.max)}},e.prototype.pointsRange=function(t,e){var r=this.getValue(t),n=this.getValue(e),i=Math.min(r,n),o=Math.max(r,n);return{min:bp(i),max:bp(o)}},e.prototype.scaleRange=function(t,e){var r=Math.abs(this.pointOffset(e)),n=this.options.max-this.options.min,i=this.scaleToDelta(t,n),o=r*i,s=(1-r)*i,a=bp(_p(this.options.min)+o),l=bp(_p(this.options.max)-s);return l-a<1e3&&(l=bp(_p(a)+1e3)),{min:a,max:l}},e.prototype.zoomRange=function(t,e){var r=this.scaleRange(t,e);return{min:bp(Sl(_p(r.min),this.totalMin,this.totalMax)),max:bp(Sl(_p(r.max),this.totalMin,this.totalMax))}},e}(tp);El(td,{type:hs,majorGridLines:{visible:!0,width:1,color:is},labels:{dateFormats:Np}});const ed=td;var rd=1e-6,nd=function(t){function e(e,r,n,i){var o=Hs({majorUnit:10,min:e,max:r},n),s=o.majorUnit,a=function(t,e){var r,n=Cl(od(t,e),ps)%1;r=t<=0?e:0!==n&&(n<.3||n>.9)?Math.pow(e,od(t,e)+.2):Math.pow(e,Math.ceil(od(t,e)));return r}(r,s),l=function(t,e,r){var n=r.majorUnit,i=t;t<=0?i=e<=1?Math.pow(n,-2):1:r.narrowRange||(i=Math.pow(n,Math.floor(od(t,n))));return i}(e,r,o),c=function(t,e,r,n){var i=r.min,o=r.max;fl(r.axisCrossingValue)&&r.axisCrossingValue<=0&&id();fl(n.max)?n.max<=0&&id():o=e;fl(n.min)?n.min<=0&&id():i=t;return{min:i,max:o}}(l,a,o,n);o.max=c.max,o.min=c.min,o.minorUnit=n.minorUnit||Cl(s-1,ps),t.call(this,o,i),this.totalMin=fl(n.min)?Math.min(l,n.min):l,this.totalMax=fl(n.max)?Math.max(a,n.max):a,this.logMin=Cl(od(c.min,s),ps),this.logMax=Cl(od(c.max,s),ps),this.seriesMin=e,this.seriesMax=r,this.createLabels()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.startValue=function(){return this.options.min},e.prototype.getSlot=function(t,e,r){var n=this,i=n.options,o=n.logMin,s=n.logMax,a=i.majorUnit,l=i.min,c=i.max,h=this.lineInfo(),u=h.axis,p=h.axisDir,d=h.lineBox,f=h.lineSize,g=h.lineStart,m=p*(f/(s-o)),y=Tl(t,e||1),v=Tl(e,t||1);if(y<=0||v<=0)return null;r&&(y=Sl(y,l,c),v=Sl(v,l,c)),y=od(y,a),v=od(v,a);var b=Math.min(y,v)-o,w=Math.max(y,v)-o,x=new Sc(d.x1,d.y1,d.x1,d.y1);return x[u+1]=Kp(g+m*(p>0?b:w)),x[u+2]=Kp(g+m*(p>0?w:b)),x},e.prototype.getValue=function(t){var e=this,r=e.options,n=e.logMin,i=e.logMax,o=r.majorUnit,s=this.lineInfo(),a=s.axis,l=s.axisDir,c=s.lineStart,h=s.lineSize,u=(i-n)/h,p=l*(t[a]-c);if(p<0||p>h)return null;var d=n+p*u;return Cl(Math.pow(o,d),ps)},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.translateRange=function(t){var e=this,r=e.options,n=e.logMin,i=e.logMax,o=r.reverse,s=r.vertical,a=r.majorUnit,l=this.lineBox(),c=s?l.height():l.width(),h=Cl(t/(c/(i-n)),ps);return!s&&!o||s&&o||(h=-h),{min:Math.pow(a,n+h),max:Math.pow(a,i+h),offset:h}},e.prototype.labelsCount=function(){var t=Math.floor(this.logMax);return Math.floor(t-this.logMin)+1},e.prototype.getMajorTickPositions=function(){var t=[];return this.traverseMajorTicksPositions((function(e){t.push(e)}),{step:1,skip:0}),t},e.prototype.createTicks=function(t){var e=this.options,r=e.majorTicks,n=e.minorTicks,i=e.vertical,o=e.labels.mirror,s=this.lineBox(),a={vertical:i};function l(e,r){a.tickX=o?s.x2:s.x2-r.size,a.tickY=o?s.y1-r.size:s.y1,a.position=e,t.append(Ju(a,r))}return r.visible&&this.traverseMajorTicksPositions(l,r),n.visible&&this.traverseMinorTicksPositions(l,n),[]},e.prototype.createGridLines=function(t){var e=this.options,r=e.minorGridLines,n=e.majorGridLines,i=e.vertical,o=t.lineBox(),s={lineStart:o[i?"x1":"y1"],lineEnd:o[i?"x2":"y2"],vertical:i},a=[],l=this.gridLinesVisual();function c(t,e){aa(t,a)||(s.position=t,l.append(Zu(s,e)),a.push(t))}return n.visible&&this.traverseMajorTicksPositions(c,n),r.visible&&this.traverseMinorTicksPositions(c,r),l.children},e.prototype.traverseMajorTicksPositions=function(t,e){for(var r=this.lineInfo(),n=r.lineStart,i=r.step,o=this.logMin,s=this.logMax,a=Math.ceil(o)+e.skip;a<=s;a+=e.step){t(Cl(n+i*(a-o),ps),e)}},e.prototype.traverseMinorTicksPositions=function(t,e){for(var r=this.options,n=r.min,i=r.max,o=r.minorUnit,s=r.majorUnit,a=this.lineInfo(),l=a.lineStart,c=a.step,h=this.logMin,u=this.logMax,p=Math.floor(h);p<u;p++)for(var d=this._minorIntervalOptions(p),f=e.skip;f<o;f+=e.step){var g=d.value+f*d.minorStep;if(g>i)break;if(g>=n)t(Cl(l+c*(od(g,s)-h),ps),e)}},e.prototype.createAxisLabel=function(t,e,r){var n=Math.ceil(this.logMin+t),i=Math.pow(this.options.majorUnit,n),o=this.axisLabelText(i,e,r);return new Du(i,o,t,null,e)},e.prototype.shouldRenderNote=function(t){var e=this.range();return e.min<=t&&t<=e.max},e.prototype.pan=function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)},e.prototype.pointsRange=function(t,e){var r=this.getValue(t),n=this.getValue(e);return{min:Math.min(r,n),max:Math.max(r,n)}},e.prototype.scaleRange=function(t,e){var r=this.options.majorUnit,n=od(this.options.min,r),i=od(this.options.max,r),o=Math.abs(this.pointOffset(e)),s=i-n,a=this.scaleToDelta(t,s),l=Math.pow(r,n+o*a),c=Math.pow(r,i-(1-o)*a);return c-l<rd&&(c=l+rd),{min:l,max:c}},e.prototype.zoomRange=function(t,e){var r=this.scaleRange(t,e),n=this.totalMin,i=this.totalMax;return{min:Sl(r.min,n,i),max:Sl(r.max,n,i)}},e.prototype._minorIntervalOptions=function(t){var e=this.options,r=e.minorUnit,n=e.majorUnit,i=Math.pow(n,t);return{value:i,minorStep:(Math.pow(n,t+1)-i)/r}},e.prototype.lineInfo=function(){var e=t.prototype.lineInfo.call(this);return e.step=e.axisDir*(e.lineSize/(this.logMax-this.logMin)),e},e}(tp);function id(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function od(t,e){return Math.log(t)/Math.log(e)}El(nd,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:is},zIndex:1,_deferLabels:!0});const sd=nd;var ad={createGridLines:function(t){var e,r,n=this.options,i=Math.abs(this.box.center().y-t.lineBox().y1),o=[],s=!1;return n.majorGridLines.visible&&(e=this.majorGridLineAngles(t),s=!0,o=this.renderMajorGridLines(e,i,n.majorGridLines)),n.minorGridLines.visible&&(r=this.minorGridLineAngles(t,s),pl(o,this.renderMinorGridLines(r,i,n.minorGridLines,t,s))),o},renderMajorGridLines:function(t,e,r){return this.renderGridLines(t,e,r)},renderMinorGridLines:function(t,e,r,n,i){var o=this.radiusCallback&&this.radiusCallback(e,n,i);return this.renderGridLines(t,e,r,o)},renderGridLines:function(t,e,r,n){for(var i={stroke:{width:r.width,color:r.color,dashType:r.dashType}},o=this.box.center(),s=new Fh([o.x,o.y],e),a=this.gridLinesVisual(),l=0;l<t.length;l++){var c=new Th(i);n&&(s.radius=n(t[l])),c.moveTo(s.center).lineTo(s.pointAt(t[l]+180)),a.append(c)}return a.children},gridLineAngles:function(t,e,r,n,i){var o=this,s=this.intervals(e,r,n,i),a=t.options,l=a.visible&&!1!==(a.line||{}).visible;return da(s,(function(t){var e=o.intervalAngle(t);if(!l||90!==e)return e}))}};const ld=ad;var cd=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.range=function(){return{min:0,max:this.options.categories.length}},e.prototype.reflow=function(t){this.box=t,this.reflowLabels()},e.prototype.lineBox=function(){return this.box},e.prototype.reflowLabels=function(){for(var t=this.labels,e=this.options.labels,r=e.skip||0,n=e.step||1,i=new Sc,o=0;o<t.length;o++){t[o].reflow(i);var s=t[o].box;t[o].reflow(this.getSlot(r+o*n).adjacentBox(0,s.width(),s.height()))}},e.prototype.intervals=function(t,e,r,n){void 0===n&&(n=!1);for(var i=this.options,o=i.categories.length/t||1,s=360/o,a=r||1,l=[],c=0,h=e||0;h<o;h+=a)c=i.reverse?360-h*s:h*s,c=Cl(c,3)%360,n&&aa(c,n)||l.push(c);return l},e.prototype.majorIntervals=function(){return this.intervals(1)},e.prototype.minorIntervals=function(){return this.intervals(.5)},e.prototype.intervalAngle=function(t){return(360+t+this.options.startAngle)%360},e.prototype.majorAngles=function(){var t=this;return da(this.majorIntervals(),(function(e){return t.intervalAngle(e)}))},e.prototype.createLine=function(){return[]},e.prototype.majorGridLineAngles=function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,1,e.skip,e.step)},e.prototype.minorGridLineAngles=function(t,e){var r=this.options,n=r.minorGridLines,i=r.majorGridLines,o=e?this.intervals(1,i.skip,i.step):null;return this.gridLineAngles(t,.5,n.skip,n.step,o)},e.prototype.radiusCallback=function(t,e,r){if(e.options.type!==ns){var n=Al(360/(2*this.options.categories.length)),i=Math.cos(n)*t,o=this.majorAngles(),s=function(e){return!r&&aa(e,o)?t:i};return s}},e.prototype.createPlotBands=function(){for(var t=this.options.plotBands||[],e=this._plotbandGroup=new zh({zIndex:-1}),r=0;r<t.length;r++){var n=t[r],i=this.plotBandSlot(n),o=this.getSlot(n.from),s=n.from-Math.floor(n.from);i.startAngle+=s*o.angle;var a=Math.ceil(n.to)-n.to;i.angle-=(a+s)*o.angle;var l=Eh.current.createRing(i,{fill:{color:n.color,opacity:n.opacity},stroke:{opacity:n.opacity}});e.append(l)}this.appendVisual(e)},e.prototype.plotBandSlot=function(t){return this.getSlot(t.from,t.to-1)},e.prototype.getSlot=function(t,e){var r=this.options,n=r.justified,i=this.box,o=this.majorAngles(),s=o.length,a=360/s,l=t;r.reverse&&!n&&(l=(l+1)%s);var c=o[l=Sl(Math.floor(l),0,s-1)];n&&(c-=a/2)<0&&(c+=360);var h=a*(Sl(Math.ceil(e||l),l,s-1)-l+1);return new Cc(i.center(),0,i.height()/2,c,h)},e.prototype.slot=function(t,e){var r=this.getSlot(t,e),n=r.startAngle+180,i=n+r.angle;return new Nc([r.center.x,r.center.y],{startAngle:n,endAngle:i,radiusX:r.radius,radiusY:r.radius})},e.prototype.pointCategoryIndex=function(t){for(var e=this.options.categories.length,r=null,n=0;n<e;n++){if(this.getSlot(n).containsPoint(t)){r=n;break}}return r},e}(Rp);El(cd,{startAngle:90,labels:{margin:Ks(10)},majorGridLines:{visible:!0},justified:!0}),Hs(cd.prototype,ld);const hd=cd;var ud=function(t){function e(e,r){t.call(this,e,r);var n=this.options;n.minorUnit=n.minorUnit||n.majorUnit/2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDivisions=function(t){return Qp.prototype.getDivisions.call(this,t)-1},e.prototype.reflow=function(t){this.box=t,this.reflowLabels()},e.prototype.reflowLabels=function(){for(var t=this,e=t.options,r=t.labels,n=t.options.labels,i=n.skip||0,o=n.step||1,s=new Sc,a=this.intervals(e.majorUnit,i,o),l=0;l<r.length;l++){r[l].reflow(s);var c=r[l].box;r[l].reflow(this.getSlot(a[l]).adjacentBox(0,c.width(),c.height()))}},e.prototype.lineBox=function(){return this.box},e.prototype.intervals=function(t,e,r,n){void 0===n&&(n=!1);for(var i=this.options.min,o=this.getDivisions(t),s=[],a=r||1,l=e||0;l<o;l+=a){var c=(360+i+l*t)%360;n&&aa(c,n)||s.push(c)}return s},e.prototype.majorIntervals=function(){return this.intervals(this.options.majorUnit)},e.prototype.minorIntervals=function(){return this.intervals(this.options.minorUnit)},e.prototype.intervalAngle=function(t){return(540-t-this.options.startAngle)%360},e.prototype.createLine=function(){return[]},e.prototype.majorGridLineAngles=function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,this.options.majorUnit,e.skip,e.step)},e.prototype.minorGridLineAngles=function(t,e){var r=this.options,n=r.minorGridLines,i=r.majorGridLines,o=e?this.intervals(r.majorUnit,i.skip,i.step):null;return this.gridLineAngles(t,r.minorUnit,n.skip,n.step,o)},e.prototype.plotBandSlot=function(t){return this.getSlot(t.from,t.to)},e.prototype.getSlot=function(t,e){var r=this.options,n=this.box,i=r.startAngle,o=Sl(t,r.min,r.max),s=Sl(e||o,o,r.max);if(r.reverse&&(o*=-1,s*=-1),(s=(540-s-i)%360)<(o=(540-o-i)%360)){var a=o;o=s,s=a}return new Cc(n.center(),0,n.height()/2,o,s-o)},e.prototype.slot=function(t,e){void 0===e&&(e=t);var r,n,i=this.options,o=360-i.startAngle,s=this.getSlot(t,e),a=Math.min(t,e),l=Math.max(t,e);return i.reverse?(r=a,n=l):(r=360-l,n=360-a),r=(r+o)%360,n=(n+o)%360,new Nc([s.center.x,s.center.y],{startAngle:r,endAngle:n,radiusX:s.radius,radiusY:s.radius})},e.prototype.getValue=function(t){var e=this.options,r=this.box.center(),n=t.x-r.x,i=t.y-r.y,o=Math.round(gl(Math.atan2(i,n))),s=e.startAngle;return e.reverse||(o*=-1,s*=-1),(o+s+360)%360},e.prototype.valueRange=function(){return{min:0,max:2*Math.PI}},e}(tp);El(ud,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:Ks(10)},majorGridLines:{color:is,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),Hs(ud.prototype,ld,{createPlotBands:hd.prototype.createPlotBands,majorAngles:hd.prototype.majorAngles,range:Qp.prototype.range,labelsCount:Qp.prototype.labelsCount,createAxisLabel:Qp.prototype.createAxisLabel});const pd=ud;var dd={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var t=this.options,e=t.majorGridLines.type,r=t.plotBands;void 0===r&&(r=[]);for(var n=this.plotArea.polarAxis,i=n.majorAngles(),o=n.box.center(),s=this._plotbandGroup=new zh({zIndex:-1}),a=0;a<r.length;a++){var l=r[a],c={fill:{color:l.color,opacity:l.opacity},stroke:{opacity:l.opacity}},h=this.getSlot(l.from,l.to,!0),u=new Cc(o,o.y-h.y2,o.y-h.y1,0,360),p=void 0;p=e===ns?Eh.current.createRing(u,c):Th.fromPoints(this.plotBandPoints(u,i),c).close(),s.append(p)}this.appendVisual(s)},plotBandPoints:function(t,e){for(var r=[],n=[],i=[t.center.x,t.center.y],o=new Fh(i,t.innerRadius),s=new Fh(i,t.radius),a=0;a<e.length;a++)r.push(o.pointAt(e[a]+180)),n.push(s.pointAt(e[a]+180));return r.reverse(),r.push(r[0]),n.push(n[0]),n.concat(r)},createGridLines:function(t){var e=this.options,r=this.radarMajorGridLinePositions(),n=t.majorAngles(),i=t.box.center(),o=[];if(e.majorGridLines.visible&&(o=this.renderGridLines(i,r,n,e.majorGridLines)),e.minorGridLines.visible){var s=this.radarMinorGridLinePositions();pl(o,this.renderGridLines(i,s,n,e.minorGridLines))}return o},renderGridLines:function(t,e,r,n){var i={stroke:{width:n.width,color:n.color,dashType:n.dashType}},o=n.skip;void 0===o&&(o=0);var s=n.step;void 0===s&&(s=0);for(var a=this.gridLinesVisual(),l=o;l<e.length;l+=s){var c=t.y-e[l];if(c>0){var h=new Fh([t.x,t.y],c);if(n.type===ns)a.append(new Nh(h,i));else{for(var u=new Th(i),p=0;p<r.length;p++)u.lineTo(h.pointAt(r[p]+180));u.close(),a.append(u)}}}return a.children},getValue:function(t){var e=this.lineBox(),r=this.plotArea.polarAxis,n=r.majorAngles(),i=r.box.center(),o=t.distanceTo(i),s=o;if(this.options.majorGridLines.type!==ns&&n.length>1){var a=t.x-i.x,l=t.y-i.y,c=(gl(Math.atan2(l,a))+540)%360;n.sort((function(t,e){return fd(t,c)-fd(e,c)}));var h=90-fd(n[0],n[1])/2,u=180-fd(c,n[0])-h;s=o*(Math.sin(Al(u))/Math.sin(Al(h)))}return this.axisType().prototype.getValue.call(this,new ac(e.x1,e.y2-s))}};function fd(t,e){return 180-Math.abs(Math.abs(t-e)-180)}const gd=dd;var md=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radarMajorGridLinePositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.radarMinorGridLinePositions=function(){var t=this.options,e=0;return t.majorGridLines.visible&&(e=t.majorUnit),this.getTickPositions(t.minorUnit,e)},e.prototype.axisType=function(){return t},e}(Qp);Hs(md.prototype,gd);const yd=md;var vd=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radarMajorGridLinePositions=function(){var t=[];return this.traverseMajorTicksPositions((function(e){t.push(e)}),this.options.majorGridLines),t},e.prototype.radarMinorGridLinePositions=function(){var t=[];return this.traverseMinorTicksPositions((function(e){t.push(e)}),this.options.minorGridLines),t},e.prototype.axisType=function(){return t},e}(sd);Hs(vd.prototype,gd);const bd=vd;var wd=function(t){function e(e){t.call(this),this.closed=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.process=function(t){var e=t.slice(0),r=[],n=this.closed,i=e.length;if(i>2&&(this.removeDuplicates(0,e),i=e.length),i<2||2===i&&e[0].equals(e[1]))return r;var o,s,a=e[0],l=e[1],c=e[2];for(r.push(new gh(a));a.equals(e[i-1]);)n=!0,e.pop(),i--;if(2===i){var h=this.tangent(a,l,Ms,Es);return xl(r).controlOut(this.firstControlPoint(h,a,l,Ms,Es)),r.push(new gh(l,this.secondControlPoint(h,a,l,Ms,Es))),r}if(n){a=e[i-1],l=e[0],c=e[1];var u=this.controlPoints(a,l,c);o=u[1],s=u[0]}else{var p=this.tangent(a,l,Ms,Es);o=this.firstControlPoint(p,a,l,Ms,Es)}for(var d=o,f=0;f<=i-3;f++)if(this.removeDuplicates(f,e),f+3<=(i=e.length)){a=e[f],l=e[f+1],c=e[f+2];var g=this.controlPoints(a,l,c);xl(r).controlOut(d),d=g[1];var m=g[0];r.push(new gh(l,m))}if(n){a=e[i-2],l=e[i-1],c=e[0];var y=this.controlPoints(a,l,c);xl(r).controlOut(d),r.push(new gh(l,y[0])),xl(r).controlOut(y[1]),r.push(new gh(c,s))}else{var v=this.tangent(l,c,Ms,Es);xl(r).controlOut(d),r.push(new gh(c,this.secondControlPoint(v,l,c,Ms,Es)))}return r},e.prototype.removeDuplicates=function(t,e){for(;e[t+1]&&(e[t].equals(e[t+1])||e[t+1].equals(e[t+2]));)e.splice(t+1,1)},e.prototype.invertAxis=function(t,e,r){var n=!1;if(t.x===e.x)n=!0;else if(e.x===r.x)(e.y<r.y&&t.y<=e.y||r.y<e.y&&e.y<=t.y)&&(n=!0);else{var i=this.lineFunction(t,e),o=this.calculateFunction(i,r.x);t.y<=e.y&&r.y<=o||e.y<=t.y&&r.y>=o||(n=!0)}return n},e.prototype.isLine=function(t,e,r){var n=this.lineFunction(t,e),i=this.calculateFunction(n,r.x);return t.x===e.x&&e.x===r.x||Cl(i,1)===Cl(r.y,1)},e.prototype.lineFunction=function(t,e){var r=(e.y-t.y)/(e.x-t.x);return[t.y-r*t.x,r]},e.prototype.controlPoints=function(t,e,r){var n,i=Ms,o=Es,s=!1,a=!1;if(this.isLine(t,e,r))n=this.tangent(t,e,Ms,Es);else{var l={x:this.isMonotonicByField(t,e,r,Ms),y:this.isMonotonicByField(t,e,r,Es)};if(l.x&&l.y)n=this.tangent(t,r,Ms,Es),s=!0;else if(this.invertAxis(t,e,r)&&(i=Es,o=Ms),l[i])n=0;else n=.01*(r[o]<t[o]&&t[o]<=e[o]||t[o]<r[o]&&e[o]<=t[o]?xd((r[o]-t[o])*(e[i]-t[i])):-xd((r[i]-t[i])*(e[o]-t[o]))),a=!0}var c=this.secondControlPoint(n,t,e,i,o);if(a){var h=i;i=o,o=h}var u=this.firstControlPoint(n,e,r,i,o);return s&&(this.restrictControlPoint(t,e,c,n),this.restrictControlPoint(e,r,u,n)),[c,u]},e.prototype.restrictControlPoint=function(t,e,r,n){t.y<e.y?e.y<r.y?(r.x=t.x+(e.y-t.y)/n,r.y=e.y):r.y<t.y&&(r.x=e.x-(e.y-t.y)/n,r.y=t.y):r.y<e.y?(r.x=t.x-(t.y-e.y)/n,r.y=e.y):t.y<r.y&&(r.x=e.x+(t.y-e.y)/n,r.y=t.y)},e.prototype.tangent=function(t,e,r,n){var i,o=e[r]-t[r],s=e[n]-t[n];return i=0===o?0:s/o,i},e.prototype.isMonotonicByField=function(t,e,r,n){return r[n]>e[n]&&e[n]>t[n]||r[n]<e[n]&&e[n]<t[n]},e.prototype.firstControlPoint=function(t,e,r,n,i){var o=e[n],s=.333*(r[n]-o);return this.point(o+s,e[i]+s*t,n,i)},e.prototype.secondControlPoint=function(t,e,r,n,i){var o=e[n],s=r[n],a=.333*(s-o);return this.point(s-a,r[i]-a*t,n,i)},e.prototype.point=function(t,e,r,n){var i=new gc;return i[r]=t,i[n]=e,i},e.prototype.calculateFunction=function(t,e){for(var r=t.length,n=0,i=0;i<r;i++)n+=Math.pow(e,i)*t[i];return n},e}(va);function xd(t){return t<=0?-1:1}const Sd=wd;var kd=function(t){function e(e){t.call(this),this._axis=e,this.options=e.options}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.value=function(t){var e=this._axis,r=e.getCategory?e.getCategory(t):e.getValue(t);return r},e.prototype.slot=function(t,e,r){return void 0===r&&(r=!0),this._axis.slot(t,e,r)},e.prototype.range=function(){return this._axis.range()},e.prototype.valueRange=function(){return this._axis.valueRange()},e}(va);const Ad=kd;function Cd(t,e){for(var r=0;r<e.length;r++)if(e[r].options.name===t)return e[r].prepareUserOptions(),new Ad(e[r])}var _d=function(t){this.visual=t.visual,this.chartsVisual=t.chartContainer.visual,this._pane=t};_d.prototype.findAxisByName=function(t){return Cd(t,this._pane.axes)};const Td=_d;var Od=function(t){function e(e){t.call(this),this._plotArea=e,this.visual=e.visual,this.backgroundVisual=e._bgVisual}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(va);const Md=Od;function Ed(t){for(var e=t.length,r=0,n=0;n<e;n++){Ns(t[n])&&r++}return r}var Pd={min:function(t){for(var e=t.length,r=ys,n=0;n<e;n++){var i=t[n];Ns(i)&&(r=Math.min(r,i))}return r===ys?t[0]:r},max:function(t){for(var e=t.length,r=vs,n=0;n<e;n++){var i=t[n];Ns(i)&&(r=Math.max(r,i))}return r===vs?t[0]:r},sum:function(t){for(var e=t.length,r=0,n=0;n<e;n++){var i=t[n];Ns(i)&&(r+=i)}return r},sumOrNull:function(t){var e=null;return Ed(t)&&(e=Pd.sum(t)),e},count:function(t){for(var e=t.length,r=0,n=0;n<e;n++){var i=t[n];null!==i&&fl(i)&&r++}return r},avg:function(t){var e=Ed(t),r=t[0];return e>0&&(r=Pd.sum(t)/e),r},first:function(t){for(var e=t.length,r=0;r<e;r++){var n=t[r];if(null!==n&&fl(n))return n}return t[0]}};const Id=Pd;function Fd(t,e){return null===e?e:ra(t)(e)}var Dd=function(t){function e(){t.call(this),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e,r){var n=this;void 0===e&&(e=[_s]),void 0===r&&(r={});for(var i=0;i<t.length;i++){var o=t[i];n._valueFields[o]=e,n._otherFields[o]=r,n._nullValue[o]=n._makeValue(e,null),n._undefinedValue[o]=n._makeValue(e,void 0)}},e.prototype.canonicalFields=function(t){return this.valueFields(t).concat(this.otherFields(t))},e.prototype.valueFields=function(t){return this._valueFields[t.type]||[_s]},e.prototype.otherFields=function(t){return this._otherFields[t.type]||[_s]},e.prototype.bindPoint=function(t,e,r){var n,i,o=t.data,s=fl(r)?r:o[e],a={valueFields:{value:s}},l=this.valueFields(t),c=this._otherFields[t.type];if(null===s)i=this._nullValue[t.type];else if(fl(s)){if(Array.isArray(s)){var h=s.slice(l.length);i=this._bindFromArray(s,l),n=this._bindFromArray(h,c)}else if("object"==typeof s){var u=this.sourceFields(t,l),p=this.sourceFields(t,c);i=this._bindFromObject(s,l,u),n=this._bindFromObject(s,c,p)}}else i=this._undefinedValue[t.type];return fl(i)&&(1===l.length?a.valueFields.value=i[l[0]]:a.valueFields=i),a.fields=n||{},a},e.prototype._makeValue=function(t,e){for(var r={},n=t.length,i=0;i<n;i++){r[t[i]]=e}return r},e.prototype._bindFromArray=function(t,e){var r={};if(e)for(var n=Math.min(e.length,t.length),i=0;i<n;i++)r[e[i]]=t[i];return r},e.prototype._bindFromObject=function(t,e,r){void 0===r&&(r=e);var n={};if(e)for(var i=e.length,o=0;o<i;o++){var s=e[o],a=r[o];null!==a&&(n[s]=Fd(a,t))}return n},e.prototype.sourceFields=function(t,e){var r=[];if(e)for(var n=e.length,i=0;i<n;i++){var o=e[i],s=o===_s?"field":o+"Field";r.push(null!==t[s]?t[s]||o:null)}return r},e}(va);Dd.current=new Dd;const Rd=Dd;var Ld=/percent(?:\w*)\((\d+)\)/,Nd=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),Bd=function(t){function e(e,r,n){t.call(this),this.initGlobalRanges(e,r,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initGlobalRanges=function(t,e,r){var n=e.data,i=Nd.exec(t);if(i){this.valueGetter=this.createValueGetter(e,r);var o=this.getAverage(n),s=this.getStandardDeviation(n,o,!1),a=i[1]?parseFloat(i[1]):1,l={low:o.value-s*a,high:o.value+s*a};this.globalRange=function(){return l}}else if(t.indexOf&&t.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(e,r);var c=this.getStandardError(n,this.getAverage(n));this.globalRange=function(t){return{low:t-c,high:t+c}}}},e.prototype.createValueGetter=function(t,e){var r,n=t.data,i=Rd.current,o=i.valueFields(t),s=fl(n[0])?n[0]:{};if(Ps(s))r=ra("["+(e?o.indexOf(e):0)+"]");else if(Ns(s))r=ra();else if(typeof s===ws){r=ra(i.sourceFields(t,o)[o.indexOf(e)])}return r},e.prototype.getErrorRange=function(t,e){var r,n,i;if(!fl(e))return null;if(this.globalRange)return this.globalRange(t);if(Ps(e))r=t-e[0],n=t+e[1];else if(Ns(i=parseFloat(e)))r=t-i,n=t+i;else{if(!(i=Ld.exec(e)))throw new Error("Invalid ErrorBar value: "+e);var o=t*(parseFloat(i[1])/100);r=t-Math.abs(o),n=t+Math.abs(o)}return{low:r,high:n}},e.prototype.getStandardError=function(t,e){return this.getStandardDeviation(t,e,!0)/Math.sqrt(e.count)},e.prototype.getStandardDeviation=function(t,e,r){for(var n=t.length,i=r?e.count-1:e.count,o=0,s=0;s<n;s++){var a=this.valueGetter(t[s]);Ns(a)&&(o+=Math.pow(a-e.value,2))}return Math.sqrt(o/i)},e.prototype.getAverage=function(t){for(var e=t.length,r=0,n=0,i=0;i<e;i++){var o=this.valueGetter(t[i]);Ns(o)&&(r+=o,n++)}return{value:r/n,count:n}},e}(va);const jd=Bd;var zd=ga.browser||{},Ud=600,$d="fadeIn",Hd=.8,Vd=zd.msie?.001:0,qd="errorLow",Wd="errorHigh",Xd="zero",Gd="interpolate",Kd="above",Yd="below",Jd="smooth",Zd="step",Qd="area",tf="bar",ef="boxPlot",rf="bubble",nf="bullet",of="candlestick",sf="column",af="donut",lf="funnel",cf="heatmap",hf="horizontalWaterfall",uf="line",pf="ohlc",df="pie",ff="polarArea",gf="polarLine",mf="polarScatter",yf="radarArea",vf="radarColumn",bf="radarLine",wf="rangeArea",xf="rangeBar",Sf="rangeColumn",kf="scatter",Af="scatterLine",Cf="verticalArea",_f="verticalBoxPlot",Tf="verticalBullet",Of="verticalLine",Mf="verticalRangeArea",Ef="waterfall",Pf=[tf,sf,pf,of,ef,_f,nf,Sf,xf,Ef,hf],If="seriesHover",Ff="plotAreaHover",Df="plotAreaLeave",Rf="drag",Lf="dragEnd",Nf="dragStart",Bf="zoomStart",jf="zoom",zf="zoomEnd",Uf="selectStart",$f="select",Hf="selectEnd",Vf="showTooltip",qf="hideTooltip",Wf="log",Xf="category",Gf="insideEnd",Kf="outsideEnd",Yf="DOMMouseScroll mousewheel",Jf=function(t){function e(e,r,n,i,o,s){t.call(this,s),this.low=e,this.high=r,this.isVertical=n,this.chart=i,this.series=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e,r=this.options.endCaps,n=this.isVertical,i=this.getAxis().getSlot(this.low,this.high),o=t.center(),s=this.getCapsWidth(t,n),a=n?o.x:o.y,l=a-s,c=a+s;n?(e=[new ac(o.x,i.y1),new ac(o.x,i.y2)],r&&e.push(new ac(l,i.y1),new ac(c,i.y1),new ac(l,i.y2),new ac(c,i.y2)),this.box=new Sc(l,i.y1,c,i.y2)):(e=[new ac(i.x1,o.y),new ac(i.x2,o.y)],r&&e.push(new ac(i.x1,l),new ac(i.x1,c),new ac(i.x2,l),new ac(i.x2,c)),this.box=new Sc(i.x1,l,i.x2,c)),this.linePoints=e},e.prototype.getCapsWidth=function(t,e){var r=e?t.width():t.height();return Math.min(Math.floor(r/2),4)||4},e.prototype.createVisual=function(){var t=this,e=this.options,r=e.visual;r?this.visual=r({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:e.endCaps,color:e.color,line:e.line},createVisual:function(){t.createDefaultVisual();var e=t.visual;return delete t.visual,e}}):this.createDefaultVisual()},e.prototype.createDefaultVisual=function(){var e=this.options,r=this.linePoints,n={stroke:{color:e.color,width:e.line.width,dashType:e.line.dashType}};t.prototype.createVisual.call(this);for(var i=0;i<r.length;i+=2){var o=new Th(n).moveTo(r[i].x,r[i].y).lineTo(r[i+1].x,r[i+1].y);Rs(o),this.visual.append(o)}},e}(Zh);El(Jf,{animation:{type:$d,delay:Ud},endCaps:!0,line:{width:2},zIndex:1});const Zf=Jf;var Qf=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAxis=function(){return this.chart.seriesValueAxis(this.series)},e}(Zf);const tg=Qf;function eg(t,e,r,n){void 0===r&&(r={}),void 0===n&&(n=!1);var i=r.defaults=r.defaults||{},o=r.depth=r.depth||0,s=!1;if(r.excluded=r.excluded||[],o>5)return null;for(var a in t)if(!aa(a,r.excluded)&&t.hasOwnProperty(a)){var l=t[a];zs(l)?(s=!0,n||(t[a]=Tl(l(e),i[a]))):Vs(l)&&(n||(r.defaults=i[a]),r.depth++,s=eg(l,e,r,n)||s,r.depth--)}return s}function rg(t){for(var e=t.length,r=0,n=0;n<e;n++)r=Math.max(r,t[n].data.length);return r}var ng=function(t){function e(e,r){t.call(this,r),this.plotArea=e,this.chartService=e.chartService,this.categoryAxis=e.seriesCategoryAxis(r.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.pointOptions=function(t,e){var r=this.seriesOptions[e];if(!r){var n=this.pointType().prototype.defaults;this.seriesOptions[e]=r=Hs({},n,{vertical:!this.options.invertAxes},t)}return r},e.prototype.plotValue=function(t){if(!t)return 0;if(this.options.isStacked100&&Ns(t.value)){for(var e=t.categoryIx,r=this.categoryPoints[e],n=[],i=0,o=0;o<r.length;o++){var s=r[o];if(s){var a=t.series.stack,l=s.series.stack;if(a&&l&&a.group!==l.group)continue;Ns(s.value)&&(i+=Math.abs(s.value),n.push(Math.abs(s.value)))}}if(i>0)return t.value/i}return t.value},e.prototype.plotRange=function(t,e){void 0===e&&(e=0);var r=this.categoryPoints[t.categoryIx];if(this.options.isStacked){for(var n=this.plotValue(t),i=n>=0,o=e,s=!1,a=0;a<r.length;a++){var l=r[a];if(t===l)break;var c=t.series.stack,h=l.series.stack;if(c&&h){if(typeof c===As&&c!==h)continue;if(c.group&&c.group!==h.group)continue}var u=this.plotValue(l);(u>=0&&i||u<0&&!i)&&(o+=u,n+=u,s=!0,this.options.isStacked100&&(n=Math.min(n,1)))}return s&&(o-=e),[o,n]}var p=t.series,d=this.seriesValueAxis(p),f=this.categoryAxisCrossingValue(d);return[f,js(t.value)?t.value:f]},e.prototype.stackLimits=function(t,e){for(var r=ys,n=vs,i=0;i<this.categoryPoints.length;i++){var o=this.categoryPoints[i];if(o)for(var s=0;s<o.length;s++){var a=o[s];if(a&&(a.series.stack===e||a.series.axis===t)){var l=this.plotRange(a,0)[1];fl(l)&&isFinite(l)&&(n=Math.max(n,l),r=Math.min(r,l))}}}return{min:r,max:n}},e.prototype.updateStackRange=function(){var t=this,e=this.options,r=e.isStacked,n=e.series,i={};if(r)for(var o=0;o<n.length;o++){var s=n[o],a=s.axis,l=a+s.stack,c=i[l];if(!c){c=t.stackLimits(a,s.stack);var h=t.errorTotals;h&&(h.negative.length&&(c.min=Math.min(c.min,Pl(h.negative).min)),h.positive.length&&(c.max=Math.max(c.max,Pl(h.positive).max))),c.min!==ys||c.max!==vs?i[l]=c:c=null}c&&(t.valueAxisRanges[a]=c)}},e.prototype.addErrorBar=function(t,e,r){var n,i=t.value,o=t.series,s=t.seriesIx,a=t.options.errorBars,l=e.fields.errorLow,c=e.fields.errorHigh;Ns(l)&&Ns(c)?n={low:l,high:c}:a&&fl(a.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[s]=this.seriesErrorRanges[s]||new jd(a.value,o,_s),n=this.seriesErrorRanges[s].getErrorRange(i,a.value)),n&&(t.low=n.low,t.high=n.high,this.addPointErrorBar(t,r))},e.prototype.addPointErrorBar=function(t,e){var r=!this.options.invertAxes,n=t.options.errorBars,i=t.series,o=t.low,s=t.high;if(this.options.isStacked){var a=this.stackedErrorRange(t,e);o=a.low,s=a.high}else{var l={categoryIx:e,series:i};this.updateRange({value:o},l),this.updateRange({value:s},l)}var c=new tg(o,s,r,this,i,n);t.errorBars=[c],t.append(c)},e.prototype.stackedErrorRange=function(t,e){var r=this.plotRange(t,0)[1]-t.value,n=t.low+r,i=t.high+r;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},n<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,n)),i>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,i)),{low:n,high:i}},e.prototype.addValue=function(t,e){var r=e.categoryIx,n=e.series,i=e.seriesIx,o=this.categoryPoints[r];o||(this.categoryPoints[r]=o=[]);var s=this.seriesPoints[i];s||(this.seriesPoints[i]=s=[]);var a=this.createPoint(t,e);a&&(Object.assign(a,e),a.owner=this,a.noteText=t.fields.noteText,fl(a.dataItem)||(a.dataItem=n.data[r]),this.addErrorBar(a,t,r)),this.points.push(a),s.push(a),o.push(a),this.updateRange(t.valueFields,e)},e.prototype.evalPointOptions=function(t,e,r,n,i,o){var s={defaults:i._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},a=this._evalSeries[o];fl(a)||(this._evalSeries[o]=a=eg(t,{},s,!0));var l=t;return a&&eg(l=Hs({},l),{value:e,category:r,index:n,series:i,dataItem:i.data[n]},s),l},e.prototype.updateRange=function(t,e){var r=e.series.axis,n=t.value,i=this.valueAxisRanges[r];isFinite(n)&&null!==n&&((i=this.valueAxisRanges[r]=i||{min:ys,max:vs}).min=Math.min(i.min,n),i.max=Math.max(i.max,n))},e.prototype.seriesValueAxis=function(t){var e=this.plotArea,r=t.axis,n=r?e.namedValueAxes[r]:e.valueAxis;if(!n)throw new Error("Unable to locate value axis with name "+r);return n},e.prototype.reflow=function(t){var e=this,r=this.categorySlots=[],n=this.points,i=this.categoryAxis,o=0;this.traverseDataPoints((function(t,s){var a=s.categoryIx,l=s.series,c=e.seriesValueAxis(l),h=n[o++],u=r[a];if(u||(r[a]=u=e.categorySlot(i,a,c)),h){var p=e.plotRange(h,c.startValue()),d=e.valueSlot(c,p);if(d){var f=e.pointSlot(u,d);h.aboveAxis=e.aboveAxis(h,c),h.stackValue=p[1],e.options.isStacked100&&(h.percentage=e.plotValue(h)),e.reflowPoint(h,f)}else h.visible=!1}})),this.reflowCategories(r),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=t},e.prototype.valueSlot=function(t,e){return t.getSlot(e[0],e[1],!this.options.clip)},e.prototype.limitPoints=function(){for(var t=this.categoryPoints,e=t[0].concat(xl(t)),r=0;r<e.length;r++)e[r]&&this.limitPoint(e[r])},e.prototype.limitPoint=function(t){var e=this.categoryAxis.limitSlot(t.box);e.equals(t.box)||t.reflow(e)},e.prototype.aboveAxis=function(t,e){var r=this.categoryAxisCrossingValue(e),n=t.value;return e.options.reverse?n<r:n>=r},e.prototype.categoryAxisCrossingValue=function(t){var e=this.categoryAxis,r=t.options;return[].concat(r.axisCrossingValues||r.axisCrossingValue)[e.axisIndex||0]||0},e.prototype.reflowPoint=function(t,e){t.reflow(e)},e.prototype.reflowCategories=function(){},e.prototype.pointSlot=function(t,e){var r=this.options.invertAxes,n=r?e:t,i=r?t:e;return new Sc(n.x1,i.y1,n.x2,i.y2)},e.prototype.categorySlot=function(t,e){return t.getSlot(e)},e.prototype.traverseDataPoints=function(t){for(var e=this,r=this.options.series,n=rg(r),i=r.length,o=0;o<i;o++)e._outOfRangeCallback(r[o],"_outOfRangeMinPoint",o,t);for(var s=0;s<n;s++)for(var a=0;a<i;a++){var l=r[a],c=e.categoryAxis.categoryAt(s);t(e._bindPoint(l,a,s),{category:c,categoryIx:s,categoriesCount:n,series:l,seriesIx:a})}for(var h=0;h<i;h++)e._outOfRangeCallback(r[h],"_outOfRangeMaxPoint",h,t)},e.prototype._outOfRangeCallback=function(t,e,r,n){var i=t[e];if(i){var o=i.categoryIx;n(this._bindPoint(t,r,o,i.item),{category:i.category,categoryIx:o,series:t,seriesIx:r,dataItem:i.item})}},e.prototype._bindPoint=function(t,e,r,n){this._bindCache||(this._bindCache=[]);var i=this._bindCache[e];i||(i=this._bindCache[e]=[]);var o=i[r];return o||(o=i[r]=Rd.current.bindPoint(t,r,n)),o},e.prototype.formatPointValue=function(t,e){return null===t.value?"":this.chartService.format.auto(e,t.value)},e.prototype.pointValue=function(t){return t.valueFields.value},e}(Zh);El(ng,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});const ig=ng;var og={click:function(t,e){return t.trigger("seriesClick",this.eventArgs(e))},hover:function(t,e){return t.trigger(If,this.eventArgs(e))},over:function(t,e){return t.trigger("seriesOver",this.eventArgs(e))},out:function(t,e){return t.trigger("seriesLeave",this.eventArgs(e))},eventArgs:function(t){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:bl(t),originalEvent:t,point:this}}};const sg=og;var ag={createNote:function(){var t=this.options.notes,e=this.noteText||t.label.text;!1!==t.visible&&fl(e)&&null!==e&&(this.note=new Lu({value:this.value,text:e,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}};const lg=ag;var cg=function(t){function e(e,r){t.call(this),this.value=e,this.options=r,this.aboveAxis=Tl(this.options.aboveAxis,!0),this.tooltipTracking=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options,e=t.markers,r=t.labels;if(!this._rendered){if(this._rendered=!0,e.visible&&e.size&&(this.marker=this.createMarker(),this.append(this.marker)),r.visible){var n=Qs(r),i=this.pointData(),o=this.value;n?o=n(i):r.format&&(o=this.formatValue(r.format)),this.label=new Eu(o,Hs({align:as,vAlign:as,margin:{left:5,right:5},zIndex:Tl(r.zIndex,this.series.zIndex)},r),i),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}},e.prototype.markerBorder=function(){var t=this.options.markers,e=t.background,r=Hs({color:this.color},t.border);return fl(r.color)||(r.color=new Kl(e).brightness(Hd).toHex()),r},e.prototype.createVisual=function(){},e.prototype.createMarker=function(){var t=this.options.markers;return new ru({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:this.markerBorder(),opacity:this.series.opacity||t.opacity,zIndex:Tl(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})},e.prototype.markerBox=function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},e.prototype.reflow=function(t){var e=this.options,r=this.aboveAxis,n=e.vertical;this.render(),this.box=t;var i=t.clone();if(n?r?i.y1-=i.height():i.y2+=i.height():r?i.x1+=i.width():i.x2-=i.width(),this._childBox=i,this.marker&&this.marker.reflow(i),this.reflowLabel(i),this.errorBars)for(var o=0;o<this.errorBars.length;o++)this.errorBars[o].reflow(i);if(this.note){var s=this.markerBox();if(!e.markers.visible||!e.markers.size){var a=s.center();s=new Sc(a.x,a.y,a.x,a.y)}this.note.reflow(s)}},e.prototype.reflowLabel=function(t){var e=this.options,r=this.label,n=e.labels.position;r&&(n=(n=n===Kd?Cs:n)===Yd?ss:n,r.reflow(t),r.box.alignTo(this.markerBox(),n),r.reflow(r.box))},e.prototype.createHighlight=function(){var t=this.options.highlight.markers,e=this.markerBorder().color,r=this.options.markers,n=r.size+(r.border.width||0)+(t.border.width||0),i=new ru({type:r.type,width:n,height:n,rotation:r.rotation,background:t.color||e,border:{color:t.border.color,width:t.border.width,opacity:Tl(t.border.opacity,1)},opacity:Tl(t.opacity,1)});return i.reflow(this._childBox),i.getElement()},e.prototype.highlightVisual=function(){return(this.marker||{}).visual},e.prototype.highlightVisualArgs=function(){var t,e,r=this.marker;if(r)e=r.paddingBox.toRect(),t=r.visual;else{var n=this.options.markers.size,i=n/2,o=this.box.center();e=new bc([o.x-i,o.y-i],[n,n])}return{options:this.options,rect:e,visual:t}},e.prototype.tooltipAnchor=function(){var t=this.markerBox(),e=this.owner.pane.clipBox();if(!e||e.overlaps(t)){var r,n,i=t.x2+5;return this.aboveAxis?(r=t.y1,n=ss):(r=t.y2,n=Cs),{point:new ac(i,r),align:{horizontal:"left",vertical:n}}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.markerBox().overlaps(t)},e.prototype.unclipElements=function(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}},e}(Zh);cg.prototype.defaults={vertical:!0,markers:{visible:!0,background:Ts,size:8,type:ls,border:{width:2},opacity:1},labels:{visible:!1,position:Kd,margin:Ks(3),padding:Ks(4),animation:{type:$d,delay:Ud}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}}},Hs(cg.prototype,sg),Hs(cg.prototype,lg);const hg=cg;var ug=function(t){function e(e,r,n){t.call(this),this.linePoints=e,this.series=r,this.seriesIx=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.points=function(){return this.toGeometryPoints(this.linePoints)},e.prototype.toGeometryPoints=function(t){for(var e=[],r=0,n=t.length;r<n;r++)t[r]&&!1!==t[r].visible&&e.push(t[r]._childBox.toRect().center());return e},e.prototype.createVisual=function(){var t=this,e=this.series.visual;e?(this.visual=e({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:function(){return t.segmentVisual(),t.visual}}),this.visual&&!fl(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()},e.prototype.segmentVisual=function(){var t=this.options,e=this.series,r=e.color,n=e._defaults;zs(r)&&n&&(r=n.color);var i=Th.fromPoints(this.points(),{stroke:{color:r,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});t.closed&&i.close(),this.visual=i},e.prototype.aliasFor=function(t,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)},e}(Zh);El(ug,{closed:!1});const pg=ug;var dg={calculateStepPoints:function(t){for(var e=this.parent.plotArea.seriesCategoryAxis(this.series).options,r=e.justified,n=e.vertical,i=e.reverse,o=n?Ms:Es,s=n?Es:Ms,a=i?2:1,l=a,c=fg(t[0],o,a,s,l),h=[c],u=1;u<t.length;u++){var p=fg(t[u],o,a,s,l);if(c[o]!==p[o]){var d=new gc;d[o]=c[o],d[s]=p[s],h.push(d,p)}c=p}return r?c!==xl(h)&&h.push(c):h.push(fg(xl(t),o,a,s,i?1:2)),h}};function fg(t,e,r,n,i){var o=t.box,s=new gc;return s[e]=o[e+r],s[n]=o[n+i],s}const gg=dg;var mg=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.points=function(){return this.calculateStepPoints(this.linePoints)},e}(pg);Hs(mg.prototype,gg);const yg=mg;var vg=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.segmentVisual=function(){var t=this.series,e=t._defaults,r=t.color;zs(r)&&e&&(r=e.color);var n=new Sd(this.options.closed).process(this.points()),i=new Th({stroke:{color:r,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});i.segments.push.apply(i.segments,n),this.visual=i},e}(pg);const bg=vg;var wg={renderSegments:function(){var t,e=this,r=this.options,n=this.seriesPoints,i=r.series,o=n.length;this._segments=[];for(var s=0;s<o;s++){for(var a=i[s],l=e.sortPoints(n[s]),c=l.length,h=[],u=0;u<c;u++){var p=l[u];p?h.push(p):e.seriesMissingValues(a)!==Gd&&(h.length>1&&(t=e.createSegment(h,a,s,t),e._addSegment(t)),h=[])}h.length>1&&(t=e.createSegment(h,a,s,t),e._addSegment(t))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(t){this._segments.push(t),t.parent=this},sortPoints:function(t){return t},seriesMissingValues:function(t){var e=t.missingValues;return!e&&this.options.isStacked?Xd:e||Gd},getNearestPoint:function(t,e,r){for(var n,i=new ac(t,e),o=this.seriesPoints[r],s=ys,a=0;a<o.length;a++){var l=o[a];if(l&&fl(l.value)&&null!==l.value&&!1!==l.visible){var c=l.box.center().distanceTo(i);c<s&&(n=l,s=c)}}return n}};const xg=wg;var Sg=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this._setEnd(this.options.box.x1)},e.prototype.step=function(t){var e=this.options.box;this._setEnd(ca(e.x1,e.x2,t))},e.prototype._setEnd=function(t){var e=this.element,r=e.segments,n=r[1].anchor(),i=r[2].anchor();e.suspend(),n.setX(t),e.resume(),i.setX(t)},e}(Yh);El(Sg,{duration:Ud}),Gh.current.register("clip",Sg);const kg=Sg;function Ag(t){for(var e=0;e<t.length;e++)if(fl(t[e].zIndex))return!0}var Cg={createAnimation:function(){var t=this.getRoot();if(t&&!1!==(t.options||{}).transitions){var e=t.size(),r=Th.fromRect(e.toRect());this.visual.clip(r),this.animation=new kg(r,{box:e}),Ag(this.options.series)&&this._setChildrenAnimation(r)}},_setChildrenAnimation:function(t){for(var e=this.animationPoints(),r=0;r<e.length;r++){var n=e[r];n&&n.visual&&fl(n.visual.options.zIndex)&&n.visual.clip(t)}}};const _g=Cg;var Tg=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.updateStackRange(),this.renderSegments()},e.prototype.pointType=function(){return hg},e.prototype.createPoint=function(t,e){var r=e.categoryIx,n=e.category,i=e.series,o=e.seriesIx,s=this.seriesMissingValues(i),a=t.valueFields.value;if(!fl(a)||null===a){if(s!==Xd)return null;a=0}var l=this.pointOptions(i,o);l=this.evalPointOptions(l,a,n,r,i,o);var c=t.fields.color||i.color;zs(i.color)&&(c=l.color);var h=new hg(a,l);return h.color=c,this.append(h),h},e.prototype.plotRange=function(t){var e=this.plotValue(t);if(this.options.isStacked)for(var r=t.categoryIx,n=this.categoryPoints[r],i=0;i<n.length;i++){var o=n[i];if(t===o)break;e+=this.plotValue(o),this.options.isStacked100&&(e=Math.min(e,1))}return[e,e]},e.prototype.createSegment=function(t,e,r){var n=e.style;return new(n===Zd?yg:n===Jd?bg:pg)(t,e,r)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],r=0;r<t.length;r++)e.push((t[r]||{}).marker);return e.concat(this._segments)},e.prototype.supportsPointInactiveOpacity=function(){return!1},e}(ig);Hs(Tg.prototype,xg,_g);const Og=Tg;var Mg=function(t){function e(e,r,n,i,o){t.call(this,e,r,n),this.prevSegment=i,this.stackPoints=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createVisual=function(){var t=this.series,e=t._defaults,r=t.line||{},n=t.color;zs(n)&&e&&(n=e.color),this.visual=new zh({zIndex:t.zIndex}),this.createFill({fill:{color:n,opacity:t.opacity},stroke:null}),r.width>0&&!1!==r.visible&&this.createStroke({stroke:Hs({color:n,opacity:t.opacity,lineCap:"butt"},r)})},e.prototype.strokeSegments=function(){var t=this._strokeSegments;return t||(t=this._strokeSegments=this.createStrokeSegments()),t},e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.points())},e.prototype.stackSegments=function(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)},e.prototype.createStackSegments=function(t){return this.segmentsFromPoints(this.toGeometryPoints(t)).reverse()},e.prototype.segmentsFromPoints=function(t){return t.map((function(t){return new gh(t)}))},e.prototype.createStroke=function(t){var e=new Th(t);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)},e.prototype.hasStackSegment=function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length},e.prototype.createFill=function(t){var e=this.strokeSegments(),r=e.slice(0),n=this.hasStackSegment();if(n){var i=this.stackSegments();pl(r,i)}var o=new Th(t);o.segments.push.apply(o.segments,r),!n&&e.length>1&&this.fillToAxes(o),this.visual.append(o)},e.prototype.fillToAxes=function(t){var e=this.parent,r=e.options.invertAxes,n=e.seriesValueAxis(this.series),i=e.categoryAxisCrossingValue(n),o=n.getSlot(i,i,!0),s=this.strokeSegments(),a=s[0].anchor(),l=xl(s).anchor(),c=r?o.x1:o.y1;r?t.lineTo(c,l.y).lineTo(c,a.y):t.lineTo(l.x,c).lineTo(a.x,c)},e}(pg);const Eg=Mg;var Pg=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))},e.prototype.createStackSegments=function(t){return this.segmentsFromPoints(this.calculateStepPoints(t)).reverse()},e}(Eg);Hs(Pg.prototype,gg);const Ig=Pg;var Fg=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){var t=new Sd(this.options.closed),e=this.points();return t.process(e)},e.prototype.createStackSegments=function(){for(var t=this.strokeSegments(),e=[],r=t.length-1;r>=0;r--){var n=t[r];e.push(new gh(n.anchor(),n.controlOut(),n.controlIn()))}return e},e}(Eg);const Dg=Fg;var Rg=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,r,n){var i,o,s=this.options.isStacked,a=(e.line||{}).style;s&&r>0&&n&&("gap"!==this.seriesMissingValues(e)?(o=n.linePoints,i=n):o=this._gapStackPoints(t,r,a));return new(a===Zd?Ig:a===Jd?Dg:Eg)(t,e,r,i,o)},e.prototype.reflow=function(e){t.prototype.reflow.call(this,e);var r=this._stackPoints;if(r)for(var n=0;n<r.length;n++){var i=r[n],o=this.categoryAxis.getSlot(i.categoryIx);i.reflow(o)}},e.prototype._gapStackPoints=function(t,e,r){var n=this,i=this.seriesPoints,o=t[0].categoryIx,s=t.length;o<0&&(o=0,s--);var a=o+s,l=this.seriesOptions[0]._outOfRangeMinPoint?1:0,c=[];this._stackPoints=this._stackPoints||[];for(var h=o;h<a;h++){var u=h+l,p=e,d=void 0;do{d=i[--p][u]}while(p>0&&!d);if(d)r!==Zd&&h>o&&!i[p][u-1]&&c.push(n._previousSegmentPoint(h,u,u-1,p)),c.push(d),r!==Zd&&h+1<a&&!i[p][u+1]&&c.push(n._previousSegmentPoint(h,u,u+1,p));else{var f=n._createGapStackPoint(h);n._stackPoints.push(f),c.push(f)}}return c},e.prototype._previousSegmentPoint=function(t,e,r,n){for(var i,o=this.seriesPoints,s=n;s>0&&!i;)i=o[--s][r];return i?i=o[s][e]:(i=this._createGapStackPoint(t),this._stackPoints.push(i)),i},e.prototype._createGapStackPoint=function(t){var e=this.pointOptions({},0),r=new hg(0,e);return r.categoryIx=t,r.series={},r},e.prototype.seriesMissingValues=function(t){return t.missingValues||Xd},e.prototype.supportsPointInactiveOpacity=function(){return!1},e}(Og);const Lg=Rg;var Ng=function(t){function e(){t.call(this),this.axisRanges={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t){var e=this.axisRanges;for(var r in t){var n=t[r],i=e[r];e[r]=i=i||{min:ys,max:vs},i.min=Math.min(i.min,n.min),i.max=Math.max(i.max,n.max)}},e.prototype.reset=function(t){this.axisRanges[t]=void 0},e.prototype.query=function(t){return this.axisRanges[t]},e}(va);const Bg=Ng;var jg=function(t){function e(e,r,n){t.call(this,r),this.textBox=new Eu(e,this.options,n),this.append(this.textBox)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createVisual=function(){this.textBox.options.noclip=this.options.noclip},e.prototype.reflow=function(t){var e=this.options,r=e.vertical,n=e.aboveAxis,i=this.children[0],o=i.options,s=i.box,a=i.options.padding,l=t;o.align=r?as:ms,o.vAlign=r?Cs:as,e.position===Gf?r?(o.vAlign=Cs,!n&&s.height()<t.height()&&(o.vAlign=ss)):o.align=n?Ss:ms:e.position===as?(o.vAlign=as,o.align=as):"insideBase"===e.position?r?o.vAlign=n?ss:Cs:o.align=n?ms:Ss:e.position===Kf&&(r?l=n?new Sc(t.x1,t.y1-s.height(),t.x2,t.y1):new Sc(t.x1,t.y2,t.x2,t.y2+s.height()):(o.align=as,l=n?new Sc(t.x2,t.y1,t.x2+s.width(),t.y2):new Sc(t.x1-s.width(),t.y1,t.x1,t.y2))),e.rotation||(r?a.left=a.right=(l.width()-i.contentBox.width())/2:a.top=a.bottom=(l.height()-i.contentBox.height())/2),i.reflow(l)},e.prototype.alignToClipBox=function(t){var e=this.options.vertical?Es:Ms,r=e+"1",n=e+"2",i=this.children[0],o=this.parent.box;if(o[r]<t[r]||t[n]<o[n]){var s=i.paddingBox.clone();s[r]=Math.max(o[r],t[r]),s[n]=Math.min(o[n],t[n]),this.reflow(s)}},e}(Zh);El(jg,{position:Kf,margin:Ks(3),padding:Ks(4),color:is,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:$d,delay:Ud},zIndex:2});const zg=jg;function Ug(t){var e=t.overlay;return e&&e.gradient&&"none"!==e.gradient}var $g=function(t){function e(e,r){t.call(this),this.options=r,this.color=r.color||Ts,this.aboveAxis=Tl(this.options.aboveAxis,!0),this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},e.prototype.createLabel=function(){var t=this.options,e=t.labels;if(e.visible){var r,n=this.pointData(),i=Qs(e);r=i?i(n):this.formatValue(e.format),this.label=new zg(r,Hs({vertical:t.vertical},e),n),this.append(this.label)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.reflow=function(t){this.render();var e=this.label;if(this.box=t,e&&(e.options.aboveAxis=this.aboveAxis,e.reflow(t)),this.note&&this.note.reflow(t),this.errorBars)for(var r=0;r<this.errorBars.length;r++)this.errorBars[r].reflow(t)},e.prototype.createVisual=function(){var e=this,r=this.box,n=this.options,i=n.visual;if(!1!==this.visible)if(t.prototype.createVisual.call(this),i){var o=this.rectVisual=i({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:r.toRect(),createVisual:function(){var t=new zh;return e.createRect(t),t},options:n});o&&this.visual.append(o)}else r.width()>0&&r.height()>0&&this.createRect(this.visual)},e.prototype.createRect=function(t){var e=this.options,r=e.border,n=fl(r.opacity)?r.opacity:e.opacity,i=this.box.toRect();i.size.width=Math.round(i.size.width);var o=this.rectVisual=Th.fromRect(i,{fill:{color:this.color,opacity:e.opacity},stroke:{color:this.getBorderColor(),width:r.width,opacity:n,dashType:r.dashType}}),s=this.box.width(),a=this.box.height();if((e.vertical?s:a)>6&&(Rs(o),(s<1||a<1)&&(o.options.stroke.lineJoin="round")),t.append(o),Ug(e)){var l=this.createGradientOverlay(o,{baseColor:this.color},Hs({end:e.vertical?void 0:[0,1]},e.overlay));t.append(l)}},e.prototype.createHighlight=function(t){return Rs(Th.fromRect(this.box.toRect(),t))},e.prototype.highlightVisual=function(){return this.rectVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},e.prototype.getBorderColor=function(){var t=this.color,e=this.options.border,r=e._brightness||Hd,n=e.color;return fl(n)||(n=new Kl(t).brightness(r).toHex()),n},e.prototype.tooltipAnchor=function(){var t,e,r=this,n=r.options,i=r.box,o=r.aboveAxis,s=this.owner.pane.clipBox()||i,a=ms,l=Cs;if(n.vertical)t=Math.min(i.x2,s.x2)+5,o?e=Math.max(i.y1,s.y1):(e=Math.min(i.y2,s.y2),l=ss);else{var c=Math.max(i.x1,s.x1),h=Math.min(i.x2,s.x2);n.isStacked?(l=ss,o?(a=Ss,t=h):t=c,e=Math.max(i.y1,s.y1)-5):(o?t=h+5:(t=c-5,a=Ss),e=Math.max(i.y1,s.y1))}return{point:new ac(t,e),align:{horizontal:a,vertical:l}}},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}},e}(Zh);Hs($g.prototype,sg),Hs($g.prototype,lg),$g.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};const Hg=$g;function Vg(t,e){t.forEach(e)}function qg(t,e){for(var r=t.length,n=r-1;n>=0;n--)e(t[n],n-r-1)}var Wg=function(t){function e(e){t.call(this,e),this.forEach=e.rtl?qg:Vg}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,r=e.vertical,n=e.gap,i=e.spacing,o=this.children,s=o.length,a=r?Es:Ms,l=s+n+i*(s-1),c=(r?t.height():t.width())/l,h=t[a+1]+c*(n/2);this.forEach(o,(function(e,r){var n=(e.box||t).clone();n[a+1]=h,n[a+2]=h+c,e.reflow(n),r<s-1&&(h+=c*i),h+=c}))},e}(Zh);El(Wg,{vertical:!1,gap:0,spacing:0});const Xg=Wg;var Gg=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){for(var e=this.options.vertical?Ms:Es,r=this.children,n=r.length,i=this.box=new Sc,o=0;o<n;o++){var s=r[o];if(!1!==s.visible){var a=s.box.clone();a.snapTo(t,e),0===o&&(i=this.box=a.clone()),s.reflow(a),i.wrap(a)}}},e}(Zh);El(Gg,{vertical:!0});const Kg=Gg;var Yg=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.updateStackRange()},e.prototype.pointType=function(){return Hg},e.prototype.clusterType=function(){return Xg},e.prototype.stackType=function(){return Kg},e.prototype.stackLimits=function(e,r){return t.prototype.stackLimits.call(this,e,r)},e.prototype.createPoint=function(t,e){var r=e.categoryIx,n=e.category,i=e.series,o=e.seriesIx,s=this.options,a=this.children,l=s.isStacked,c=this.pointValue(t),h=this.pointOptions(i,o),u=h.labels;l&&u.position===Kf&&(u.position=Gf),h.isStacked=l;var p=t.fields.color||i.color;c<0&&h.negativeColor&&(p=h.negativeColor),h=this.evalPointOptions(h,c,n,r,i,o),zs(i.color)&&(p=h.color);var d=new(this.pointType())(c,h);d.color=p;var f=a[r];f||(f=new(this.clusterType())({vertical:s.invertAxes,gap:s.gap,spacing:s.spacing,rtl:!s.invertAxes&&(this.chartService||{}).rtl}),this.append(f));l?this.getStackWrap(i,f).append(d):f.append(d);return d},e.prototype.getStackWrap=function(t,e){var r,n=t.stack,i=n&&n.group||n,o=e.children;if(typeof i===As){for(var s=0;s<o.length;s++)if(o[s]._stackGroup===i){r=o[s];break}}else r=o[0];r||((r=new(this.stackType())({vertical:!this.options.invertAxes}))._stackGroup=i,e.append(r));return r},e.prototype.categorySlot=function(t,e,r){var n=this.options,i=t.getSlot(e),o=r.startValue();if(n.isStacked){var s=r.getSlot(o,o,!0),a=n.invertAxes?Ms:Es;i[a+1]=i[a+2]=s[a+1]}return i},e.prototype.reflowCategories=function(t){for(var e=this.children,r=e.length,n=0;n<r;n++)e[n].reflow(t[n])},e.prototype.createAnimation=function(){this._setAnimationOptions(),t.prototype.createAnimation.call(this),Ag(this.options.series)&&this._setChildrenAnimation()},e.prototype._setChildrenAnimation=function(){for(var t=this.points,e=0;e<t.length;e++){var r=t[e],n=r.visual;n&&fl(n.options.zIndex)&&(r.options.animation=this.options.animation,r.createAnimation())}},e.prototype._setAnimationOptions=function(){var t,e=this.options,r=e.animation||{};if(e.isStacked){var n=this.seriesValueAxis(e.series[0]);t=n.getSlot(n.startValue())}else t=this.categoryAxis.getSlot(0);r.origin=new gc(t.x1,t.y1),r.vertical=!e.invertAxes},e}(ig);El(Yg,{animation:{type:tf}});const Jg=Yg;var Zg=function(t){function e(e,r){t.call(this,r),this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,r=e.options,n=e.value,i=e.owner.seriesValueAxis(r),o=i.getSlot(n.open,n.close),s=i.getSlot(n.low,n.high);o.x1=s.x1=t.x1,o.x2=s.x2=t.x2,this.realBody=o;var a=s.center().x,l=[];l.push([[a,s.y1],[a,o.y1]]),l.push([[a,o.y2],[a,s.y2]]),this.lines=l,this.box=s.clone().wrap(o),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()},e.prototype.reflowNote=function(){this.note&&this.note.reflow(this.box)},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()},e.prototype.mainVisual=function(t){var e=new zh;return this.createBody(e,t),this.createLines(e,t),e},e.prototype.createBody=function(t,e){var r=Th.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&r.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:Tl(e.border.opacity,e.opacity)}),Rs(r),t.append(r),Ug(e)&&t.append(this.createGradientOverlay(r,{baseColor:this.color},Hs({end:e.vertical?void 0:[0,1]},e.overlay)))},e.prototype.createLines=function(t,e){this.drawLines(t,e,this.lines,e.line)},e.prototype.drawLines=function(t,e,r,n){if(r)for(var i={stroke:{color:n.color||this.color,opacity:Tl(n.opacity,e.opacity),width:n.width,dashType:n.dashType,lineCap:"butt"}},o=0;o<r.length;o++){var s=Th.fromPoints(r[o],i);Rs(s),t.append(s)}},e.prototype.getBorderColor=function(){var t=this.options.border,e=t.color;return fl(e)||(e=new Kl(this.color).brightness(t._brightness).toHex()),e},e.prototype.createOverlay=function(){var t=Th.fromRect(this.box.toRect(),{fill:{color:Ts,opacity:0},stroke:null});this.visual.append(t)},e.prototype.createHighlight=function(){var t=this.options.highlight,e=this.color;this.color=t.color||this.color;var r=this.mainVisual(Hs({},this.options,{line:{color:this.getBorderColor()}},t));return this.color=e,r},e.prototype.highlightVisual=function(){return this._mainVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},e.prototype.tooltipAnchor=function(){var t=this.box,e=this.owner.pane.clipBox()||t;return{point:new ac(t.x2+5,Math.max(t.y1,e.y1)+5),align:{horizontal:ms,vertical:Cs}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e}(Zh);El(Zg,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),Hs(Zg.prototype,sg),Hs(Zg.prototype,lg);const Qg=Zg;function tm(t){return Ed(t)===t.length}var em=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowCategories=function(t){for(var e=this.children,r=e.length,n=0;n<r;n++)e[n].reflow(t[n])},e.prototype.addValue=function(t,e){var r,n=e.categoryIx,i=e.category,o=e.series,s=e.seriesIx,a=this.children,l=this.options,c=t.valueFields,h=tm(this.splitValue(c)),u=o.data[n],p=this.categoryPoints[n];p||(this.categoryPoints[n]=p=[]),h&&(r=this.createPoint(t,e));var d=a[n];d||(d=new Xg({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),r&&(this.updateRange(c,e),d.append(r),r.categoryIx=n,r.category=i,r.series=o,r.seriesIx=s,r.owner=this,r.dataItem=u,r.noteText=t.fields.noteText),this.points.push(r),p.push(r)},e.prototype.pointType=function(){return Qg},e.prototype.createPoint=function(t,e){var r=e.categoryIx,n=e.category,i=e.series,o=e.seriesIx,s=this.pointType(),a=t.valueFields,l=Hs({},i),c=t.fields.color||i.color;l=this.evalPointOptions(l,a,n,r,i,o),i.type===of&&a.open>a.close&&(c=t.fields.downColor||i.downColor||i.color),zs(i.color)&&(c=l.color),l.vertical=!this.options.invertAxes;var h=new s(a,l);return h.color=c,h},e.prototype.splitValue=function(t){return[t.low,t.open,t.close,t.high]},e.prototype.updateRange=function(t,e){var r=e.series.axis,n=this.splitValue(t),i=this.valueAxisRanges[r];i=this.valueAxisRanges[r]=i||{min:ys,max:vs},i=this.valueAxisRanges[r]={min:Math.min.apply(Math,n.concat([i.min])),max:Math.max.apply(Math,n.concat([i.max]))}},e.prototype.formatPointValue=function(t,e){var r=t.value;return this.chartService.format.auto(e,r.open,r.high,r.low,r.close,t.category)},e.prototype.animationPoints=function(){return this.points},e}(ig);Hs(em.prototype,_g);const rm=em;var nm=function(t){function e(e,r){t.call(this,e,r),this.createNote()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e,r,n=this,i=n.options,o=n.value,s=n.owner.seriesValueAxis(i);this.boxSlot=r=s.getSlot(o.q1,o.q3),this.realBody=r,this.reflowBoxSlot(t),this.whiskerSlot=e=s.getSlot(o.lower,o.upper),this.reflowWhiskerSlot(t);var a=s.getSlot(o.median);if(o.mean){var l=s.getSlot(o.mean);this.meanPoints=this.calcMeanPoints(t,l)}this.whiskerPoints=this.calcWhiskerPoints(r,e),this.medianPoints=this.calcMedianPoints(t,a),this.box=e.clone().wrap(r),this.reflowNote()},e.prototype.reflowBoxSlot=function(t){this.boxSlot.x1=t.x1,this.boxSlot.x2=t.x2},e.prototype.reflowWhiskerSlot=function(t){this.whiskerSlot.x1=t.x1,this.whiskerSlot.x2=t.x2},e.prototype.calcMeanPoints=function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},e.prototype.calcWhiskerPoints=function(t,e){var r=e.center().x;return[[[r-5,e.y1],[r+5,e.y1],[r,e.y1],[r,t.y1]],[[r-5,e.y2],[r+5,e.y2],[r,e.y2],[r,t.y2]]]},e.prototype.calcMedianPoints=function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},e.prototype.renderOutliers=function(t){for(var e=this.value,r=e.outliers||[],n=3*Math.abs(e.q3-e.q1),i=[],o=t.markers||{},s=0;s<r.length;s++){var a=r[s],l=Hs({},(o=a<e.q3+n&&a>e.q1-n?t.outliers:t.extremes).border);fl(l.color)||(fl(this.color)?l.color=this.color:l.color=new Kl(o.background).brightness(Hd).toHex());var c=new ru({type:o.type,width:o.size,height:o.size,rotation:o.rotation,background:o.background,border:l,opacity:o.opacity});c.value=a,i.push(c)}return this.reflowOutliers(i),i},e.prototype.reflowOutliers=function(t){for(var e=this,r=this.owner.seriesValueAxis(this.options),n=this.box.center(),i=0;i<t.length;i++){var o=t[i].value,s=r.getSlot(o);e.options.vertical?s.move(n.x):s.move(void 0,n.y),e.box=e.box.wrap(s),t[i].reflow(s)}},e.prototype.mainVisual=function(e){for(var r=t.prototype.mainVisual.call(this,e),n=this.renderOutliers(e),i=0;i<n.length;i++){var o=n[i].getElement();o&&r.append(o)}return r},e.prototype.createLines=function(t,e){this.drawLines(t,e,this.whiskerPoints,e.whiskers),this.drawLines(t,e,this.medianPoints,e.median),this.drawLines(t,e,this.meanPoints,e.mean)},e.prototype.getBorderColor=function(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:t.prototype.getBorderColor.call(this)},e}(Qg);El(nm,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:cs,background:Ts,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:ls,background:Ts,border:{width:2,opacity:1},opacity:0}}),Hs(nm.prototype,sg);const im=nm;var om=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowBoxSlot=function(t){this.boxSlot.y1=t.y1,this.boxSlot.y2=t.y2},e.prototype.reflowWhiskerSlot=function(t){this.whiskerSlot.y1=t.y1,this.whiskerSlot.y2=t.y2},e.prototype.calcMeanPoints=function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},e.prototype.calcWhiskerPoints=function(t,e){var r=e.center().y;return[[[e.x1,r-5],[e.x1,r+5],[e.x1,r],[t.x1,r]],[[e.x2,r-5],[e.x2,r+5],[e.x2,r],[t.x2,r]]]},e.prototype.calcMedianPoints=function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},e}(im);const sm=om;var am=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addValue=function(t,e){var r,n=e.categoryIx,i=e.category,o=e.series,s=e.seriesIx,a=this.children,l=this.options,c=t.valueFields,h=tm(this.splitValue(c)),u=o.data[n],p=this.categoryPoints[n];p||(this.categoryPoints[n]=p=[]),h&&(r=this.createPoint(t,e));var d=a[n];d||(d=new Xg({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),r&&(this.updateRange(c,e),d.append(r),r.categoryIx=n,r.category=i,r.series=o,r.seriesIx=s,r.owner=this,r.dataItem=u),this.points.push(r),p.push(r)},e.prototype.pointType=function(){return this.options.invertAxes?sm:im},e.prototype.splitValue=function(t){return[t.lower,t.q1,t.median,t.q3,t.upper]},e.prototype.updateRange=function(t,e){var r=e.series.axis,n=this.valueAxisRanges[r],i=this.splitValue(t).concat(this.filterOutliers(t.outliers));fl(t.mean)&&(i=i.concat(t.mean)),n=this.valueAxisRanges[r]=n||{min:ys,max:vs},n=this.valueAxisRanges[r]={min:Math.min.apply(Math,i.concat([n.min])),max:Math.max.apply(Math,i.concat([n.max]))}},e.prototype.formatPointValue=function(t,e){var r=t.value;return this.chartService.format.auto(e,r.lower,r.q1,r.median,r.q3,r.upper,r.mean,t.category)},e.prototype.filterOutliers=function(t){for(var e=(t||[]).length,r=[],n=0;n<e;n++){var i=t[n];fl(i)&&null!==i&&r.push(i)}return r},e.prototype.supportsPointInactiveOpacity=function(){return!1},e}(rm);const lm=am;var cm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAxis=function(){var t=this.chart.seriesAxes(this.series);return this.isVertical?t.y:t.x},e}(Zf);const hm=cm;function um(t){return fl(t)&&null!==t}var pm=function(t){function e(e,r){t.call(this,r),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]},e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.addErrorBar=function(t,e,r){var n,i=t.value[e],o=e+"Value",s=e+"ErrorLow",a=e+"ErrorHigh",l=r.seriesIx,c=r.series,h=t.options.errorBars,u=r[s],p=r[a];Ns(i)&&(Ns(u)&&Ns(p)&&(n={low:u,high:p}),h&&fl(h[o])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][l]=this.seriesErrorRanges[e][l]||new jd(h[o],c,e),n=this.seriesErrorRanges[e][l].getErrorRange(i,h[o])),n&&this.addPointErrorBar(n,t,e))},e.prototype.addPointErrorBar=function(t,e,r){var n=t.low,i=t.high,o=e.series,s=e.options.errorBars,a=r===Es,l={};e[r+"Low"]=n,e[r+"High"]=i,e.errorBars=e.errorBars||[];var c=new hm(n,i,a,this,o,s);e.errorBars.push(c),e.append(c),l[r]=n,this.updateRange(l,o),l[r]=i,this.updateRange(l,o)},e.prototype.addValue=function(t,e){var r,n=t.x,i=t.y,o=e.seriesIx,s=this.options.series[o],a=this.seriesMissingValues(s),l=this.seriesPoints[o],c=t;um(n)&&um(i)||(c=this.createMissingValue(c,a)),c&&((r=this.createPoint(c,e))&&(Object.assign(r,e),this.addErrorBar(r,Ms,e),this.addErrorBar(r,Es,e)),this.updateRange(c,e.series)),this.points.push(r),l.push(r)},e.prototype.seriesMissingValues=function(t){return t.missingValues},e.prototype.createMissingValue=function(){},e.prototype.updateRange=function(t,e){var r=this.chartService.intl,n=e.xAxis,i=e.yAxis,o=t.x,s=t.y,a=this.xAxisRanges[n],l=this.yAxisRanges[i];um(o)&&(a=this.xAxisRanges[n]=a||{min:ys,max:vs},Bs(o)&&(o=Pp(r,o)),a.min=Math.min(a.min,o),a.max=Math.max(a.max,o)),um(s)&&(l=this.yAxisRanges[i]=l||{min:ys,max:vs},Bs(s)&&(s=Pp(r,s)),l.min=Math.min(l.min,s),l.max=Math.max(l.max,s))},e.prototype.evalPointOptions=function(t,e,r){var n=r.series,i=r.seriesIx,o={defaults:n._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},s=this._evalSeries[i];fl(s)||(this._evalSeries[i]=s=eg(t,{},o,!0));var a=t;return s&&eg(a=Hs({},t),{value:e,series:n,dataItem:r.dataItem},o),a},e.prototype.pointType=function(){return hg},e.prototype.pointOptions=function(t,e){var r=this.seriesOptions[e];if(!r){var n=this.pointType().prototype.defaults;this.seriesOptions[e]=r=Hs({},n,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return r},e.prototype.createPoint=function(t,e){var r=e.series,n=this.pointOptions(r,e.seriesIx),i=e.color||r.color;n=this.evalPointOptions(n,t,e),zs(r.color)&&(i=n.color);var o=new hg(t,n);return o.color=i,this.append(o),o},e.prototype.seriesAxes=function(t){var e=t.xAxis,r=t.yAxis,n=this.plotArea,i=e?n.namedXAxes[e]:n.axisX,o=r?n.namedYAxes[r]:n.axisY;if(!i)throw new Error("Unable to locate X axis with name "+e);if(!o)throw new Error("Unable to locate Y axis with name "+r);return{x:i,y:o}},e.prototype.reflow=function(t){var e=this,r=this.points,n=!this.options.clip,i=0;this.traverseDataPoints((function(t,o){var s=r[i++],a=e.seriesAxes(o.series),l=a.x.getSlot(t.x,t.x,n),c=a.y.getSlot(t.y,t.y,n);if(s)if(l&&c){var h=e.pointSlot(l,c);s.reflow(h)}else s.visible=!1})),this.box=t},e.prototype.pointSlot=function(t,e){return new Sc(t.x1,e.y1,t.x2,e.y2)},e.prototype.traverseDataPoints=function(t){for(var e=this.options.series,r=this.seriesPoints,n=0;n<e.length;n++){var i=e[n];r[n]||(r[n]=[]);for(var o=0;o<i.data.length;o++){var s=this._bindPoint(i,n,o),a=s.valueFields,l=s.fields;t(a,Hs({pointIx:o,series:i,seriesIx:n,dataItem:i.data[o],owner:this},l))}}},e.prototype.formatPointValue=function(t,e){var r=t.value;return this.chartService.format.auto(e,r.x,r.y)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],r=0;r<t.length;r++)e.push((t[r]||{}).marker);return e},e}(Zh);El(pm,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),Hs(pm.prototype,_g,{_bindPoint:ig.prototype._bindPoint});const dm=pm;var fm=function(t){function e(e,r){t.call(this,e,r),this.category=e.category}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createHighlight=function(){var t=this.options.highlight,e=t.border,r=this.options.markers,n=this.box.center(),i=(r.size+r.border.width+e.width)/2,o=new zh,s=new Nh(new Fh([n.x,n.y+i/5+e.width/2],i+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:r.background,stops:[{offset:0,color:r.background,opacity:.3},{offset:1,color:r.background,opacity:0}]})}),a=new Nh(new Fh([n.x,n.y],i),{stroke:{color:e.color||new Kl(r.background).brightness(Hd).toHex(),width:e.width,opacity:e.opacity},fill:{color:r.background,opacity:t.opacity}});return o.append(s,a),o},e}(hg);fm.prototype.defaults=Hs({},fm.prototype.defaults,{labels:{position:as},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),fm.prototype.defaults.highlight.zIndex=void 0;const gm=fm;var mm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this._maxSize=vs,t.prototype._initFields.call(this)},e.prototype.addValue=function(e,r){null!==e.size&&(e.size>0||e.size<0&&r.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(e.size)),t.prototype.addValue.call(this,e,r)):(this.points.push(null),this.seriesPoints[r.seriesIx].push(null))},e.prototype.reflow=function(e){this.updateBubblesSize(e),t.prototype.reflow.call(this,e)},e.prototype.pointType=function(){return gm},e.prototype.createPoint=function(t,e){var r=e.series,n=r.data.length,i=e.pointIx*(Ud/n),o={delay:i,duration:Ud-i,type:rf},s=e.color||r.color;t.size<0&&r.negativeValues.visible&&(s=Tl(r.negativeValues.color,s));var a=Hs({labels:{animation:{delay:i,duration:Ud-i}}},this.pointOptions(r,e.seriesIx),{markers:{type:ls,border:r.border,opacity:r.opacity,animation:o}});a=this.evalPointOptions(a,t,e),zs(r.color)&&(s=a.color),a.markers.background=s;var l=new gm(t,a);return l.color=s,this.append(l),l},e.prototype.updateBubblesSize=function(t){for(var e=this.options.series,r=Math.min(t.width(),t.height()),n=0;n<e.length;n++)for(var i=e[n],o=this.seriesPoints[n],s=(i.minSize||Math.max(.02*r,10))/2,a=(i.maxSize||.2*r)/2,l=Math.PI*s*s,c=(Math.PI*a*a-l)/this._maxSize,h=0;h<o.length;h++){var u=o[h];if(u){var p=Math.abs(u.value.size)*c,d=Math.sqrt((l+p)/Math.PI),f=Tl(u.options.zIndex,0)+(1-d/a);Hs(u.options,{zIndex:f,markers:{size:2*d,zIndex:f},labels:{zIndex:f+1}})}}},e.prototype.formatPointValue=function(t,e){var r=t.value;return this.chartService.format.auto(e,r.x,r.y,r.size,t.category)},e.prototype.createAnimation=function(){},e.prototype.createVisual=function(){},e}(dm);El(mm,{tooltip:{format:"{3}"},labels:{format:"{3}"}});const ym=mm;var vm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ru);Hs(vm.prototype,sg);const bm=vm;var wm=function(t){function e(e,r){t.call(this,r),this.aboveAxis=this.options.aboveAxis,this.color=r.color||Ts,this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options;this._rendered||(this._rendered=!0,fl(this.value.target)&&(this.target=new bm({type:t.target.shape,background:t.target.color||this.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:Cs,align:Ss}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createNote())},e.prototype.reflow=function(t){this.render();var e=this,r=e.options,n=e.target,i=e.owner,o=r.invertAxes,s=i.seriesValueAxis(this.options),a=i.categorySlot(i.categoryAxis,r.categoryIx,s),l=s.getSlot(this.value.target),c=o?l:a,h=o?a:l;if(n){var u=new Sc(c.x1,h.y1,c.x2,h.y2);n.options.height=o?u.height():r.target.line.width,n.options.width=o?r.target.line.width:u.width(),n.reflow(u)}this.note&&this.note.reflow(t),this.box=t},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options,r=Th.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&r.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:Tl(e.border.opacity,e.opacity)}),this.bodyVisual=r,Rs(r),this.visual.append(r)},e.prototype.createAnimation=function(){this.bodyVisual&&(this.animation=Yh.create(this.bodyVisual,this.options.animation))},e.prototype.createHighlight=function(t){return Th.fromRect(this.box.toRect(),t)},e.prototype.highlightVisual=function(){return this.bodyVisual},e.prototype.highlightVisualArgs=function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e}(Zh);wm.prototype.tooltipAnchor=Hg.prototype.tooltipAnchor,El(wm,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),Hs(wm.prototype,sg),Hs(wm.prototype,lg);const xm=wm;var Sm=function(t){function e(e,r){!function(t){for(var e=t.series,r=0;r<e.length;r++){var n=e[r],i=n.data;!i||Ps(i[0])||Vs(i[0])||(n.data=[i])}}(r),t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowCategories=function(t){for(var e=this.children,r=e.length,n=0;n<r;n++)e[n].reflow(t[n])},e.prototype.plotRange=function(t){var e=t.series,r=this.seriesValueAxis(e),n=this.categoryAxisCrossingValue(r);return[n,t.value.current||n]},e.prototype.createPoint=function(t,e){var r=e.categoryIx,n=e.category,i=e.series,o=e.seriesIx,s=this.options,a=this.children,l=t.valueFields,c=Hs({vertical:!s.invertAxes,overlay:i.overlay,categoryIx:r,invertAxes:s.invertAxes},i),h=t.fields.color||i.color;c=this.evalPointOptions(c,l,n,r,i,o),zs(i.color)&&(h=c.color);var u=new xm(l,c);u.color=h;var p=a[r];return p||(p=new Xg({vertical:s.invertAxes,gap:s.gap,spacing:s.spacing,rtl:!s.invertAxes&&(this.chartService||{}).rtl}),this.append(p)),p.append(u),u},e.prototype.updateRange=function(t,e){var r=t.current,n=t.target,i=e.series.axis,o=this.valueAxisRanges[i];fl(r)&&!isNaN(r)&&fl(n&&!isNaN(n))&&((o=this.valueAxisRanges[i]=o||{min:ys,max:vs}).min=Math.min(o.min,r,n),o.max=Math.max(o.max,r,n))},e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value.current,t.value.target)},e.prototype.pointValue=function(t){return t.valueFields.current},e.prototype.aboveAxis=function(t){return t.value.current>0},e.prototype.createAnimation=function(){var t=this.points;this._setAnimationOptions();for(var e=0;e<t.length;e++){var r=t[e];r.options.animation=this.options.animation,r.createAnimation()}},e}(ig);Sm.prototype._setAnimationOptions=Jg.prototype._setAnimationOptions,El(Sm,{animation:{type:tf}});const km=Sm;var Am=function(t){function e(e,r){t.call(this),this.chartService=e,this.options=Hs({},this.options,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStyle=function(t,e){var r=t.background,n=t.border.color;if(e){var i=e.color||e.options.color;r=Tl(r,i),n=Tl(n,i)}var o=Ks(t.padding||{},"auto");return{backgroundColor:r,borderColor:n,font:t.font,color:t.color,opacity:t.opacity,borderWidth:qs(t.border.width),paddingTop:qs(o.top),paddingBottom:qs(o.bottom),paddingLeft:qs(o.left),paddingRight:qs(o.right)}},e.prototype.show=function(t,e,r){t.format=e.format;var n=this.getStyle(e,r);t.style=n;var i=new Kl(n.backgroundColor);fl(e.color)||i.isDark()||(t.className="k-chart-tooltip-inverse"),this.chartService.notify(Vf,t),this.visible=!0},e.prototype.hide=function(){this.chartService&&this.chartService.notify(qf),this.visible=!1},e.prototype.destroy=function(){delete this.chartService},e}(va);El(Am,{border:{width:1},opacity:1});const Cm=Am;var _m=function(t){function e(e,r,n){t.call(this,e,n),this.crosshair=r,this.formatService=e.format,this.initAxisName()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initAxisName=function(){var t,e=this.crosshair.axis;t=e.plotArea.categoryAxis?e.getCategory?"categoryAxis":"valueAxis":e.options.vertical?"yAxis":"xAxis",this.axisName=t},e.prototype.showAt=function(t){var e=this.crosshair.axis,r=this.options,n=e[r.stickyMode?"getCategory":"getValue"](t),i=n;r.format?i=this.formatService.auto(r.format,n):e.options.type===hs&&(i=this.formatService.auto(e.options.labels.dateFormats[e.options.baseUnit],n)),this.show({point:t,anchor:this.getAnchor(),crosshair:this.crosshair,value:i,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)},e.prototype.hide=function(){this.chartService.notify(qf,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})},e.prototype.getAnchor=function(){var t,e,r,n=this.crosshair,i=this.options,o=i.position,s=i.padding,a=!n.axis.options.vertical,l=n.line.bbox();return a?(t=as,o===ss?(e=Cs,r=l.bottomLeft().translate(0,s)):(e=ss,r=l.topLeft().translate(0,-s))):(e=as,o===ms?(t=Ss,r=l.topLeft().translate(-s,0)):(t=ms,r=l.topRight().translate(s,0))),{point:r,align:{horizontal:t,vertical:e}}},e}(Cm);El(_m,{padding:10});const Tm=_m;var Om=function(t){function e(e,r,n){t.call(this,n),this.axis=r,this.stickyMode=r instanceof Rp;var i=this.options.tooltip;i.visible&&(this.tooltip=new Tm(e,this,Hs({},i,{stickyMode:this.stickyMode})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.showAt=function(t){this.point=t,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(t)},e.prototype.hide=function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},e.prototype.moveLine=function(){var t,e=this.axis,r=this.point,n=e.options.vertical,i=this.getBox(),o=n?Es:Ms,s=new gc(i.x1,i.y1);if(t=n?new gc(i.x2,i.y1):new gc(i.x1,i.y2),r)if(this.stickyMode){var a=e.getSlot(e.pointCategoryIndex(r));s[o]=t[o]=a.center()[o]}else s[o]=t[o]=r[o];this.box=i,this.line.moveTo(s).lineTo(t)},e.prototype.getBox=function(){for(var t,e=this.axis,r=e.pane.axes,n=r.length,i=e.options.vertical,o=e.lineBox().clone(),s=i?Ms:Es,a=0;a<n;a++){var l=r[a];l.options.vertical!==i&&(t?t.wrap(l.lineBox()):t=l.lineBox().clone())}return o[s+1]=t[s+1],o[s+2]=t[s+2],o},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options;this.line=new Th({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),t.prototype.destroy.call(this)},e}(Zh);El(Om,{color:is,width:2,zIndex:-1,tooltip:{visible:!1}});const Mm=Om;var Em=function(t){function e(e,r){t.call(this,e),this.pane=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldClip=function(){for(var t=this.children,e=t.length,r=0;r<e;r++)if(!0===t[r].options.clip)return!0;return!1},e.prototype._clipBox=function(){return this.pane.chartsBox()},e.prototype.createVisual=function(){if(this.visual=new zh({zIndex:0}),this.shouldClip()){var t=(this.clipBox=this._clipBox()).toRect(),e=Th.fromRect(t);Rs(e),this.visual.clip(e),this.unclipLabels()}},e.prototype.stackRoot=function(){return this},e.prototype.unclipLabels=function(){for(var t=this.children,e=this.clipBox,r=0;r<t.length;r++)for(var n=t[r].points||{},i=n.length,o=0;o<i;o++){var s=n[o];if(s&&!1!==s.visible&&s.overlapsBox&&s.overlapsBox(e))if(s.unclipElements)s.unclipElements();else{var a=s.label,l=s.note;a&&a.options.visible&&(a.alignToClipBox&&a.alignToClipBox(e),a.options.noclip=!0),l&&l.options.visible&&(l.options.noclip=!0)}}},e.prototype.destroy=function(){t.prototype.destroy.call(this),delete this.parent},e}(Zh);Em.prototype.isStackRoot=!0;const Pm=Em;var Im=function(t){function e(e){t.call(this,e),this.id="pane"+Fm++,this.createTitle(),this.content=new Zh,this.chartContainer=new Pm({},this),this.append(this.content),this.axes=[],this.charts=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createTitle=function(){var t=this.options.title;Vs(t)&&(t=Hs({},t,{align:t.position,position:Cs})),this.title=Iu.buildTitle(t,this,e.prototype.options.title)},e.prototype.appendAxis=function(t){this.content.append(t),this.axes.push(t),t.pane=this},e.prototype.appendAxisAt=function(t,e){this.content.append(t),this.axes.splice(e,0,t),t.pane=this},e.prototype.appendChart=function(t){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(t),this.chartContainer.append(t),t.pane=this},e.prototype.empty=function(){var t=this.parent;if(t){for(var e=0;e<this.axes.length;e++)t.removeAxis(this.axes[e]);for(var r=0;r<this.charts.length;r++)t.removeChart(this.charts[r])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]},e.prototype.reflow=function(e){var r;xl(this.children)===this.content&&(r=this.children.pop()),t.prototype.reflow.call(this,e),r&&this.children.push(r),this.title&&(this.contentBox.y1+=this.title.box.height())},e.prototype.visualStyle=function(){var e=t.prototype.visualStyle.call(this);return e.zIndex=-10,e},e.prototype.renderComplete=function(){this.options.visible&&this.createGridLines()},e.prototype.stackRoot=function(){return this},e.prototype.clipRoot=function(){return this},e.prototype.createGridLines=function(){for(var t=this.axes,e=t.concat(this.parent.axes),r=[],n=[],i=0;i<t.length;i++)for(var o=t[i],s=o.options.vertical,a=s?r:n,l=0;l<e.length;l++)if(0===a.length){var c=e[l];s!==c.options.vertical&&pl(a,o.createGridLines(c))}},e.prototype.refresh=function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()},e.prototype.chartsBox=function(){for(var t=this.axes,e=t.length,r=new Sc,n=0;n<e;n++){var i=t[n],o=i.options.vertical?Es:Ms,s=i.lineBox();r[o+1]=s[o+1],r[o+2]=s[o+2]}if(0===r.x2)for(var a=this.parent.axes,l=a.length,c=0;c<l;c++){var h=a[c];if(!h.options.vertical){var u=h.lineBox();r.x1=u.x1,r.x2=u.x2}}return r},e.prototype.clipBox=function(){return this.chartContainer.clipBox},e.prototype.notifyRender=function(){var t=this.getService();t&&t.notify("paneRender",{pane:new Td(this),index:this.paneIndex,name:this.options.name})},e}(tu),Fm=1;Im.prototype.isStackRoot=!0,El(Im,{zIndex:-1,shrinkToFit:!0,title:{align:ms},visible:!0});const Dm=Im;function Rm(t,e){null!==e&&t.push(e)}function Lm(t,e,r){var n=e.visible;if(fl(n))return n;var i=t.pointVisibility;return i?i[r]:void 0}function Nm(t){for(var e=t.data,r=[],n=0,i=0,o=0;o<e.length;o++){var s=Rd.current.bindPoint(t,o),a=s.valueFields.value;Bs(a)&&(a=parseFloat(a)),Ns(a)?(s.visible=!1!==Lm(t,s.fields,o),s.value=Math.abs(a),r.push(s),s.visible&&(n+=s.value),0!==a&&i++):r.push(null)}return{total:n,points:r,count:i}}function Bm(t,e){return t&&e?t.toLowerCase()===e.toLowerCase():t===e}function jm(t,e){for(var r=[],n=[].concat(e),i=0;i<t.length;i++){var o=t[i];aa(o.type,n)&&r.push(o)}return r}function zm(t,e,r){if(null===e)return e;var n="_date_"+t,i=e[n];return i||(i=Pp(r,ra(t)(e)),e[n]=i),i}function Um(t,e){var r=t.type,n=e instanceof Date;return!r&&n||Bm(r,hs)}function $m(t){return 1===t.length?t[0]:t}var Hm=/area/i;function Vm(t,e){var r=Rd.current.bindPoint(t,null,e).valueFields;for(var n in r)if(js(r[n]))return!0}function qm(t){var e,r,n=t.start,i=t.dir,o=t.min,s=t.max,a=t.getter,l=t.hasItem,c=t.series,h=n;do{l(h+=i)&&(e=Vm(c,(r=a(h)).item))}while(o<=h&&h<=s&&!e);if(e)return r}function Wm(t,e,r,n,i){var o=e.min,s=e.max,a=o>0&&o<r,l=s+1<r;if(a||l){var c,h,u,p=function(t){return t.missingValues?t.missingValues:Hm.test(t.type)||t.stack?Xd:Gd}(t);if(p!==Gd)a&&(c=n(o-1)),l&&(h=n(s+1));else a&&(c=Vm(t,(u=n(o-1)).item)?u:qm({start:o,dir:-1,min:0,max:r-1,getter:n,hasItem:i,series:t})),l&&(h=Vm(t,(u=n(s+1)).item)?u:qm({start:s,dir:1,min:0,max:r-1,getter:n,hasItem:i,series:t}));c&&(t._outOfRangeMinPoint=c),h&&(t._outOfRangeMaxPoint=h)}}var Xm=function(t){function e(e,r,n){t.call(this,r),this.initFields(e,r),this.series=e,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.items=[],this.axes=[],this.crosshairs=[],this.chartService=n,this.originalOptions=r,this.createPanes(),this.render(),this.createCrosshairs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){},e.prototype.initSeries=function(){for(var t=this.series,e=0;e<t.length;e++)t[e].index=e},e.prototype.createPanes=function(){for(var t=this.options.title||{},e=this.options.paneDefaults,r=this.options.panes||[],n=Math.max(r.length,1),i=[],o=Hs({title:{color:t.color}},e),s=0;s<n;s++){var a=Hs({},o,r[s]);Bs(a.title)&&(a.title=Hs({text:a.title},o.title));var l=new Dm(a);l.paneIndex=s,i.push(l),this.append(l)}this.panes=i},e.prototype.crosshairOptions=function(t){return t.options.crosshair},e.prototype.createCrosshairs=function(t){var e=this;void 0===t&&(t=this.panes);for(var r=0;r<t.length;r++)for(var n=t[r],i=0;i<n.axes.length;i++){var o=n.axes[i],s=e.crosshairOptions(o);if(s&&s.visible){var a=new Mm(e.chartService,o,s);e.crosshairs.push(a),n.content.append(a)}}},e.prototype.removeCrosshairs=function(t){for(var e=this.crosshairs,r=t.axes,n=e.length-1;n>=0;n--)for(var i=0;i<r.length;i++)if(e[n].axis===r[i]){e.splice(n,1);break}},e.prototype.hideCrosshairs=function(){for(var t=this.crosshairs,e=0;e<t.length;e++)t[e].hide()},e.prototype.findPane=function(t){for(var e,r=this.panes,n=0;n<r.length;n++)if(r[n].options.name===t){e=r[n];break}return e||r[0]},e.prototype.findPointPane=function(t){for(var e,r=this.panes,n=0;n<r.length;n++)if(r[n].box.containsPoint(t)){e=r[n];break}return e},e.prototype.appendAxis=function(t){this.findPane(t.options.pane).appendAxis(t),this.axes.push(t),t.plotArea=this},e.prototype.removeAxis=function(t){for(var e=[],r=0;r<this.axes.length;r++){var n=this.axes[r];t!==n?e.push(n):n.destroy()}this.axes=e},e.prototype.appendChart=function(t,e){this.charts.push(t),e?e.appendChart(t):this.append(t)},e.prototype.removeChart=function(t){for(var e=[],r=0;r<this.charts.length;r++){var n=this.charts[r];n!==t?e.push(n):n.destroy()}this.charts=e},e.prototype.addToLegend=function(t){for(var e=t.length,r=this.options.legend,n=r.labels||{},i=r.inactiveItems||{},o=i.labels||{},s=[],a=0;a<e;a++){var l=t[a],c=!1!==l.visible;if(!1!==l.visibleInLegend){var h=l.name,u=c?Qs(n):Qs(o)||Qs(n);u&&(h=u({text:um(h)?h:"",series:l}));var p=l._defaults,d=l.color;zs(d)&&p&&(d=p.color);var f=void 0,g=void 0;c?(f={},g=d):(f={color:o.color,font:o.font},g=i.markers.color),um(h)&&""!==h&&s.push({text:h,labels:f,markerColor:g,series:l,active:c})}}pl(r.items,s)},e.prototype.groupAxes=function(t){for(var e=[],r=[],n=0;n<t.length;n++)for(var i=t[n].axes,o=0;o<i.length;o++){var s=i[o];s.options.vertical?r.push(s):e.push(s)}return{x:e,y:r,any:e.concat(r)}},e.prototype.groupSeriesByPane=function(){for(var t=this.series,e={},r=0;r<t.length;r++){var n=t[r],i=this.seriesPaneName(n);e[i]?e[i].push(n):e[i]=[n]}return e},e.prototype.filterVisibleSeries=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];!1!==n.visible&&e.push(n)}return e},e.prototype.reflow=function(t){var e=this.options.plotArea,r=this.panes,n=Ks(e.margin);this.box=t.clone().unpad(n),this.reflowPanes(),this.detachLabels(),this.reflowAxes(r),this.reflowCharts(r)},e.prototype.redraw=function(t){var e=[].concat(t);this.initSeries();var r=this.getRoot();r&&r.cleanGradients();for(var n=0;n<e.length;n++)this.removeCrosshairs(e[n]),e[n].empty();this.render(e),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(e),this.createCrosshairs(e);for(var i=0;i<e.length;i++)e[i].refresh()},e.prototype.axisCrossingValues=function(t,e){for(var r=t.options,n=[].concat(r.axisCrossingValues||r.axisCrossingValue),i=e.length-n.length,o=n[0]||0,s=0;s<i;s++)n.push(o);return n},e.prototype.alignAxisTo=function(t,e,r,n){var i=t.getSlot(r,r,!0),o=t.options.reverse?2:1,s=e.getSlot(n,n,!0),a=e.options.reverse?2:1,l=t.box.translate(s[Ms+a]-i[Ms+o],s[Es+a]-i[Es+o]);t.pane!==e.pane&&l.translate(0,t.pane.box.y1-e.pane.box.y1),t.reflow(l)},e.prototype.alignAxes=function(t,e){for(var r=this,n=t[0],i=e[0],o=this.axisCrossingValues(n,e),s=this.axisCrossingValues(i,t),a={},l={},c={},h={},u=0;u<e.length;u++){var p=e[u],d=p.pane,f=d.id,g=!1!==p.options.visible,m=Ym(t,d)||n,y=o;m!==n&&(y=r.axisCrossingValues(m,e)),r.alignAxisTo(p,m,s[u],y[u]),p.options._overlap||(Cl(p.lineBox().x1)===Cl(m.lineBox().x1)&&(a[f]&&p.reflow(p.box.alignTo(a[f].box,ms).translate(-p.options.margin,0)),g&&(a[f]=p)),Cl(p.lineBox().x2)===Cl(m.lineBox().x2)&&(p._mirrored||(p.options.labels.mirror=!p.options.labels.mirror,p._mirrored=!0),r.alignAxisTo(p,m,s[u],y[u]),l[f]&&p.reflow(p.box.alignTo(l[f].box,Ss).translate(p.options.margin,0)),g&&(l[f]=p)),0!==u&&i.pane===p.pane&&(p.alignTo(i),p.reflow(p.box)))}for(var v=0;v<t.length;v++){var b=t[v],w=b.pane,x=w.id,S=!1!==b.options.visible,k=Ym(e,w)||i,A=s;k!==i&&(A=r.axisCrossingValues(k,t)),r.alignAxisTo(b,k,o[v],A[v]),b.options._overlap||(Cl(b.lineBox().y1)===Cl(k.lineBox().y1)&&(b._mirrored||(b.options.labels.mirror=!b.options.labels.mirror,b._mirrored=!0),r.alignAxisTo(b,k,o[v],A[v]),c[x]&&b.reflow(b.box.alignTo(c[x].box,Cs).translate(0,-b.options.margin)),S&&(c[x]=b)),Cl(b.lineBox().y2,3)===Cl(k.lineBox().y2,3)&&(h[x]&&b.reflow(b.box.alignTo(h[x].box,ss).translate(0,b.options.margin)),S&&(h[x]=b)),0!==v&&(b.alignTo(n),b.reflow(b.box)))}},e.prototype.shrinkAxisWidth=function(t){for(var e=this.groupAxes(t).any,r=Km(e),n=0,i=0;i<t.length;i++){var o=t[i];o.axes.length>0&&(n=Math.max(n,r.width()-o.contentBox.width()))}if(0!==n)for(var s=0;s<e.length;s++){var a=e[s];a.options.vertical||a.reflow(a.box.shrink(n,0))}},e.prototype.shrinkAxisHeight=function(t){for(var e,r=0;r<t.length;r++){var n=t[r],i=n.axes,o=Math.max(0,Km(i).height()-n.contentBox.height());if(0!==o){for(var s=0;s<i.length;s++){var a=i[s];a.options.vertical&&a.reflow(a.box.shrink(0,o))}e=!0}}return e},e.prototype.fitAxes=function(t){for(var e=this.groupAxes(t).any,r=0,n=0;n<t.length;n++){var i=t[n],o=i.axes,s=i.contentBox;if(o.length>0){var a=Km(o),l=Math.max(s.y1-a.y1,s.y2-a.y2);r=Math.max(r,s.x1-a.x1);for(var c=0;c<o.length;c++){var h=o[c];h.reflow(h.box.translate(0,l))}}}for(var u=0;u<e.length;u++){var p=e[u];p.reflow(p.box.translate(r,0))}},e.prototype.reflowAxes=function(t){for(var e=this.groupAxes(t),r=0;r<t.length;r++)this.reflowPaneAxes(t[r]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t),this.autoRotateAxisLabels(e),this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t)&&this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t),this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t)&&this.alignAxes(e.x,e.y),this.fitAxes(t))},e.prototype.autoRotateAxisLabels=function(t){for(var e,r=this.panes,n=Jm(r),i=0;i<n.length;i++){n[i].autoRotateLabels()&&(e=!0)}if(e){for(var o=0;o<r.length;o++)this.reflowPaneAxes(r[o]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(r))}},e.prototype.reflowPaneAxes=function(t){var e=t.axes,r=e.length;if(r>0)for(var n=0;n<r;n++)e[n].reflow(t.contentBox)},e.prototype.reflowCharts=function(t){for(var e=this.charts,r=e.length,n=this.box,i=0;i<r;i++){var o=e[i].pane;o&&!aa(o,t)||e[i].reflow(n)}},e.prototype.reflowPanes=function(){for(var t=this.box,e=this.panes,r=e.length,n=t.height(),i=0,o=t.y1,s=0;s<r;s++){var a=e[s],l=a.options.height;if(a.options.width=t.width(),a.options.height){if(l.indexOf&&l.indexOf("%")){var c=parseInt(l,10)/100;a.options.height=c*t.height()}a.reflow(t.clone()),n-=a.options.height}else i++}for(var h=0;h<r;h++){var u=e[h];u.options.height||(u.options.height=n/i)}for(var p=0;p<r;p++){var d=e[p],f=t.clone().move(t.x1,o);d.reflow(f),o+=d.options.height}},e.prototype.backgroundBox=function(){for(var t,e=this.axes,r=e.length,n=0;n<r;n++)for(var i=e[n],o=0;o<r;o++){var s=e[o];if(i.options.vertical!==s.options.vertical){var a=i.lineBox().clone().wrap(s.lineBox());t=t?t.wrap(a):a}}return t||this.box},e.prototype.chartsBoxes=function(){for(var t=this.panes,e=[],r=0;r<t.length;r++)e.push(t[r].chartsBox());return e},e.prototype.addBackgroundPaths=function(t){for(var e=this.chartsBoxes(),r=0;r<e.length;r++)t.paths.push(Th.fromRect(e[r].toRect()))},e.prototype.backgroundContainsPoint=function(t){for(var e=this.chartsBoxes(),r=0;r<e.length;r++)if(e[r].containsPoint(t))return!0},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e,r=this.options.plotArea,n=r.opacity,i=r.background,o=r.border;void 0===o&&(o={}),""!==(e=i)&&null!==e&&"none"!==e&&"transparent"!==e&&fl(e)||(i=Ts,n=0);var s=this._bgVisual=new Oh({fill:{color:i,opacity:n},stroke:{color:o.width?o.color:"",width:o.width,dashType:o.dashType},zIndex:-1});this.addBackgroundPaths(s),this.appendVisual(s)},e.prototype.pointsByCategoryIndex=function(t){var e=this.charts,r=[];if(null!==t)for(var n=0;n<e.length;n++){if("_navigator"!==e[n].pane.options.name){var i=e[n].categoryPoints[t];if(i&&i.length)for(var o=0;o<i.length;o++){var s=i[o];s&&fl(s.value)&&null!==s.value&&r.push(s)}}}return r},e.prototype.pointsBySeriesIndex=function(t){return this.filterPoints((function(e){return e.series.index===t}))},e.prototype.pointsBySeriesName=function(t){return this.filterPoints((function(e){return e.series.name===t}))},e.prototype.filterPoints=function(t){for(var e=this.charts,r=[],n=0;n<e.length;n++)for(var i=e[n].points,o=0;o<i.length;o++){var s=i[o];s&&!1!==s.visible&&t(s)&&r.push(s)}return r},e.prototype.findPoint=function(t){for(var e=this.charts,r=0;r<e.length;r++)for(var n=e[r].points,i=0;i<n.length;i++){var o=n[i];if(o&&!1!==o.visible&&t(o))return o}},e.prototype.paneByPoint=function(t){for(var e=this.panes,r=0;r<e.length;r++){var n=e[r];if(n.box.containsPoint(t))return n}},e.prototype.detachLabels=function(){var t=this.groupAxes(this.panes),e=t.x,r=t.y;this.detachAxisGroupLabels(r,e),this.detachAxisGroupLabels(e,r)},e.prototype.detachAxisGroupLabels=function(t,e){for(var r=0,n=0;n<t.length;n++){var i=t[n],o=i.pane,s=Ym(e,o)||e[0],a=n+r,l=this.createLabelAxis(i,a,s);if(l){r++;var c=o.axes.indexOf(i)+r;o.appendAxisAt(l,c)}}},e.prototype.createLabelAxis=function(t,e,r){var n=t.options.labels,i=n.position,o="end"!==i&&"start"!==i,s=n.visible;if(o||!1===s)return null;var a=this.groupAxes(this.panes),l=r.options.vertical?a.x:a.y,c=this.axisCrossingValues(r,l),h="end"===i,u=r.range(),p=h?u.max:u.min;if(Sl(c[e],u.min,u.max)-p==0)return null;c.splice(e+1,0,p),r.options.axisCrossingValues=c;var d=t.clone();return t.clear(),d.options.name=void 0,d.options.line.visible=!1,d.options.crosshair=void 0,d.options.notes=void 0,d.options.plotBands=void 0,d},e}(Zh);function Gm(t){return!t.pane.axes.some((function(e){return e.options.vertical===t.options.vertical&&e!==t&&!1!==e.options.visible}))}function Km(t){for(var e,r=t.length,n=0;n<r;n++){var i=t[n],o=!1!==i.options.visible;if(o||Gm(i)){var s=o?i.contentBox():i.lineBox();e?e.wrap(s):e=s.clone()}}return e||new Sc}function Ym(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n&&n.pane===e)return n}}var Jm=function(t){return t.reduce((function(t,e){return t.concat(e.axes)}),[])};El(Xm,{series:[],plotArea:{margin:{}},background:"",border:{color:is,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});const Zm=Xm;var Qm={hover:function(t,e){this._dispatchEvent(t,e,Ff)},click:function(t,e){this._dispatchEvent(t,e,"plotAreaClick")}};const ty=Qm;var ey=function(t){function e(e,r,n){t.call(this);var i=r.canonicalFields(e),o=r.valueFields(e),s=r.sourceFields(e,i),a=this._seriesFields=[],l=n.query(e.type),c=e.aggregate||l;this._series=e,this._binder=r;for(var h=0;h<i.length;h++){var u=i[h],p=void 0;if(Vs(c))p=c[u];else{if(0!==h&&!aa(u,o))break;p=c}p&&a.push({canonicalName:u,name:s[h],transform:zs(p)?p:Id[p]})}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.aggregatePoints=function(t,e){var r=this._series,n=this._seriesFields,i=this._bindPoints(t||[]),o=i.dataItems[0],s={};if(o&&!Ns(o)&&!Ps(o)){var a=function(){};a.prototype=o,s=new a}for(var l=0;l<n.length;l++){var c=n[l],h=this._bindField(i.values,c.canonicalName),u=c.transform(h,r,i.dataItems,e);if(!(null===u||!Vs(u)||fl(u.length)||u instanceof Date)){s=u;break}fl(u)&&ry(c.name,s,u)}return s},e.prototype._bindPoints=function(t){for(var e=this._binder,r=this._series,n=[],i=[],o=0;o<t.length;o++){var s=t[o];n.push(e.bindPoint(r,s)),i.push(r.data[s])}return{values:n,dataItems:i}},e.prototype._bindField=function(t,e){for(var r=[],n=t.length,i=0;i<n;i++){var o=t[i],s=o.valueFields,a=void 0;a=fl(s[e])?s[e]:o.fields[e],r.push(a)}return r},e}(va);function ry(t,e,r){var n=e,i=t;if(t.indexOf(".")>-1){for(var o=t.split(".");o.length>1;)i=o.shift(),fl(n[i])||(n[i]={}),n=n[i];i=o.shift()}n[i]=r}const ny=ey;var iy=function(t){function e(){t.call(this),this._defaults={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e){for(var r=0;r<t.length;r++)this._defaults[t[r]]=e},e.prototype.query=function(t){return this._defaults[t]},e}(va);iy.current=new iy;const oy=iy;var sy=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLabel=function(){var t=this.options.labels,e=Hs({},t,t.from),r=Hs({},t,t.to);e.visible&&(this.labelFrom=this._createLabel(e),this.append(this.labelFrom)),r.visible&&(this.labelTo=this._createLabel(r),this.append(this.labelTo))},e.prototype._createLabel=function(t){var e,r=Qs(t),n=this.pointData();return e=r?r(n):this.formatValue(t.format),new zg(e,Hs({vertical:this.options.vertical},t),n)},e.prototype.reflow=function(t){this.render();var e=this,r=e.labelFrom,n=e.labelTo,i=e.value;this.box=t,r&&(r.options.aboveAxis=i.from>i.to,r.reflow(t)),n&&(n.options.aboveAxis=i.to>i.from,n.reflow(t)),this.note&&this.note.reflow(t)},e}(Hg);sy.prototype.defaults=Hs({},sy.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});const ay=sy;var ly=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return ay},e.prototype.pointValue=function(t){return t.valueFields},e.prototype.formatPointValue=function(t,e){return null===t.value.from&&null===t.value.to?"":this.chartService.format.auto(e,t.value.from,t.value.to)},e.prototype.plotRange=function(t){return t?[t.value.from,t.value.to]:0},e.prototype.updateRange=function(t,e){var r=e.series.axis,n=t.from,i=t.to,o=this.valueAxisRanges[r];null!==t&&Ns(n)&&Ns(i)&&((o=this.valueAxisRanges[r]=o||{min:ys,max:vs}).min=Math.min(o.min,n),o.max=Math.max(o.max,n),o.min=Math.min(o.min,i),o.max=Math.max(o.max,i))},e.prototype.aboveAxis=function(t){var e=t.value;return e.from<e.to},e}(Jg);ly.prototype.plotLimits=ig.prototype.plotLimits;const cy=ly;var hy=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.aliasFor=function(){return this.parent},e}(hg);const uy=hy;var py="auto",dy=function(t){function e(e,r){t.call(this),this.value=e,this.options=r,this.aboveAxis=Tl(this.options.aboveAxis,!0),this.tooltipTracking=!0,this.initLabelsFormat()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){if(!this._rendered){this._rendered=!0;var t=this.options,e=t.markers,r=t.labels,n=this.value,i=this.fromPoint=new uy(n,Hs({},this.options,{labels:r.from,markers:e.from})),o=this.toPoint=new uy(n,Hs({},this.options,{labels:r.to,markers:e.to}));this.copyFields(i),this.copyFields(o),this.append(i),this.append(o)}},e.prototype.reflow=function(t){this.render();var e=t.from,r=t.to;this.positionLabels(e,r),this.fromPoint.reflow(e),this.toPoint.reflow(r),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())},e.prototype.createHighlight=function(){var t=new zh;return t.append(this.fromPoint.createHighlight()),t.append(this.toPoint.createHighlight()),t},e.prototype.highlightVisual=function(){return this.visual},e.prototype.highlightVisualArgs=function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}},e.prototype.tooltipAnchor=function(){var t=this.owner.pane.clipBox();if(!t||t.overlaps(this.box)){var e,r,n,i=this.box,o=i.center();return this.options.vertical?(e=o.x,r=i.y1-5,n=ss):(e=i.x2+5,r=o.y,n=as),{point:new ac(e,r),align:{horizontal:"left",vertical:n}}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.unclipElements=function(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()},e.prototype.initLabelsFormat=function(){var t=this.options.labels;t.format||(t.from&&t.from.format||(t.from=Object.assign({},t.from,{format:"{0}"})),t.to&&t.to.format||(t.to=Object.assign({},t.to,{format:"{1}"})))},e.prototype.positionLabels=function(t,e){var r,n,i=this.options,o=i.labels,s=i.vertical;o.position===py&&(s?e.y1<=t.y1?(n=Kd,r=Yd):(n=Yd,r=Kd):e.x1<=t.x1?(n=ms,r=Ss):(n=Ss,r=ms),o.from&&o.from.position||(this.fromPoint.options.labels.position=r),o.to&&o.to.position||(this.toPoint.options.labels.position=n))},e.prototype.copyFields=function(t){t.dataItem=this.dataItem,t.category=this.category,t.series=this.series,t.color=this.color,t.owner=this.owner},e}(Zh);Hs(dy.prototype,sg),Hs(dy.prototype,lg),dy.prototype.defaults={markers:{visible:!1,background:Ts,size:8,type:ls,border:{width:2},opacity:1},labels:{visible:!1,margin:Ks(3),padding:Ks(4),animation:{type:$d,delay:Ud},position:py},notes:{label:{}},highlight:{markers:{border:{color:Ts,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"}};const fy=dy;var gy=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),t},e.prototype.createStroke=function(t){var e=new Th(t),r=new Th(t);e.segments.push.apply(e.segments,this.strokeSegments()),r.segments.push.apply(r.segments,this.stackSegments()),this.visual.append(e),this.visual.append(r)},e.prototype.hasStackSegment=function(){return!0},e.prototype.fromPoints=function(){return this.linePoints.map((function(t){return t.fromPoint}))},e.prototype.toPoints=function(){return this.linePoints.map((function(t){return t.toPoint}))},e}(Eg);const my=gy;var yy=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.createCurveSegments(this.toPoints())},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),t},e.prototype.createCurveSegments=function(t){return(new Sd).process(this.toGeometryPoints(t))},e}(my);const vy=yy;var by=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()))).reverse(),t},e}(my);Hs(by.prototype,gg);const wy=by;var xy=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.renderSegments()},e.prototype.pointType=function(){return fy},e.prototype.createPoint=function(t,e){var r=e.categoryIx,n=e.category,i=e.series,o=e.seriesIx,s=t.valueFields;if(!um(s.from)&&!um(s.to)){if(this.seriesMissingValues(i)!==Xd)return null;s={from:0,to:0}}var a=this.pointOptions(i,o);a=this.evalPointOptions(a,s,n,r,i,o);var l=t.fields.color||i.color;zs(i.color)&&(l=a.color);var c=new fy(s,a);return c.color=l,this.append(c),c},e.prototype.createSegment=function(t,e,r){var n=(e.line||{}).style;return new("smooth"===n?vy:"step"===n?wy:my)(t,e,r)},e.prototype.plotRange=function(t,e){return t?[t.value.from,t.value.to]:[e,e]},e.prototype.valueSlot=function(t,e){var r=t.getSlot(e[0],e[0],!this.options.clip),n=t.getSlot(e[1],e[1],!this.options.clip);if(r&&n)return{from:r,to:n}},e.prototype.pointSlot=function(t,e){var r,n,i=e.from,o=e.to;return this.options.invertAxes?(r=new Sc(i.x1,t.y1,i.x2,t.y2),n=new Sc(o.x1,t.y1,o.x2,t.y2)):(r=new Sc(t.x1,i.y1,t.x2,i.y2),n=new Sc(t.x1,o.y1,t.x2,o.y2)),{from:r,to:n}},e.prototype.addValue=function(e,r){var n=e.valueFields;Ns(n.from)||(n.from=n.to),Ns(n.to)||(n.to=n.from),t.prototype.addValue.call(this,e,r)},e.prototype.updateRange=function(t,e){if(null!==t&&Ns(t.from)&&Ns(t.to)){var r=e.series.axis,n=this.valueAxisRanges[r]=this.valueAxisRanges[r]||{min:ys,max:vs},i=t.from,o=t.to;n.min=Math.min(n.min,i,o),n.max=Math.max(n.max,i,o)}},e.prototype.formatPointValue=function(t,e){var r=t.value;return this.chartService.format.auto(e,r.from,r.to)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],r=0;r<t.length;r++){var n=t[r];n&&(e.push((n.fromPoint||{}).marker),e.push((n.toPoint||{}).marker))}return e.concat(this._segments)},e}(ig);Hs(xy.prototype,xg,_g);const Sy=xy;var ky=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,r=e.options,n=e.value,i=e.owner.seriesValueAxis(r),o=[],s=[],a=[],l=i.getSlot(n.low,n.high),c=i.getSlot(n.open,n.open),h=i.getSlot(n.close,n.close);c.x1=h.x1=l.x1=t.x1,c.x2=h.x2=l.x2=t.x2;var u=l.center().x;o.push([c.x1,c.y1]),o.push([u,c.y1]),s.push([u,h.y1]),s.push([h.x2,h.y1]),a.push([u,l.y1]),a.push([u,l.y2]),this.lines=[o,s,a],this.box=l.clone().wrap(c.clone().wrap(h)),this.reflowNote()},e.prototype.createBody=function(){},e}(Qg);const Ay=ky;var Cy=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return Ay},e}(rm);const _y=Cy;var Ty=function(t){function e(e,r,n){t.call(this),this.from=e,this.to=r,this.series=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linePoints=function(){var t=this.from,e=this.from.box,r=this.to.box,n=[];if(t.isVertical){var i=t.aboveAxis?e.y1:e.y2;n.push([e.x1,i],[r.x2,i])}else{var o=t.aboveAxis?e.x2:e.x1;n.push([o,e.y1],[o,r.y2])}return n},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.series.line||{},r=Th.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}});Rs(r),this.visual.append(r)},e}(Zh);El(Ty,{animation:{type:$d,delay:Ud}});const Oy=Ty;var My=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.createSegments()},e.prototype.traverseDataPoints=function(t){for(var e=this.options.series,r=rg(e),n=!this.options.invertAxes,i=0;i<e.length;i++)for(var o=e[i],s=0,a=0,l=0;l<r;l++){var c=Rd.current.bindPoint(o,l),h=c.valueFields.value,u=c.fields.summary,p=s,d=void 0;u?"total"===u.toLowerCase()?(c.valueFields.value=s,p=0,d=s):(c.valueFields.value=a,d=p-a,a=0):Ns(h)&&(a+=h,d=s+=h),t(c,{category:this.categoryAxis.categoryAt(l),categoryIx:l,series:o,seriesIx:i,total:s,runningTotal:a,from:p,to:d,isVertical:n})}},e.prototype.updateRange=function(e,r){t.prototype.updateRange.call(this,{value:r.to},r)},e.prototype.aboveAxis=function(t){return t.value>=0},e.prototype.plotRange=function(t){return[t.from,t.to]},e.prototype.createSegments=function(){for(var t=this.options.series,e=this.seriesPoints,r=this.segments=[],n=0;n<t.length;n++){var i=t[n],o=e[n];if(o)for(var s=void 0,a=0;a<o.length;a++){var l=o[a];if(l&&s){var c=new Oy(s,l,i);r.push(c),this.append(c)}s=l}}},e}(Jg);const Ey=My;var Py=[Qd,Cf,wf,Mf],Iy=[uf,Of].concat(Py),Fy=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(t){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new Bg,t.length>0){this.invertAxes=aa(t[0].type,[tf,nf,Of,Cf,Mf,xf,hf,_f]);for(var e=0;e<t.length;e++){var r=t[e].stack;if(r&&"100%"===r.type){this.stack100=!0;break}}}},e.prototype.render=function(t){void 0===t&&(t=this.panes),this.createCategoryAxes(t),this.aggregateCategories(t),this.createCategoryAxesLabels(t),this.createCharts(t),this.createValueAxes(t)},e.prototype.removeAxis=function(e){var r=e.options.name;t.prototype.removeAxis.call(this,e),e instanceof Rp?delete this.namedCategoryAxes[r]:(this.valueAxisRangeTracker.reset(r),delete this.namedValueAxes[r]),e===this.categoryAxis&&delete this.categoryAxis,e===this.valueAxis&&delete this.valueAxis},e.prototype.createCharts=function(t){for(var e=this,r=this.groupSeriesByPane(),n=0;n<t.length;n++){var i=t[n],o=r[i.options.name||"default"]||[];e.addToLegend(o);var s=e.filterVisibleSeries(o);if(s)for(var a=e.groupSeriesByCategoryAxis(s),l=0;l<a.length;l++)e.createChartGroup(a[l],i)}},e.prototype.createChartGroup=function(t,e){this.createAreaChart(jm(t,[Qd,Cf]),e),this.createRangeAreaChart(jm(t,[wf,Mf]),e),this.createBarChart(jm(t,[sf,tf]),e),this.createRangeBarChart(jm(t,[Sf,xf]),e),this.createBulletChart(jm(t,[nf,Tf]),e),this.createCandlestickChart(jm(t,of),e),this.createBoxPlotChart(jm(t,[ef,_f]),e),this.createOHLCChart(jm(t,pf),e),this.createWaterfallChart(jm(t,[Ef,hf]),e),this.createLineChart(jm(t,[uf,Of]),e)},e.prototype.aggregateCategories=function(t){var e=this,r=this.srcSeries||this.series,n=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(var i=0;i<r.length;i++){var o=r[i],s=e.seriesCategoryAxis(o),a=e.findPane(s.options.pane);o=(Bm(s.options.type,hs)||o.categoryField)&&aa(a,t)?e.aggregateSeries(o,s):e.filterSeries(o,s),n.push(o)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=r,this.series=n},e.prototype.filterSeries=function(t,e){var r=(t.data||{}).length;if(e._seriesMax=Math.max(e._seriesMax||0,r),!Ns(e.options.min)&&!Ns(e.options.max))return t;var n=e.currentRangeIndices(),i=aa(t.type,Iy),o=Hs({},t);return o.data=(o.data||[]).slice(n.min,n.max+1),i&&Wm(o,n,r,(function(r){return{item:t.data[r],category:e.categoryAt(r,!0),categoryIx:r-n.min}}),(function(e){return fl(t.data[e])})),o},e.prototype.clearSeriesPointsCache=function(){this._seriesPointsCache={}},e.prototype.seriesSourcePoints=function(t,e){var r=t.index+";"+e.categoriesHash();if(this._seriesPointsCache[r])return this._currentPointsCache[r]=this._seriesPointsCache[r],this._seriesPointsCache[r];var n=e.options,i=n.srcCategories,o=Bm(n.type,hs),s=t.data,a=o?zm:Fd,l=[];o||e.mapCategories();for(var c=0;c<s.length;c++){var h=void 0;if(h=t.categoryField?a(t.categoryField,s[c],this.chartService.intl):i[c],fl(h)&&null!==h){var u=e.totalIndex(h);l[u]=l[u]||{items:[],category:h},l[u].items.push(c)}}return this._currentPointsCache[r]=l,l},e.prototype.aggregateSeries=function(t,e){if(!t.data.length)return t;for(var r=this.seriesSourcePoints(t,e),n=Hs({},t),i=new ny(Hs({},t),Rd.current,oy.current),o=n.data=[],s=e.options.dataItems||[],a=e.currentRangeIndices(),l=function(t){var n=t-a.min,o=r[t];if(o||(o=r[t]={}),o.categoryIx=n,!o.item){var s=e.categoryAt(t,!0);o.category=s,o.item=i.aggregatePoints(o.items,s)}return o},c=a.min;c<=a.max;c++){var h=l(c);o[h.categoryIx]=h.item,h.items&&h.items.length&&(s[h.categoryIx]=h.item)}return aa(n.type,Iy)&&Wm(n,a,e.totalCount(),l,(function(t){return r[t]})),e.options.dataItems=s,n},e.prototype.appendChart=function(e,r){var n=e.options.series,i=this.seriesCategoryAxis(n[0]),o=i.options.categories,s=Math.max(0,rg(n)-o.length);if(s>0)for(o=i.options.categories=i.options.categories.slice(0);s--;)o.push("");this.valueAxisRangeTracker.update(e.valueAxisRanges),t.prototype.appendChart.call(this,e,r)},e.prototype.seriesPaneName=function(t){var e=this.options,r=t.axis,n=na([].concat(e.valueAxis),(function(t){return t.name===r}))[0],i=((e.panes||[{}])[0]||{}).name||"default";return(n||{}).pane||i},e.prototype.seriesCategoryAxis=function(t){var e=t.categoryAxis,r=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!r)throw new Error("Unable to locate category axis with name "+e);return r},e.prototype.stackableChartOptions=function(t,e){var r=t.stack;return{isStacked:r,isStacked100:r&&"100%"===r.type,clip:e.options.clip}},e.prototype.groupSeriesByCategoryAxis=function(t){for(var e=[],r={},n=0;n<t.length;n++){var i=t[n].categoryAxis||"$$default$$";r.hasOwnProperty(i)||(r[i]=!0,e.push(i))}for(var o=[],s=0;s<e.length;s++){var a=Ry(t,e[s],s);0!==a.length&&o.push(a)}return o},e.prototype.createBarChart=function(t,e){if(0!==t.length){var r=t[0],n=new Jg(this,Object.assign({series:t,invertAxes:this.invertAxes,gap:r.gap,spacing:r.spacing},this.stackableChartOptions(r,e)));this.appendChart(n,e)}},e.prototype.createRangeBarChart=function(t,e){if(0!==t.length){var r=t[0],n=new cy(this,{series:t,invertAxes:this.invertAxes,gap:r.gap,spacing:r.spacing});this.appendChart(n,e)}},e.prototype.createBulletChart=function(t,e){if(0!==t.length){var r=t[0],n=new km(this,{series:t,invertAxes:this.invertAxes,gap:r.gap,spacing:r.spacing,clip:e.options.clip});this.appendChart(n,e)}},e.prototype.createLineChart=function(t,e){if(0!==t.length){var r=t[0],n=new Og(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(r,e)));this.appendChart(n,e)}},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var r=t[0],n=new Lg(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(r,e)));this.appendChart(n,e)}},e.prototype.createRangeAreaChart=function(t,e){if(0!==t.length){var r=new Sy(this,{invertAxes:this.invertAxes,series:t,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createOHLCChart=function(t,e){if(0!==t.length){var r=t[0],n=new _y(this,{invertAxes:this.invertAxes,gap:r.gap,series:t,spacing:r.spacing,clip:e.options.clip});this.appendChart(n,e)}},e.prototype.createCandlestickChart=function(t,e){if(0!==t.length){var r=t[0],n=new rm(this,{invertAxes:this.invertAxes,gap:r.gap,series:t,spacing:r.spacing,clip:e.options.clip});this.appendChart(n,e)}},e.prototype.createBoxPlotChart=function(t,e){if(0!==t.length){var r=t[0],n=new lm(this,{invertAxes:this.invertAxes,gap:r.gap,series:t,spacing:r.spacing,clip:e.options.clip});this.appendChart(n,e)}},e.prototype.createWaterfallChart=function(t,e){if(0!==t.length){var r=t[0],n=new Ey(this,{series:t,invertAxes:this.invertAxes,gap:r.gap,spacing:r.spacing});this.appendChart(n,e)}},e.prototype.axisRequiresRounding=function(t,e){for(var r=jm(this.series,Pf),n=0;n<this.series.length;n++){var i=this.series[n];if(aa(i.type,Py)){var o=i.line;o&&o.style===Zd&&r.push(i)}}for(var s=0;s<r.length;s++){var a=r[s].categoryAxis||"";if(a===t||!a&&0===e)return!0}},e.prototype.aggregatedAxis=function(t,e){for(var r=this.series,n=0;n<r.length;n++){var i=r[n].categoryAxis||"";if((i===t||!i&&0===e)&&r[n].categoryField)return!0}},e.prototype.createCategoryAxesLabels=function(){for(var t=this.axes,e=0;e<t.length;e++)t[e]instanceof Rp&&t[e].createLabels()},e.prototype.createCategoryAxes=function(t){for(var e=this,r=this.invertAxes,n=[].concat(this.options.categoryAxis),i=[],o=0;o<n.length;o++){var s=n[o];if(aa(e.findPane(s.pane),t)){var a=s.name,l=s.categories;void 0===l&&(l=[]),s=Hs({vertical:r,reverse:!r&&e.chartService.rtl,axisCrossingValue:r?ys:0},s),fl(s.justified)||(s.justified=e.isJustified()),e.axisRequiresRounding(a,o)&&(s.justified=!1);var c=void 0;if(c=Um(s,l[0])?new Wp(s,e.chartService):new Rp(s,e.chartService),n[o].categories=c.options.srcCategories,a){if(e.namedCategoryAxes[a])throw new Error("Category axis with name "+a+" is already defined");e.namedCategoryAxes[a]=c}c.axisIndex=o,i.push(c),e.appendAxis(c)}}var h=this.categoryAxis||i[0];this.categoryAxis=h,r?this.axisY=h:this.axisX=h},e.prototype.isJustified=function(){for(var t=this.series,e=0;e<t.length;e++){if(!aa(t[e].type,Py))return!1}return!0},e.prototype.createValueAxes=function(t){var e=this,r=this.valueAxisRangeTracker,n=r.query(),i=[].concat(this.options.valueAxis),o=this.invertAxes,s={vertical:!o,reverse:o&&this.chartService.rtl},a=[];this.stack100&&(s.roundToMajorUnit=!1,s.labels={format:"P0"});for(var l=0;l<i.length;l++){var c=i[l];if(aa(e.findPane(c.pane),t)){var h=c.name,u=Bm(c.type,Wf)?{min:.1,max:1}:{min:0,max:1},p=r.query(h)||n||u;0===l&&p&&n&&(p.min=Math.min(p.min,n.min),p.max=Math.max(p.max,n.max));var d=new(Bm(c.type,Wf)?sd:Qp)(p.min,p.max,Hs({},s,c),e.chartService);if(h){if(e.namedValueAxes[h])throw new Error("Value axis with name "+h+" is already defined");e.namedValueAxes[h]=d}d.axisIndex=l,a.push(d),e.appendAxis(d)}}var f=this.valueAxis||a[0];this.valueAxis=f,o?this.axisX=f:this.axisY=f},e.prototype._dispatchEvent=function(t,e,r){var n=t._eventCoordinates(e),i=new ac(n.x,n.y),o=this.pointPane(i),s=[],a=[];if(o){for(var l=o.axes,c=0;c<l.length;c++){var h=l[c];h.getValue?Rm(a,h.getValue(i)):Rm(s,h.getCategory(i))}0===s.length&&Rm(s,this.categoryAxis.getCategory(i)),s.length>0&&a.length>0&&t.trigger(r,{element:bl(e),originalEvent:e,category:$m(s),value:$m(a)})}},e.prototype.pointPane=function(t){for(var e=this.panes,r=0;r<e.length;r++){var n=e[r];if(n.contentBox.containsPoint(t))return n}},e.prototype.updateAxisOptions=function(t,e){Dy(this.options,t,e),Dy(this.originalOptions,t,e)},e}(Zm);function Dy(t,e,r){Hs([].concat(e instanceof Rp?t.categoryAxis:t.valueAxis)[e.axisIndex],r)}function Ry(t,e,r){return na(t,(function(t){return 0===r&&!t.categoryAxis||t.categoryAxis===e}))}El(Fy,{categoryAxis:{},valueAxis:{}}),Hs(Fy.prototype,ty);const Ly=Fy;function Ny(t,e){var r,n=0;if(!e||e<=0)return t;var i=function(){var i=ja()-n,o=arguments,s=function(){t.apply(null,o),n=ja()};if(!n)return s();r&&clearTimeout(r),i>e?s():r=setTimeout(s,e-i)};return i.cancel=function(){clearTimeout(r)},i}var By=function(t){function e(){t.call(this),this._events={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,r){var n=arguments,i=this,o=zy(t),s=jy(e),a=o.length;if(void 0===e){for(var l in t)i.bind(l,t[l]);return this}for(var c=function(t){var a=o[t],l=s?e:e[a];if(l){if(r){var c=l;(l=function(){i.unbind(a,l),c.apply(i,n)}).original=c}(i._events[a]=i._events[a]||[]).push(l)}},h=0;h<a;h++)c(h);return this},e.prototype.one=function(t,e){return this.bind(t,e,!0)},e.prototype.first=function(t,e){for(var r=zy(t),n=jy(e),i=0,o=r.length;i<o;i++){var s=r[i],a=n?e:e[s];if(a)(this._events[s]=this._events[s]||[]).unshift(a)}return this},e.prototype.trigger=function(t,e){void 0===e&&(e={});var r=this._events[t];if(r){var n=r.length;e.sender=this,e._defaultPrevented=!1,e.preventDefault=Uy,e.isDefaultPrevented=$y,r=r.slice();for(var i=0;i<n;i++)r[i].call(this,e);return!0===e._defaultPrevented}return!1},e.prototype.unbind=function(t,e){var r=this._events[t];if(void 0===t)this._events={};else if(r)if(e)for(var n=r.length-1;n>=0;n--)r[n]!==e&&r[n].original!==e||r.splice(n,1);else this._events[t]=[];return this},e}(va);function jy(t){return"function"==typeof t}function zy(t){return"string"==typeof t?[t]:t}function Uy(){this._defaultPrevented=!0}function $y(){return!0===this._defaultPrevented}var Hy=["click","mouseenter","mouseleave","mousemove","resize"],Vy=function(t){function e(e,r){t.call(this),this.options=Object.assign({},r),this.element=e,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new zh,Xa(e,this.options),this.bind(Hy,this.options),this._enableTracking()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.draw=function(t){this._visual.children.push(t)},e.prototype.clear=function(){this._visual.children=[]},e.prototype.destroy=function(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()},e.prototype.eventTarget=function(t){for(var e,r=Da(t);!e&&r&&(e=r._kendoNode,r!==this.element);)r=r.parentElement;if(e)return e.srcElement},e.prototype.exportVisual=function(){return this._visual},e.prototype.getSize=function(){return Xa(this.element)},e.prototype.currentSize=function(t){if(!t)return this._size;this._size=t},e.prototype.setSize=function(t){Xa(this.element,t),this.currentSize(t),this._resize()},e.prototype.resize=function(t){var e=this.getSize(),r=this.currentSize();(t||(e.width>0||e.height>0)&&(!r||e.width!==r.width||e.height!==r.height))&&(this.currentSize(e),this._resize(e,t),this.trigger("resize",e))},e.prototype.size=function(t){if(!t)return this.getSize();this.setSize(t)},e.prototype.suspendTracking=function(){this._suspendedTracking=!0},e.prototype.resumeTracking=function(){this._suspendedTracking=!1},e.prototype._enableTracking=function(){},e.prototype._resize=function(){},e.prototype._handler=function(t){var e=this;return function(r){var n=e.eventTarget(r);n&&!e._suspendedTracking&&e.trigger(t,{element:n,originalEvent:r,type:t})}},e.prototype._elementOffset=function(){var t=this.element,e=Ka(t),r=Va(t),n=r.left,i=r.top;return{left:n+e.left,top:i+e.top}},e.prototype._surfacePoint=function(t){var e=this._elementOffset(),r=Fa(t),n=r.x-e.left,i=r.y-e.top,o=tl(this.element).invert();return new gc(n,i).transform(o)},e}(By);const qy=Vy;var Wy=function(t){function e(e){t.call(this),this.childNodes=[],this.parent=null,e&&(this.srcElement=e,this.observe())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.srcElement&&this.srcElement.removeObserver(this);for(var t=this.childNodes,e=0;e<t.length;e++)this.childNodes[e].destroy();this.parent=null},e.prototype.load=function(){},e.prototype.observe=function(){this.srcElement&&this.srcElement.addObserver(this)},e.prototype.append=function(t){this.childNodes.push(t),t.parent=this},e.prototype.insertAt=function(t,e){this.childNodes.splice(e,0,t),t.parent=this},e.prototype.remove=function(t,e){for(var r=t+e,n=t;n<r;n++)this.childNodes[n].removeSelf();this.childNodes.splice(t,e)},e.prototype.removeSelf=function(){this.clear(),this.destroy()},e.prototype.clear=function(){this.remove(0,this.childNodes.length)},e.prototype.invalidate=function(){this.parent&&this.parent.invalidate()},e.prototype.geometryChange=function(){this.invalidate()},e.prototype.optionsChange=function(){this.invalidate()},e.prototype.childrenChange=function(t){"add"===t.action?this.load(t.items,t.index):"remove"===t.action&&this.remove(t.index,t.items.length),this.invalidate()},e}(va);const Xy=Wy;function Gy(t,e){return Ds(e)&&null!==e?" "+t+'="'+e+'" ':""}function Ky(t){for(var e="",r=0;r<t.length;r++)e+=Gy(t[r][0],t[r][1]);return e}function Yy(t){for(var e="",r=0;r<t.length;r++){var n=t[r][1];Ds(n)&&(e+=t[r][0]+":"+n+";")}if(""!==e)return e}const Jy={};var Zy="http://www.w3.org/2000/svg",Qy="none",tv=function(t,e){t.innerHTML=e};if("undefined"!=typeof document){var ev=document.createElement("div"),rv="undefined"!=typeof DOMParser;ev.innerHTML="<svg xmlns='http://www.w3.org/2000/svg'></svg>",rv&&ev.firstChild.namespaceURI!==Zy&&(tv=function(t,e){var r=(new DOMParser).parseFromString(e,"text/xml"),n=document.adoptNode(r.documentElement);t.innerHTML="",t.appendChild(n)})}const nv=tv;var iv="transform",ov={clip:"clip-path",fill:"fill"};function sv(t,e){return"clip"===t||"fill"===t&&(!e||"Gradient"===e.nodeType)}var av=function(t){function e(e,r){t.call(this,e),this.definitions={},this.options=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),t.prototype.destroy.call(this)},e.prototype.load=function(t,e){for(var r=this,n=0;n<t.length;n++){var i=t[n],o=i.children,s=new Jy[i.nodeType](i,r.options);Ds(e)?r.insertAt(s,e):r.append(s),s.createDefinitions(),o&&o.length>0&&s.load(o);var a=r.element;a&&s.attachTo(a,e)}},e.prototype.root=function(){for(var t=this;t.parent;)t=t.parent;return t},e.prototype.attachTo=function(t,e){var r=document.createElement("div");nv(r,"<svg xmlns='"+Zy+"' version='1.1'>"+this.render()+"</svg>");var n=r.firstChild.firstChild;n&&(Ds(e)?t.insertBefore(n,t.childNodes[e]||null):t.appendChild(n),this.setElement(n))},e.prototype.setElement=function(t){this.element&&(this.element._kendoNode=null),this.element=t,this.element._kendoNode=this;for(var e=this.childNodes,r=0;r<e.length;r++){var n=t.childNodes[r];e[r].setElement(n)}},e.prototype.clear=function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var t=this.childNodes,e=0;e<t.length;e++)t[e].destroy();this.childNodes=[]},e.prototype.removeSelf=function(){if(this.element){var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}t.prototype.removeSelf.call(this)},e.prototype.template=function(){return this.renderChildren()},e.prototype.render=function(){return this.template()},e.prototype.renderChildren=function(){for(var t=this.childNodes,e="",r=0;r<t.length;r++)e+=t[r].render();return e},e.prototype.optionsChange=function(e){var r=e.field,n=e.value;"visible"===r?this.css("display",n?"":Qy):ov[r]&&sv(r,n)?this.updateDefinition(r,n):"opacity"===r?this.attr("opacity",n):"cursor"===r?this.css("cursor",n):"id"===r&&(n?this.attr("id",n):this.removeAttr("id")),t.prototype.optionsChange.call(this,e)},e.prototype.attr=function(t,e){this.element&&this.element.setAttribute(t,e)},e.prototype.allAttr=function(t){for(var e=0;e<t.length;e++)this.attr(t[e][0],t[e][1])},e.prototype.css=function(t,e){this.element&&(this.element.style[t]=e)},e.prototype.allCss=function(t){for(var e=0;e<t.length;e++)this.css(t[e][0],t[e][1])},e.prototype.removeAttr=function(t){this.element&&this.element.removeAttribute(t)},e.prototype.mapTransform=function(t){var e=[];return t&&e.push([iv,"matrix("+t.matrix().toString(6)+")"]),e},e.prototype.renderTransform=function(){return Ky(this.mapTransform(this.srcElement.transform()))},e.prototype.transformChange=function(t){t?this.allAttr(this.mapTransform(t)):this.removeAttr(iv)},e.prototype.mapStyle=function(){var t=this.srcElement.options,e=[["cursor",t.cursor]];return!1===t.visible&&e.push(["display",Qy]),e},e.prototype.renderStyle=function(){return Gy("style",Yy(this.mapStyle(!0)))},e.prototype.renderOpacity=function(){return Gy("opacity",this.srcElement.options.opacity)},e.prototype.renderId=function(){return Gy("id",this.srcElement.options.id)},e.prototype.createDefinitions=function(){var t=this.srcElement,e=this.definitions;if(t){var r,n=t.options;for(var i in ov){var o=n.get(i);o&&sv(i,o)&&(e[i]=o,r=!0)}r&&this.definitionChange({action:"add",definitions:e})}},e.prototype.definitionChange=function(t){this.parent&&this.parent.definitionChange(t)},e.prototype.updateDefinition=function(t,e){var r=this.definitions,n=r[t],i=ov[t],o={};n&&(o[t]=n,this.definitionChange({action:"remove",definitions:o}),delete r[t]),e?(o[t]=e,this.definitionChange({action:"add",definitions:o}),r[t]=e,this.attr(i,this.refUrl(e.id))):n&&this.removeAttr(i)},e.prototype.clearDefinitions=function(){var t=this.definitions;this.definitionChange({action:"remove",definitions:t}),this.definitions={}},e.prototype.renderDefinitions=function(){return Ky(this.mapDefinitions())},e.prototype.mapDefinitions=function(){var t=this.definitions,e=[];for(var r in t)e.push([ov[r],this.refUrl(t[r].id)]);return e},e.prototype.refUrl=function(t){var e=(this.options||{}).skipBaseHref,r=this.baseUrl().replace(/'/g,"\\'");return"url("+(e?"":r)+"#"+t+")"},e.prototype.baseUrl=function(){return function(){var t=document.getElementsByTagName("base")[0],e=document.location.href,r="";if(t&&!(ga.browser||{}).msie){var n=e.indexOf("#");-1!==n&&(e=e.substring(0,n)),r=e}return r}()},e}(Xy);const lv=av;var cv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<stop "+this.renderOffset()+" "+this.renderStyle()+" />"},e.prototype.renderOffset=function(){return Gy("offset",this.srcElement.offset())},e.prototype.mapStyle=function(){var t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]},e.prototype.optionsChange=function(t){"offset"===t.field?this.attr(t.field,t.value):"color"!==t.field&&"opacity"!==t.field||this.css("stop-"+t.field,t.value)},e}(lv);const hv=cv;const uv=function(t){function e(e){t.call(this,e),this.id=e.id,this.loadStops()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadStops=function(){for(var t=this.srcElement.stops,e=this.element,r=0;r<t.length;r++){var n=new hv(t[r]);this.append(n),e&&n.attachTo(e)}},e.prototype.optionsChange=function(t){"gradient.stops"===t.field?(Xy.prototype.clear.call(this),this.loadStops()):"gradient"===t.field&&this.allAttr(this.mapCoordinates())},e.prototype.renderCoordinates=function(){return Ky(this.mapCoordinates())},e.prototype.mapSpace=function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]},e}(lv);var pv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<linearGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</linearGradient>"},e.prototype.mapCoordinates=function(){var t=this.srcElement,e=t.start(),r=t.end();return[["x1",e.x],["y1",e.y],["x2",r.x],["y2",r.y],this.mapSpace()]},e}(uv);const dv=pv;var fv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<radialGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</radialGradient>"},e.prototype.mapCoordinates=function(){var t=this.srcElement,e=t.center(),r=t.radius();return[["cx",e.x],["cy",e.y],["r",r],this.mapSpace()]},e}(uv);const gv=fv;const mv=function(t){function e(e){t.call(this),this.srcElement=e,this.id=e.id,this.load([e])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<clipPath id='"+this.id+"'>"+this.renderChildren()+"</clipPath>"},e}(lv);var yv=function(t){function e(){t.call(this),this.definitionMap={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.attachTo=function(t){this.element=t},e.prototype.template=function(){return"<defs>"+this.renderChildren()+"</defs>"},e.prototype.definitionChange=function(t){var e=t.definitions,r=t.action;"add"===r?this.addDefinitions(e):"remove"===r&&this.removeDefinitions(e)},e.prototype.createDefinition=function(t,e){var r;return"clip"===t?r=mv:"fill"===t&&(e instanceof pu?r=dv:e instanceof fu&&(r=gv)),new r(e)},e.prototype.addDefinitions=function(t){for(var e in t)this.addDefinition(e,t[e])},e.prototype.addDefinition=function(t,e){var r=this.element,n=this.definitionMap,i=e.id,o=n[i];if(o)o.count++;else{var s=this.createDefinition(t,e);n[i]={element:s,count:1},this.append(s),r&&s.attachTo(this.element)}},e.prototype.removeDefinitions=function(t){for(var e in t)this.removeDefinition(t[e])},e.prototype.removeDefinition=function(t){var e=this.definitionMap,r=t.id,n=e[r];n&&(n.count--,0===n.count&&(this.remove(this.childNodes.indexOf(n.element),1),delete e[r]))},e}(lv);const vv=yv;var bv=function(t){function e(e){t.call(this),this.options=e,this.defs=new vv}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.attachTo=function(t){this.element=t,this.defs.attachTo(t.firstElementChild)},e.prototype.clear=function(){Xy.prototype.clear.call(this)},e.prototype.template=function(){return this.defs.render()+this.renderChildren()},e.prototype.definitionChange=function(t){this.defs.definitionChange(t)},e}(lv);const wv=bv;var xv={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Sv="solid",kv="butt",Av={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},Cv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){this.attr("d",this.renderData()),this.invalidate()},e.prototype.optionsChange=function(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:var r=Av[e.field];r&&this.attr(r,e.value)}t.prototype.optionsChange.call(this,e)},e.prototype.content=function(){this.element&&(this.element.textContent=this.srcElement.content())},e.prototype.renderData=function(){return this.printPath(this.srcElement)},e.prototype.printPath=function(t){var e=this,r=t.segments,n=r.length;if(n>0){for(var i,o,s=[],a=1;a<n;a++){var l=e.segmentType(r[a-1],r[a]);l!==o&&(o=l,s.push(l)),"L"===l?s.push(e.printPoints(r[a].anchor())):s.push(e.printPoints(r[a-1].controlOut(),r[a].controlIn(),r[a].anchor()))}return i="M"+this.printPoints(r[0].anchor())+" "+s.join(" "),t.options.closed&&(i+="Z"),i}},e.prototype.printPoints=function(){for(var t=arguments,e=t.length,r=[],n=0;n<e;n++)r.push(t[n].toString(3));return r.join(" ")},e.prototype.segmentType=function(t,e){return t.controlOut()&&e.controlIn()?"C":"L"},e.prototype.mapStroke=function(t){var e=[];return t&&!Ra(t.color)?(e.push(["stroke",t.color]),e.push(["stroke-width",t.width]),e.push(["stroke-linecap",this.renderLinecap(t)]),e.push(["stroke-linejoin",t.lineJoin]),Ds(t.opacity)&&e.push(["stroke-opacity",t.opacity]),Ds(t.dashType)&&e.push(["stroke-dasharray",this.renderDashType(t)])):e.push(["stroke",Qy]),e},e.prototype.renderStroke=function(){return Ky(this.mapStroke(this.srcElement.options.stroke))},e.prototype.renderDashType=function(t){var e=t.dashType,r=t.width;if(void 0===r&&(r=1),e&&e!==Sv){for(var n=xv[e.toLowerCase()],i=[],o=0;o<n.length;o++)i.push(n[o]*r);return i.join(" ")}},e.prototype.renderLinecap=function(t){var e=t.dashType,r=t.lineCap;return e&&"solid"!==e?kv:r},e.prototype.mapFill=function(t){var e=[];return t&&"Gradient"===t.nodeType||(t&&!Ra(t.color)?(e.push(["fill",t.color]),Ds(t.opacity)&&e.push(["fill-opacity",t.opacity])):e.push(["fill",Qy])),e},e.prototype.renderFill=function(){return Ky(this.mapFill(this.srcElement.options.fill))},e.prototype.template=function(){return"<path "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" "+Gy("d",this.renderData())+this.renderStroke()+this.renderFill()+this.renderDefinitions()+this.renderTransform()+"></path>"},e}(lv);const _v=Cv;var Tv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderData=function(){return this.printPath(this.srcElement.toPath())},e}(_v);const Ov=Tv;var Mv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){var t=this.center();this.attr("cx",t.x),this.attr("cy",t.y),this.attr("r",this.radius()),this.invalidate()},e.prototype.center=function(){return this.srcElement.geometry().center},e.prototype.radius=function(){return this.srcElement.geometry().radius},e.prototype.template=function(){return"<circle "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+"cx='"+this.center().x+"' cy='"+this.center().y+"' r='"+this.radius()+"'"+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+this.renderTransform()+" ></circle>"},e}(_v);const Ev=Mv;var Pv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<g"+(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions())+">"+this.renderChildren()+"</g>"},e.prototype.optionsChange=function(e){"transform"===e.field&&this.transformChange(e.value),t.prototype.optionsChange.call(this,e)},e}(lv);const Iv=Pv;var Fv=/&/g,Dv=/</g,Rv=/"/g,Lv=/'/g,Nv=/>/g;function Bv(t){return String(t).replace(Fv,"&amp;").replace(Dv,"&lt;").replace(Nv,"&gt;").replace(Rv,"&quot;").replace(Lv,"&#39;")}var jv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){this.allAttr(this.mapPosition()),this.invalidate()},e.prototype.optionsChange=function(e){"src"===e.field&&this.allAttr(this.mapSource()),t.prototype.optionsChange.call(this,e)},e.prototype.mapPosition=function(){var t=this.srcElement.rect(),e=t.topLeft();return[["x",e.x],["y",e.y],["width",t.width()+"px"],["height",t.height()+"px"]]},e.prototype.renderPosition=function(){return Ky(this.mapPosition())},e.prototype.mapSource=function(t){var e=this.srcElement.src();return t&&(e=Bv(e)),[["xlink:href",e]]},e.prototype.renderSource=function(){return Ky(this.mapSource(!0))},e.prototype.template=function(){return"<image preserveAspectRatio='none' "+this.renderId()+" "+this.renderStyle()+" "+this.renderTransform()+" "+this.renderOpacity()+this.renderPosition()+" "+this.renderSource()+" "+this.renderDefinitions()+"></image>"},e}(_v);const zv=jv;var Uv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderData=function(){var t=this.srcElement.paths;if(t.length>0){for(var e=[],r=0;r<t.length;r++)e.push(this.printPath(t[r]));return e.join(" ")}},e}(_v);const $v=Uv;var Hv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){var t=this.srcElement.geometry();this.attr("x",t.origin.x),this.attr("y",t.origin.y),this.attr("width",t.size.width),this.attr("height",t.size.height),this.attr("rx",t.cornerRadius[0]),this.attr("ry",t.cornerRadius[1]),this.invalidate()},e.prototype.size=function(){return this.srcElement.geometry().size},e.prototype.origin=function(){return this.srcElement.geometry().origin},e.prototype.rx=function(){return this.srcElement.geometry().cornerRadius[0]},e.prototype.ry=function(){return this.srcElement.geometry().cornerRadius[1]},e.prototype.template=function(){return"<rect "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" x='"+this.origin().x+"' y='"+this.origin().y+"' rx='"+this.rx()+"' ry='"+this.ry()+"' width='"+this.size().width+"' height='"+this.size().height+"' "+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+" "+this.renderTransform()+" />"},e}(_v);const Vv=Hv;var qv=/&(?:[a-zA-Z]+|#\d+);/g;function Wv(t){if(!t||"string"!=typeof t||!qv.test(t))return t;var e=Wv._element;return qv.lastIndex=0,t.replace(qv,(function(t){return e.innerHTML=t,e.textContent||e.innerText}))}"undefined"!=typeof document&&(Wv._element=document.createElement("span"));var Xv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){var t=this.pos();this.attr("x",t.x),this.attr("y",t.y),this.invalidate()},e.prototype.optionsChange=function(e){"font"===e.field?(this.attr("style",Yy(this.mapStyle())),this.geometryChange()):"content"===e.field&&t.prototype.content.call(this,this.srcElement.content()),t.prototype.optionsChange.call(this,e)},e.prototype.mapStyle=function(e){var r=t.prototype.mapStyle.call(this,e),n=this.srcElement.options.font;return e&&(n=Bv(n)),r.push(["font",n],["white-space","pre"]),r},e.prototype.pos=function(){var t=this.srcElement.position(),e=this.srcElement.measure();return t.clone().setY(t.y+e.baseline)},e.prototype.renderContent=function(){var t=this.srcElement.content();return il(t=Bv(t=Wv(t)))},e.prototype.renderTextAnchor=function(){var t;return!(this.options||{}).rtl||ga.browser.msie||ga.browser.edge||(t="end"),Gy("text-anchor",t)},e.prototype.template=function(){return"<text "+this.renderId()+" "+this.renderTextAnchor()+" "+this.renderStyle()+" "+this.renderOpacity()+"x='"+this.pos().x+"' y='"+this.pos().y+"' "+this.renderStroke()+" "+this.renderTransform()+" "+this.renderDefinitions()+this.renderFill()+">"+this.renderContent()+"</text>"},e}(_v);const Gv=Xv;Jy.Arc=Ov,Jy.Circle=Ev,Jy.Group=Iv,Jy.Image=zv,Jy.MultiPath=$v,Jy.Path=_v,Jy.Rect=Vv,Jy.Text=Gv;var Kv=function(t){function e(e,r){t.call(this,e,r),this._root=new wv(Object.assign({rtl:"rtl"===qa(e,"direction").direction},this.options)),nv(this.element,this._template()),this._rootElement=this.element.firstElementChild,function(t){var e;try{e=t.getScreenCTM?t.getScreenCTM():null}catch(t){}if(e){var r=-e.e%1,n=-e.f%1,i=t.style;0===r&&0===n||(i.left=r+"px",i.top=n+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),Ha(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={type:{configurable:!0}};return r.type.get=function(){return"svg"},e.prototype.destroy=function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,Ga(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),t.prototype.destroy.call(this)},e.prototype.translate=function(t){var e=Math.round(t.x)+" "+Math.round(t.y)+" "+this._size.width+" "+this._size.height;this._offset=t,this._rootElement.setAttribute("viewBox",e)},e.prototype.draw=function(e){t.prototype.draw.call(this,e),this._root.load([e])},e.prototype.clear=function(){t.prototype.clear.call(this),this._root.clear()},e.prototype.svg=function(){return"<?xml version='1.0' ?>"+this._template()},e.prototype.exportVisual=function(){var t=this._visual,e=this._offset;if(e){var r=new zh;r.children.push(t),r.transform(Ic().translate(-e.x,-e.y)),t=r}return t},e.prototype._resize=function(){this._offset&&this.translate(this._offset)},e.prototype._template=function(){return"<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+Zy+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+this._root.render()+"</svg>"},Object.defineProperties(e.prototype,r),e}(qy);const Yv=Kv;const Jv={};function Zv(t,e){var r=e.segments;if(0!==r.length){var n=r[0],i=n.anchor();t.moveTo(i.x,i.y);for(var o=1;o<r.length;o++){i=(n=r[o]).anchor();var s=r[o-1].controlOut(),a=n.controlIn();s&&a?t.bezierCurveTo(s.x,s.y,a.x,a.y,i.x,i.y):t.lineTo(i.x,i.y)}e.options.closed&&t.closePath()}}var Qv=function(t){function e(e){t.call(this,e),e&&this.initClip()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initClip=function(){var t=this.srcElement.clip();t&&(this.clip=t,t.addObserver(this))},e.prototype.clear=function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),t.prototype.clear.call(this)},e.prototype.clearClip=function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},e.prototype.setClip=function(t){this.clip&&(t.beginPath(),Zv(t,this.clip),t.clip())},e.prototype.optionsChange=function(e){"clip"===e.field&&(this.clearClip(),this.initClip()),t.prototype.optionsChange.call(this,e)},e.prototype.setTransform=function(t){if(this.srcElement){var e=this.srcElement.transform();e&&t.transform.apply(t,e.matrix().toArray(6))}},e.prototype.loadElements=function(t,e,r){for(var n=0;n<t.length;n++){var i=t[n],o=i.children,s=new Jv[i.nodeType](i,r);o&&o.length>0&&s.load(o,e,r),Ds(e)?this.insertAt(s,e):this.append(s)}},e.prototype.load=function(t,e,r){this.loadElements(t,e,r),this.invalidate()},e.prototype.setOpacity=function(t){if(this.srcElement){var e=this.srcElement.opacity();Ds(e)&&this.globalAlpha(t,e)}},e.prototype.globalAlpha=function(t,e){var r=e;r&&t.globalAlpha&&(r*=t.globalAlpha),t.globalAlpha=r},e.prototype.visible=function(){var t=this.srcElement;return!t||t&&!1!==t.options.visible},e}(Xy);const tb=Qv;var eb=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderTo=function(t){if(this.visible()){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t);for(var e=this.childNodes,r=0;r<e.length;r++){var n=e[r];n.visible()&&n.renderTo(t)}t.restore()}},e}(Bh(tb,"childNodes"));const rb=eb;var nb=function(t){function e(e,r){t.call(this),this.canvas=e,this.size=r,this.ctx=e.getContext("2d");var n=this._invalidate.bind(this);this.invalidate=Ny((function(){qh(n)}),16.666666666666668)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){t.prototype.destroy.call(this),this.canvas=null,this.ctx=null},e.prototype.load=function(t,e,r){this.loadElements(t,e,r),this._invalidate()},e.prototype._rescale=function(t){var e=this.canvas,r=this.size;e.width=r.width*t,e.height=r.height*t,this.ctx.scale(t,t)},e.prototype._devicePixelRatio=function(){return"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1},e.prototype._invalidate=function(t){if(this.ctx){var e=t&&t.fixedScale?1:this._devicePixelRatio();this._rescale(e),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}},e}(Bh(rb,"childNodes"));const ib=nb;var ob=function(t){function e(){t.call(this),this.shapes=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._add=function(t,e){this.shapes.push({bbox:e,shape:t}),t._quadNode=this},e.prototype.pointShapes=function(t){for(var e=this.shapes,r=e.length,n=[],i=0;i<r;i++)e[i].bbox.containsPoint(t)&&n.push(e[i].shape);return n},e.prototype.insert=function(t,e){this._add(t,e)},e.prototype.remove=function(t){for(var e=this.shapes,r=e.length,n=0;n<r;n++)if(e[n].shape===t){e.splice(n,1);break}},e}(va);const sb=ob;var ab=function(t){function e(e){t.call(this),this.children=[],this.rect=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.inBounds=function(t){var e=this.rect,r=e.bottomRight(),n=t.bottomRight(),i=e.origin.x<=t.origin.x&&e.origin.y<=t.origin.y&&n.x<=r.x&&n.y<=r.y;return i},e.prototype.pointShapes=function(e){for(var r=this.children,n=r.length,i=t.prototype.pointShapes.call(this,e),o=0;o<n;o++)wa(i,r[o].pointShapes(e));return i},e.prototype.insert=function(t,e){var r=this.children,n=!1;if(this.inBounds(e)){if(this.shapes.length<4)this._add(t,e);else{r.length||this._initChildren();for(var i=0;i<r.length;i++)if(r[i].insert(t,e)){n=!0;break}n||this._add(t,e)}n=!0}return n},e.prototype._initChildren=function(){var t=this.rect,r=this.children,n=t.center(),i=t.width()/2,o=t.height()/2;r.push(new e(new bc([t.origin.x,t.origin.y],[i,o])),new e(new bc([n.x,t.origin.y],[i,o])),new e(new bc([t.origin.x,n.y],[i,o])),new e(new bc([n.x,n.y],[i,o])))},e}(sb);const lb=ab;var cb=3e3,hb=function(t){function e(){t.call(this),this.initRoots()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initRoots=function(){this.rootMap={},this.root=new sb,this.rootElements=[]},e.prototype.clear=function(){for(var t=this.rootElements,e=0;e<t.length;e++)this.remove(t[e]);this.initRoots()},e.prototype.pointShape=function(t){var e=(this.rootMap[Math.floor(t.x/cb)]||{})[Math.floor(t.y/cb)],r=this.root.pointShapes(t);e&&(r=r.concat(e.pointShapes(t))),this.assignZindex(r),r.sort(ub);for(var n=0;n<r.length;n++)if(r[n].containsPoint(t))return r[n]},e.prototype.assignZindex=function(t){for(var e=0;e<t.length;e++){for(var r=t[e],n=0,i=Math.pow(1e4,75),o=[];r;)o.push(r),r=r.parent;for(;o.length;)n+=(((r=o.pop()).parent?r.parent.children:this.rootElements).indexOf(r)+1)*i,i/=1e4;t[e]._zIndex=n}},e.prototype.optionsChange=function(t){"transform"!==t.field&&"stroke.width"!==t.field||this.bboxChange(t.element)},e.prototype.geometryChange=function(t){this.bboxChange(t.element)},e.prototype.bboxChange=function(t){if("Group"===t.nodeType)for(var e=0;e<t.children.length;e++)this.bboxChange(t.children[e]);else t._quadNode&&t._quadNode.remove(t),this._insertShape(t)},e.prototype.add=function(t){var e=Array.isArray(t)?t.slice(0):[t];wa(this.rootElements,e),this._insert(e)},e.prototype.childrenChange=function(t){if("remove"===t.action)for(var e=0;e<t.items.length;e++)this.remove(t.items[e]);else this._insert(Array.prototype.slice.call(t.items,0))},e.prototype._insert=function(t){for(var e;t.length>0;)(e=t.pop()).addObserver(this),"Group"===e.nodeType?wa(t,e.children):this._insertShape(e)},e.prototype._insertShape=function(t){var e=t.bbox();if(e){var r=this.getSectors(e),n=r[0][0],i=r[1][0];if(this.inRoot(r))this.root.insert(t,e);else{var o=this.rootMap;o[n]||(o[n]={}),o[n][i]||(o[n][i]=new lb(new bc([n*cb,i*cb],[cb,cb]))),o[n][i].insert(t,e)}}},e.prototype.remove=function(t){if(t.removeObserver(this),"Group"===t.nodeType)for(var e=t.children,r=0;r<e.length;r++)this.remove(e[r]);else t._quadNode&&(t._quadNode.remove(t),delete t._quadNode)},e.prototype.inRoot=function(t){return t[0].length>1||t[1].length>1},e.prototype.getSectors=function(t){for(var e=t.bottomRight(),r=Math.floor(e.x/cb),n=Math.floor(e.y/cb),i=[[],[]],o=Math.floor(t.origin.x/cb);o<=r;o++)i[0].push(o);for(var s=Math.floor(t.origin.y/cb);s<=n;s++)i[1].push(s);return i},e}(va);function ub(t,e){return t._zIndex<e._zIndex?1:t._zIndex>e._zIndex?-1:0}const pb=hb;var db=function(t){t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element};db.prototype.clear=function(){this._resetCursor()},db.prototype.destroy=function(){this._resetCursor(),delete this.element},db.prototype._mouseenter=function(t){var e=this._shapeCursor(t);e?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(e)):this._resetCursor()},db.prototype._mouseleave=function(){this._resetCursor()},db.prototype._shapeCursor=function(t){for(var e=t.element;e&&!Ds(e.options.cursor);)e=e.parent;if(e)return e.options.cursor},db.prototype._getCursor=function(){if(this.element)return this.element.style.cursor},db.prototype._setCursor=function(t){this.element&&(this.element.style.cursor=t,this._current=t)},db.prototype._resetCursor=function(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)};const fb=db;var gb=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderTo=function(t){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),this.renderPoints(t,this.srcElement),this.setLineDash(t),this.setLineCap(t),this.setLineJoin(t),this.setFill(t),this.setStroke(t),t.restore()},e.prototype.setFill=function(t){var e=this.srcElement.options.fill,r=!1;return e&&("Gradient"===e.nodeType?(this.setGradientFill(t,e),r=!0):Ra(e.color)||(t.fillStyle=e.color,t.save(),this.globalAlpha(t,e.opacity),t.fill(),t.restore(),r=!0)),r},e.prototype.setGradientFill=function(t,e){var r,n=this.srcElement.rawBBox();if(e instanceof pu){var i=e.start(),o=e.end();r=t.createLinearGradient(i.x,i.y,o.x,o.y)}else if(e instanceof fu){var s=e.center();r=t.createRadialGradient(s.x,s.y,0,s.x,s.y,e.radius())}!function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=Xl(n.color());i.a*=n.opacity(),t.addColorStop(n.offset(),i.toCssRgba())}}(r,e.stops),t.save(),e.userSpace()||t.transform(n.width(),0,0,n.height(),n.origin.x,n.origin.y),t.fillStyle=r,t.fill(),t.restore()},e.prototype.setStroke=function(t){var e=this.srcElement.options.stroke;if(e&&!Ra(e.color)&&e.width>0)return t.strokeStyle=e.color,t.lineWidth=$a(e.width,1),t.save(),this.globalAlpha(t,e.opacity),t.stroke(),t.restore(),!0},e.prototype.dashType=function(){var t=this.srcElement.options.stroke;if(t&&t.dashType)return t.dashType.toLowerCase()},e.prototype.setLineDash=function(t){var e=this.dashType();if(e&&e!==Sv){var r=xv[e];t.setLineDash?t.setLineDash(r):(t.mozDash=r,t.webkitLineDash=r)}},e.prototype.setLineCap=function(t){var e=this.dashType(),r=this.srcElement.options.stroke;e&&e!==Sv?t.lineCap=kv:r&&r.lineCap&&(t.lineCap=r.lineCap)},e.prototype.setLineJoin=function(t){var e=this.srcElement.options.stroke;e&&e.lineJoin&&(t.lineJoin=e.lineJoin)},e.prototype.renderPoints=function(t,e){Zv(t,e)},e}(tb);const mb=gb;var yb=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderPoints=function(t){Zv(t,this.srcElement.toPath())},e}(mb);const vb=yb;var bb=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderPoints=function(t){var e=this.srcElement.geometry(),r=e.center,n=e.radius;t.arc(r.x,r.y,n,0,2*Math.PI)},e}(mb);const wb=bb;var xb=function(t){function e(e,r){t.call(this,e),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=ka();var n=this.img=new Image;r&&!/^data:/i.test(e.src())&&(n.crossOrigin=r),n.src=e.src(),n.complete?this.onLoad():(n.onload=this.onLoad,n.onerror=this.onError)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderTo=function(t){"resolved"===this.loading.state()&&(t.save(),this.setTransform(t),this.setClip(t),this.drawImage(t),t.restore())},e.prototype.optionsChange=function(e){"src"===e.field?(this.loading=ka(),this.img.src=this.srcElement.src()):t.prototype.optionsChange.call(this,e)},e.prototype.onLoad=function(){this.loading.resolve(),this.invalidate()},e.prototype.onError=function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},e.prototype.drawImage=function(t){var e=this.srcElement.rect(),r=e.topLeft();t.drawImage(this.img,r.x,r.y,e.width(),e.height())},e}(mb);const Sb=xb;var kb=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderPoints=function(t){for(var e=this.srcElement.paths,r=0;r<e.length;r++)Zv(t,e[r])},e}(mb);const Ab=kb;var Cb=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderPoints=function(e){var r=this.srcElement.geometry(),n=r.cornerRadius,i=n[0],o=n[1];if(0===i&&0===o){var s=r.origin,a=r.size;e.rect(s.x,s.y,a.width,a.height)}else t.prototype.renderPoints.call(this,e,Th.fromRect(r))},e}(mb);const _b=Cb;var Tb=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderTo=function(t){var e=this.srcElement,r=e.position(),n=e.measure();t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),t.font=e.options.font,t.textAlign="left",this.setFill(t)&&t.fillText(e.content(),r.x,r.y+n.baseline),this.setStroke(t)&&(this.setLineDash(t),t.strokeText(e.content(),r.x,r.y+n.baseline)),t.restore()},e}(mb);const Ob=Tb;Jv.Arc=vb,Jv.Circle=wb,Jv.Group=rb,Jv.Image=Sb,Jv.MultiPath=Ab,Jv.Path=mb,Jv.Rect=_b,Jv.Text=Ob;var Mb=function(t){function e(e,r){t.call(this,e,r),this.element.innerHTML=this._template(this);var n=this.element.firstElementChild,i=Xa(e);n.width=i.width,n.height=i.height,this._rootElement=n,this._root=new ib(n,i),this._mouseTrackHandler=this._trackMouse.bind(this),Ha(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={type:{configurable:!0}};return r.type.get=function(){return"canvas"},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),Ga(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})},e.prototype.draw=function(e){t.prototype.draw.call(this,e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])},e.prototype.clear=function(){t.prototype.clear.call(this),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()},e.prototype.eventTarget=function(t){if(this._searchTree){var e=this._surfacePoint(t);return this._searchTree.pointShape(e)}},e.prototype.image=function(){var t=this._root,e=this._rootElement,r=[];t.traverse((function(t){t.loading&&r.push(t.loading)}));var n=ka(),i=function(){t._invalidate({fixedScale:!0});try{var r=e.toDataURL();n.resolve(r)}catch(t){n.reject(t)}};return za(r).then(i,i),n},e.prototype.suspendTracking=function(){t.prototype.suspendTracking.call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)},e.prototype.resumeTracking=function(){if(t.prototype.resumeTracking.call(this),!this._searchTree){this._searchTree=new pb;for(var e=this._root.childNodes,r=[],n=0;n<e.length;n++)r.push(e[n].srcElement);this._searchTree.add(r)}},e.prototype._resize=function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()},e.prototype._template=function(){return"<canvas style='width: 100%; height: 100%;'></canvas>"},e.prototype._enableTracking=function(){this._searchTree=new pb,this._cursor=new fb(this),t.prototype._enableTracking.call(this)},e.prototype._trackMouse=function(t){if(!this._suspendedTracking){var e=this.eventTarget(t);if("click"!==t.type){var r=this._currentShape;r&&r!==e&&this.trigger("mouseleave",{element:r,originalEvent:t,type:"mouseleave"}),e&&r!==e&&this.trigger("mouseenter",{element:e,originalEvent:t,type:"mouseenter"}),this.trigger("mousemove",{element:e,originalEvent:t,type:"mousemove"}),this._currentShape=e}else e&&this.trigger("click",{element:e,originalEvent:t,type:"click"})}},Object.defineProperties(e.prototype,r),e}(qy);const Eb=Mb;var Pb,Ib,Fb=function(){return"undefined"!=typeof document},Db=function(t){function e(){t.call(this),this._items=[{name:"svg",type:Yv},{name:"canvas",type:Eb}]}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={support:{configurable:!0},current:{configurable:!0}};return r.support.get=function(){return Ib||(Ib={canvas:Fb()&&document.createElement("canvas").getContext,svg:Fb()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}),Ib},r.current.get=function(){return Pb||(Pb=new e),Pb},e.prototype.create=function(t,e){var r=this._items,n=r[0];if(e&&e.type)for(var i=e.type.toLowerCase(),o=0;o<r.length;o++)if(r[o].name===i){n=r[o];break}if(n)return new n.type(t,e);ba("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: "+navigator.userAgent)},Object.defineProperties(e,r),e}(va);const Rb=Db;var Lb=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={support:{configurable:!0}};return r.support.get=function(){return Rb.support},e.create=function(t,e){return Rb.current.create(t,e)},Object.defineProperties(e,r),e}(qy);const Nb=Lb;var Bb=function(t){function e(){t.call(this),this._points=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._points=[]},e.prototype.show=function(t,e){var r=[].concat(t);this.hide();for(var n=0;n<r.length;n++){var i=r[n];i&&i.toggleHighlight&&i.hasHighlight()&&(this.togglePointHighlight(i,!0,e),this._points.push(i))}},e.prototype.togglePointHighlight=function(t,e,r){var n=(t.options.highlight||{}).toggle;if(n){var i={category:t.category,series:t.series,dataItem:t.dataItem,value:t.value,stackValue:t.stackValue,preventDefault:jb,visual:t.highlightVisual(),show:e};n(i),i._defaultPrevented||t.toggleHighlight(e,r)}else t.toggleHighlight(e,r)},e.prototype.hide=function(){for(var t=this._points;t.length;)this.togglePointHighlight(t.pop(),!1)},e.prototype.isHighlighted=function(t){for(var e=this._points,r=0;r<e.length;r++){if(t===e[r])return!0}return!1},e}(va);function jb(){this._defaultPrevented=!0}const zb=Bb;function Ub(t,e){var r=(e||"").toLowerCase(),n=t.event;return"none"===r&&!(n.ctrlKey||n.shiftKey||n.altKey)||n[r+"Key"]}function $b(t){for(var e={},r=0;r<t.length;r++){var n=t[r];n.axis.options.name&&(e[n.axis.options.name]={min:n.range.min,max:n.range.max})}return e}var Hb=function(t){function e(e,r){t.call(this),this.plotArea=e,this.options=Hs({},this.options,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.start=function(t){return this._active=Ub(t,this.options.key),this._active},e.prototype.move=function(t){if(this._active){var e=this.axisRanges=this._panAxes(t,Ms).concat(this._panAxes(t,Es));if(e.length)return this.axisRanges=e,$b(e)}},e.prototype.end=function(){var t=this._active;return this._active=!1,t},e.prototype.pan=function(){var t=this.plotArea,e=this.axisRanges;if(e.length){for(var r=0;r<e.length;r++){var n=e[r];t.updateAxisOptions(n.axis,n.range)}t.redraw(t.panes)}},e.prototype.destroy=function(){delete this.plotArea},e.prototype._panAxes=function(t,e){var r=this.plotArea,n=-t[e].delta,i=(this.options.lock||"").toLowerCase(),o=[];if(0!==n&&(i||"").toLowerCase()!==e)for(var s=r.axes,a=0;a<s.length;a++){var l=s[a];if(e===Ms&&!l.options.vertical||e===Es&&l.options.vertical){var c=l.pan(n);c&&(c.limitRange=!0,o.push({axis:l,range:c}))}}return o},e}(va);Hb.prototype.options={key:"none",lock:"none"};const Vb=Hb;var qb=function(t){function e(e,r){t.call(this),this.chart=e,this.options=Hs({},this.options,r),this.createElement()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createElement=function(){var t=this._marquee=document.createElement("div");t.className="k-marquee";var e=document.createElement("div");e.className="k-marquee-color",t.appendChild(e)},e.prototype.removeElement=function(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)},e.prototype.setStyles=function(t){Gs(this._marquee,t)},e.prototype.start=function(t){if(Ub(t,this.options.key)){var e=this.chart,r=e._eventCoordinates(t),n=this._zoomPane=e._plotArea.paneByPoint(r),i=n?n.chartsBox().clone():null;if(n&&i){var o=this._elementOffset();return i.translate(o.left,o.top),this._zoomPaneClipBox=i,document.body.appendChild(this._marquee),this.setStyles({left:t.pageX+1,top:t.pageY+1,width:0,height:0}),!0}}return!1},e.prototype._elementOffset=function(){var t=this.chart.element,e=Gs(t,["paddingLeft","paddingTop"]),r=e.paddingLeft,n=e.paddingTop,i=ml(t);return{left:r+i.left,top:n+i.top}},e.prototype.move=function(t){this._zoomPane&&this.setStyles(this._selectionPosition(t))},e.prototype.end=function(t){if(this._zoomPane){var e=this._elementOffset(),r=this._selectionPosition(t);r.left-=e.left,r.top-=e.top;var n={x:r.left,y:r.top},i={x:r.left+r.width,y:r.top+r.height};return this._updateAxisRanges(n,i),this.removeElement(),delete this._zoomPane,$b(this.axisRanges)}},e.prototype.zoom=function(){var t=this.axisRanges;if(t&&t.length){for(var e=this.chart._plotArea,r=0;r<t.length;r++){var n=t[r];e.updateAxisOptions(n.axis,n.range)}e.redraw(e.panes)}},e.prototype.destroy=function(){this.removeElement(),delete this._marquee,delete this.chart},e.prototype._updateAxisRanges=function(t,e){for(var r=(this.options.lock||"").toLowerCase(),n=[],i=this._zoomPane.axes,o=0;o<i.length;o++){var s=i[o],a=s.options.vertical;if((r!==Ms||a)&&(r!==Es||!a)&&fl(s.axisIndex)){var l=s.pointsRange(t,e);l&&n.push({axis:s,range:l})}}this.axisRanges=n},e.prototype._selectionPosition=function(t){var e=this._zoomPaneClipBox,r={x:t.x.startLocation,y:t.y.startLocation},n=t.x.location,i=t.y.location,o=(this.options.lock||"").toLowerCase(),s=Math.min(r.x,n),a=Math.min(r.y,i),l=Math.abs(r.x-n),c=Math.abs(r.y-i);return o===Ms&&(s=e.x1,l=e.width()),o===Es&&(a=e.y1,c=e.height()),n>e.x2&&(l=e.x2-r.x),n<e.x1&&(l=r.x-e.x1),i>e.y2&&(c=e.y2-r.y),i<e.y1&&(c=r.y-e.y1),{left:Math.max(s,e.x1),top:Math.max(a,e.y1),width:l,height:c}},e}(va);qb.prototype.options={key:"shift",lock:"none"};const Wb=qb;var Xb=function(t){function e(e,r){t.call(this),this.chart=e,this.options=Hs({rate:.3},this.options,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.updateRanges=function(t,e){for(var r=(this.options.lock||"").toLowerCase(),n=[],i=this.chart._plotArea.axes,o=0;o<i.length;o++){var s=i[o],a=s.options.vertical;if((r!==Ms||a)&&(r!==Es||!a)&&s.zoomRange){var l=Sl(this.options.rate,.01,.9),c=s.zoomRange(-t*l,e);c&&n.push({axis:s,range:c})}}return this.axisRanges=n,$b(n)},e.prototype.zoom=function(){var t=this.axisRanges,e=this.chart._plotArea;if(t&&t.length&&e.updateAxisOptions){for(var r=0;r<t.length;r++){var n=t[r];e.updateAxisOptions(n.axis,n.range)}e.redraw(e.panes)}},e.prototype.destroy=function(){delete this.chart},e}(va);const Gb=Xb;function Kb(t,e,r,n,i){return"start"===r?e.origin[n]:"end"===r?e.origin[n]+e.size[i]-t:e.origin[n]+(e.size[i]-t)/2}function Yb(t,e,r,n,i){return"start"===r?e.origin[n]+e.size[i]-t:"end"===r?e.origin[n]:e.origin[n]+(e.size[i]-t)/2}var Jb={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},Zb=function(t,e){t.forEach(e)},Qb=function(t,e){for(var r=t.length-1;r>=0;r--)e(t[r],r)},tw=function(t){function e(e,r){t.call(this,Object.assign({},Jb,r)),this._rect=e,this._fieldMap={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rect=function(t){return t?(this._rect=t,this):this._rect},e.prototype._initMap=function(){var t=this.options,e=this._fieldMap;"horizontal"===t.orientation?(e.sizeField="width",e.groupsSizeField="height",e.groupAxis="x",e.groupsAxis="y"):(e.sizeField="height",e.groupsSizeField="width",e.groupAxis="y",e.groupsAxis="x"),t.reverse?(this.forEach=Qb,this.justifyAlign=Yb):(this.forEach=Zb,this.justifyAlign=Kb)},e.prototype.reflow=function(){if(this._rect&&0!==this.children.length){this._initMap(),this.options.transform&&this.transform(null);for(var t,e,r,n=this.options,i=this._rect,o=this._initGroups(),s=o.groups,a=o.groupsSize,l=this._fieldMap,c=l.sizeField,h=l.groupsSizeField,u=l.groupAxis,p=l.groupsAxis,d=new gc,f=new gc,g=new yc,m=Kb(a,i,n.alignContent,p,h),y=function(i,o){var s=e.elements[o];f[u]=t,f[p]=Kb(i.size[h],r,n.alignItems,p,h),function(t,e,r){var n=r.transform()||Ic(),i=n.matrix();i.e+=t.x-e.origin.x,i.f+=t.y-e.origin.y,n.matrix(i),r.transform(n)}(f,i,s),t+=i.size[c]+n.spacing},v=0;v<s.length;v++)e=s[v],d[u]=t=this.justifyAlign(e.size,i,n.justifyContent,u,c),d[p]=m,g[c]=e.size,g[h]=e.lineSize,r=new bc(d,g),this.forEach(e.bboxes,y),m+=e.lineSize+n.lineSpacing;if(!n.wrap&&e.size>i.size[c]){var b=i.size[c]/r.size[c],w=r.topLeft().scale(b,b),x=Kb(r.size[h]*b,i,n.alignContent,p,h),S=Ic();"x"===u?S.translate(i.origin.x-w.x,x-w.y):S.translate(x-w.x,i.origin.y-w.y),S.scale(b,b),this.transform(S)}}},e.prototype._initGroups=function(){for(var t=this,e=this.options,r=this.children,n=e.lineSpacing,i=e.wrap,o=e.spacing,s=this._fieldMap.sizeField,a=this._newGroup(),l=[],c=function(){l.push(a),h+=a.lineSize+n},h=-n,u=0;u<r.length;u++){var p=r[u],d=r[u].clippedBBox();p.visible()&&d&&(i&&a.size+d.size[s]+o>t._rect.size[s]?0===a.bboxes.length?(t._addToGroup(a,d,p),c(),a=t._newGroup()):(c(),a=t._newGroup(),t._addToGroup(a,d,p)):t._addToGroup(a,d,p))}return a.bboxes.length&&c(),{groups:l,groupsSize:h}},e.prototype._addToGroup=function(t,e,r){t.size+=e.size[this._fieldMap.sizeField]+this.options.spacing,t.lineSize=Math.max(e.size[this._fieldMap.groupsSizeField],t.lineSize),t.bboxes.push(e),t.elements.push(r)},e.prototype._newGroup=function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}},e}(zh);const ew=tw;var rw=function(t){function e(e,r){t.call(this,e),this.chartService=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.children,e=this.options,r=e.vertical;this.visual=new ew(null,{spacing:r?0:e.spacing,lineSpacing:r?e.spacing:0,orientation:r?"vertical":"horizontal",reverse:e.rtl,alignItems:r?"start":"center"});for(var n=0;n<t.length;n++){var i=t[n];i.reflow(new Sc),i.renderVisual()}},e.prototype.reflow=function(t){this.visual.rect(t.toRect()),this.visual.reflow();var e=this.visual.clippedBBox();this.box=e?Tu(e):new Sc},e.prototype.renderVisual=function(){this.addVisual()},e.prototype.createVisual=function(){},e}(Zh);const nw=rw;var iw=function(t){function e(e){t.call(this,e),this.createContainer(),e.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createContainer=function(){this.container=new xu({vertical:!1,wrap:!1,align:as,spacing:this.options.spacing}),this.append(this.container)},e.prototype.createMarker=function(){this.container.append(new ru(this.markerOptions()))},e.prototype.markerOptions=function(){var t=this.options,e=t.markerColor;return Hs({},t.markers,{background:e,border:{color:e}})},e.prototype.createLabel=function(){var t=this.options,e=Hs({},t.labels);this.container.append(new Eu(t.text,e))},e.prototype.renderComplete=function(){t.prototype.renderComplete.call(this);var e=this.options.cursor||{},r=this._itemOverlay=Th.fromRect(this.container.box.toRect(),{fill:{color:Ts,opacity:0},stroke:null,cursor:e.style||e});this.appendVisual(r)},e.prototype.click=function(t,e){var r=this.eventArgs(e);!t.trigger("legendItemClick",r)&&e&&"contextmenu"===e.type&&e.preventDefault()},e.prototype.over=function(t,e){var r=this.eventArgs(e);return t.trigger("legendItemHover",r)||t._legendItemHover(r.seriesIndex,r.pointIndex),!0},e.prototype.out=function(t,e){t._unsetActivePoint(),t.trigger("legendItemLeave",this.eventArgs(e))},e.prototype.eventArgs=function(t){var e=this.options;return{element:bl(t),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}},e.prototype.renderVisual=function(){var e=this,r=this.options,n=r.visual;n?(this.visual=n({active:r.active,series:r.series,sender:this.getSender(),pointIndex:r.pointIndex,options:{markers:this.markerOptions(),labels:r.labels},createVisual:function(){e.createVisual(),e.renderChildren(),e.renderComplete();var t=e.visual;return delete e.visual,t}}),this.addVisual()):t.prototype.renderVisual.call(this)},e}(tu);const ow=iw;var sw="horizontal",aw="custom",lw=function(t){function e(e,r){void 0===r&&(r={}),t.call(this,e),this.chartService=r,aa(this.options.position,[Cs,Ss,ss,ms,aw])||(this.options.position=Ss),this.createContainers(),this.createLegendTitle(e.title),this.createItems()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createContainers=function(){var t=this.options,e=t.position,r=t.align,n=e,i=as;e===aw?n=ms:aa(e,[Cs,ss])?(n="start"===r?ms:"end"===r?Ss:as,i=e):r&&("start"===r?i=Cs:"end"===r&&(i=ss)),this.container=new tu({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:i,align:n,zIndex:t.zIndex,shrinkToFit:!0}),this.hasTitle()?this.itemsContainer=new tu({vAlign:i,align:n,zIndex:t.zIndex,shrinkToFit:!0}):this.itemsContainer=this.container,this.append(this.container)},e.prototype.createItems=function(){var t=this.getService(),e=this.options,r=this.isVertical(),n=new nw({vertical:r,spacing:e.spacing,rtl:t.rtl},t),i=e.items;e.reverse&&(i=i.slice(0).reverse());for(var o=i.length,s=0;s<o;s++){var a=i[s];n.append(new ow(Hs({},{markers:e.markers,labels:e.labels,rtl:t.rtl},e.item,a)))}n.render(),this.itemsContainer.append(n)},e.prototype.isVertical=function(){var t=this.options,e=t.orientation,r=t.position;return r===aw&&e!==sw||(fl(e)?e!==sw:aa(r,[ms,Ss]))},e.prototype.hasItems=function(){return this.container.children[0].children.length>0},e.prototype.reflow=function(t){var e=this.options,r=t.clone();this.hasItems()?(e.position===aw?(this.containerCustomReflow(r),this.box=r):this.containerReflow(r),this.hasTitle()&&this.title.reflow(new Sc(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))):this.box=r},e.prototype.containerReflow=function(t){var e=this.options,r=this.container,n=e.position,i=e.width,o=e.height,s=n===Cs||n===ss?Ms:Es,a=this.isVertical(),l=t.clone(),c=t.clone();n!==ms&&n!==Ss||(c.y1=l.y1=0),a&&o?(c.y2=c.y1+o,c.align(l,Es,r.options.vAlign)):!a&&i&&(c.x2=c.x1+i,c.align(l,Ms,r.options.align)),r.reflow(c);var h=(c=r.box).clone();(e.offsetX||e.offsetY)&&(c.translate(e.offsetX,e.offsetY),r.reflow(c)),h[s+1]=t[s+1],h[s+2]=t[s+2],this.box=h},e.prototype.containerCustomReflow=function(t){var e=this.options,r=this.container,n=e.offsetX,i=e.offsetY,o=e.width,s=e.height,a=this.isVertical(),l=t.clone();a&&s?l.y2=l.y1+s:!a&&o&&(l.x2=l.x1+o),r.reflow(l),l=r.box,r.reflow(new Sc(n,i,n+l.width(),i+l.height()))},e.prototype.renderVisual=function(){this.hasItems()&&t.prototype.renderVisual.call(this)},e.prototype.createLegendTitle=function(t){var e=Hs({},{color:is,position:Cs,align:as},t),r=e.text;if(t&&!1!==t.visible){if(fl(e)&&e.visible){var n=Qs(e);n?r=n({text:r}):e.format&&(r=this.chartService.format.auto(e.format,r))}this.title=new Eu(r,e),this.createTitleLayout(),this.appendTitleLayoutContent()}},e.prototype.createTitleLayout=function(){this.layout=new xu({vertical:!0,wrap:!1}),this.container.append(this.layout)},e.prototype.hasTitle=function(){return Boolean(this.options.title&&!1!==this.options.title.visible)},e.prototype.appendTitleLayoutContent=function(){this.options.title.position===ss?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))},e}(Zh);El(lw,{position:Ss,items:[],offsetX:0,offsetY:0,margin:Ks(5),padding:Ks(5),border:{color:is,width:0},item:{cursor:"pointer",spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:ms,vAlign:as}});const cw=lw;var hw=function(t){function e(){t.call(this),this._registry=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e){this._registry.push({type:t,seriesTypes:e})},e.prototype.create=function(t,e,r){for(var n,i=this._registry,o=i[0],s=0;s<i.length;s++){var a=i[s];if((n=jm(t,a.seriesTypes)).length>0){o=a;break}}return new o.type(n,e,r)},e}(va);hw.current=new hw;const uw=hw;function pw(t){var e=document.createElement("div");return t&&(e.className=t),e}function dw(t){for(var e=t;e&&!ia(e,"k-handle");)e=e.parentNode;return e}var fw=function(t){function e(e,r,n,i){t.call(this);var o=e.element;this.options=Hs({},this.options,n),this.chart=e,this.observer=i,this.chartElement=o,this.categoryAxis=r,this._dateAxis=this.categoryAxis instanceof Wp,this.initOptions(),this.visible=this.options.visible&&o.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onPane=function(t){return this.categoryAxis.pane===t},e.prototype.createElements=function(){var t=this.options,e=this.wrapper=pw("k-selector");Gs(e,{top:t.offset.top,left:t.offset.left,width:t.width,height:t.height,direction:"ltr"});var r=this.selection=pw("k-selection");this.leftMask=pw("k-mask"),this.rightMask=pw("k-mask"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(r),r.appendChild(pw("k-selection-bg"));var n=this.leftHandle=pw("k-handle k-left-handle"),i=this.rightHandle=pw("k-handle k-right-handle");n.appendChild(pw()),i.appendChild(pw()),r.appendChild(n),r.appendChild(i),this.chartElement.appendChild(e);var o=Gs(r,["borderLeftWidth","borderRightWidth","height"]),s=Gs(n,"height").height,a=Gs(i,"height").height;t.selection={border:{left:o.borderLeftWidth,right:o.borderRightWidth}},Gs(n,{top:(o.height-s)/2}),Gs(i,{top:(o.height-a)/2}),e.style.cssText=e.style.cssText},e.prototype.bindEvents=function(){var t;!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),dl(this.wrapper,((t={})[Yf]=this._mousewheelHandler,t))),this._domEvents=Yu.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})},e.prototype.initOptions=function(){var t=this.options,e=this.categoryAxis.pane.chartsBox(),r=this.chart.chartService.intl;this._dateAxis&&Hs(t,{min:Pp(r,t.min),max:Pp(r,t.max),from:Pp(r,t.from),to:Pp(r,t.to)});var n=Gs(this.chartElement,["paddingLeft","paddingTop"]),i=n.paddingLeft,o=n.paddingTop;this.options=Hs({},{width:e.width(),height:e.height()+.1,padding:{left:i,top:o},offset:{left:e.x1+i,top:e.y1+o},from:t.min,to:t.max},t)},e.prototype.destroy=function(){var t;this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(_l(this.wrapper,((t={})[Yf]=this._mousewheelHandler,t)),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)},e.prototype._rangeEventArgs=function(t){return{axis:this.categoryAxis.options,from:this._value(t.from),to:this._value(t.to)}},e.prototype._start=function(t){var e=this.options,r=bl(t);if(!this._state&&r){this.chart._unsetActivePoint(),this._state={moveTarget:dw(r)||r,startLocation:t.x?t.x.location:0,range:{from:this._index(e.from),to:this._index(e.to)}};var n=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger(Uf,n)&&(this._state=null)}},e.prototype._press=function(t){var e;(e=this._state?this._state.moveTarget:dw(bl(t)))&&Is(e,"k-handle-active")},e.prototype._move=function(t){if(this._state){var e=this,r=e._state,n=e.options,i=e.categoryAxis,o=r.range,s=r.moveTarget,a=i.options.reverse,l=this._index(n.from),c=this._index(n.to),h=this._index(n.min),u=this._index(n.max),p=r.startLocation-t.x.location,d=o.from,f=o.to,g=o.to-o.from,m=Gs(this.wrapper,"width").width/(i.categoriesCount()-1),y=Math.round(p/m)*(a?-1:1);if(s){var v=ia(s,"k-left-handle"),b=ia(s,"k-right-handle");ia(s,"k-selection k-selection-bg")?(o.from=Math.min(Math.max(h,l-y),u-g),o.to=Math.min(o.from+g,u)):v&&!a||b&&a?(o.from=Math.min(Math.max(h,l-y),u-1),o.to=Math.max(o.from+1,o.to)):(v&&a||b&&!a)&&(o.to=Math.min(Math.max(h+1,c-y),u),o.from=Math.min(o.to-1,o.from)),o.from===d&&o.to===f||(this.move(o.from,o.to),this.trigger($f,this._rangeEventArgs(o)))}}},e.prototype._end=function(){if(this._state){var t=this._state.moveTarget;t&&(n="k-handle-active",(r=t)&&r.className&&(r.className=r.className.replace(n,"").replace(Fs," ")));var e=this._state.range;this.set(e.from,e.to),this.trigger(Hf,this._rangeEventArgs(e)),delete this._state}var r,n},e.prototype._tap=function(t){var e=this.options,r=this.categoryAxis,n=this.chart._eventCoordinates(t),i=r.pointCategoryIndex(new ac(n.x,r.box.y1)),o=this._index(e.from),s=this._index(e.to),a=this._index(e.min),l=this._index(e.max),c=s-o,h=o+c/2,u={},p=3===t.event.which,d=Math.round(h-i);this._state||p||(this.chart._unsetActivePoint(),r.options.justified||d--,u.from=Math.min(Math.max(a,o-d),l-c),u.to=Math.min(u.from+c,l),this._start(t),this._state&&(this._state.range=u,this.trigger($f,this._rangeEventArgs(u)),this._end()))},e.prototype._mousewheel=function(t){var e=this,r=ya(t);if(this._start({target:this.selection}),this._state){var n=this._state.range;t.preventDefault(),t.stopPropagation(),Math.abs(r)>1&&(r*=3),this.options.mousewheel.reverse&&(r*=-1),this.expand(r)&&this.trigger($f,{axis:this.categoryAxis.options,delta:r,originalEvent:t,from:this._value(n.from),to:this._value(n.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){e._end()}),150)}},e.prototype._gesturestart=function(t){var e=this.options;this._state={range:{from:this._index(e.from),to:this._index(e.to)}};var r=this._rangeEventArgs(this._state.range);this.trigger(Uf,r)?this._state=null:t.preventDefault()},e.prototype._gestureend=function(){this._state&&(this.trigger(Hf,this._rangeEventArgs(this._state.range)),delete this._state)},e.prototype._gesturechange=function(t){var e=this,r=e.chart,n=e._state,i=e.options,o=e.categoryAxis,s=n.range,a=r._toModelCoordinates(t.touches[0].x.location).x,l=r._toModelCoordinates(t.touches[1].x.location).x,c=Math.min(a,l),h=Math.max(a,l);t.preventDefault(),s.from=o.pointCategoryIndex(new ac(c))||i.min,s.to=o.pointCategoryIndex(new ac(h))||i.max,this.move(s.from,s.to),this.trigger($f,this._rangeEventArgs(s))},e.prototype._index=function(t){var e=t;return t instanceof Date&&(e=this.categoryAxis.categoryIndex(t)),e},e.prototype._value=function(t){var e=t;return this._dateAxis&&(e=this.categoryAxis.categoryAt(t))>this.options.max&&(e=this.options.max),e},e.prototype._slot=function(t){var e=this.categoryAxis,r=this._index(t);return e.getSlot(r,r,!0)},e.prototype.move=function(t,e){var r=this.options,n=this.categoryAxis.options.reverse,i=r.offset,o=r.padding,s=r.selection.border,a=n?e:t,l=n?t:e,c="x"+(n?2:1),h=this._slot(a),u=Cl(h[c]-i.left+o.left);Gs(this.leftMask,{width:u}),Gs(this.selection,{left:u}),h=this._slot(l);var p=Cl(r.width-(h[c]-i.left+o.left));Gs(this.rightMask,{width:p});var d=r.width-p;d!==r.width&&(d+=s.right),Gs(this.rightMask,{left:d}),Gs(this.selection,{width:Math.max(r.width-(u+p)-s.right,0)})},e.prototype.set=function(t,e){var r=this.options,n=this._index(r.min),i=this._index(r.max),o=Sl(this._index(t),n,i),s=Sl(this._index(e),o+1,i);r.visible&&this.move(o,s),r.from=this._value(o),r.to=this._value(s)},e.prototype.expand=function(t){var e=this.options,r=this._index(e.min),n=this._index(e.max),i=e.mousewheel.zoom,o=this._index(e.from),s=this._index(e.to),a={from:o,to:s},l=Hs({},a);if(this._state&&(a=this._state.range),i!==Ss&&(a.from=Sl(Sl(o-t,0,s-1),r,n)),i!==ms&&(a.to=Sl(Sl(s+t,a.from+1,n),r,n)),a.from!==l.from||a.to!==l.to)return this.set(a.from,a.to),!0},e.prototype.zoom=function(t,e){var r=this.options,n=this._index(r.min),i=this._index(r.max),o=this._index(r.from),s=this._index(r.to),a={from:o,to:s},l=Hs({},a),c=this.categoryAxis.options.reverse,h=Ms+(c?"2":"1"),u=this.categoryAxis.lineBox(),p=Math.abs(u[h]-e.x),d=u.width(),f=Cl(p/d,2),g=Cl(f*t),m=Cl((1-f)*t);if(this._state&&(a=this._state.range),a.from=Sl(Sl(o-g,0,s-1),n,i),a.to=Sl(Sl(s+m,a.from+1,i),n,i),a.from!==l.from||a.to!==l.to)return this.set(a.from,a.to),!0},e.prototype.trigger=function(t,e){return(this.observer||this.chart).trigger(t,e)},e}(va);El(fw,{visible:!0,mousewheel:{zoom:"both"},min:vs,max:ys});const gw=fw;var mw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.show=function(e){if(e&&e.tooltipAnchor&&(!this._current||this._current!==e)){var r=Hs({},this.options,e.options.tooltip),n=e.tooltipAnchor();n?(this._current=e,t.prototype.show.call(this,{point:e,anchor:n},r,e)):this.hide()}},e.prototype.hide=function(){delete this._current,t.prototype.hide.call(this)},e}(Cm);const yw=mw;var vw=function(t){function e(e,r){t.call(this,e.chartService,r),this.plotArea=e,this.formatService=e.chartService.format}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.showAt=function(t,e){var r=na(t,(function(t){var e=t.series.tooltip;return!(e&&!1===e.visible)}));if(r.length>0){var n=r[0],i=this.plotArea.categoryAxis.getSlot(n.categoryIx),o=e?this._slotAnchor(e,i):this._defaultAnchor(n,i);this.show({anchor:o,shared:!0,points:t,category:n.category,categoryText:this.formatService.auto(this.options.categoryFormat,n.category),series:this.plotArea.series},this.options)}},e.prototype._slotAnchor=function(t,e){return this.plotArea.categoryAxis.options.vertical||(t.x=e.center().x),{point:t,align:{horizontal:"left",vertical:"center"}}},e.prototype._defaultAnchor=function(t,e){var r=t.owner.pane.chartsBox(),n=this.plotArea.categoryAxis.options.vertical,i=r.center(),o=e.center();return{point:n?new ac(i.x,o.y):new ac(o.x,i.y),align:{horizontal:"center",vertical:"center"}}},e}(Cm);El(vw,{categoryFormat:"{0:d}"});const bw=vw;var ww=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.element,e=this.options;if(t.bbox()){this.origin=e.origin;var r=e.vertical?Es:Ms,n=this.fromScale=new gc(1,1);n[r]=Vd,t.transform(Ic().scale(n.x,n.y))}else this.abort()},e.prototype.step=function(t){var e=ca(this.fromScale.x,1,t),r=ca(this.fromScale.y,1,t);this.element.transform(Ic().scale(e,r,this.origin))},e.prototype.abort=function(){t.prototype.abort.call(this),this.element.transform(null)},e}(Yh);El(ww,{duration:Ud}),Gh.current.register(tf,ww);var xw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.center=this.element.bbox().center();this.element.transform(Ic().scale(Vd,Vd,t))},e.prototype.step=function(t){this.element.transform(Ic().scale(t,t,this.center))},e}(Yh);El(xw,{easing:"easeOutElastic"}),Gh.current.register(rf,xw);var Sw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},e.prototype.step=function(t){this.element.opacity(t*this.fadeTo)},e}(Yh);El(Sw,{duration:200,easing:"linear"}),Gh.current.register($d,Sw);var kw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this.element.transform(Ic().scale(Vd,Vd,this.options.center))},e.prototype.step=function(t){this.element.transform(Ic().scale(t,t,this.options.center))},e}(Yh);El(kw,{easing:"easeOutElastic",duration:Ud}),Gh.current.register(df,kw);var Aw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.renderSegments()},e.prototype.createSegment=function(t,e,r){return new(e.style===Jd?bg:pg)(t,e,r)},e.prototype.animationPoints=function(){return t.prototype.animationPoints.call(this).concat(this._segments)},e.prototype.createMissingValue=function(t,e){if(e===Xd){var r={x:t.x,y:t.y};return um(r.x)||(r.x=0),um(r.y)||(r.y=0),r}},e}(dm);Hs(Aw.prototype,xg);const Cw=Aw;var _w=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new Bg,this.yAxisRangeTracker=new Bg},e.prototype.render=function(t){var e=this;void 0===t&&(t=this.panes);for(var r=this.groupSeriesByPane(),n=0;n<t.length;n++){var i=t[n],o=r[i.options.name||"default"]||[];e.addToLegend(o);var s=e.filterVisibleSeries(o);s&&(e.createScatterChart(jm(s,kf),i),e.createScatterLineChart(jm(s,Af),i),e.createBubbleChart(jm(s,rf),i))}this.createAxes(t)},e.prototype.appendChart=function(e,r){this.xAxisRangeTracker.update(e.xAxisRanges),this.yAxisRangeTracker.update(e.yAxisRanges),t.prototype.appendChart.call(this,e,r)},e.prototype.removeAxis=function(e){var r=e.options.name;t.prototype.removeAxis.call(this,e),e.options.vertical?(this.yAxisRangeTracker.reset(r),delete this.namedYAxes[r]):(this.xAxisRangeTracker.reset(r),delete this.namedXAxes[r]),e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY},e.prototype.seriesPaneName=function(t){var e=this.options,r=t.xAxis,n=na([].concat(e.xAxis),(function(t){return t.name===r}))[0],i=t.yAxis,o=na([].concat(e.yAxis),(function(t){return t.name===i}))[0],s=(e.panes||[{}])[0].name||"default";return(n||{}).pane||(o||{}).pane||s},e.prototype.createScatterChart=function(t,e){t.length>0&&this.appendChart(new dm(this,{series:t,clip:e.options.clip}),e)},e.prototype.createScatterLineChart=function(t,e){t.length>0&&this.appendChart(new Cw(this,{series:t,clip:e.options.clip}),e)},e.prototype.createBubbleChart=function(t,e){t.length>0&&this.appendChart(new ym(this,{series:t,clip:e.options.clip}),e)},e.prototype.createXYAxis=function(t,e,r){for(var n,i=t.name,o=e?this.namedYAxes:this.namedXAxes,s=e?this.yAxisRangeTracker:this.xAxisRangeTracker,a=Hs({reverse:!e&&this.chartService.rtl},t,{vertical:e}),l=Bm(a.type,Wf),c=s.query(),h=l?{min:.1,max:1}:{min:0,max:1},u=s.query(i)||c||h,p=[a.min,a.max],d=this.series,f=0;f<d.length;f++){var g=d[f],m=g[e?"yAxis":"xAxis"];if(m===a.name||0===r&&!m){var y=Rd.current.bindPoint(g,0).valueFields;p.push(y[e?"y":"x"]);break}}0===r&&c&&(u.min=Math.min(u.min,c.min),u.max=Math.max(u.max,c.max));for(var v=0;v<p.length;v++)if(p[v]instanceof Date){n=!0;break}var b=new(Bm(a.type,hs)||!a.type&&n?ed:l?sd:Qp)(u.min,u.max,a,this.chartService);if(b.axisIndex=r,i){if(o[i])throw new Error((e?"Y":"X")+" axis with name "+i+" is already defined");o[i]=b}return this.appendAxis(b),b},e.prototype.createAxes=function(t){for(var e=this,r=this.options,n=[].concat(r.xAxis),i=[],o=[].concat(r.yAxis),s=[],a=0;a<n.length;a++){aa(e.findPane(n[a].pane),t)&&i.push(e.createXYAxis(n[a],!1,a))}for(var l=0;l<o.length;l++){aa(e.findPane(o[l].pane),t)&&s.push(e.createXYAxis(o[l],!0,l))}this.axisX=this.axisX||i[0],this.axisY=this.axisY||s[0]},e.prototype._dispatchEvent=function(t,e,r){for(var n=t._eventCoordinates(e),i=new ac(n.x,n.y),o=this.axes,s=o.length,a=[],l=[],c=0;c<s;c++){var h=o[c],u=h.options.vertical?l:a,p=h.getValue(i);null!==p&&u.push(p)}a.length>0&&l.length>0&&t.trigger(r,{element:bl(e),originalEvent:e,x:$m(a),y:$m(l)})},e.prototype.updateAxisOptions=function(t,e){var r=t.options.vertical,n=this.groupAxes(this.panes),i=(r?n.y:n.x).indexOf(t);Tw(this.options,i,r,e),Tw(this.originalOptions,i,r,e)},e}(Zm);function Tw(t,e,r,n){Hs([].concat(r?t.yAxis:t.xAxis)[e],n)}El(_w,{xAxis:{},yAxis:{}}),Hs(_w.prototype,ty);const Ow=_w;var Mw=function(t){function e(e,r,n){t.call(this,n),this.value=e,this.sector=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options.labels,e=this.owner.chartService,r=this.value;if(!this._rendered&&!1!==this.visible){this._rendered=!0;var n=Qs(t),i=this.pointData();if(n?r=n(i):t.format&&(r=e.format.auto(t.format,r)),t.visible&&(r||0===r)){if(t.position===as||t.position===Gf)t.color||(t.color=Yl(this.options.color)),t.background||(t.background=this.options.color);else{var o=e.theme.seriesDefaults.labels;t.color=t.color||o.color,t.background=t.background||o.background}this.label=new Eu(r,Hs({},t,{align:as,vAlign:"",animation:{type:$d,delay:this.animationDelay}}),i),this.append(this.label)}}},e.prototype.reflow=function(t){this.render(),this.box=t,this.reflowLabel()},e.prototype.reflowLabel=function(){var t=this.options.labels,e=this.label,r=this.sector.clone(),n=t.distance,i=r.middle();if(e){var o,s=e.box.height(),a=e.box.width();if(t.position===as)r.radius=Math.abs((r.radius-s)/2)+s,o=r.point(i),e.reflow(new Sc(o.x,o.y-s/2,o.x,o.y));else if(t.position===Gf)r.radius=r.radius-s/2,o=r.point(i),e.reflow(new Sc(o.x,o.y-s/2,o.x,o.y));else{var l;(o=r.clone().expand(n).point(i)).x>=r.center.x?(l=o.x+a,e.orientation=Ss):(l=o.x-a,e.orientation=ms),e.reflow(new Sc(l,o.y-s,o.x,o.y))}}},e.prototype.createVisual=function(){var e=this,r=this.sector,n=this.options;if(t.prototype.createVisual.call(this),this.value)if(n.visual){var i=(r.startAngle+180)%360,o=n.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new gc(r.center.x,r.center.y),radius:r.radius,innerRadius:r.innerRadius,startAngle:i,endAngle:i+r.angle,options:n,sender:this.getSender(),createVisual:function(){var t=new zh;return e.createSegmentVisual(t),t}});o&&this.visual.append(o)}else this.createSegmentVisual(this.visual)},e.prototype.createSegmentVisual=function(t){var e=this.sector,r=this.options,n=r.border||{},i=n.width>0?{stroke:{color:n.color,width:n.width,opacity:n.opacity,dashType:n.dashType}}:{},o=r.color,s={color:o,opacity:r.opacity},a=this.createSegment(e,Hs({fill:s,stroke:{opacity:r.opacity},zIndex:r.zIndex},i));t.append(a),Ug(r)&&t.append(this.createGradientOverlay(a,{baseColor:o,fallbackFill:s},Hs({center:[e.center.x,e.center.y],innerRadius:e.innerRadius,radius:e.radius,userSpace:!0},r.overlay)))},e.prototype.createSegment=function(t,e){return e.singleSegment?new Nh(new Fh(new gc(t.center.x,t.center.y),t.radius),e):Eh.current.createRing(t,e)},e.prototype.createAnimation=function(){var e=this.options,r=this.sector.center;Hs(e,{animation:{center:[r.x,r.y],delay:this.animationDelay}}),t.prototype.createAnimation.call(this)},e.prototype.createHighlight=function(t){var e=this.options.highlight||{},r=e.border||{};return this.createSegment(this.sector,Hs({},t,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:r.opacity,width:r.width,color:r.color}}))},e.prototype.highlightVisual=function(){return this.visual.children[0]},e.prototype.highlightVisualArgs=function(){var t=this.sector;return{options:this.options,radius:t.radius,innerRadius:t.innerRadius,center:new gc(t.center.x,t.center.y),startAngle:t.startAngle,endAngle:t.angle+t.startAngle,visual:this.visual}},e.prototype.tooltipAnchor=function(){var t=this.sector.clone().expand(5),e=t.middle();return{point:t.point(e),align:Iw(e+180)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}},e}(Zh),Ew=Cl(Al(30),ps),Pw=Cl(Al(60),ps);function Iw(t){var e=Al(t),r=Cl(Math.sin(e),ps),n=Cl(Math.cos(e),ps);return{horizontal:Math.abs(r)>Pw?as:n<0?Ss:ms,vertical:Math.abs(r)<Ew?as:r<0?ss:Cs}}El(Mw,{color:Ts,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:us,margin:Ks(.5),align:ls,zIndex:1,position:Kf},animation:{type:df},highlight:{visible:!0,border:{width:1}},visible:!0}),Hs(Mw.prototype,sg);const Fw=Mw;var Dw={createLegendItem:function(t,e,r){var n=this.options.legend||{},i=n.labels||{},o=n.inactiveItems||{},s=o.labels||{};if(r&&!1!==r.visibleInLegend){var a,l,c=!1!==r.visible,h=c?Qs(i):Qs(s)||Qs(i),u=r.category;h&&(u=h({text:u,series:r.series,dataItem:r.dataItem,percentage:r.percentage,value:t})),c?(a={},l=e.color):(a={color:s.color,font:s.font},l=(o.markers||{}).color),um(u)&&""!==u&&this.legendItems.push({active:c,pointIndex:r.index,text:u,series:r.series,markerColor:l,labels:a})}}};const Rw=Dw;var Lw=function(t){function e(e,r){t.call(this,r),this.plotArea=e,this.chartService=e.chartService,this.points=[],this.legendItems=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.traverseDataPoints=function(t){var e=this.options,r=this.plotArea.options.seriesColors;void 0===r&&(r=[]);for(var n=r.length,i=e.series,o=i.length,s=0;s<o;s++){var a=i[s],l=a.data,c=Nm(a),h=c.total,u=c.points,p=c.count,d=360/h,f=void 0;isFinite(d)||(f=360/p);var g=void 0;g=fl(a.startAngle)?a.startAngle:e.startAngle,s!==o-1&&a.labels.position===Kf&&(a.labels.position=as);for(var m=0;m<u.length;m++){var y=u[m];if(y){var v=y.fields,b=y.value,w=y.visible,x=0!==b?f||b*d:0,S=1!==l.length&&Boolean(v.explode);zs(a.color)||(a.color=v.color||r[m%n]),t(y.valueFields.value,new Cc(null,0,0,g,x),{owner:this,category:fl(v.category)?v.category:"",index:m,series:a,seriesIx:s,dataItem:l[m],percentage:0!==h?b/h:0,explode:S,visibleInLegend:v.visibleInLegend,visible:w,zIndex:o-s,animationDelay:this.animationDelay(m,s,o)}),!1!==w&&(g+=x)}}}},e.prototype.evalSegmentOptions=function(t,e,r){var n=r.series;eg(t,{value:e,series:n,dataItem:r.dataItem,category:r.category,percentage:r.percentage},{defaults:n._defaults,excluded:["data","content","template","visual","toggle"]})},e.prototype.addValue=function(t,e,r){var n=Hs({},r.series,{index:r.index});if(this.evalSegmentOptions(n,t,r),this.createLegendItem(t,n,r),!1!==r.visible){var i=new Fw(t,e,n);Object.assign(i,r),this.append(i),this.points.push(i)}},e.prototype.reflow=function(t){var e=this,r=e.options,n=e.points,i=e.seriesConfigs;void 0===i&&(i=[]);var o=n.length,s=t.clone(),a=Math.min(s.width(),s.height()),l=a/2,c=a-.85*a,h=new Sc(s.x1,s.y1,s.x1+a,s.y1+a),u=h.center(),p=s.center(),d=r.series.length,f=[],g=[],m=Tl(r.padding,c);this.targetBox=t,m=m>l-5?l-5:m,h.translate(p.x-u.x,p.y-u.y);for(var y=l-m,v=new ac(y+h.x1+m,y+h.y1+m),b=0;b<o;b++){var w=n[b],x=w.sector,S=w.seriesIx;if(x.radius=y,x.center=v,i.length){var k=i[S];x.innerRadius=k.innerRadius,x.radius=k.radius}S===d-1&&w.explode&&(x.center=x.clone().setRadius(.15*x.radius).point(x.middle())),w.reflow(h);var A=w.label;A&&A.options.position===Kf&&S===d-1&&(A.orientation===Ss?g.push(A):f.push(A))}f.length>0&&(f.sort(this.labelComparator(!0)),this.leftLabelsReflow(f)),g.length>0&&(g.sort(this.labelComparator(!1)),this.rightLabelsReflow(g)),this.box=h},e.prototype.leftLabelsReflow=function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},e.prototype.rightLabelsReflow=function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},e.prototype.distanceBetweenLabels=function(t){var e=xl(this.points),r=e.sector,n=t.length-1,i=r.radius+e.options.labels.distance,o=[],s=t[0].box,a=Cl(s.y1-(r.center.y-i-s.height()-s.height()/2));o.push(a);for(var l=0;l<n;l++){var c=t[l+1].box;s=t[l].box,a=Cl(c.y1-s.y2),o.push(a)}return a=Cl(r.center.y+i-t[n].box.y2-t[n].box.height()/2),o.push(a),o},e.prototype.distributeLabels=function(t,e){for(var r,n,i,o=t.length,s=0;s<o;s++)for(i=-t[s],r=n=s;i>0&&(r>=0||n<o);)i=this._takeDistance(t,s,--r,i),i=this._takeDistance(t,s,++n,i);this.reflowLabels(t,e)},e.prototype._takeDistance=function(t,e,r,n){var i=n;if(t[r]>0){var o=Math.min(t[r],i);i-=o,t[r]-=o,t[e]+=o}return i},e.prototype.reflowLabels=function(t,e){var r,n=xl(this.points),i=n.sector,o=n.options.labels,s=e.length,a=o.distance,l=i.center.y-(i.radius+a)-e[0].box.height();t[0]+=2;for(var c=0;c<s;c++){var h=e[c],u=h.box;l+=t[c],r=this.hAlignLabel(u.x2,i.clone().expand(a),l,l+u.height(),h.orientation===Ss),h.orientation===Ss?(o.align!==ls&&(r=i.radius+i.center.x+a),h.reflow(new Sc(r+u.width(),l,r,l))):(o.align!==ls&&(r=i.center.x-i.radius-a),h.reflow(new Sc(r-u.width(),l,r,l))),l+=u.height()}},e.prototype.createVisual=function(){var e=this,r=this.options.connectors,n=this.points,i=n.length;t.prototype.createVisual.call(this),this._connectorLines=[];for(var o=0;o<i;o++){var s=n[o],a=s.sector,l=s.label,c=a.middle(),h=(s.options.connectors||{}).color||r.color;if(l){var u=new Th({stroke:{color:h,width:r.width},animation:{type:$d,delay:s.animationDelay}});if(l.options.position===Kf){var p=l.box,d=a.center,f=a.point(c),g=new ac(p.x1,p.center().y),m=void 0,y=void 0,v=void 0;f=a.clone().expand(r.padding).point(c),u.moveTo(f.x,f.y),l.orientation===Ss?(v=Nw(d,f,g,y=new ac(p.x1-r.padding,p.center().y)),g=new ac(y.x-4,y.y),(v=v||g).x=Math.min(v.x,g.x),e.pointInCircle(v,a.center,a.radius+4)||v.x<a.center.x?(m=a.center.x+a.radius+4,s.options.labels.align!==sf?m<g.x?u.lineTo(m,f.y):u.lineTo(f.x+8,f.y):u.lineTo(m,f.y),u.lineTo(g.x,y.y)):(v.y=y.y,u.lineTo(v.x,v.y))):(v=Nw(d,f,g,y=new ac(p.x2+r.padding,p.center().y)),g=new ac(y.x+4,y.y),(v=v||g).x=Math.max(v.x,g.x),e.pointInCircle(v,a.center,a.radius+4)||v.x>a.center.x?(m=a.center.x-a.radius-4,s.options.labels.align!==sf?m>g.x?u.lineTo(m,f.y):u.lineTo(f.x-8,f.y):u.lineTo(m,f.y),u.lineTo(g.x,y.y)):(v.y=y.y,u.lineTo(v.x,v.y))),u.lineTo(y.x,y.y),e._connectorLines.push(u),e.visual.append(u)}}}},e.prototype.renderVisual=function(){if(t.prototype.renderVisual.call(this),Il(this.options.series,(function(t){return t.autoFit}))){var e=this.targetBox,r=this.box.center(),n=this.visual.bbox();if(!n)return;var i=n.bottomRight(),o=Math.min((r.y-e.y1)/(r.y-n.origin.y),(e.y2-r.y)/(i.y-r.y),(r.x-e.x1)/(r.x-n.origin.x),(e.x2-r.x)/(i.x-r.x));o<1&&this.visual.transform(Ic().scale(o,o,[r.x,r.y]))}},e.prototype.labelComparator=function(t){var e=t?-1:1;return function(t,r){return((t.parent.sector.middle()+270)%360-(r.parent.sector.middle()+270)%360)*e}},e.prototype.hAlignLabel=function(t,e,r,n,i){var o=e.radius,s=e.center,a=s.x,l=s.y,c=Math.min(Math.abs(l-r),Math.abs(l-n));return c>o?t:a+Math.sqrt(o*o-c*c)*(i?1:-1)},e.prototype.pointInCircle=function(t,e,r){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(r,2)},e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value)},e.prototype.animationDelay=function(t){return 70*t},e.prototype.stackRoot=function(){return this},e}(Zh);function Nw(t,e,r,n){var i,o=(n.x-r.x)*(t.y-r.y)-(n.y-r.y)*(t.x-r.x),s=(n.y-r.y)*(e.x-t.x)-(n.x-r.x)*(e.y-t.y);if(0!==s){var a=o/s;i=new ac(t.x+a*(e.x-t.x),t.y+a*(e.y-t.y))}return i}El(Lw,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),Hs(Lw.prototype,Rw),Lw.prototype.isStackRoot=!0;const Bw=Lw;var jw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createPieChart(this.series)},e.prototype.createPieChart=function(t){var e=t[0],r=new Bw(this,{series:t,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(r)},e.prototype.appendChart=function(e,r){t.prototype.appendChart.call(this,e,r),pl(this.options.legend.items,e.legendItems)},e}(Zm);const zw=jw;var Uw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowLabel=function(){var e=this.options.labels,r=this.label,n=this.sector.clone(),i=n.middle();if(r){var o=r.box.height();if(e.position===as){n.radius-=(n.radius-n.innerRadius)/2;var s=n.point(i);r.reflow(new Sc(s.x,s.y-o/2,s.x,s.y))}else t.prototype.reflowLabel.call(this)}},e.prototype.createSegment=function(t,e){return Eh.current.createRing(t,e)},e}(Fw);El(Uw,{overlay:{gradient:"roundedGlass"},labels:{position:as},animation:{type:df}}),Hs(Uw.prototype,sg);const $w=Uw;var Hw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addValue=function(t,e,r){var n=Hs({},r.series,{index:r.index});if(this.evalSegmentOptions(n,t,r),this.createLegendItem(t,n,r),t&&!1!==r.visible){var i=new $w(t,e,n);Object.assign(i,r),this.append(i),this.points.push(i)}},e.prototype.reflow=function(e){for(var r,n=this.options,i=e.clone(),o=Math.min(i.width(),i.height()),s=o/2,a=o-.85*o,l=n.series,c=l.length,h=Tl(n.padding,a),u=s-(h=h>s-5?s-5:h),p=0,d=0;d<c;d++){var f=l[d];0===d&&fl(f.holeSize)&&(r=f.holeSize,u-=f.holeSize),fl(f.size)?u-=f.size:p++,fl(f.margin)&&d!==c-1&&(u-=f.margin)}fl(r)||(u-=r=.75*((s-h)/(c+.75)));var g,m=r,y=0;this.seriesConfigs=[];for(var v=0;v<c;v++){var b=l[v];g=(m+=y)+Tl(b.size,u/p),this.seriesConfigs.push({innerRadius:m,radius:g}),y=b.margin||0,m=g}t.prototype.reflow.call(this,e)},e.prototype.animationDelay=function(t,e,r){return 50*t+Ud*(e+1)/(r+1)},e}(Bw);El(Hw,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});const Vw=Hw;var qw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createDonutChart(this.series)},e.prototype.createDonutChart=function(t){var e=t[0],r=new Vw(this,{series:t,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(r)},e}(zw);const Ww=qw;var Xw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.valueAxisRangeTracker=new Bg},e.prototype.render=function(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()},e.prototype.alignAxes=function(){var t=this.valueAxis,e=t.range(),r=t.options.reverse?e.max:e.min,n=t.getSlot(r),i=this.polarAxis.getSlot(0).center,o=t.box.translate(i.x-n.x1,i.y-n.y1);t.reflow(o)},e.prototype.createValueAxis=function(){var t,e,r=this.valueAxisRangeTracker,n=r.query(),i=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});i.type===Wf?(t=bd,e={min:.1,max:1}):(t=yd,e={min:0,max:1});var o=r.query(name)||n||e;o&&n&&(o.min=Math.min(o.min,n.min),o.max=Math.max(o.max,n.max));var s=new t(o.min,o.max,i,this.chartService);this.valueAxis=s,this.appendAxis(s)},e.prototype.reflowAxes=function(){var t=this,e=t.options.plotArea,r=t.valueAxis,n=t.polarAxis,i=t.box,o=.15*Math.min(i.width(),i.height()),s=Ks(e.padding||{},o),a=i.clone().unpad(s),l=a.clone();l.y2=l.y1+Math.min(l.width(),l.height()),l.align(a,Es,as);var c=l.clone().shrink(0,l.height()/2);n.reflow(l),r.reflow(c);var h=r.lineBox().height()-r.box.height();r.reflow(r.box.unpad({top:h})),this.axisBox=l,this.alignAxes(l)},e.prototype.backgroundBox=function(){return this.box},e.prototype.detachLabels=function(){},e}(Zm);const Gw=Xw;var Kw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointSlot=function(t,e){var r=t.center.y-e.y1,n=ac.onCircle(t.center,t.startAngle,r);return new Sc(n.x,n.y,n.x,n.y)},e}(dm);El(Kw,{clip:!1});const Yw=Kw;var Jw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Cw);Jw.prototype.pointSlot=Yw.prototype.pointSlot,El(Jw,{clip:!1});const Zw=Jw;var Qw=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(t){var e=this._polarAxisCenter();t.lineTo(e.x,e.y)},e.prototype._polarAxisCenter=function(){return this.parent.plotArea.polarAxis.box.center()},e.prototype.strokeSegments=function(){var t=this._strokeSegments;if(!t){var e=this._polarAxisCenter(),r=new Sd(!1),n=this.points();n.push(e),(t=this._strokeSegments=r.process(n)).pop()}return t},e}(Dg);const tx=Qw;var ex=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(t){var e=this.parent.plotArea.polarAxis.box.center(),r=new gh([e.x,e.y]);t.segments.unshift(r),t.segments.push(r)},e}(Eg);const rx=ex;var nx=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,r){return(e.line||{}).style===Jd?new tx(t,e,r):new rx(t,e,r)},e.prototype.createMissingValue=function(t,e){var r;return um(t.x)&&e!==Gd&&(r={x:t.x,y:t.y},e===Xd&&(r.y=0)),r},e.prototype.seriesMissingValues=function(t){return t.missingValues||Xd},e.prototype._hasMissingValuesGap=function(){for(var t=this.options.series,e=0;e<t.length;e++)if("gap"===this.seriesMissingValues(t[e]))return!0},e.prototype.sortPoints=function(t){if(t.sort(ix),this._hasMissingValuesGap())for(var e=0;e<t.length;e++){var r=t[e];if(r)um(r.value.y)||"gap"!==this.seriesMissingValues(r.series)||delete t[e]}return t},e}(Zw);function ix(t,e){return t.value.x-e.value.x}const ox=nx;var sx=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createPolarAxis=function(){var t=new pd(this.options.xAxis,this.chartService);this.polarAxis=t,this.axisX=t,this.appendAxis(t)},e.prototype.valueAxisOptions=function(t){return Hs(t,{majorGridLines:{type:ns},minorGridLines:{type:ns}},this.options.yAxis)},e.prototype.createValueAxis=function(){t.prototype.createValueAxis.call(this),this.axisY=this.valueAxis},e.prototype.appendChart=function(t,e){this.valueAxisRangeTracker.update(t.yAxisRanges),Zm.prototype.appendChart.call(this,t,e)},e.prototype.createCharts=function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart(jm(t,[gf]),e),this.createScatterChart(jm(t,[mf]),e),this.createAreaChart(jm(t,[ff]),e)},e.prototype.createLineChart=function(t,e){if(0!==t.length){var r=new Zw(this,{series:t});this.appendChart(r,e)}},e.prototype.createScatterChart=function(t,e){if(0!==t.length){var r=new Yw(this,{series:t});this.appendChart(r,e)}},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var r=new ox(this,{series:t});this.appendChart(r,e)}},e.prototype._dispatchEvent=function(t,e,r){var n=t._eventCoordinates(e),i=new ac(n.x,n.y),o=this.axisX.getValue(i),s=this.axisY.getValue(i);null!==o&&null!==s&&t.trigger(r,{element:bl(e),x:o,y:s})},e.prototype.createCrosshairs=function(){},e}(Gw);El(sx,{xAxis:{},yAxis:{}}),Hs(sx.prototype,ty);const ax=sx;var lx=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointSlot=function(t,e){var r=t.center.y-e.y1,n=ac.onCircle(t.center,t.middle(),r);return new Sc(n.x,n.y,n.x,n.y)},e.prototype.renderSegments=function(){if(t.prototype.renderSegments.call(this),this._segments&&this._segments.length>1)for(var e=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];e[n.seriesIx]=e[n.seriesIx]||[],e[n.seriesIx].push(n)}return e}(this._segments),r=0;r<e.length;r++){var n=e[r];if(n&&n.length>1){var i=n[0].linePoints[0],o=xl(n),s=xl(o.linePoints),a=0===i.categoryIx,l=s.categoryIx===s.categoriesCount-1;a&&l&&xl(n).linePoints.push(i)}}},e.prototype.createSegment=function(t,e,r){var n=new(e.style===Jd?bg:pg)(t,e,r),i=this.seriesMissingValues(e);return t.length!==e.data.length&&i!==Gd||(n.options.closed=!0),n},e}(Og);El(lx,{clip:!1,limitPoints:!1});const cx=lx;var hx=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(){},e}(Dg);const ux=hx;var px=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(){},e}(Eg);const dx=px;var fx=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,r,n){var i,o,s,a=this.options.isStacked,l=(e.line||{}).style;return a&&r>0&&n&&(o=n.linePoints.slice(0),i=n),l===Jd?(s=new ux(t,e,r,i,o)).options.closed=!0:(t.push(t[0]),s=new dx(t,e,r,i,o)),s},e.prototype.seriesMissingValues=function(t){return t.missingValues||Xd},e}(cx);const gx=fx;var mx=function(t){function e(e,r){t.call(this,e,null,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}($w);El(mx,{overlay:{gradient:"none"},labels:{distance:10}});const yx=mx;var vx=function(t){function e(e){t.call(this,e),this.forEach=e.rtl?qg:Vg}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,r=this.children,n=e.gap,i=e.spacing,o=r.length,s=o+n+i*(o-1),a=t.angle/s,l=t.startAngle+a*(n/2);this.forEach(r,(function(e){var r=t.clone();r.startAngle=l,r.angle=a,e.sector&&(r.radius=e.sector.radius),e.reflow(r),e.sector=r,l+=a+a*i}))},e}(Zh);El(vx,{gap:1,spacing:0});const bx=vx;var wx=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options.reverse,r=this.children,n=r.length,i=e?n-1:0,o=e?-1:1;this.box=new Sc;for(var s=i;s>=0&&s<n;s+=o){var a=r[s].sector;a.startAngle=t.startAngle,a.angle=t.angle}},e}(Zh);const xx=wx;var Sx=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return yx},e.prototype.clusterType=function(){return bx},e.prototype.stackType=function(){return xx},e.prototype.categorySlot=function(t,e){return t.getSlot(e)},e.prototype.pointSlot=function(t,e){var r=t.clone(),n=t.center.y;return r.radius=n-e.y1,r.innerRadius=n-e.y2,r},e.prototype.reflowPoint=function(t,e){t.sector=e,t.reflow()},e.prototype.createAnimation=function(){this.options.animation.center=this.box.toRect().center(),t.prototype.createAnimation.call(this)},e}(Jg);Sx.prototype.reflow=ig.prototype.reflow,El(Sx,{clip:!1,limitPoints:!1,animation:{type:"pie"}});const kx=Sx;var Ax=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createPolarAxis=function(){var t=new hd(this.options.categoryAxis,this.chartService);this.polarAxis=t,this.categoryAxis=t,this.appendAxis(t),this.aggregateCategories(),this.createCategoryAxesLabels()},e.prototype.valueAxisOptions=function(t){return this._hasBarCharts&&Hs(t,{majorGridLines:{type:ns},minorGridLines:{type:ns}}),this._isStacked100&&Hs(t,{roundToMajorUnit:!1,labels:{format:"P0"}}),Hs(t,this.options.valueAxis)},e.prototype.aggregateCategories=function(){Ly.prototype.aggregateCategories.call(this,this.panes)},e.prototype.createCategoryAxesLabels=function(){Ly.prototype.createCategoryAxesLabels.call(this,this.panes)},e.prototype.filterSeries=function(t){return t},e.prototype.createCharts=function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart(jm(t,[yf]),e),this.createLineChart(jm(t,[bf]),e),this.createBarChart(jm(t,[vf]),e)},e.prototype.chartOptions=function(t){var e={series:t},r=t[0];if(r){var n=this.filterVisibleSeries(t),i=r.stack;e.isStacked=i&&n.length>1,e.isStacked100=i&&"100%"===i.type&&n.length>1,e.isStacked100&&(this._isStacked100=!0)}return e},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var r=new gx(this,this.chartOptions(t));this.appendChart(r,e)}},e.prototype.createLineChart=function(t,e){if(0!==t.length){var r=new cx(this,this.chartOptions(t));this.appendChart(r,e)}},e.prototype.createBarChart=function(t,e){if(0!==t.length){var r=t[0],n=this.chartOptions(t);n.gap=r.gap,n.spacing=r.spacing;var i=new kx(this,n);this.appendChart(i,e),this._hasBarCharts=!0}},e.prototype.seriesCategoryAxis=function(){return this.categoryAxis},e.prototype._dispatchEvent=function(t,e,r){var n=t._eventCoordinates(e),i=new ac(n.x,n.y),o=this.categoryAxis.getCategory(i),s=this.valueAxis.getValue(i);null!==o&&null!==s&&t.trigger(r,{element:bl(e),category:o,value:s})},e.prototype.createCrosshairs=function(){},e}(Gw);Hs(Ax.prototype,ty,{appendChart:Ly.prototype.appendChart,aggregateSeries:Ly.prototype.aggregateSeries,seriesSourcePoints:Ly.prototype.seriesSourcePoints}),El(Ax,{categoryAxis:{categories:[]},valueAxis:{}});const Cx=Ax;var _x=function(t){function e(e,r,n){t.call(this,r),this.value=e,this.options.index=n.index}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.points,r=this.children[0];this.box=new Sc(e[0].x,e[0].y,e[1].x,e[2].y),r&&r.reflow(new Sc(t.x1,e[0].y,t.x2,e[2].y))},e.prototype.createVisual=function(){var e,r=this,n=this.options;t.prototype.createVisual.call(this),(e=n.visual?n.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:n,sender:this.getSender(),createVisual:function(){return r.createPath()}}):this.createPath())&&this.visual.append(e)},e.prototype.createPath=function(){var t=this.options,e=t.border;return Th.fromPoints(this.points,{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close()},e.prototype.createHighlight=function(t){return Th.fromPoints(this.points,t)},e.prototype.highlightVisual=function(){return this.visual.children[0]},e.prototype.highlightVisualArgs=function(){var t=Th.fromPoints(this.points).close();return{options:this.options,path:t}},e.prototype.tooltipAnchor=function(){var t=this.box;return{point:new ac(t.center().x,t.y1),align:{horizontal:"center",vertical:"top"}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e}(Zh);El(_x,{color:Ts,border:{width:1}}),Hs(_x.prototype,sg);const Tx=_x;var Ox=function(t){function e(e,r){t.call(this,r),this.plotArea=e,this.points=[],this.labels=[],this.legendItems=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value)},e.prototype.render=function(){var t=this,e=this.options,r=this.plotArea.options.seriesColors;void 0===r&&(r=[]);var n=e.series[0],i=n.data;if(i)for(var o=Nm(n),s=o.total,a=o.points,l=0;l<a.length;l++){var c=a[l];if(c){var h=c.fields;zs(n.color)||(n.color=h.color||r[l%r.length]),h=Hs({index:l,owner:t,series:n,dataItem:i[l],percentage:c.value/s},h,{visible:c.visible});var u=c.valueFields.value,p=t.createSegment(u,h),d=t.createLabel(u,h);p&&d&&p.append(d)}}},e.prototype.evalSegmentOptions=function(t,e,r){var n=r.series;eg(t,{value:e,series:n,dataItem:r.dataItem,index:r.index},{defaults:n._defaults,excluded:["data","content","template","toggle","visual"]})},e.prototype.createSegment=function(t,e){var r=Hs({},e.series);if(this.evalSegmentOptions(r,t,e),this.createLegendItem(t,r,e),!1!==e.visible){var n=new Tx(t,r,e);return Object.assign(n,e),this.append(n),this.points.push(n),n}},e.prototype.createLabel=function(t,e){var r=e.series,n=e.dataItem,i=Hs({},this.options.labels,r.labels),o=t;if(i.visible){var s=Qs(i),a={dataItem:n,value:t,percentage:e.percentage,category:e.category,series:r};s?o=s(a):i.format&&(o=this.plotArea.chartService.format.auto(i.format,o)),i.color||(i.color=Yl(r.color),i.background||(i.background=r.color)),this.evalSegmentOptions(i,t,e);var l=new Eu(o,Hs({vAlign:i.position},i),a);return this.labels.push(l),l}},e.prototype.labelPadding=function(){for(var t=this.labels,e={left:0,right:0},r=0;r<t.length;r++){var n=t[r].options.align;if(n!==as){var i=t[r].box.width();n===ms?e.left=Math.max(e.left,i):e.right=Math.max(e.right,i)}}return e},e.prototype.dynamicSlopeReflow=function(t,e,r){for(var n=this.options,i=this.points,o=i.length,s=i[0],a=s,l=0;l<i.length;l++)i[l].percentage>a.percentage&&(a=i[l]);for(var c=s.percentage/a.percentage*e,h=(e-c)/2,u=0,p=0;p<o;p++){var d=i[p].percentage,f=i[p+1],g=f?f.percentage:d,m=i[p].points=[],y=n.dynamicHeight?r*d:r/o,v=void 0;v=Sl(v=d?(e-c*(g/d))/2:g?0:e/2,0,e),m.push(new gc(t.x1+h,t.y1+u)),m.push(new gc(t.x1+e-h,t.y1+u)),m.push(new gc(t.x1+e-v,t.y1+y+u)),m.push(new gc(t.x1+v,t.y1+y+u)),h=v,u+=y+n.segmentSpacing,c=Sl(e-2*v,0,e)}},e.prototype.constantSlopeReflow=function(t,e,r){for(var n=this.options,i=this.points,o=i.length,s=n.neckRatio<=1,a=s?n.neckRatio*e:e,l=s?0:(e-e/n.neckRatio)/2,c=((s?e:e-2*l)-a)/2,h=0,u=0;u<o;u++){var p=i[u].points=[],d=i[u].percentage,f=n.dynamicHeight?c*d:c/o,g=n.dynamicHeight?r*d:r/o;p.push(new gc(t.x1+l,t.y1+h)),p.push(new gc(t.x1+e-l,t.y1+h)),p.push(new gc(t.x1+e-l-f,t.y1+g+h)),p.push(new gc(t.x1+l+f,t.y1+g+h)),l+=f,h+=g+n.segmentSpacing}},e.prototype.reflow=function(t){var e=this.points,r=e.length;if(r){var n=this.options,i=t.clone().unpad(this.labelPadding()),o=i.height()-n.segmentSpacing*(r-1),s=i.width();n.dynamicSlope?this.dynamicSlopeReflow(i,s,o):this.constantSlopeReflow(i,s,o);for(var a=0;a<r;a++)e[a].reflow(t)}},e}(Zh);El(Ox,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:as,position:as,zIndex:1}}),Hs(Ox.prototype,Rw);const Mx=Ox;var Ex=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createFunnelChart(this.series)},e.prototype.createFunnelChart=function(t){var e=t[0],r=new Mx(this,{series:t,legend:this.options.legend,neckRatio:e.neckRatio,dynamicHeight:e.dynamicHeight,dynamicSlope:e.dynamicSlope,segmentSpacing:e.segmentSpacing,highlight:e.highlight});this.appendChart(r)},e.prototype.appendChart=function(e,r){t.prototype.appendChart.call(this,e,r),pl(this.options.legend.items,e.legendItems)},e}(Zm);const Px=Ex;const Ix=function(t,e){void 0===e&&(e=.05);var r=Xl(t),n=1-e;return function(t){var e=r.toHSL(),i=100-e.l,o=n-t;return e.l+=Math.min(o*i,i),e.toCss()}};var Fx=function(t){function e(e,r){t.call(this),this.options=r,this.color=r.color||Ts,this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())},e.prototype.createLabel=function(){var t=this.options.labels;if(t.visible){var e,r=this.pointData(),n=Qs(t),i=t.color;e=n?n(r):this.formatValue(t.format),i||(i=Yl(this.color)),this.label=new Eu(e,Hs({align:as,vAlign:as,margin:{left:5,right:5},zIndex:Tl(t.zIndex,this.series.zIndex)},t,{color:i}),r),this.append(this.label)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.reflow=function(t){this.render();var e=this.label;this.box=t,e&&e.reflow(this.markerBox()),this.note&&this.note.reflow(t),this.marker.reflow(this.markerBox())},e.prototype.markerBox=function(){var t=this.options.markers,e=t.border,r=this.box.toRect(),n=Tl(t.type,"rect")===ks,i=Tl(e.width,n?1:0),o=Math.round(i/2);if(t.size){var s=r.center();r.size.width=r.size.height=t.size,r.origin.x=Math.round(s.x-r.size.width/2),r.origin.y=Math.round(s.y-r.size.height/2)}return r.size.width-=i,r.size.height-=i,r.origin.y+=o+.5,r.origin.x+=o+.5,Tu(r)},e.prototype.markerBorder=function(){var t=this.options,e=t.markers.border,r=Tl(e.opacity,t.opacity);return{color:e.color||this.color,width:e.width,opacity:r,dashType:e.dashType}},e.prototype.createMarker=function(){var t=this.options,e=t.markers,r=new ru({type:Tl(e.type,"rect"),width:e.size,height:e.size,rotation:e.rotation,background:this.color,border:this.markerBorder(),borderRadius:e.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:Tl(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=r,this.append(r)},e.prototype.createHighlight=function(t){var e=this.options,r=this.options.highlight.markers||this.options.markers,n=new ru({type:Tl(r.type,"rect"),width:r.size,height:r.size,rotation:r.rotation,background:r.color||this.color,border:this.markerBorder(),borderRadius:r.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:Tl(e.zIndex,this.series.zIndex)});n.reflow(this.markerBox());var i=n.getElement();return i.options.fill=t.fill,i.options.stroke=t.stroke,i},e.prototype.highlightVisual=function(){return this.rectVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},e.prototype.tooltipAnchor=function(){var t=this.box.center().x,e=this.box.y1-5;return{point:new ac(t,e),align:{horizontal:as,vertical:ss}}},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.unclipElements=function(){},e.prototype.pointData=function(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}},e}(Zh);Hs(Fx.prototype,sg),Hs(Fx.prototype,lg),Fx.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}}};const Dx=Fx;var Rx=function(t){function e(e,r){t.call(this,r),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this.points=[],this.seriesOptions=[],this.valueRange={min:ys,max:vs},this._evalSeries=[]},e.prototype.render=function(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))},e.prototype.setRange=function(){for(var t=this,e=this.options.series,r=0;r<e.length;r++)for(var n=e[r],i=0;i<n.data.length;i++){var o=t._bindPoint(n,r,i).valueFields;fl(o.value)&&null!==o.value&&(t.valueRange.min=Math.min(t.valueRange.min,o.value),t.valueRange.max=Math.max(t.valueRange.max,o.value))}},e.prototype.addValue=function(t,e){var r;t&&fl(t.value)&&null!==t.value&&(r=this.createPoint(t,e))&&Object.assign(r,e),this.points.push(r)},e.prototype.evalPointOptions=function(t,e,r){var n=r.series,i=r.seriesIx,o={defaults:n._defaults,excluded:["data","tooltip","content","template","visual","toggle"]},s=this._evalSeries[i];fl(s)||(this._evalSeries[i]=s=eg(t,{},o,!0));var a=t;return s&&eg(a=Hs({},t),{value:e,series:n,dataItem:r.dataItem,min:this.valueRange.min,max:this.valueRange.max},o),a},e.prototype.pointType=function(){return Dx},e.prototype.pointOptions=function(t,e){var r=this.seriesOptions[e];if(!r){var n=this.pointType().prototype.defaults;this.seriesOptions[e]=r=Hs({},n,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return r},e.prototype.createPoint=function(t,e){var r=e.series,n=this.pointOptions(r,e.seriesIx),i=e.color||r.color;if(n=this.evalPointOptions(n,t,e),zs(r.color))i=n.color;else if(0!==this.valueRange.max){i=Ix(i)(t.value/this.valueRange.max)}var o=new Dx(t,n);return o.color=i,this.append(o),o},e.prototype.seriesAxes=function(t){var e=t.xAxis,r=t.yAxis,n=this.plotArea,i=e?n.namedXAxes[e]:n.axisX,o=r?n.namedYAxes[r]:n.axisY;if(!i)throw new Error("Unable to locate X axis with name "+e);if(!o)throw new Error("Unable to locate Y axis with name "+r);return{xAxis:i,yAxis:o}},e.prototype.reflow=function(t){var e=this,r=this.points,n=!this.options.clip,i=0;this.traverseDataPoints((function(t,o){var s=r[i++],a=e.seriesAxes(o.series),l=a.xAxis,c=a.yAxis,h=l.categoryIndex(t.x),u=c.categoryIndex(t.y),p=l.getSlot(h,h,n),d=c.getSlot(u,u,n);if(s)if(p&&d){var f=e.pointSlot(p,d);s.reflow(f)}else s.visible=!1})),this.box=t},e.prototype.pointSlot=function(t,e){return new Sc(t.x1,e.y1,t.x2,e.y2)},e.prototype.traverseDataPoints=function(t){for(var e=this,r=this.options.series,n=0;n<r.length;n++)for(var i=r[n],o=e.seriesAxes(i),s=o.xAxis,a=o.yAxis,l=s.currentRangeIndices(),c=a.currentRangeIndices(),h=0;h<i.data.length;h++){var u=e._bindPoint(i,n,h),p=u.valueFields,d=u.fields,f=s.totalIndex(p.x),g=a.totalIndex(p.y),m=l.min<=f&&f<=l.max,y=c.min<=g&&g<=c.max;m&&y&&t(p,Hs({pointIx:h,series:i,seriesIx:n,dataItem:i.data[h],owner:e},d))}},e.prototype.formatPointValue=function(t,e){var r=t.value;return this.chartService.format.auto(e,r.x,r.y,r.value)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],r=0;r<t.length;r++)e.push((t[r]||{}).marker);return e},e}(Zh);El(Rx,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0}),Hs(Rx.prototype,{_bindPoint:ig.prototype._bindPoint});const Lx=Rx;var Nx=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={}},e.prototype.render=function(t){void 0===t&&(t=this.panes),this.bindCategories(),this.createAxes(t),this.createCharts(t),this.createAxisLabels()},e.prototype.bindCategories=function(){for(var t=this.srcSeries||this.series,e=0;e<t.length;e++){for(var r=t[e],n=r.data||[],i=this.seriesAxes(r),o=i.xAxis,s=i.yAxis,a=rc(o.categories||[]),l=rc(s.categories||[]),c=0;c<n.length;c++){var h=Rd.current.bindPoint(r,c).valueFields,u=h.x,p=h.y;a.has(u)||a.add(u),l.has(p)||l.add(p)}o.categories=a.values(),s.categories=l.values()}},e.prototype.createCharts=function(t){for(var e=this,r=this.groupSeriesByPane(),n=0;n<t.length;n++){var i=t[n],o=r[i.options.name||"default"]||[];e.addToLegend(o);var s=e.filterVisibleSeries(o);s&&e.createHeatmapChart(jm(s,[cf]),i)}},e.prototype.createHeatmapChart=function(t,e){var r=new Lx(this,{series:t});this.appendChart(r,e)},e.prototype.seriesPaneName=function(t){var e=this.options,r=t.xAxis,n=na([].concat(e.xAxis),(function(t){return t.name===r}))[0],i=t.yAxis,o=na([].concat(e.yAxis),(function(t){return t.name===i}))[0],s=(e.panes||[{}])[0].name||"default";return(n||{}).pane||(o||{}).pane||s},e.prototype.seriesAxes=function(t){var e,r,n=this.options,i=[].concat(n.xAxis),o=t.xAxis;e=o?i.find((function(t){return t.name===o})):i[0];var s=[].concat(n.yAxis),a=t.yAxis;if(r=a?s.find((function(t){return t.name===a})):s[0],!e)throw new Error("Unable to locate X axis with name "+o);if(!r)throw new Error("Unable to locate Y axis with name "+a);return{xAxis:e,yAxis:r}},e.prototype.createAxisLabels=function(){for(var t=this.axes,e=0;e<t.length;e++)t[e].createLabels()},e.prototype.createXYAxis=function(t,e,r){for(var n,i=t.name,o=e?this.namedYAxes:this.namedXAxes,s=Object.assign({axisCrossingValue:0},t,{vertical:e,reverse:e||this.chartService.rtl?!t.reverse:t.reverse,justified:!1}),a=s.categories?s.categories[0]:null,l=[s.min,s.max,a],c=this.series,h=0;h<c.length;h++){var u=c[h],p=u[e?"yAxis":"xAxis"];if(p===s.name||0===r&&!p){var d=Rd.current.bindPoint(u,0).valueFields;l.push(d[e?"y":"x"]);break}}for(var f=0;f<l.length;f++)if(l[f]instanceof Date){n=!0;break}var g=new(Bm(s.type,hs)||!s.type&&n?Wp:Rp)(s,this.chartService);if(g.axisIndex=r,i){if(o[i])throw new Error((e?"Y":"X")+" axis with name "+i+" is already defined");o[i]=g}return this.appendAxis(g),g.mapCategories(),g},e.prototype.createAxes=function(t){for(var e=this,r=this.options,n=[].concat(r.xAxis),i=[],o=[].concat(r.yAxis),s=[],a=0;a<n.length;a++){aa(e.findPane(n[a].pane),t)&&i.push(e.createXYAxis(n[a],!1,a))}for(var l=0;l<o.length;l++){aa(e.findPane(o[l].pane),t)&&s.push(e.createXYAxis(o[l],!0,l))}this.axisX=this.axisX||i[0],this.axisY=this.axisY||s[0]},e.prototype.removeAxis=function(e){var r=e.options.name;t.prototype.removeAxis.call(this,e),e.options.vertical?delete this.namedYAxes[r]:delete this.namedXAxes[r],e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY},e.prototype._dispatchEvent=function(t,e,r){for(var n=t._eventCoordinates(e),i=new ac(n.x,n.y),o=this.axes,s=o.length,a=[],l=[],c=0;c<s;c++){var h=o[c];Rm(h.options.vertical?l:a,h.getCategory(i))}a.length>0&&l.length>0&&t.trigger(r,{element:bl(e),originalEvent:e,x:$m(a),y:$m(l)})},e.prototype.updateAxisOptions=function(t,e){var r=t.options.vertical,n=this.groupAxes(this.panes),i=(r?n.y:n.x).indexOf(t);Bx(this.options,i,r,e),Bx(this.originalOptions,i,r,e)},e.prototype.crosshairOptions=function(t){return Object.assign({},t.options.crosshair,{zIndex:0})},e}(Zm);function Bx(t,e,r,n){Hs([].concat(r?t.yAxis:t.xAxis)[e],n)}El(Nx,{xAxis:{},yAxis:{}}),Hs(Nx.prototype,ty);const jx=Nx;var zx="color",Ux="first",$x="max",Hx="min",Vx="noteText";uw.current.register(Ly,[tf,sf,uf,Of,Qd,Cf,of,pf,nf,Tf,ef,_f,Sf,xf,Ef,hf,wf,Mf]),uw.current.register(Ow,[kf,Af,rf]),uw.current.register(zw,[df]),uw.current.register(Ww,[af]),uw.current.register(Px,[lf]),uw.current.register(ax,[ff,gf,mf]),uw.current.register(Cx,[yf,vf,bf]),uw.current.register(jx,[cf]),Rd.current.register([tf,sf,uf,Of,Qd,Cf],[_s],[Xf,zx,Vx,qd,Wd]),Rd.current.register([Sf,xf,wf,Mf],["from","to"],[Xf,zx,Vx]),Rd.current.register([Ef,hf],[_s],[Xf,zx,Vx,"summary"]),Rd.current.register([ff,gf,mf],[Ms,Es],[zx]),Rd.current.register([yf,vf,bf],[_s],[zx]),Rd.current.register([lf],[_s],[Xf,zx,"visibleInLegend","visible"]),oy.current.register([tf,sf,uf,Of,Qd,Cf,Ef,hf],{value:$x,color:Ux,noteText:Ux,errorLow:Hx,errorHigh:$x}),oy.current.register([Sf,xf,wf,Mf],{from:Hx,to:$x,color:Ux,noteText:Ux}),oy.current.register([yf,vf,bf],{value:$x,color:Ux}),Rd.current.register([kf,Af,rf],[Ms,Es],[zx,Vx,"xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),Rd.current.register([rf],[Ms,Es,"size"],[zx,Xf,Vx]),Rd.current.register([cf],[Ms,Es,_s],[zx,Vx]),Rd.current.register([of,pf],["open","high","low","close"],[Xf,zx,"downColor",Vx]),oy.current.register([of,pf],{open:$x,high:$x,low:Hx,close:$x,color:Ux,downColor:Ux,noteText:Ux}),Rd.current.register([ef,_f],["lower","q1","median","q3","upper","mean","outliers"],[Xf,zx,Vx]),oy.current.register([ef,_f],{lower:$x,q1:$x,median:$x,q3:$x,upper:$x,mean:$x,outliers:Ux,color:Ux,noteText:Ux}),Rd.current.register([nf,Tf],["current","target"],[Xf,zx,"visibleInLegend",Vx]),oy.current.register([nf,Tf],{current:$x,target:$x,color:Ux,noteText:Ux}),Rd.current.register([df,af],[_s],[Xf,zx,"explode","visibleInLegend","visible"]);var qx=[Xf,_s,Ms,Es],Wx=function(t){function e(e,r,n,i){var o=this;void 0===i&&(i={}),t.call(this),this.observers=[],this.addObserver(i.observer),this.chartService=new Xu(this,i),this.chartService.theme=n,this._initElement(e);var s=Hs({},this.options,r);this._originalOptions=Hs({},s),this._theme=n,this._initTheme(s,n),this._initHandlers(),this._initSurface(),this.bindCategories(),Ml.preloadFonts(r,(function(){o.fontLoaded=!0,o._destroyed||(o.trigger("init"),o._redraw(),o._attachEvents())}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initElement=function(t){for(this._setElementClass(t),t.style.position="relative";t.firstChild;)t.removeChild(t.firstChild);this.element=t},e.prototype._setElementClass=function(t){Is(t,"k-chart")},e.prototype._initTheme=function(t,e){for(var r=[],n=t.series||[],i=0;i<n.length;i++)r.push(Object.assign({},n[i]));t.series=r,function(t){for(var e=qx,r=0;r<e.length;r++){var n=e[r]+"Axes";t[n]&&(t[e[r]+"Axis"]=t[n],delete t[n])}}(t),this.applyDefaults(t,e),null===t.seriesColors&&delete t.seriesColors,this.options=Hs({},e,t),this.applySeriesColors()},e.prototype.getSize=function(){var t=this.options.chartArea||{};return{width:t.width?parseInt(t.width,10):Math.floor(this.element.offsetWidth),height:t.height?parseInt(t.height,10):Math.floor(this.element.offsetHeight)}},e.prototype.resize=function(t){var e=this.getSize(),r=this._size,n=e.width>0||e.height>0;t||n&&(!r||e.width!==r.width||e.height!==r.height)?(this._size=e,this._resize(e,t),this.trigger("resize",e)):n&&this._selections&&Il(this._selections,(function(t){return!t.visible}))&&(this._destroySelections(),this._setupSelection())},e.prototype._resize=function(){this._noTransitionsRedraw()},e.prototype.redraw=function(t){if(this.applyDefaults(this.options),this.applySeriesColors(),t){var e=this._model._plotArea,r=e.findPane(t);e.redraw(r)}else this._redraw()},e.prototype.getAxis=function(t){return Cd(t,this._plotArea.axes)},e.prototype.findAxisByName=function(t){return this.getAxis(t)},e.prototype.findPaneByName=function(t){for(var e=this._plotArea.panes,r=0;r<e.length;r++)if(e[r].options.name===t)return new Td(e[r])},e.prototype.findPaneByIndex=function(t){var e=this._plotArea.panes;if(e[t])return new Td(e[t])},e.prototype.plotArea=function(){return new Md(this._plotArea)},e.prototype.toggleHighlight=function(t,e){var r,n,i,o=this._plotArea,s=(o.srcSeries||o.series||[])[0];zs(e)?r=o.filterPoints(e):(Vs(e)?(n=e.series,i=e.category):n=i=e,r=s.type===af?Xx(o.pointsBySeriesName(n),i):s.type===df||s.type===lf?Xx((o.charts[0]||{}).points,i):o.pointsBySeriesName(n));r&&this.togglePointsHighlight(t,r)},e.prototype.togglePointsHighlight=function(t,e){for(var r=this._highlight,n=0;n<e.length;n++)r.togglePointHighlight(e[n],t)},e.prototype.showTooltip=function(t){var e,r,n=this._sharedTooltip(),i=this._tooltip,o=this._plotArea;if(zs(t)?(e=o.findPoint(t))&&n&&(r=e.categoryIx):n&&fl(t)&&(r=o.categoryAxis.categoryIndex(t)),n){if(r>=0){var s=this._plotArea.pointsByCategoryIndex(r);i.showAt(s)}}else e&&i.show(e)},e.prototype.hideTooltip=function(){this._tooltip.hide()},e.prototype._initSurface=function(){var t=this.surface,e=this._surfaceWrap(),r=this.options.chartArea||{};r.width&&yl(e,{width:r.width}),r.height&&yl(e,{height:r.height}),t&&t.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=Nb.create(e,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))},e.prototype._surfaceWrap=function(){return this.element},e.prototype._redraw=function(){var t=this._getModel();this._size={width:t.options.width,height:t.options.height},this._destroyView(),this._model=t,this._plotArea=t._plotArea,t.renderVisual(),!1!==this.options.transitions&&t.traverse((function(t){t.animation&&t.animation.setup()})),this._initSurface(),this.surface.draw(t.visual),!1!==this.options.transitions&&t.traverse((function(t){t.animation&&t.animation.play()})),this._tooltip=this._createTooltip(),this._highlight=new zb,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),Zx(this._plotArea.panes),this._navState||this._cancelDomEvents()},e.prototype.exportVisual=function(t){var e;if(t&&(t.width||t.height||t.options)){var r=this.options,n=Hs({},t.options,{chartArea:{width:t.width,height:t.height}});Jx(this._originalOptions,n),this.options=Hs({},this._originalOptions,n),this._initTheme(this.options,this._theme),this.bindCategories();var i=this._getModel();i.renderVisual(),Zx(i._plotArea.panes),e=i.visual,this.options=r}else e=this.surface.exportVisual();return e},e.prototype._sharedTooltip=function(){return this._plotArea instanceof Ly&&this.options.tooltip&&this.options.tooltip.shared},e.prototype._createPannable=function(){var t=this.options;!1!==t.pannable&&(this._pannable=new Vb(this._plotArea,t.pannable))},e.prototype._createZoomSelection=function(){var t=this.options.zoomable,e=(t||{}).selection;!1!==t&&!1!==e&&(this._zoomSelection=new Wb(this,e))},e.prototype._createMousewheelZoom=function(){var t=this.options.zoomable,e=(t||{}).mousewheel;!1!==t&&!1!==e&&(this._mousewheelZoom=new Gb(this,e))},e.prototype._toggleDragZoomEvents=function(){var t=this.options.pannable,e=this.options.zoomable,r=(e||{}).selection,n=(e||{}).mousewheel,i=!(t||!1!==e&&!1!==r||this.requiresHandlers([Nf,Rf,Lf])),o=(!1===e||!1===n)&&!this.requiresHandlers([Bf,jf,zf]),s=this.element;this._dragZoomEnabled&&i&&o?(s.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):this._dragZoomEnabled||i&&o||(s.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!i,!o)},e.prototype._toggleDomEvents=function(t,e){var r=this.domEvents;r&&(r.toggleDrag&&r.toggleDrag(t),r.toggleZoom&&r.toggleZoom(e))},e.prototype._createTooltip=function(){var t=this.options.tooltip;return this._sharedTooltip()?this._createSharedTooltip(t):new yw(this.chartService,t)},e.prototype._createSharedTooltip=function(t){return new bw(this._plotArea,t)},e.prototype.applyDefaults=function(t,e){!function(t,e){var r,n,i,o=(e||{}).axisDefaults||{};function s(t){var e=(t||{}).color||n.color,i=Hs({},o,o[r],n,n[r],{line:{color:e},labels:{color:e},title:{color:e}},t);return delete i[r],i}for(var a=0;a<qx.length;a++)r=qx[a]+"Axis",n=t.axisDefaults||{},i=(i=[].concat(t[r])).map(s),t[r]=i.length>1?i:i[0]}(t,e),function(t,e){var r=t.series,n=r.length,i=t.seriesDefaults,o=Hs({},t.seriesDefaults),s=e?Hs({},e.seriesDefaults):{},a=Hs({},s);Gx(o),Gx(a);for(var l=0;l<n;l++){var c=r[l].type||t.seriesDefaults.type,h=Hs({data:[]},a,s[c],{tooltip:t.tooltip},o,i[c]);r[l]._defaults=h,r[l]=Hs({},h,r[l]),r[l].data=r[l].data||[]}}(t,e)},e.prototype.applySeriesColors=function(){for(var t=this.options,e=t.series,r=t.seriesColors||[],n=0;n<e.length;n++){var i=e[n],o=r[n%r.length],s=i._defaults;i.color=i.color||o,s&&(s.color=s.color||o)}},e.prototype._getModel=function(){var t=this.options,e=this._createPlotArea(),r=new bu(this._modelOptions());return r.chart=this,r._plotArea=e,Iu.buildTitle(t.title,r),t.legend&&t.legend.visible&&r.append(new cw(e.options.legend,this.chartService)),r.append(e),r.reflow(),r},e.prototype._modelOptions=function(){var t=this.options,e=this.getSize();return Hs({transitions:t.transitions,width:e.width||600,height:e.height||400},t.chartArea)},e.prototype._createPlotArea=function(t){var e=this.options;return uw.current.create(t?[]:e.series,e,this.chartService)},e.prototype._setupSelection=function(){for(var t=this._plotArea.axes,e=this._selections=[],r=0;r<t.length;r++){var n=t[r],i=n.options;if(n instanceof Rp&&i.select&&!i.vertical){var o=n.range(),s=new gw(this,n,Hs({min:o.min,max:o.max},i.select));e.push(s)}}},e.prototype._selectStart=function(t){return this.trigger(Uf,t)},e.prototype._select=function(t){return this.trigger($f,t)},e.prototype._selectEnd=function(t){return this.trigger(Hf,t)},e.prototype._initHandlers=function(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=Ny(this._mousemove.bind(this),20)},e.prototype.addObserver=function(t){t&&this.observers.push(t)},e.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)},e.prototype.requiresHandlers=function(t){for(var e=this.observers,r=0;r<e.length;r++)if(e[r].requiresHandlers(t))return!0},e.prototype.trigger=function(t,e){void 0===e&&(e={}),t===Vf&&(e.anchor.point=this._toDocumentCoordinates(e.anchor.point)),e.sender=this;for(var r=this.observers,n=!1,i=0;i<r.length;i++)r[i].trigger(t,e)&&(n=!0);return n},e.prototype._attachEvents=function(){var t,e,r=this.element;this._touchAction=r.style.touchAction,dl(r,((t={}).contextmenu=this._clickHandler,t[Yf]=this._mousewheelHandler,t.mouseleave=this._mouseleaveHandler,t)),this._shouldAttachMouseMove()&&dl(r,((e={}).mousemove=this._mousemove,e)),this.domEvents=Yu.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()},e.prototype._mouseleave=function(t){this._hoveredPoint&&(this._hoveredPoint.out(this,t),this._hoveredPoint=null),this._plotArea.hovered&&(this.trigger(Df),this._plotArea.hovered=!1)},e.prototype._cancelDomEvents=function(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()},e.prototype._gesturestart=function(t){this._mousewheelZoom&&!this._stopChartHandlers(t)&&(this._gestureDistance=t.distance,this._unsetActivePoint(),this.surface.suspendTracking())},e.prototype._gestureend=function(t){this._zooming&&!this._stopChartHandlers(t)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(zf,{}))},e.prototype._gesturechange=function(t){var e=this._mousewheelZoom;if(e&&!this._stopChartHandlers(t)){t.preventDefault();var r=this._gestureDistance,n=-t.distance/r+1;if(Math.abs(n)>=.1){n=Math.round(10*n),this._gestureDistance=t.distance;var i={delta:n,axisRanges:Kx(this._plotArea.axes),originalEvent:t};if(this._zooming||!this.trigger(Bf,i)){var o=this._eventCoordinates(t);this._zooming||(this._zooming=!0),(i.axisRanges=e.updateRanges(n,o))&&!this.trigger(jf,i)&&e.zoom()}}}},e.prototype._mouseout=function(t){if(t.element){var e=this._drawingChartElement(t.element,t);e&&e.leave&&e.leave(this,t.originalEvent)}},e.prototype._start=function(t){var e=this._eventCoordinates(t);!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(e)&&(this.requiresHandlers([Nf,Rf,Lf])&&this._startNavigation(t,e,Nf),this._pannable&&this._pannable.start(t)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(t)&&this.trigger(Bf,{axisRanges:Kx(this._plotArea.axes),originalEvent:t}))},e.prototype._move=function(t){var e=this._navState,r=this._pannable;if(!this._stopChartHandlers(t)){if(r){var n=r.move(t);n&&!this.trigger(Rf,{axisRanges:n,originalEvent:t})&&r.pan()}else if(e){for(var i={},o=e.axes,s=0;s<o.length;s++){var a=o[s];if(a.options.name){var l=a.options.vertical?t.y:t.x,c=l.startLocation-l.location;0!==c&&(i[a.options.name]=a.translateRange(c))}}e.axisRanges=i,this.trigger(Rf,{axisRanges:i,originalEvent:t})}this._zoomSelection&&this._zoomSelection.move(t)}},e.prototype._end=function(t){if(!this._stopChartHandlers(t)){var e=this._pannable;if(e&&e.end(t)?(this.surface.resumeTracking(),this.trigger(Lf,{axisRanges:Kx(this._plotArea.axes),originalEvent:t}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(t,Lf),this._zoomSelection){var r=this._zoomSelection.end(t);r&&!this.trigger(jf,{axisRanges:r,originalEvent:t})&&(this._zoomSelection.zoom(),this.trigger(zf,{axisRanges:r,originalEvent:t}))}}},e.prototype._stopChartHandlers=function(t){var e=this._selections||[];if(!e.length)return!1;var r=this._eventCoordinates(t),n=this._plotArea.paneByPoint(r);if(n)for(var i=0;i<e.length;i++)if(e[i].onPane(n))return!0},e.prototype._mousewheelZoomRate=function(){var t=(this.options.zoomable||{}).mousewheel||{};return Tl(t.rate,.3)},e.prototype._mousewheel=function(t){var e=this,r=ya(t),n=this._mousewheelZoom,i=this._eventCoordinates(t);if(!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(i))if(n){var o={delta:r,axisRanges:Kx(this._plotArea.axes),originalEvent:t};!this._zooming&&this.trigger(Bf,o)||(t.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),o.axisRanges=n.updateRanges(r,i),o.axisRanges&&!this.trigger(jf,o)&&n.zoom(),this._mwTimeout=setTimeout((function(){e.trigger(zf,o),e._zooming=!1,e.surface&&e.surface.resumeTracking()}),150))}else{var s=this._navState;if(!s)this._startNavigation(t,i,Bf)||(s=this._navState);if(s){var a=s.totalDelta||r;s.totalDelta=a+r;for(var l=this._navState.axes,c={},h=0;h<l.length;h++){var u=l[h],p=u.options.name;p&&(c[p]=u.scaleRange(-a*e._mousewheelZoomRate(),i))}this.trigger(jf,{delta:r,axisRanges:c,originalEvent:t}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){e._endNavigation(t,zf)}),150)}}},e.prototype._startNavigation=function(t,e,r){var n=this._model._plotArea,i=n.findPointPane(e),o=n.axes.slice(0);if(i){var s=Kx(o);this.trigger(r,{axisRanges:s,originalEvent:t})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:s,pane:i,axes:o})}},e.prototype._endNavigation=function(t,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:t}),this._suppressHover=!1,this._navState=null)},e.prototype._getChartElement=function(t,e){var r=this.surface.eventTarget(t);if(r)return this._drawingChartElement(r,t,e)},e.prototype._drawingChartElement=function(t,e,r){for(var n,i=t;i&&!n;)n=i.chartElement,i=i.parent;if(n)return n.aliasFor&&(n=n.aliasFor(e,this._eventCoordinates(e))),r&&(n=n.closest(r))&&n.aliasFor&&(n=n.aliasFor()),n},e.prototype._eventCoordinates=function(t){var e=vl(t);return this._toModelCoordinates(e.x,e.y)},e.prototype._elementPadding=function(){if(!this._padding){var t=Gs(this.element,["paddingLeft","paddingTop"]),e=t.paddingLeft,r=t.paddingTop;this._padding={top:r,left:e}}return this._padding},e.prototype._toDocumentCoordinates=function(t){var e=this._elementPadding(),r=ml(this.element);return{left:Cl(t.x+e.left+r.left),top:Cl(t.y+e.top+r.top)}},e.prototype._toModelCoordinates=function(t,e){var r=this.element,n=ml(r),i=this._elementPadding(),o=function(t){if(!t)return Fl.unit();for(var e=Rl(t),r=t.parentElement;r;){var n=Rl(r);e=e.multiplyCopy(n),r=r.parentElement}return e.b=e.c=e.e=e.f=0,e}(r).invert(),s=new gc(t-n.left-i.left,e-n.top-i.top).transform(o);return new ac(s.x,s.y)},e.prototype._tap=function(t){var e=this,r=this.surface.eventTarget(t),n=this._drawingChartElement(r,t),i=this._sharedTooltip();this._startHover(r,t)||i||this._unsetActivePoint(),i&&this._trackSharedTooltip(this._eventCoordinates(t),t,!0),this._propagateClick(n,t),this.handlingTap=!0,setTimeout((function(){e.handlingTap=!1}),0)},e.prototype._click=function(t){var e=this._getChartElement(t);this._propagateClick(e,t)},e.prototype._propagateClick=function(t,e){for(var r=t;r;)r.click&&r.click(this,e),r=r.parent},e.prototype._startHover=function(t,e){if(this._suppressHover)return!1;var r=this._drawingChartElement(t,e,(function(t){return(t.hover||t.over)&&!(t instanceof Zm)})),n=this._activePoint,i=this._plotArea.series.length>1,o=this._hasInactiveOpacity();return this._updateHoveredPoint(r,e),r&&n!==r&&r.hover?(this._activePoint=r,this._sharedTooltip()||r.hover(this,e)||(this._displayTooltip(r),o?this._displayInactiveOpacity(r,i):this._highlight.show(r))):!r&&o&&(i&&this._activeChartInstance&&(this._updateSeriesOpacity(r,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null),r},e.prototype._displayTooltip=function(t){Hs({},this.options.tooltip,t.options.tooltip).visible&&this._tooltip.show(t)},e.prototype._displayInactiveOpacity=function(t,e,r){var n=this._activeChartInstance=this._chartInstanceFromPoint(t);if(n)if(e)this._updateSeriesOpacity(t),this._applySeriesOpacity(n.children,null,!0),this._applySeriesOpacity(n.children,t.series),this._highlight.show(r||t);else{var i;if(!n.supportsPointInactiveOpacity())return void this._highlight.show(t);(i=this._getInactivePoints(t,n))&&i.length&&this._highlight.show(i,1-this._getInactiveOpacityForSeries(t.series))}},e.prototype._getInactivePoints=function(t,e){return this._getAllPointsOfType(e,t.constructor).filter((function(e){return e!==t}))},e.prototype._getAllPointsOfType=function(t,e){for(var r=[],n=0;n<t.children.length;n++){var i=t.children[n];i.constructor===e?r.push(i):i.children&&i.children.length&&(r=r.concat(this._getAllPointsOfType(i,e)))}return r},e.prototype._updateHoveredPoint=function(t,e){var r=this._hoveredPoint;r&&r!==t&&(r.out(this,e),this._hoveredPoint=null),t&&r!==t&&t.over&&(this._hoveredPoint=t,t.over(this,e))},e.prototype._updateSeriesOpacity=function(t,e){for(var r=this._plotArea,n=r.series.length,i=0;i<n;i++){var o=r.series[i],s=this._getDefaultOpacityForSeries(o),a=this._getInactiveOpacityForSeries(o);e||o===t.series?(o.opacity=s,o.line&&(o.line.opacity=s)):(o.defaultOpacity=s,o.opacity=a,o.line&&(o.line.opacity=a))}},e.prototype._applySeriesOpacity=function(t,e,r,n){for(var i=0;i<t.length;i++){var o=t[i],s=o.series||n;if(s&&(s.highlight||{}).visible&&o.visual){var a=n?n.opacity:o.series.opacity;(s!==e||r)&&o.visual.opacity(r?1:a)}o.children&&o.children.length&&this._applySeriesOpacity(o.children,e,r,o.series)}},e.prototype._chartInstanceFromPoint=function(t){for(var e=t.parent;e&&!e.plotArea;)e=e.parent;return e},e.prototype._hasInactiveOpacity=function(){var t=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,e=this.options.series.filter((function(t){return void 0!==t.highlight.inactiveOpacity})).length>0;return t||e},e.prototype._getInactiveOpacityForSeries=function(t){var e=this.options.seriesDefaults.highlight.inactiveOpacity;return t.highlight.inactiveOpacity||e||t.opacity||1},e.prototype._getDefaultOpacityForSeries=function(t){return t.defaultOpacity||t.opacity||1},e.prototype._mouseover=function(t){var e,r=this._startHover(t.element,t.originalEvent);r&&r.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),dl(document,((e={}).mousemove=this._mouseMoveTrackHandler,e)))},e.prototype._mouseMoveTracking=function(t){var e,r=this,n=r.options,i=r._tooltip,o=r._highlight,s=r._activePoint,a=this._eventCoordinates(t);if(this._plotArea.box.containsPoint(a)){if(s&&s.tooltipTracking&&s.series&&s.parent.getNearestPoint){var l=s.parent.getNearestPoint(a.x,a.y,s.seriesIx);if(l&&l!==s)if(this._activePoint=l,!l.hover(this,t))Hs({},n.tooltip,l.options.tooltip).visible&&i.show(l),o.show(l)}}else _l(document,((e={}).mousemove=this._mouseMoveTrackHandler,e)),this._unsetActivePoint(),this._mouseMoveTrackHandler=null},e.prototype._mousemove=function(t){var e=this._eventCoordinates(t),r=this._plotArea;if(this._trackCrosshairs(e),r.hover){var n=r.backgroundContainsPoint(e);n?(r.hovered=!0,this._plotArea.hover(this,t)):r.hovered&&!n&&(this.trigger(Df),r.hovered=!1)}this._sharedTooltip()&&this._trackSharedTooltip(e,t)},e.prototype._trackCrosshairs=function(t){for(var e=this._plotArea.crosshairs,r=0;r<e.length;r++){var n=e[r];n.box.containsPoint(t)?n.showAt(t):n.hide()}},e.prototype._trackSharedTooltip=function(t,e,r){if(!this._suppressHover){var n=this,i=n.options.tooltip,o=n._plotArea,s=n._plotArea.categoryAxis,a=n._tooltip,l=n._highlight;if(o.backgroundContainsPoint(t)){var c=s.pointCategoryIndex(t);if(c!==this._tooltipCategoryIx||!this._sharedHighlight&&r){var h=o.pointsByCategoryIndex(c),u=h.map((function(t){return t.eventArgs(e)})),p=u[0]||{};p.categoryPoints=u,h.length>0&&!this.trigger(If,p)?(i.visible&&a.showAt(h,t),l.show(h),this._sharedHighlight=!0):a.hide(),this._tooltipCategoryIx=c}else r&&this._sharedHighlight&&(l.hide(),a.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(l.hide(),a.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}},e.prototype.hideElements=function(t){var e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint(t)},e.prototype._unsetActivePoint=function(t){var e=this._tooltip,r=this._highlight;this._activePoint=null,this._hoveredPoint=null,!e||t&&t.keepTooltipOpen||e.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,r&&r.hide()},e.prototype._deferRedraw=function(){this._redraw()},e.prototype._clearRedrawTimeout=function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},e.prototype.bindCategories=function(){for(var t=this.options,e=[].concat(t.categoryAxis),r=0;r<e.length;r++){var n=e[r];!1!==n.autoBind&&this.bindCategoryAxisFromSeries(n,r)}},e.prototype.bindCategoryAxisFromSeries=function(t,e){for(var r,n=this.options.series,i=n.length,o=new sa,s=[],a=!1,l=0;l<i;l++){var c=n[l],h=c.categoryAxis===t.name||!c.categoryAxis&&0===e,u=c.data,p=u.length,d=c.categoryField&&h;if(a=d||a,d&&p>0)for(var f=(r=Um(t,Fd(c.categoryField,u[0])))?zm:Fd,g=0;g<p;g++){var m=u[g],y=f(c.categoryField,m,this.chartService.intl);!r&&o.get(y)||(s.push([y,m]),r||o.set(y,!0))}}if(s.length>0){r&&(s=function(t,e){void 0===e&&(e=Ap);for(var r=function(t,e){void 0===e&&(e=Ap);for(var r=1,n=t.length;r<n;r++)if(e(t[r],t[r-1])<0){t.sort(e);break}return t}(t,e),n=r.length,i=n>0?[r[0]]:[],o=1;o<n;o++)0!==e(r[o],xl(i))&&i.push(r[o]);return i}(s,(function(t,e){return Ap(t[0],e[0])})));var v=function(t){for(var e=t.length,r=[],n=0;n<e;n++)for(var i=t[n],o=i.length,s=0;s<o;s++)r[s]=r[s]||[],r[s].push(i[s]);return r}(s);t.categories=v[0]}else a&&(t.categories=[])},e.prototype._isBindable=function(t){for(var e=Rd.current.valueFields(t),r=!0,n=0;n<e.length;n++){var i=e[n];if(i===_s?i="field":i+="Field",!fl(t[i])){r=!1;break}}return r},e.prototype._noTransitionsRedraw=function(){var t,e=this.options;!1!==e.transitions&&(e.transitions=!1,t=!0),this._redraw(),t&&(e.transitions=!0)},e.prototype._legendItemHover=function(t,e){var r,n=this._plotArea,i=this._highlight,o=(n.srcSeries||n.series)[t];if(r=aa(o.type,[df,af,lf])?n.findPoint((function(r){return r.series.index===t&&r.index===e})):n.pointsBySeriesIndex(t),this._hasInactiveOpacity()&&o.visible&&r){var s=n.series.length>1,a=r.length?r[0]:r;this._displayInactiveOpacity(a,s,r)}else i.show(r)},e.prototype._shouldAttachMouseMove=function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([Ff,Df])},e.prototype.updateMouseMoveHandler=function(){var t,e;_l(this.element,((t={}).mousemove=this._mousemove,t)),this._shouldAttachMouseMove()&&dl(this.element,((e={}).mousemove=this._mousemove,e))},e.prototype.applyOptions=function(t,e){Jx(this._originalOptions,t),this._originalOptions=Hs(this._originalOptions,t),this.options=Hs({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()},e.prototype.setOptions=function(t,e){this.applyOptions(t,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()},e.prototype.setDirection=function(t){this.chartService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&this._destroySurface()},e.prototype.setIntlService=function(t){this.chartService.intl=t},e.prototype.noTransitionsRedraw=function(){this._noTransitionsRedraw()},e.prototype.destroy=function(){var t,e;this._destroyed=!0,_l(this.element,((t={}).contextmenu=this._clickHandler,t[Yf]=this._mousewheelHandler,t.mousemove=this._mousemove,t.mouseleave=this._mouseleaveHandler,t)),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&_l(document,((e={}).mousemove=this._mouseMoveTrackHandler,e)),this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()},e.prototype._destroySurface=function(){var t=this.surface;t&&(t.unbind("mouseenter",this._surfaceMouseenterHandler),t.unbind("mouseleave",this._surfaceMouseleaveHandler),t.destroy(),this.surface=null)},e.prototype._destroySelections=function(){var t=this._selections;if(t)for(;t.length>0;)t.shift().destroy()},e.prototype._destroyView=function(){var t=this._model;t&&(t.destroy(),this._model=null),this._unsetActivePoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)},e}(va);function Xx(t,e){if(t)for(var r=0;r<t.length;r++)if(t[r].category===e)return[t[r]]}function Gx(t){delete t.bar,delete t.column,delete t.rangeColumn,delete t.line,delete t.verticalLine,delete t.pie,delete t.donut,delete t.area,delete t.verticalArea,delete t.scatter,delete t.scatterLine,delete t.bubble,delete t.candlestick,delete t.ohlc,delete t.boxPlot,delete t.bullet,delete t.verticalBullet,delete t.polarArea,delete t.polarLine,delete t.radarArea,delete t.radarLine,delete t.waterfall}function Kx(t){for(var e={},r=0;r<t.length;r++){var n=t[r],i=n.options.name;i&&(e[i]=n.range())}return e}var Yx=["data","categories"];function Jx(t,e){for(var r in e)if(!aa(r,Yx)&&e.hasOwnProperty(r)){var n=e[r],i=t[r];if(fl(i)){var o=null===n;o||!fl(n)?(delete t[r],o&&delete e[r]):i&&Vs(n)&&Vs(i)&&Jx(i,n)}}}function Zx(t){for(var e=0;e<t.length;e++)t[e].notifyRender()}El(Wx,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:sf,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});const Qx=Wx;var tS=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._slotAnchor=function(t,e){var r=this.plotArea.categoryAxis.options.vertical,n=r?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};return{point:r?new ac(this.plotArea.box.x2,e.center().y):new ac(e.center().x,-2),align:n}},e.prototype._defaultAnchor=function(t,e){return this._slotAnchor({},e)},e}(bw);const eS=tS;var rS=[tf,nf];function nS(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];e[r]=n.style.display,n.style.display="none"}return e}function iS(t,e){for(var r=0;r<t.length;r++)t[r].style.display=e[r]}function oS(t){return Ns(t)?[t]:t}var sS=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._setElementClass=function(t){Is(t,"k-sparkline")},e.prototype._initElement=function(e){t.prototype._initElement.call(this,e),this._initialWidth=Math.floor(yl(e).width)},e.prototype._resize=function(){var e=this.element,r=nS(e.childNodes);this._initialWidth=Math.floor(yl(e).width),iS(e.childNodes,r),t.prototype._resize.call(this)},e.prototype._modelOptions=function(){var t=this.options,e=this._surfaceWrap(),r=nS(e.childNodes),n=document.createElement("span");n.innerHTML="&nbsp;",e.appendChild(n);var i=Hs({width:this._autoWidth,height:yl(e).height,transitions:t.transitions},t.chartArea,{inline:!0,align:!1});return yl(e,{width:i.width,height:i.height}),e.removeChild(n),iS(e.childNodes,r),this.surface&&this.surface.resize(),i},e.prototype._surfaceWrap=function(){if(!this.stage){var t=this.stage=document.createElement("span");this.element.appendChild(t)}return this.stage},e.prototype._createPlotArea=function(e){var r=t.prototype._createPlotArea.call(this,e);return this._autoWidth=this._initialWidth||this._calculateWidth(r),r},e.prototype._calculateWidth=function(t){for(var e=this.options,r=Ks(e.chartArea.margin),n=t.charts,i=this._surfaceWrap(),o=0,s=0;s<n.length;s++){var a=n[s],l=(a.options.series||[])[0];if(l){if(l.type===tf)return 150;if(l.type===nf)return 150;if(l.type===df)return yl(i).height;var c=a.categoryAxis;if(c){var h=c.categoriesCount()*(!a.options.isStacked&&aa(l.type,[sf,Tf])?a.seriesOptions.length:1);o=Math.max(o,h)}}}var u=o*e.pointWidth;return u>0&&(u+=r.left+r.right),u},e.prototype._createSharedTooltip=function(t){return new eS(this._plotArea,t)},e.normalizeOptions=function(t){var e=oS(t);return(e=Ps(e)?{seriesDefaults:{data:e}}:Hs({},e)).series||(e.series=[{data:oS(e.data)}]),Hs(e,{seriesDefaults:{type:e.type}}),(aa(e.series[0].type,rS)||aa(e.seriesDefaults.type,rS))&&(e=Hs({},{categoryAxis:{crosshair:{visible:!1}}},e)),e},e}(Qx);El(sS,{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});var aS=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this._initialOpacity=parseFloat(Gs(this.element,"opacity").opacity)},e.prototype.step=function(t){Gs(this.element,{opacity:String(ca(this._initialOpacity,0,t))})},e.prototype.abort=function(){t.prototype.abort.call(this),Gs(this.element,{display:"none",opacity:String(this._initialOpacity)})},e.prototype.cancel=function(){t.prototype.abort.call(this),Gs(this.element,{opacity:String(this._initialOpacity)})},e}(Yh);const lS=aS;function cS(t,e){var r=document.createElement("div");return r.className=t,e&&(r.style.cssText=e),r}var hS=function(t){function e(e,r,n){t.call(this),this.options=Hs({},this.options,n),this.container=e,this.chartService=r;var i=Gs(e,["paddingLeft","paddingTop"]);this.chartPadding={top:i.paddingTop,left:i.paddingLeft},this.createElements(),e.appendChild(this.element)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createElements=function(){var t=this.element=cS("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=cS("k-tooltip k-chart-tooltip"),r=this.scroll=cS("k-scroll");e.innerHTML="&nbsp;",t.appendChild(e),t.appendChild(r)},e.prototype.show=function(t,e,r){var n=this,i=n.element,o=n.options,s=n.scroll,a=n.tooltip,l=bp(_p(t)+_p(e-t)/2),c=.4*r.width(),h=r.center().x-c,u=(r.center().x-h)/(o.max-o.min),p=l-o.min,d=this.chartService.intl.format(o.format,t,e),f=Qs(o);this.clearHideTimeout(),this._visible||(Gs(i,{visibility:"hidden",display:"block"}),this._visible=!0),f&&(d=f({from:t,to:e})),a.innerHTML=d,Gs(a,{left:r.center().x-a.offsetWidth/2,top:r.y1});var g=Gs(a,["marginTop","borderTopWidth","height"]);Gs(s,{width:c,left:h+p*u,top:r.y1+g.marginTop+g.borderTopWidth+g.height/2}),Gs(i,{visibility:"visible"})},e.prototype.clearHideTimeout=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()},e.prototype.hide=function(){var t=this;this.clearHideTimeout(),this._hideTimeout=setTimeout((function(){t._visible=!1,t._hideAnimation=new lS(t.element),t._hideAnimation.setup(),t._hideAnimation.play()}),this.options.hideDelay)},e.prototype.destroy=function(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll},e}(va);El(hS,{format:"{0:d} - {1:d}",hideDelay:500});const uS=hS;var pS="_navigator",dS=pS,fS=function(t){function e(e){var r;t.call(this),this.chart=e;var n=this.options=Hs({},this.options,e.options.navigator),i=n.select;i&&(i.from=this.parseDate(i.from),i.to=this.parseDate(i.to)),fl(n.hint.visible)||(n.hint.visible=n.visible),this.chartObserver=new pa(this,((r={}).drag="_drag",r.dragEnd="_dragEnd",r.zoom="_zoom",r.zoomEnd="_zoomEnd",r)),e.addObserver(this.chartObserver)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseDate=function(t){return Pp(this.chart.chartService.intl,t)},e.prototype.clean=function(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)},e.prototype.destroy=function(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()},e.prototype.redraw=function(){this._redrawSelf(),this.initSelection()},e.prototype.initSelection=function(){var t,e=this.chart,r=this.options,n=this.mainAxis(),i=n.roundedRange(),o=i.min,s=i.max,a=r.select,l=a.from,c=a.to,h=a.mousewheel,u=(t=n,gS.prototype=t,new gS);0!==n.categoriesCount()&&(this.clean(),u.box=n.box,this.selection=new gw(e,u,{min:o,max:s,from:l||o,to:c||s,mousewheel:Tl(h,{zoom:"left"}),visible:r.visible},new pa(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),r.hint.visible&&(this.hint=new uS(e.element,e.chartService,{min:o,max:s,template:Qs(r.hint),format:r.hint.format})))},e.prototype.setRange=function(){var t=this.chart._createPlotArea(!0).namedCategoryAxes._navigator.roundedRange(),e=t.min,r=t.max,n=this.options.select||{},i=n.from||e;i<e&&(i=e);var o=n.to||r;o>r&&(o=r),this.options.select=Hs({},n,{from:i,to:o}),this.filterAxes()},e.prototype._redrawSelf=function(t){var e=this.chart._plotArea;e&&e.redraw(xl(e.panes),t)},e.prototype.redrawSlaves=function(){var t=this.chart,e=t._plotArea,r=e.panes.slice(0,-1);e.srcSeries=t.options.series,e.options.categoryAxis=t.options.categoryAxis,e.clearSeriesPointsCache(),e.redraw(r)},e.prototype._drag=function(t){var e,r=this.chart,n=this.selection,i=r._eventCoordinates(t.originalEvent),o=this.mainAxis(),s=o.roundedRange(),a=o.pane.box.containsPoint(i),l=r._plotArea.categoryAxis,c=t.axisRanges[l.options.name],h=this.options.select;if(c&&!a&&n){e=h.from&&h.to?_p(h.to)-_p(h.from):_p(n.options.to)-_p(n.options.from);var u=bp(Sl(_p(c.min),s.min,_p(s.max)-e)),p=bp(Sl(_p(u)+e,_p(s.min)+e,s.max));this.options.select={from:u,to:p},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),n.set(u,p),this.showHint(u,p)}},e.prototype._dragEnd=function(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()},e.prototype.readSelection=function(){var t=this.selection.options,e=t.from,r=t.to,n=this.options.select;n.from=e,n.to=r},e.prototype.filterAxes=function(){var t=this.options.select;void 0===t&&(t={});for(var e=this.chart.options.categoryAxis,r=t.from,n=t.to,i=0;i<e.length;i++){var o=e[i];o.pane!==pS&&(o.min=r,o.max=n)}},e.prototype.filter=function(){var t=this.chart,e=this.options.select;if(t.requiresHandlers(["navigatorFilter"])){var r=this.mainAxis(),n={from:e.from,to:e.to};if("category"!==r.options.type){var i=new Wp(Hs({baseUnit:"fit"},t.options.categoryAxis[0],{categories:[e.from,e.to]}),t.chartService).options;n.from=xp(i.min,-i.baseUnitStep,i.baseUnit),n.to=xp(i.max,i.baseUnitStep,i.baseUnit)}this.chart.trigger("navigatorFilter",n)}},e.prototype._zoom=function(t){var e=this,r=e.chart._plotArea.categoryAxis,n=e.selection,i=e.options,o=i.select,s=i.liveDrag,a=this.mainAxis(),l=t.delta;if(n){var c=a.categoryIndex(n.options.from),h=a.categoryIndex(n.options.to),u=this.chart._eventCoordinates(t.originalEvent);t.originalEvent.preventDefault(),Math.abs(l)>1&&(l*=3),h-c>1?(n.zoom(l,u),this.readSelection()):(r.options.min=o.from,o.from=r.scaleRange(-t.delta*this.chart._mousewheelZoomRate(),u).min),s&&(this.filterAxes(),this.redrawSlaves()),n.set(o.from,o.to),this.showHint(this.options.select.from,this.options.select.to)}},e.prototype._zoomEnd=function(t){this._dragEnd(t)},e.prototype.showHint=function(t,e){var r=this.chart._plotArea;this.hint&&this.hint.show(t,e,r.backgroundBox())},e.prototype._selectStart=function(t){return this.chart._selectStart(t)},e.prototype._select=function(t){return this.showHint(t.from,t.to),this.chart._select(t)},e.prototype._selectEnd=function(t){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(t)},e.prototype.mainAxis=function(){var t=this.chart._plotArea;if(t)return t.namedCategoryAxes._navigator},e.prototype.select=function(t,e){var r=this.options.select;return t&&e&&(r.from=this.parseDate(t),r.to=this.parseDate(e),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(t,e)),{from:r.from,to:r.to}},e.setup=function(t,r){if(void 0===t&&(t={}),void 0===r&&(r={}),!t.__navi){t.__navi=!0;var n=Hs({},r.navigator,t.navigator),i=t.panes=[].concat(t.panes),o=Hs({},n.pane,{name:pS});n.visible||(o.visible=!1,o.height=.1),i.push(o),e.attachAxes(t,n),e.attachSeries(t,n,r)}},e.attachAxes=function(t,e){var r=e.series||[],n=t.categoryAxis=[].concat(t.categoryAxis),i=t.valueAxis=[].concat(t.valueAxis),o=0===jm(r,Pf).length,s=Hs({type:"date",pane:pS,roundToBaseUnit:!o,justified:o,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:e.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),a=e.categoryAxis;n.push(Hs({},s,{maxDateGroups:200},a,{name:dS,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),Hs({},s,a,{name:"_navigator_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),Hs({},s,a,{name:"_navigator_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),i.push(Hs({name:dS,pane:pS,majorGridLines:{visible:!1},visible:!1},e.valueAxis))},e.attachSeries=function(t,e,r){for(var n=t.series=t.series||[],i=[].concat(e.series||[]),o=r.seriesColors,s=e.seriesDefaults,a=0;a<i.length;a++)n.push(Hs({color:o[a%o.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},s,i[a],{axis:dS,categoryAxis:dS,autoBind:e.autoBindElements}))},e}(va);function gS(){}const mS=fS;var yS=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyDefaults=function(e,r){var n=yl(this.element).width||600,i=r,o={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(n/28)}}};i&&(i=Hs({},i,o)),mS.setup(e,i),t.prototype.applyDefaults.call(this,e,i)},e.prototype._setElementClass=function(t){Is(t,"k-chart k-stockchart")},e.prototype.setOptions=function(e){this.destroyNavigator(),t.prototype.setOptions.call(this,e)},e.prototype.noTransitionsRedraw=function(){var t=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=t},e.prototype._resize=function(){this.noTransitionsRedraw()},e.prototype._redraw=function(){var t=this.navigator;!this._dirty()&&t&&t.options.partialRedraw?t.redrawSlaves():this._fullRedraw()},e.prototype._dirty=function(){var t=this.options,e=na([].concat(t.series,t.navigator.series),(function(t){return t&&t.visible})).length,r=this._seriesCount!==e;return this._seriesCount=e,r},e.prototype._fullRedraw=function(){var e=this.navigator;e||(e=this.navigator=new mS(this),this.trigger("navigatorCreated",{navigator:e})),e.clean(),e.setRange(),t.prototype._redraw.call(this),e.initSelection()},e.prototype._trackSharedTooltip=function(e){var r=this._plotArea.paneByPoint(e);r&&r.options.name===pS?this._unsetActivePoint():t.prototype._trackSharedTooltip.call(this,e)},e.prototype.bindCategories=function(){t.prototype.bindCategories.call(this),this.copyNavigatorCategories()},e.prototype.copyNavigatorCategories=function(){for(var t,e=[].concat(this.options.categoryAxis),r=0;r<e.length;r++){var n=e[r];n.name===dS?t=n.categories:t&&n.pane===pS&&(n.categories=t)}},e.prototype.destroyNavigator=function(){this.navigator&&(this.navigator.destroy(),this.navigator=null)},e.prototype.destroy=function(){this.destroyNavigator(),t.prototype.destroy.call(this)},e.prototype._stopChartHandlers=function(e){var r=this._eventCoordinates(e),n=this._plotArea.paneByPoint(r);return t.prototype._stopChartHandlers.call(this,e)||n&&n.options.name===pS},e.prototype._toggleDragZoomEvents=function(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)},e}(Qx);El(yS,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});const vS=yS;var bS=150,wS="arrowPointer",xS="barPointer",SS=.5,kS=Math.PI/180,AS="inside",CS="linear",_S="outside",TS="radialPointer",OS="radialRangePointer";function MS(t,e){var r=t.getOrigin(),n=t.getSize(),i=Ks(e);return t.setOrigin([r.x-i.left,r.y-i.top]),t.setSize([n.width+(i.left+i.right),n.height+(i.top+i.bottom)]),t}var ES=zh,PS=Th,IS=ku;function FS(t,e){var r=t.box,n=t.children[0].box,i=e.border||{},o=e.background||"",s=PS.fromRect(new bc([r.x1,r.y1],[r.width(),r.height()]),{stroke:{}}),a=new IS(t.text,new gc(n.x1,n.y1),{font:e.font,fill:{color:e.color}}),l=MS(a.bbox().clone(),e.padding),c=PS.fromRect(l,{stroke:{color:i.width?i.color:"",width:i.width,opacity:i.opacity,dashType:i.dashType,lineJoin:"round",lineCap:"round"},fill:{color:o}}),h=new ES;return h.append(s),h.append(c),h.append(a),h}function DS(t,e,r){var n=fl(t.from)?t.from:vs,i=fl(t.to)?t.to:ys;return t.from=Math.max(Math.min(i,n),e),t.to=Math.min(Math.max(i,n),r),t}function RS(t,e){var r=Ks(e);return r.left=-r.left,r.top=-r.top,r.right=-r.right,r.bottom=-r.bottom,MS(t,r)}var LS=Th,NS=Nb,BS=function(t){function e(e,r,n,i){void 0===i&&(i={}),t.call(this),this.element=e,this.theme=n,this.contextService=new Xu(this,i),this._originalOptions=Hs({},this.options,r),this.options=Hs({},this._originalOptions),this._initTheme(n),this.redraw()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement},e.prototype.value=function(t){var e=this.pointers[0];if(0===arguments.length)return e.value();e.value(t),this._setValueOptions(t)},e.prototype._draw=function(){var t=this.surface;t.clear(),t.draw(this._visuals)},e.prototype.exportVisual=function(){return this._visuals},e.prototype.allValues=function(t){var e=this.pointers,r=[];if(0===arguments.length){for(var n=0;n<e.length;n++)r.push(e[n].value());return r}if(Ps(t))for(var i=0;i<t.length;i++)Ns(t[i])&&e[i].value(t[i]);this._setValueOptions(t)},e.prototype._setValueOptions=function(t){for(var e=[].concat(this.options.pointer),r=[].concat(t),n=0;n<r.length;n++)e[n].value=r[n]},e.prototype.resize=function(){this.noTransitionsRedraw()},e.prototype.noTransitionsRedraw=function(){var t=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(t)},e.prototype.redraw=function(){var t=this._surfaceSize(),e=new bc([0,0],[t.width,t.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();var r=RS(e.bbox(),this._gaugeAreaMargin);this.reflow(r)},e.prototype.setOptions=function(t,e){this._originalOptions=Hs(this._originalOptions,t),this.options=Hs({},this._originalOptions),this._initTheme(e),this.redraw()},e.prototype.setDirection=function(t){this.contextService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)},e.prototype.setIntlService=function(t){this.contextService.intl=t},e.prototype._initTheme=function(t){var e=t||this.theme||{};this.theme=e,this.options=Hs({},e,this.options);var r=this.options,n=r.pointer;if(Ps(n)){for(var i=[],o=0;o<n.length;o++)i.push(Hs({},e.pointer,n[o]));r.pointer=i}},e.prototype._createGaugeArea=function(){var t=this.options.gaugeArea,e=this.surface.size(),r=t.border||{},n=new bc([0,0],[e.width,e.height]);return this._gaugeAreaMargin=t.margin||5,r.width>0&&(n=RS(n,r.width)),LS.fromRect(n,{stroke:{color:r.width?r.color:"",width:r.width,dashType:r.dashType,lineJoin:"round",lineCap:"round"},fill:{color:t.background}})},e.prototype._initSurface=function(){var t=this.options,e=this.surface,r=this._surfaceElement(),n=this._surfaceSize();yl(r,n),e&&e.options.type===t.renderAs?(this.surface.clear(),this.surface.resize()):(e&&e.destroy(),this.surface=NS.create(r,{type:t.renderAs}))},e.prototype._surfaceSize=function(){var t=this.options,e=this._getSize();return t.gaugeArea&&Hs(e,t.gaugeArea),e},e.prototype._surfaceElement=function(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement},e.prototype.getSize=function(){return this._getSize()},e.prototype._getSize=function(){var t=this.element,e=this._defaultSize(),r=t.offsetWidth,n=t.offsetHeight;return r||(r=e.width),n||(n=e.height),{width:r,height:n}},e.prototype._defaultSize=function(){return{width:200,height:200}},e.prototype._toggleTransitions=function(t){this.options.transitions=t;for(var e=0;e<this.pointers.length;e++)this.pointers[e].options.animation.transitions=t},e}(va);El(BS,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});const jS=BS;var zS=Th,US=zh,$S=gc;function HS(t,e){var r,n,i=t.position,o=t.tickX,s=t.tickY;return t.vertical?(r=new $S(o,i),n=new $S(o+e.size,i)):(r=new $S(i,s),n=new $S(i,s+e.size)),new zS({stroke:{color:e.color,width:e.width}}).moveTo(r).lineTo(n)}function VS(t,e,r,n){var i=e.length;if(n.visible)for(var o=r.mirror,s=r.lineBox,a=n.skip;a<i;a+=n.step)a%n.skipUnit!=0&&(r.tickX=o?s.x2:s.x2-n.size,r.tickY=o?s.y1-n.size:s.y1,r.position=e[a],t.append(HS(r,n)))}var qS=function(t){function e(e,r){var n=e||{};!fl(n.reverse)&&!1===n.vertical&&(r||{}).rtl&&(n=Object.assign({},n,{reverse:!0})),t.call(this,0,1,n,r),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=Hs({},this.options,t);return(e=Hs({},e,{labels:{mirror:e.mirror}})).majorUnit=e.majorUnit||oc(e.min,e.max),e},e.prototype.initFields=function(){},e.prototype.render=function(){var t=this.elements=new US,e=this.renderLabels(),r=this.renderLine(),n=this.renderTicks(),i=this.renderRanges();return t.append(r,e,n,i),t},e.prototype.renderRanges=function(){for(var t=this,e=this.options,r=e.min,n=e.max,i=e.vertical,o=e.labels.mirror,s=e.ranges||[],a=new US,l=s.length,c=e.rangeSize||e.minorTicks.size/2,h=0;h<l;h++){var u=DS(s[h],r,n),p=t.getSlot(u.from,u.to),d=i?t.lineBox():p,f=i?p:t.lineBox();i?d.x1-=c*(o?-1:1):f.y2+=c*(o?-1:1),a.append(zS.fromRect(new bc([d.x1,f.y1],[d.x2-d.x1,f.y2-f.y1]),{fill:{color:u.color,opacity:u.opacity},stroke:{}}))}return a},e.prototype.renderLabels=function(){for(var t=this.labels,e=this.options,r=new US,n=0;n<t.length;n++)r.append(FS(t[n],e.labels));return r},e.prototype.renderLine=function(){var t=this.options.line,e=this.lineBox(),r=new US;if(t.width>0&&t.visible){var n=new zS({stroke:{color:t.color,dashType:t.dashType,width:t.width}});n.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),r.append(n)}return r},e.prototype.renderTicks=function(){var t=new US,e=this.options,r=e.majorTicks.visible?e.majorUnit:0,n={vertical:e.vertical,mirror:e.labels.mirror,lineBox:this.lineBox()};return VS(t,this.getMajorTickPositions(),n,e.majorTicks),VS(t,this.getMinorTickPositions(),n,Hs({},{skipUnit:r/e.minorUnit},e.minorTicks)),t},e}(Qp);El(qS,{min:0,max:50,majorTicks:{size:15,align:AS,color:is,width:SS,visible:!0},minorTicks:{size:10,align:AS,color:is,width:SS,visible:!0},line:{width:SS},labels:{position:AS,padding:2},mirror:!1,_alignLines:!1});const WS=qS;var XS=function(t){function e(e,r){t.call(this);var n=e.options,i=n.min,o=n.max,s=this.options=Hs({},this.options,r);s.fill=s.color,this.scale=e,fl(s.value)?s.value=Sl(s.value,i,o):s.value=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.value=function(t){var e=this.options,r=e.value;if(0===arguments.length)return r;var n=this.scale.options,i=n.min,o=n.max;e._oldValue=fl(e._oldValue)?e.value:i,e.value=Sl(t,i,o),this.elements&&this.repaint()},e}(va);El(XS,{color:is});const GS=XS;var KS=function(t){function e(e,r){t.call(this,e,r),this.options=Hs({track:{visible:fl(r.track)}},this.options)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(){var t,e,r,n=this.options,i=this.scale,o=i.options,s=o.mirror,a=o.vertical,l=i.lineBox(),c=n.track.size||n.size,h=n.size/2,u=Ks(n.margin),p=a?u[s?"left":"right"]:u[s?"bottom":"top"];p=s?-p:p,a?(r=new Sc(l.x1+p,l.y1,l.x1+p,l.y2),s?r.x1-=c:r.x2+=c,n.shape!==xS&&(t=e=new Sc(l.x2+p,l.y1-h,l.x2+p,l.y2+h))):(r=new Sc(l.x1,l.y1-p,l.x2,l.y1-p),s?r.y2+=c:r.y1-=c,n.shape!==xS&&(t=e=new Sc(l.x1-h,l.y1-p,l.x2+h,l.y1-p))),this.trackBox=r,this.pointerRangeBox=e,this.box=t||r.clone().pad(n.border.width)},e.prototype.getElementOptions=function(){var t=this.options;return{fill:{color:t.color,opacity:t.opacity},stroke:fl(t.border)?{color:t.border.width?t.border.color||t.color:"",width:t.border.width,dashType:t.border.dashType,opacity:t.opacity}:null}},e.prototype._margin=function(){var t=this.scale,e=this.options,r=t.options,n=r.mirror,i=r.vertical,o=Ks(e.margin);return i?o[n?"left":"right"]:o[n?"bottom":"top"]},e}(GS);El(KS,{shape:xS,track:{border:{width:1}},color:is,border:{width:1},opacity:1,margin:Ks(3),animation:{type:xS},visible:!0});const YS=KS;var JS=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.options,e=t.margin,r=t.from,n=t.to,i=t.vertical,o=i?"x1":"y1";t.mirror===i?(r[o]-=e,n[o]-=e):(r[o]+=e,n[o]+=e);var s=this.fromScale=new gc(r.x1,r.y1),a=this.toScale=new gc(n.x1,n.y1);0!==t.duration&&(t.duration=Math.max(s.distanceTo(a)/t.duration*1e3,1))},e.prototype.step=function(t){var e=ca(this.fromScale.x,this.toScale.x,t),r=ca(this.fromScale.y,this.toScale.y,t);this.element.transform(Ic().translate(e,r))},e}(Yh);El(JS,{easing:CS,duration:250}),Gh.current.register(wS,JS);const ZS=JS;var QS=gc,tk=Th,ek=function(t){function e(e,r){t.call(this,e,r),fl(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointerShape=function(){var t=this.scale,e=this.options.size,r=e/2,n=t.options.mirror?-1:1;return t.options.vertical?[new QS(0,0-r),new QS(0-n*e,0),new QS(0,0+r)]:[new QS(0-r,0),new QS(0,0+n*e),new QS(0+r,0)]},e.prototype.repaint=function(){var t=this.scale,e=this.options,r=new ZS(this.elements,Hs(e.animation,{vertical:t.options.vertical,mirror:t.options.mirror,margin:this._margin(e.margin),from:t.getSlot(e._oldValue),to:t.getSlot(e.value)}));!1===e.animation.transitions&&(r.options.duration=0),r.setup(),r.play()},e.prototype.render=function(){var t=this.scale,e=this.options,r=this.getElementOptions(),n=this.pointerShape(e.value);e.animation.type=wS;var i=new tk({stroke:r.stroke,fill:r.fill}).moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).close(),o=t.getSlot(e.value);return i.transform(Ic().translate(o.x1,o.y1)),this.elements=i,i},e}(YS);const rk=ek;var nk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.options,e=this.axis=t.vertical?Es:Ms,r=this.to=t.newPoints[0][e],n=this.from=t.oldPoints[0][e];0!==t.duration&&(t.duration=Math.max(Math.abs(r-n)/t.speed*1e3,1)),this._set(n)},e.prototype.step=function(t){var e=ca(this.from,this.to,t);this._set(e)},e.prototype._set=function(t){var e="set"+this.axis.toUpperCase(),r=this.options.newPoints;r[0][e](t),r[1][e](t)},e}(Yh);El(nk,{easing:CS,speed:250}),Gh.current.register(xS,nk);const ik=nk;var ok=zh,sk=Th,ak=function(t){function e(e,r){t.call(this,e,r),fl(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointerShape=function(t){var e=this.scale,r=this.options,n=e.options,i=n.mirror,o=n.vertical,s=i===o?-1:1,a=r.size*s,l=e.getSlot(e.options.min),c=e.getSlot(t),h=o?Es:Ms,u=o?Ms:Es,p=this._margin()*s,d=new gc;d[h]=l[h+"1"],d[u]=l[u+"1"];var f=new gc;f[h]=c[h+"1"],f[u]=c[u+"1"],o?(d.translate(p,0),f.translate(p,0)):(d.translate(0,p),f.translate(0,p));var g=f.clone(),m=d.clone();return o?(g.translate(a,0),m.translate(a,0)):(g.translate(0,a),m.translate(0,a)),[d,f,g,m]},e.prototype.repaint=function(){var t=this.scale,e=this.options,r=this.pointerShape(e.value),n=this.pointerPath,i=this.pointerShape(e._oldValue);n.moveTo(r[0]).lineTo(r[1]).lineTo(r[2]).lineTo(r[3]).close();var o=new ik(n,Hs(e.animation,{reverse:t.options.reverse,vertical:t.options.vertical,oldPoints:[i[1],i[2]],newPoints:[r[1],r[2]]}));!1===e.animation.transitions&&(o.options.duration=0),o.setup(),o.play()},e.prototype.render=function(){var t=new ok,e=this.getElementOptions();this.options.track.visible&&t.append(this.renderTrack());var r=this.pointerPath=new sk({stroke:e.stroke,fill:e.fill});return t.append(r),this.elements=t,t},e.prototype.renderTrack=function(){var t=this.options.track,e=t.border||{},r=this.trackBox.clone().pad(e.width||0);return new sk.fromRect(r.toRect(),{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.width?e.color||t.color:"",width:e.width,dashType:e.dashType}})},e}(YS);const lk=ak;var ck=zh,hk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.pointers,r=t.origin.x,n=t.origin.y,i=new Sc(r,n,r+t.width(),n+t.height());this.scale.reflow(i),this._shrinkScaleWidth(i);for(var o=0;o<e.length;o++)e[o].reflow();this.bbox=this._getBox(i),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()},e.prototype._buildVisual=function(){var t=new ck,e=this.scale.render(),r=this.pointers;t.append(this.gaugeArea),t.append(e);for(var n=0;n<r.length;n++){var i=r[n];t.append(i.render()),i.value(i.options.value)}this._visuals=t},e.prototype._createModel=function(){var t=this.options,e=this.scale=new WS(t.scale,this.contextService);this.pointers=[];var r=t.pointer;r=Ps(r)?r:[r];for(var n=0;n<r.length;n++){var i=Hs({},r[n],{animation:{transitions:t.transitions}}),o="arrow"===i.shape?rk:lk;this.pointers.push(new o(e,i))}},e.prototype._defaultSize=function(){var t=this.options.scale.vertical;return{width:t?60:200,height:t?200:60}},e.prototype._getBox=function(t){for(var e,r=this.scale,n=this.pointers,i=t.center(),o=n[0].box.clone().wrap(r.box),s=0;s<n.length;s++)o.wrap(n[s].box.clone());return r.options.vertical?(e=o.width()/2,o=new Sc(i.x-e,t.y1,i.x+e,t.y2)):(e=o.height()/2,o=new Sc(t.x1,i.y-e,t.x2,i.y+e)),o},e.prototype._alignElements=function(){for(var t,e=this.scale,r=this.pointers,n=e.box,i=r[0].box.clone().wrap(e.box),o=this.bbox,s=0;s<r.length;s++)i.wrap(r[s].box.clone());e.options.vertical?(t=o.center().x-i.center().x,e.reflow(new Sc(n.x1+t,o.y1,n.x2+t,o.y2))):(t=o.center().y-i.center().y,e.reflow(new Sc(n.x1,n.y1+t,n.x2,n.y2+t)));for(var a=0;a<r.length;a++)r[a].reflow(this.bbox)},e.prototype._shrinkScaleWidth=function(t){var e=this.scale;if(!e.options.vertical){var r=e.contentBox().width()-t.width();r>0&&(e.box.shrink(r,0),e.box.alignTo(t,"center"),e.reflow(e.box))}},e.prototype._shrinkElements=function(){for(var t=this.scale,e=this.pointers,r=t.box.clone(),n=t.options.vertical?"y":"x",i=e[0].box,o=0;o<e.length;o++)i.wrap(e[o].box.clone());r[n+1]+=Math.max(r[n+1]-i[n+1],0),r[n+2]-=Math.max(i[n+2]-r[n+2],0),t.reflow(r);for(var s=0;s<e.length;s++)e[s].reflow(this.bbox)},e}(jS);El(hk,{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});const uk=hk;var pk=function(t){function e(e,r){void 0===e&&(e=new Nc),void 0===r&&(r={}),t.call(this,r),this.geometry(e),Ds(this.options.stroke)||this.stroke("#000")}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={nodeType:{configurable:!0}};return r.nodeType.get=function(){return"Arc"},e.prototype._bbox=function(t){return this._geometry.bbox(t)},e.prototype.rawBBox=function(){return this.geometry().bbox()},e.prototype.toPath=function(){var t=new Th,e=this.geometry().curvePoints();if(e.length>0){t.moveTo(e[0].x,e[0].y);for(var r=1;r<e.length;r+=3)t.curveTo(e[r],e[r+1],e[r+2])}return t},e.prototype._containsPoint=function(t){return this.geometry().containsPoint(t)},e.prototype._isOnPath=function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)},Object.defineProperties(e.prototype,r),e}(Qc(eh(Rh(Zc))));var dk=180,fk=pk,gk=Th,mk=zh;function yk(t,e,r,n){var i=new mk,o=t.center,s=t.getRadiusX();if(n.visible)for(var a=0;a<e.length;a++){var l=t.pointAt(e[a]),c=new gc(o.x+s-n.size,o.y).rotate(e[a],o);i.append(new gk({stroke:{color:n.color,width:n.width}}).moveTo(l).lineTo(c))}return i}function vk(t,e,r,n){return{from:t,to:e,color:r,opacity:n}}var bk=function(t){function e(e,r){t.call(this,0,1,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=Hs({},this.options,t);return e.majorUnit=e.majorUnit||oc(e.min,e.max),e.minorUnit=e.minorUnit||e.majorUnit/10,e},e.prototype.initFields=function(){},e.prototype.render=function(t,e){var r=this.renderArc(t,e);this.bbox=r.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()},e.prototype.reflow=function(t){var e=t.center(),r=Math.min(t.height(),t.width())/2;if(!fl(this.bbox))return this.render(e,r);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()},e.prototype.slotAngle=function(t){var e=this.options,r=e.min,n=e.max,i=e.reverse,o=e.startAngle,s=e.endAngle,a=s-o;return(i?s-(t-r)/(n-r)*a:(t-r)/(n-r)*a+o)+dk},e.prototype.hasRanges=function(){var t=this.options.ranges;return t&&t.length},e.prototype.ticksSize=function(){var t=this.options,e=t.majorTicks,r=t.minorTicks,n=0;return e.visible&&(n=e.size),r.visible&&(n=Math.max(r.size,n)),n},e.prototype.labelsCount=function(){var e=t.prototype.labelsCount.call(this),r=this.options;return r.endAngle-r.startAngle>=360&&r.max%r.majorUnit==0&&(e-=1),e},e.prototype.renderLabels=function(){var t=this,e=this.options,r=this.arc.clone(),n=r.getRadiusX(),i=this.tickAngles(r,e.majorUnit),o=e.rangeSize=e.rangeSize||.1*n,s=new mk,a=.05*n;fl(e.rangeDistance)?a=e.rangeDistance:e.rangeDistance=a;var l=e.labels,c=l.position===AS,h=fl(this.labelElements);c&&(n-=this.ticksSize(),this.hasRanges()&&!h&&(n-=o+a),r.setRadiusX(n).setRadiusY(n));for(var u=this.labels,p=u.length,d=Ks(l.padding),f=(d.left+d.right)/2,g=(d.top+d.bottom)/2,m=0;m<p;m++){var y=u[m],v=y.box.width()/2,b=y.box.height()/2,w=i[m],x=(w-dk)*kS,S=r.pointAt(w),k=S.x+Math.cos(x)*(v+f)*(c?1:-1),A=S.y+Math.sin(x)*(b+g)*(c?1:-1);y.reflow(new Sc(k-v,A-b,k+v,A+b));var C=new gc(y.box.x1,y.box.y1),_=void 0;if(h){var T=(_=t.labelElements.children[m]).bbox().origin,O=_.transform()||Ic();O.translate(C.x-T.x,C.y-T.y),_.transform(O)}else _=FS(y,e.labels),s.append(_);t.bbox=bc.union(t.bbox,_.bbox())}return s},e.prototype.repositionRanges=function(){var t=this.ranges.children;if(t.length>0){var e=this.options,r=e.rangeDistance,n=e.rangeSize,i=this.getRangeRadius();this.options.labels.position===AS&&(i+=n+r);for(var o=i+n/2,s=0;s<t.length;s++)t[s]._geometry.setRadiusX(o).setRadiusY(o);this.bbox=bc.union(this.bbox,this.ranges.bbox())}},e.prototype.renderRanges=function(){var t=this,e=this.rangeSegments(),r=e.length,n=new mk;if(r){var i=this.options,o=i.rangeSize,s=i.reverse,a=i.rangeDistance,l=this.getRangeRadius();this.radius(this.radius()-o-a);for(var c=0;c<r;c++){var h=e[c],u=t.slotAngle(h[s?"to":"from"]),p=t.slotAngle(h[s?"from":"to"]);p-u!=0&&n.append(t.createRange(u,p,l,h))}}return n},e.prototype.createRange=function(t,e,r,n){var i=this.options.rangeSize,o=new Nc(this.arc.center,{radiusX:r+i/2,radiusY:r+i/2,startAngle:t,endAngle:e});return new fk(o,{stroke:{width:i,color:n.color,opacity:n.opacity,lineCap:n.lineCap}})},e.prototype.rangeSegments=function(){var t=this.options,e=t.ranges||[],r=e.length,n=[];if(r){var i=t.min,o=t.max,s=t.rangePlaceholderColor;n.push(vk(i,o,s));for(var a=0;a<r;a++)for(var l=DS(e[a],i,o),c=n.length,h=0;h<c;h++){var u=n[h];if(u.from<=l.from&&l.from<=u.to){n.push(vk(l.from,l.to,l.color,l.opacity)),u.from<=l.to&&l.to<=u.to&&n.push(vk(l.to,u.to,s,l.opacity)),u.to=l.from;break}}}return n},e.prototype.getRangeRadius=function(){var t=this.arc,e=this.options,r=e.rangeSize,n=e.rangeDistance,i=e.majorTicks.size;return e.labels.position===_S?t.getRadiusX()-i-n-r:t.getRadiusX()-r},e.prototype.renderArc=function(t,e){var r=this.options;return this.arc=new Nc(t,{radiusX:e,radiusY:e,startAngle:r.startAngle+dk,endAngle:r.endAngle+dk})},e.prototype.renderTicks=function(){var t=this.arc,e=this.options,r=t.clone();this.majorTickAngles=this.tickAngles(t,e.majorUnit),this.majorTicks=yk(r,this.majorTickAngles,e.majorUnit,e.majorTicks);var n=new mk;n.append(this.majorTicks);var i=e.majorTicks.size,o=e.minorTicks.size;if(this._tickDifference=i-o,e.labels.position===_S){var s=r.getRadiusX();r.setRadiusX(s-i+o).setRadiusY(s-i+o)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(t,e.minorUnit)),this.minorTicks=yk(r,this.minorTickAngles,e.minorUnit,e.minorTicks),n.append(this.minorTicks),n},e.prototype.normalizeTickAngles=function(t){for(var e=this.options,r=e.majorUnit/e.minorUnit,n=t.length-1;n>=0;n--)n%r==0&&t.splice(n,1);return t},e.prototype.tickAngles=function(t,e){var r=this.options,n=r.reverse,i=r.max-r.min,o=t.endAngle-t.startAngle,s=i/e,a=t.startAngle,l=o/s;n&&(a+=o,l=-l),o>=360&&r.max%e==0&&(s-=1);for(var c=[],h=0;h<s;h++)c.push(Cl(a,3)),a+=l;return Cl(a)<=t.endAngle&&c.push(a),c},e.prototype.radius=function(t){if(!t)return this.arc.getRadiusX();this.arc.setRadiusX(t).setRadiusY(t),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)},e.prototype.repositionTicks=function(t,e,r){var n=r&&this._tickDifference||0,i=this.arc,o=i.getRadiusX();r&&this.options.labels.position===_S&&0!==n&&(i=this.arc.clone()).setRadiusX(o-n).setRadiusY(o-n);for(var s=0;s<t.length;s++){var a=i.pointAt(e[s]),l=t[s].segments,c=a.x-l[0].anchor().x,h=a.y-l[0].anchor().y;t[s].transform((new Ic).translate(c,h))}},e}(Qp);El(bk,{min:0,max:100,majorTicks:{size:15,align:AS,color:is,width:SS,visible:!0},minorTicks:{size:10,align:AS,color:is,width:SS,visible:!0},startAngle:-30,endAngle:210,labels:{position:AS,padding:2}});const wk=bk;var xk=function(t){function e(e,r){t.call(this,e,r);var n=this.options;n.duration=Math.max(Math.abs(n.newAngle-n.oldAngle)/n.duration*1e3,1)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.step=function(t){var e=this.options,r=ca(e.oldAngle,e.newAngle,t);this.element.transform(Ic().rotate(r,e.center))},e}(Yh);El(xk,{easing:CS,duration:bS}),Gh.current.register(TS,xk);const Sk=xk;var kk=Nh,Ak=zh,Ck=Th,_k=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setAngle=function(t){this.elements.transform(Ic().rotate(t,this.center))},e.prototype.repaint=function(){var t=this.scale,e=this.options,r=t.slotAngle(e._oldValue),n=t.slotAngle(e.value);!1===e.animation.transitions?this.setAngle(n):new Sk(this.elements,Hs(e.animation,{oldAngle:r,newAngle:n})).play()},e.prototype.render=function(){var t=this.scale,e=this.options,r=new Ak;return!1!==e.animation&&Hs(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),r.append(this._renderNeedle(),this._renderCap()),this.elements=r,this.setAngle(kS),r},e.prototype.reflow=function(t){var e=this.center=t.center,r=Sl(this.options.length||1,.1,1.5),n=this.radius=t.getRadiusX()*r,i=this.capSize=Math.round(n*this.options.cap.size);this.bbox=bc.fromPoints(new gc(e.x-i,e.y-i),new gc(e.x+i,e.y+i))},e.prototype._renderNeedle=function(){var t=this.scale.options.minorTicks.size,e=this.center,r=this.options.color,n=new Ck({fill:{color:r},stroke:{color:r,width:SS}});return n.moveTo(e.x+this.radius-t,e.y).lineTo(e.x,e.y-this.capSize/2).lineTo(e.x,e.y+this.capSize/2).close(),n},e.prototype._renderCap=function(){var t=this.options,e=t.cap.color||t.color,r=new Fh(this.center,this.capSize);return new kk(r,{fill:{color:e},stroke:{color:e}})},e}(GS);El(_k,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:TS,duration:bS}});const Tk=_k;var Ok=zh,Mk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,r=this.pointers;this.scale.reflow(t),this._initialPlotArea=this.scale.bbox;for(var n=0;n<r.length;n++)r[n].reflow(e.scale.arc),e._initialPlotArea=bc.union(e._initialPlotArea,r[n].bbox);this.fitScale(t),this.alignScale(t),this._buildVisual(this.gaugeArea,r,this.scale),this._draw()},e.prototype._buildVisual=function(t,e,r){var n=this._visuals=new Ok;n.append(t),n.append(r.ticks),n.append(r.ranges),this._buildPointers(e),n.append(r.labelElements)},e.prototype._buildPointers=function(t){for(var e=0;e<t.length;e++){var r=t[e];r.render(),this._visuals.append(r.elements),r.value(r.options.value)}},e.prototype.fitScale=function(t){for(var e,r,n,i,o,s=this,a=this.scale.arc,l=this._initialPlotArea,c=Math.abs(this.getDiff(l,t)),h=Cl(c,3),u=Cl(-c,3),p=0,d=0;!(!(d++<100)||(p=o===n?p+1:0)>5||h!==i&&0<=(e=s.getPlotBox(h,t,a))&&e<=2||u!==i&&0<=(n=s.getPlotBox(u,t,a))&&n<=2||(i=e>0&&n>0?2*h:e<0&&n<0?2*u:Cl((h+u)/2||1,3),0<=(r=s.getPlotBox(i,t,a))&&r<=2));)o=n,r>0?(u=i,n=r):(h=i,e=r)},e.prototype.getPlotBox=function(t,e,r){var n=this.scale,i=this.pointers,o=r.getRadiusX(),s=r.clone();s.setRadiusX(o+t).setRadiusY(o+t),n.arc=s,n.reflow(e),this.plotBbox=n.bbox;for(var a=0;a<i.length;a++)i[a].reflow(s),this.plotBbox=bc.union(this.plotBbox,i[a].bbox);return this.getDiff(this.plotBbox,e)},e.prototype.getDiff=function(t,e){return Math.min(e.width()-t.width(),e.height()-t.height())},e.prototype.alignScale=function(t){var e=this.plotBbox.center(),r=t.center(),n=e.x-r.x,i=e.y-r.y,o=this.scale,s=this.pointers;o.arc.center.x-=n,o.arc.center.y-=i,o.reflow(t);for(var a=0;a<s.length;a++)s[a].reflow(o.arc),this.plotBbox=bc.union(o.bbox,s[a].bbox)},e.prototype._createModel=function(){var t=this.options,e=t.pointer,r=this.scale=new wk(t.scale,this.contextService);this.pointers=[];for(var n=Ps(e)?e:[e],i=0;i<n.length;i++){var o=new Tk(r,Hs({},n[i],{animation:{transitions:t.transitions}}));this.pointers.push(o)}},e}(jS);El(Mk,{transitions:!0,gaugeArea:{background:""}});const Ek=Mk;var Pk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rangeSegments=function(){var t=this.options;return[{from:t.min,to:t.max,color:t.rangePlaceholderColor,lineCap:t.rangeLineCap}]},e.prototype.hasRanges=function(){return!0},e.prototype.placeholderRangeAngle=function(t){var e=this.ranges.children[0].geometry();this.options.reverse?e.setEndAngle(t):e.setStartAngle(t)},e.prototype.addRange=function(t,e,r){var n=this.options.reverse,i=this.slotAngle(n?e:t),o=this.slotAngle(n?t:e),s=this.createRange(i,o,this.getRangeRadius(),r);return this.ranges.append(s),s},e}(wk);El(Pk,{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});const Ik=Pk;var Fk=function(t){function e(e,r){t.call(this,e,r);var n=this.options,i=Math.abs(n.newAngle-n.oldAngle)/n.duration*1e3;n.duration=Sl(i,bS,800);var o=e.elements.options.get("stroke.color"),s=e.currentColor();o!==s&&(this.startColor=new Kl(o),this.color=new Kl(s))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.step=function(t){var e=this,r=e.options,n=e.startColor,i=e.color,o=ca(r.oldAngle,r.newAngle,t);if(this.element.angle(o),i){var s=Cl(ca(n.r,i.r,t)),a=Cl(ca(n.g,i.g,t)),l=Cl(ca(n.b,i.b,t));this.element.stroke(new Kl(s,a,l).toHex())}},e}(Yh);El(Fk,{easing:CS,duration:bS}),Gh.current.register(OS,Fk);const Dk=Fk;var Rk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.repaint=function(){var t=this.scale,e=this.options,r=t.slotAngle(e._oldValue),n=t.slotAngle(e.value);this.animation&&this.animation.abort(),!1===e.animation.transitions?(this.angle(n),this.stroke(this.currentColor())):(this.animation=new Dk(this,Hs(e.animation,{oldAngle:r,newAngle:n})),this.animation.play())},e.prototype.angle=function(t){var e=this.elements.geometry();this.scale.options.reverse?e.setStartAngle(t):e.setEndAngle(t),this.scale.placeholderRangeAngle(t)},e.prototype.stroke=function(t){this.elements.stroke(t)},e.prototype.render=function(){if(!this.elements){var t=this.scale,e=this.options;!1!==e.animation&&Hs(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),this.elements=t.addRange(t.options.min,this.options.value,{color:this.currentColor(),opacity:e.opacity,lineCap:t.options.rangeLineCap})}},e.prototype.currentColor=function(){var t=this.scale.options,e=t.min,r=t.max,n=this.options,i=n.colors,o=n.color,s=n.value,a=Ns(s)?s:e;if(i)for(var l=0;l<i.length;l++){var c=i[l],h=c.color,u=c.from;void 0===u&&(u=e);var p=c.to;if(void 0===p&&(p=r),u<=a&&a<=p)return h}return o},e.prototype.reflow=function(){this.render(),this.bbox=this.elements.bbox()},e}(GS);El(Rk,{animation:{type:OS,duration:bS}});const Lk=Rk;var Nk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initTheme=function(e){t.prototype._initTheme.call(this,e),this.options.color=this.options.color||(this.theme.pointer||{}).color},e.prototype._createModel=function(){var t=this.options,e=this.scale=new Ik(t.scale,this.contextService),r=new Lk(e,Hs({},{colors:t.colors,color:t.color,value:t.value,opacity:t.opacity,animation:{transitions:t.transitions}}));this.pointers=[r]},e.prototype._buildPointers=function(t){for(var e=0;e<t.length;e++){var r=t[e];r.render(),r.value(r.options.value)}},e.prototype._setValueOptions=function(t){this.options.value=t},e.prototype.currentColor=function(){var t=this.pointers[0];if(t)return t.currentColor()},e.prototype.centerLabelPosition=function(t,e){var r=this.getSize(),n=this.scale.arc.center,i=n.x-t/2,o=n.y-e/2;if(t<r.width){var s=i+t;i=Math.max(i,0),s>r.width&&(i-=s-r.width)}if(e<r.height){var a=this.scale.bbox,l=a.bottomRight().y,c=o+e;o=Math.max(o,a.origin.y),c>l&&(o-=c-l)}return{left:i,top:o}},e}(Ek);const Bk=Nk;var jk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._createModel=function(){var e=this.options.scale;"number"!=typeof e.startAngle&&(e.startAngle=90),e.endAngle=e.startAngle+360,t.prototype._createModel.call(this)},e}(Bk);const zk=jk;var Uk=function(t){function e(e){t.call(this),this.setOptions(e),this.initProperties()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){},e.prototype.setOptions=function(t){this.options=Object.assign({},this.options,t),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0},e.prototype.encode=function(t,e,r){var n=fl(t)?String(t):t;return this.initValue(n,e,r),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}},e.prototype.initValue=function(){},e.prototype.addQuietZone=function(){this.pattern.push(this.options.quietZoneLength||10)},e.prototype.addData=function(){},e.prototype.invalidCharacterError=function(t){throw new Error('Character "'+t+'" is not valid for symbology '+this.name+".")},e}(va);El(Uk,{quietZoneLength:10,addQuietZone:!0,addCheckSum:!0});var $k=Object.assign,Hk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),$k(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})},e.prototype.initValue=function(t,e){this.pattern=[],this.value=t,this.width=e,this.totalUnits=0},e.prototype.addData=function(){var t=this.value;this.addPattern(this.START);for(var e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},e.prototype.addCheckSum=function(){var t=this.value,e=t.length,r=this.getWeightedSum(t,e,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(r),this.addPattern(this.characterMap[r]),++e>=this.kCheckSumMinLength){var n=(r+this.getWeightedSum(t,e,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=n,this.addPattern(this.characterMap[n])}},e.prototype.getWeightedSum=function(t,e,r){for(var n=0,i=0;i<t.length;i++)n+=this.weightedValue(this.getValue(t.charAt(i)),e,i,r);return n},e.prototype.weightedValue=function(t,e,r,n){return((e-r)%n||n)*t},e.prototype.getValue=function(t){return isNaN(t)?(t!==this.DASH&&this.invalidCharacterError(t),this.DASH_VALUE):parseInt(t,10)},e.prototype.addCharacter=function(t){var e=this.getValue(t),r=this.characterMap[e];this.addPattern(r)},e.prototype.addPattern=function(t){for(var e,r=0;r<t.length;r++)e=parseInt(t.charAt(r),10),this.pattern.push(e),this.totalUnits+=e},e}(Uk);El(Hk,{addCheckSum:!0});var Vk=Object.assign,qk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Vk(this,{minBaseUnitLength:.7})},e.prototype.addData=function(){var t=this.value;this.addStart();for(var e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()},e.prototype.addCharacter=function(t){var e=this.characterMap[t];e||this.invalidCharacterError(t),this.addBase(e)},e.prototype.addBase=function(){},e}(Uk),Wk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Vk(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})},e.prototype.initValue=function(t,e,r){this.width=e,this.height=r,this.value=t,this.dataLength=t.length,this.pattern=[],this.patternString=""},e.prototype.prepareValues=function(){var t,e=this.minBaseUnitLength,r=this.minRatio,n=Math.ceil(Math.max(.15*this.width,24)),i=this.maxRatio;if(this.height<n)throw new Error("Insufficient height for Code39 encoding: the current height is "+this.height+"px and the minimum height is "+n+"px.");for(t=this.getBaseUnit(i);t<e&&i>r;)i=parseFloat((i-.1).toFixed(1)),t=this.getBaseUnit(i);if(t<e){var o=Math.ceil(this.getBaseWidth(r)*e);throw new Error("Insufficient width for Code39 encoding: the current width is "+this.width+'px and the minimum width for value "'+this.value+'" is '+o+"px.")}this.ratio=i,this.baseUnit=t,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,i).split(this.splitCharacter))},e.prototype.getBaseUnit=function(t){return this.width/this.getBaseWidth(t)},e.prototype.getBaseWidth=function(t){var e=3*(t+2);return this.quietZoneLength+e*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)},e.prototype.addStart=function(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()},e.prototype.addBase=function(t){this.addPattern(t.pattern),this.addCharacterGap()},e.prototype.addStop=function(){this.addPattern(this.characterMap.START.pattern)},e.prototype.addPattern=function(t){for(var e=0;e<t.length;e++)this.patternString+=this.patternMappings[t.charAt(e)]},e.prototype.addCharacterGap=function(){this.patternString+=this.gapWidth+this.splitCharacter},e}(qk);El(Wk,{addCheckSum:!1});var Xk={addCharacter:function(t){this.characterMap[t]?this.addBase(this.characterMap[t]):t.charCodeAt(0)>127?this.invalidCharacterError(t):this.addExtended(t.charCodeAt(0))},addExtended:function(t){for(var e,r=this,n=0;n<this.extendedMappings.length;n++)if(e=r.extendedMappings[n].call(r,t)){for(var i=0;i<e.length;i++){var o=e[i];r.addBase(o)}return void(r.dataLength+=e.length-1)}},extendedMappings:[function(t){if(97<=t&&t<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(t-32)]]},function(t){if(33<=t&&t<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(t+32)]]},function(t){if(1<=t&&t<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(t+64)]]},function(t){var e,r,n=this;if(this.specialAsciiCodes[t]){e=[];for(var i=0;i<this.specialAsciiCodes[t].length;i++)e.push(n.characterMap[n.shiftCharacters[3]]),e.push(n.characterMap[n.specialAsciiCodes[t][i]])}else r=6*Math.floor(t/32)+(t-27)%32+64,e=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(r)]];return e}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},Gk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Hs(this,Xk,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})},e}(Wk),Kk=Object.assign,Yk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kk(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})},e.prototype.initValue=function(t,e,r){this.value=t,this.width=e,this.height=r,this.pattern=[],this.values=[],this.dataLength=t.length},e.prototype.prepareValues=function(){var t=Math.ceil(Math.max(.15*this.width,24));if(this.height<t)throw new Error("Insufficient height for Code93 encoding: the current height is "+this.height+"px, the minimum required height is "+t+"px.");if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){var e=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error("Insufficient width for Code93 encoding: the current width is "+this.width+'px and the minimum required width for value "'+this.value+'" is '+e+"px.")}},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)},e.prototype.addStart=function(){var t=this.characterMap.START.pattern;this.addPattern(t)},e.prototype.addStop=function(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)},e.prototype.addBase=function(t){this.addPattern(t.pattern),this.values.push(t.value)},e.prototype.pushCheckSum=function(){var t,e=this,r=this._getCheckValues();this.checksum=r.join("");for(var n=0;n<r.length;n++)t=e.characterMap[e._findCharacterByValue(r[n])],e.addPattern(t.pattern)},e.prototype._getCheckValues=function(){var t,e,r=this,n=this.values,i=n.length,o=0;for(e=i-1;e>=0;e--)o+=r.weightedValue(n[e],i-e,r.cCheckSumTotal);for(t=o%this.checkSumMod,o=this.weightedValue(t,1,this.kCheckSumTotal),e=i-1;e>=0;e--)o+=r.weightedValue(n[e],i-e+1,r.kCheckSumTotal);return[t,o%this.checkSumMod]},e.prototype._findCharacterByValue=function(t){for(var e in this.characterMap)if(this.characterMap[e].value===t)return e},e.prototype.weightedValue=function(t,e,r){return(e%r||r)*t},e.prototype.addPattern=function(t){for(var e,r=0;r<t.length;r++)e=parseInt(t.charAt(r),10),this.pattern.push(e)},e}(qk),Jk=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Hs(this,Xk,{name:"Code 93 extended",pushCheckSum:function(){var t,e=this,r=this._getCheckValues();this.checksum=r.join("");for(var n=0;n<r.length;n++)if(t=r[n],e.shiftValuesAsciiCodes[t])e.addExtended(e.shiftValuesAsciiCodes[t]);else{var i=e._findCharacterByValue(t);e.addPattern(e.characterMap[i].pattern)}}})},e}(Yk),Zk=/^\d+$/,Qk=Object.assign,tA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Qk(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})},e.prototype.initValue=function(t,e,r){this.height=r,this.width=e,this.baseHeight=r/2,this.value=t.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()},e.prototype.addData=function(){var t=this.value;this.addPattern(this.START);for(var e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()},e.prototype.addCharacter=function(t){var e=this.characterMap[t];this.checkSum+=parseInt(t,10),this.addPattern(e)},e.prototype.addCheckSum=function(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(10*(this.value.length+1)+3+this.quietZoneLength)},e.prototype.validate=function(t){if(Zk.test(t)||this.invalidCharacterError(t.match(/[^0-9]/)[0]),!aa(t.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")},e.prototype.addPattern=function(t){for(var e,r=this,n=0;n<t.length;n++)e=r.height-r.baseHeight*t.charAt(n),r.pattern.push({width:1,y1:e,y2:r.height}),r.pattern.push(1)},e}(Uk),eA=/^\d+$/,rA=/^[a-z0-9]+$/i,nA=Object.assign,iA=function(t){function e(e){t.call(this),this.encoding=e,this.initProperties()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){},e.prototype.addStart=function(){},e.prototype.is=function(){},e.prototype.isCode=function(){return!1},e.prototype.move=function(){},e.prototype.pushState=function(){},e}(va),oA=function(t){function e(e,r){t.call(this,e),this.states=r,this._initMoves(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Hs(this,{FNC4:"FNC4",SHIFT:98})},e.prototype.addStart=function(){this.encoding.addPattern(this.START)},e.prototype.is=function(t,e){var r=t.charCodeAt(e);return this.isCode(r)},e.prototype.move=function(t){for(var e=0;!this._moves[e].call(this,t)&&e<this._moves.length;)e++},e.prototype.pushState=function(t){var e,r=this.states,n=t.value,i=n.length;if(aa("C",r)){var o=n.substr(t.index).match(/\d{4,}/g);o&&(i=n.indexOf(o[0],t.index))}for(;(e=t.value.charCodeAt(t.index))>=0&&this.isCode(e)&&t.index<i;)this.encoding.addPattern(this.getValue(e)),t.index++},e.prototype._initMoves=function(t){this._moves=[],aa(this.FNC4,t)&&this._moves.push(this._moveFNC),aa(this.shiftKey,t)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)},e.prototype._moveFNC=function(t){if(t.fnc)return t.fnc=!1,t.previousState===this.key},e.prototype._shiftState=function(t){if(t.previousState===this.shiftKey&&(t.index+1>=t.value.length||this.encoding[this.shiftKey].is(t.value,t.index+1)))return this.encoding.addPattern(this.SHIFT),t.shifted=!0,!0},e.prototype._moveState=function(){return this.encoding.addPattern(this.MOVE),!0},e}(iA),sA={};sA.A=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),nA(this,{key:"A",shiftKey:"B",MOVE:101,START:103})},e.prototype.isCode=function(t){return 0<=t&&t<96},e.prototype.getValue=function(t){return t<32?t+64:t-32},e}(oA),sA.B=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),nA(this,{key:"B",shiftKey:"A",MOVE:100,START:104})},e.prototype.isCode=function(t){return 32<=t&&t<128},e.prototype.getValue=function(t){return t-32},e}(oA),sA.C=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),nA(this,{key:"C",MOVE:99,START:105})},e.prototype.addStart=function(){this.encoding.addPattern(this.START)},e.prototype.is=function(t,e){var r=dA(t,e,4);return(e+4<=t.length||2===t.length)&&eA.test(r)},e.prototype.move=function(){this.encoding.addPattern(this.MOVE)},e.prototype.pushState=function(t){for(var e;(e=dA(t.value,t.index,2))&&eA.test(e)&&2===e.length;)this.encoding.addPattern(parseInt(e,10)),t.index+=2},e.prototype.getValue=function(t){return t},e}(iA),sA.FNC4=function(t){function e(e,r){t.call(this,e),this._initSubStates(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),nA(this,{key:"FNC4",dependentStates:["A","B"]})},e.prototype.addStart=function(t){var e=t.value.charCodeAt(0)-128,r=this._getSubState(e);this.encoding[r].addStart()},e.prototype.is=function(t,e){var r=t.charCodeAt(e);return this.isCode(r)},e.prototype.isCode=function(t){return 128<=t&&t<256},e.prototype.pushState=function(t){var e,r=this._initSubState(t),n=this.encoding,i=r.value.length;if(t.index+=i,i<3)for(;r.index<i;r.index++)e=r.value.charCodeAt(r.index),r.state=this._getSubState(e),r.previousState!==r.state&&(r.previousState=r.state,n[r.state].move(r)),n.addPattern(n[r.state].MOVE),n.addPattern(n[r.state].getValue(e));else r.state!==r.previousState&&n[r.state].move(r),this._pushStart(r),n.pushData(r,this.subStates),t.index<t.value.length&&this._pushStart(r);t.fnc=!0,t.state=r.state},e.prototype._pushStart=function(t){this.encoding.addPattern(this.encoding[t.state].MOVE),this.encoding.addPattern(this.encoding[t.state].MOVE)},e.prototype._initSubState=function(t){var e={value:this._getAll(t.value,t.index),index:0};return e.state=this._getSubState(e.value.charCodeAt(0)),e.previousState=t.previousState===this.key?e.state:t.previousState,e},e.prototype._initSubStates=function(t){this.subStates=[];for(var e=0;e<t.length;e++)aa(t[e],this.dependentStates)&&this.subStates.push(t[e])},e.prototype._getSubState=function(t){for(var e=this,r=0;r<this.subStates.length;r++)if(e.encoding[e.subStates[r]].isCode(t))return e.subStates[r]},e.prototype._getAll=function(t,e){for(var r,n="",i=e;(r=t.charCodeAt(i++))&&this.isCode(r);)n+=String.fromCharCode(r-128);return n},e}(iA),sA.FNC1=function(t){function e(e,r){t.call(this,e),this.states=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),nA(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})},e.prototype.addStart=function(){this.encoding[this.startState].addStart()},e.prototype.is=function(){return aa(this.key,this.states)},e.prototype.pushState=function(t){var e,r,n,i=this,o=this.encoding,s=t.value.replace(/\s/g,""),a=new RegExp("["+this.startAI+this.endAI+"]","g"),l=t.index,c={state:this.startState};o.addPattern(this.START);for(;;){if(c.index=0,(e=(n=s.charAt(l)===i.startAI?2:0)>0?i.getBySeparator(s,l):i.getByLength(s,l)).ai.length)r=l+n+e.id.length+e.ai.length;else if((r=s.indexOf(i.startAI,l+1))<0){if(l+e.ai.max+e.id.length+n<s.length)throw new Error("Separators are required after variable length identifiers");r=s.length}if(c.value=s.substring(l,r).replace(a,""),i.validate(e,c.value),o.pushData(c,i.dependentStates),r>=s.length)break;l=r,c.state!==i.startState&&(o[i.startState].move(c),c.state=i.startState),e.ai.length||o.addPattern(i.START)}t.index=t.value.length},e.prototype.validate=function(t,e){var r=e.substr(t.id.length),n=t.ai;if(!n.type&&!eA.test(r))throw new Error("Application identifier "+t.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"===n.type&&!rA.test(r))throw new Error("Application identifier "+t.id+" is alphanumeric only but contains non alphanumeric character(s).");if(n.length&&n.length!==r.length)throw new Error("Application identifier "+t.id+" must be "+n.length+" characters long.");if(n.min&&n.min>r.length)throw new Error("Application identifier "+t.id+" must be at least "+n.min+" characters long.");if(n.max&&n.max<r.length)throw new Error("Application identifier "+t.id+" must be at most "+n.max+" characters long.")},e.prototype.getByLength=function(t,e){for(var r,n,i=2;i<=4;i++)if(r=dA(t,e,i),n=this.getApplicationIdentifier(r)||this.getApplicationIdentifier(r.substring(0,r.length-1)))return{id:r,ai:n};this.unsupportedAIError(r)},e.prototype.unsupportedAIError=function(t){throw new Error("'"+t+"' is not a supported Application Identifier")},e.prototype.getBySeparator=function(t,e){var r=t.indexOf(this.startAI,e),n=t.indexOf(this.endAI,r),i=t.substring(r+1,n),o=this.getApplicationIdentifier(i)||this.getApplicationIdentifier(i.substr(i.length-1));return o||this.unsupportedAIError(i),{ai:o,id:i}},e.prototype.getApplicationIdentifier=function(t){var e=this.applicationIdentifiers,r=e.multiKey;if(e[t])return e[t];for(var n=0;n<r.length;n++){if(r[n].ids&&aa(t,r[n].ids))return r[n].type;if(r[n].ranges)for(var i=r[n].ranges,o=0;o<i.length;o++)if(i[o][0]<=t&&t<=i[o][1])return r[n].type}},e}(iA);var aA=function(t){function e(e){t.call(this,e),this._initStates()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),nA(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})},e.prototype._initStates=function(){for(var t=this,e=0;e<this.states.length;e++)t[t.states[e]]=new sA[t.states[e]](t,t.states)},e.prototype.initValue=function(t,e,r){this.pattern=[],this.value=t,this.width=e,this.height=r,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1},e.prototype.addData=function(){var t={value:this.value,index:0,state:""};0!==this.value.length&&(t.state=t.previousState=this.getNextState(t,this.states),this.addStart(t),this.pushData(t,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())},e.prototype.pushData=function(t,e){for(var r=this;r[t.state].pushState(t),!(t.index>=t.value.length);)if(t.shifted){var n=t.state;t.state=t.previousState,t.previousState=n,t.shifted=!1}else t.previousState=t.state,t.state=r.getNextState(t,e),r[t.state].move(t)},e.prototype.addStart=function(t){this[t.state].addStart(t),this.position=1},e.prototype.addCheckSum=function(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)},e.prototype.addStop=function(){this.addPattern(this.STOP)},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},e.prototype.addPattern=function(t){for(var e,r=this.characterMap[t].toString(),n=0;n<r.length;n++)e=parseInt(r.charAt(n),10),this.pattern.push(e),this.totalUnits+=e;this.checkSum+=t*this.position++},e.prototype.getNextState=function(t,e){for(var r=0;r<e.length;r++)if(this[e[r]].is(t.value,t.index))return e[r];this.invalidCharacterError(t.value.charAt(t.index))},e}(Uk),lA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),nA(this,{name:"Code 128 A",states:["A"]})},e}(aA),cA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),nA(this,{name:"Code 128 B",states:["B"]})},e}(aA),hA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),nA(this,{name:"Code 128 C",states:["C"]})},e}(aA),uA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),nA(this,{name:"Code 128",states:["C","B","A","FNC4"]})},e}(aA),pA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),nA(this,{name:"Code GS1-128",states:["FNC1","C","B"]})},e}(aA);function dA(t,e,r){return t.substring(e,e+r)}var fA=Object.assign,gA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),fA(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:wA})},e.prototype.initValue=function(t,e){this.pattern=[],this.value=t,this.checkSumLength=0,this.width=e},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)},e.prototype.addData=function(){var t=this.value;this.addPattern(this.START);for(var e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},e.prototype.addCharacter=function(t){var e=this.characterMap[t];e||this.invalidCharacterError(t),this.addPattern(e)},e.prototype.addPattern=function(t){for(var e=0;e<t.length;e++)this.pattern.push(parseInt(t.charAt(e),10))},e.prototype.addCheckSum=function(){var t=this,e=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=e.join("");for(var r=0;r<e.length;r++)t.checkSumLength++,t.addPattern(t.characterMap[e[r]])},e}(Uk),mA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),fA(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})},e}(gA),yA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),fA(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})},e}(gA),vA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),fA(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})},e}(gA),bA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),fA(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})},e}(gA),wA={Modulo10:function(t){var e,r,n,i=[0,""],o=t.length%2;for(e=0;e<t.length;e++)i[(e+o)%2]+=parseInt(t.charAt(e),10);for(n=i[0],r=(2*i[1]).toString(),e=0;e<r.length;e++)n+=parseInt(r.charAt(e),10);return[(10-n%10)%10]},Modulo11:function(t){for(var e,r=0,n=t.length,i=0;i<n;i++)r+=(((n-i)%6||6)+1)*t.charAt(i);return 10!==(e=(11-r%11)%11)?[e]:[1,0]},Modulo11Modulo10:function(t){var e,r=this.Modulo11(t);return e=t+r[0],r.concat(this.Modulo10(e))},Modulo10Modulo10:function(t){var e,r=this.Modulo10(t);return e=t+r[0],r.concat(this.Modulo10(e))}},xA=Object.assign,SA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),xA(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})},e.prototype.initValue=function(t,e,r){var n=String(t);if(12!==n.length||/\D/.test(n))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=r,this.baseUnit=e/(95+this.quietZoneLength),this.value=n,this.checksum=this.calculateChecksum(),this.leftKey=n[0],this.leftPart=n.substr(1,6),this.rightPart=n.substr(7)+this.checksum},e.prototype.addData=function(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)},e.prototype.addSide=function(t,e){for(var r=this,n=0;n<t.length;n++)e&&parseInt(r.keyTable[e].charAt(n),10)?r.addPieces(Array.prototype.slice.call(r.characterMap.digits[t.charAt(n)]).reverse(),!0):r.addPieces(r.characterMap.digits[t.charAt(n)],!0)},e.prototype.addPieces=function(t,e){for(var r=this,n=0;n<t.length;n++)e?r.pattern.push({y1:0,y2:.95*r.options.height,width:t[n]}):r.pattern.push(t[n])},e.prototype.calculateChecksum=function(){for(var t=0,e=0,r=this.value.split("").reverse().join(""),n=0;n<r.length;n++)n%2?e+=parseInt(r.charAt(n),10):t+=parseInt(r.charAt(n),10);return(10-(3*t+e)%10)%10},e}(Uk),kA=Object.assign,AA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),kA(this,{name:"EAN 8"})},e.prototype.initValue=function(t,e,r){if(7!==t.length||/\D/.test(t))throw new Error("Invalid value provided");this.value=t,this.options.height=r,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=e/(67+this.quietZoneLength)},e}(SA),CA={code11:Hk,code39:Wk,code39extended:Gk,code93:Yk,code93extended:Jk,code128:uA,code128a:lA,code128b:cA,code128c:hA};function _A(t,e){var r=t.style.display;"canvas"===e&&(t.style.display="block");var n={width:t.clientWidth,height:t.clientHeight};return t.style.display=r,n}CA["gs1-128"]=pA,CA.msimod10=mA,CA.msimod11=yA,CA.msimod1010=vA,CA.msimod1110=bA,CA.postnet=tA,CA.ean8=AA,CA.ean13=SA;var TA=function(t){function e(e,r,n){void 0===n&&(n=nc),t.call(this),this.options=Hs({},this.options,r),this.element=e,this.onError=n,this._initElement(),this._initSurface(),this._setOptions(r),r&&fl(r.value)&&this.redraw()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._destroySurface()},e.prototype._initElement=function(){Is(this.element,"k-barcode")},e.prototype._initSurface=function(){var t=this.options,e=this.surface;e&&e.options.type===t.renderAs||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},e.prototype._createSurface=function(){return Nb.create(this.surfaceElement,{type:this.options.renderAs})},e.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},e.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))},e.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},e.prototype.setOptions=function(t){this._setOptions(t),this._initSurface(),this.redraw()},e.prototype.redraw=function(){var t=this._getSize();this.surface.clear(),this.surface.setSize({width:t.width,height:t.height}),this.createVisual(),this.surface.draw(this.visual)},e.prototype.getSize=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},e.prototype._resize=function(){this.redraw()},e.prototype.createVisual=function(){this.visual=this._render()},e.prototype._render=function(){var t,e,r=this.options,n=r.value,i=r.text,o=Ks(i.margin),s=this._getSize(),a=r.border||{},l=this.encoding,c=new Sc(0,0,s.width,s.height).unpad(a.width).unpad(r.padding),h=c.height(),u=new zh;this.contentBox=c,u.append(this._getBackground(s)),i.visible&&(h-=ul(n,{font:i.font}).height+o.top+o.bottom);try{t=l.encode(n,c.width(),h)}catch(t){return this.onError(t),u}return i.visible&&(e=n,r.checksum&&fl(l.checksum)&&(e+=" "+l.checksum),u.append(this._getText(e))),this.barHeight=h,this._bandsGroup=this._getBands(t.pattern,t.baseUnit),u.append(this._bandsGroup),u},e.prototype.exportVisual=function(){return this._render()},e.prototype._getSize=function(){var t=_A(this.element,this.options.renderAs),e=new yc(300,100);return t.width>0&&(e.width=t.width),t.height>0&&(e.height=t.height),this.options.width&&(e.width=this.options.width),this.options.height&&(e.height=this.options.height),e},e.prototype.value=function(t){if(!fl(t))return this.options.value;this.options.value=String(t),this.redraw()},e.prototype._getBands=function(t,e){for(var r,n,i=this.contentBox,o=i.x1,s=new zh,a=0;a<t.length;a++){if(r=(n=Vs(t[a])?t[a]:{width:t[a],y1:0,y2:this.barHeight}).width*e,a%2){var l=bc.fromPoints(new gc(o,n.y1+i.y1),new gc(o+r,n.y2+i.y1)),c=Th.fromRect(l,{fill:{color:this.options.color},stroke:null});s.append(c)}o+=r}return s},e.prototype._getBackground=function(t){var e=this.options,r=e.border||{},n=new Sc(0,0,t.width,t.height).unpad(r.width/2);return Th.fromRect(n.toRect(),{fill:{color:e.background},stroke:{color:r.width?r.color:"",width:r.width,dashType:r.dashType}})},e.prototype._getText=function(t){var e=this.options.text,r=this._textbox=new Eu(t,{font:e.font,color:e.color,align:"center",vAlign:"bottom",margin:e.margin});return r.reflow(this.contentBox),r.renderVisual(),r.visual},e.prototype._setOptions=function(t){if(this.type=(t.type||this.options.type).toLowerCase(),"upca"===this.type&&(this.type="ean13",t.value="0"+t.value),"upce"===this.type&&(this.type="ean8",t.value="0"+t.value),!CA[this.type])throw new Error("Encoding '"+this.type+"' is not supported.");this.encoding=new CA[this.type],this.options=Hs({},this.options,t)},e}(va);El(TA,{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});const OA=TA;var MA=function(t){function e(e,r,n){void 0===r&&(r=new bc),void 0===n&&(n={}),t.call(this,n),this.src(e),this.rect(r)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={nodeType:{configurable:!0}};return r.nodeType.get=function(){return"Image"},e.prototype.src=function(t){return Ds(t)?(this.options.set("src",t),this):this.options.get("src")},e.prototype.bbox=function(t){var e=dc(this.currentTransform(t));return this._rect.bbox(e)},e.prototype.rawBBox=function(){return this._rect.bbox()},e.prototype._containsPoint=function(t){return this._rect.containsPoint(t)},e.prototype._hasFill=function(){return this.src()},Object.defineProperties(e.prototype,r),e}(Rh(Zc,["rect"]));const EA=MA;var PA=Object.assign;function IA(t,e){for(var r=[],n=0;n<t.length;)r.push(t.substring(n,n+e)),n+=e;return r}function FA(t,e){var r=Number(t).toString(2);return r.length<e&&(r=new Array(e-r.length+1).join(0)+r),r}function DA(t){return parseInt(t,2)}var RA=function(t){function e(e){t.call(this),this.matrix=e,this.row=e.length-1,this.column=e.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.move=function(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c},e.prototype.getNextCell=function(){for(var t=this;void 0!==this.matrix[this.row][this.column];)t.move(),(t.row<0||t.row>=t.matrix.length)&&(t.dir=-t.dir,t.startColumn-=8!==t.startColumn?2:3,t.column=t.startColumn,t.row=t.dir<0?t.matrix.length-1:0);return{row:this.row,column:this.column}},e.prototype.getNextRemainderCell=function(){if(this.move(),void 0===this.matrix[this.row][this.column])return{row:this.row,column:this.column}},e}(va),LA=function(t){function e(e,r){t.call(this),this.dataString=e,this.version=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(va),NA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getEncodingResult=function(t,e){var r=function(t){var e,r=[],n=0,i=t;r.push(pC(i,8,5,8,e)),e=r[0].mode,i=i.substr(r[0].modeString.length);for(;i.length>0;){var o=pC(i,17,9,16,e);o.mode!==e?(e=o.mode,r.push(o),n++):r[n].modeString+=o.modeString,i=i.substr(o.modeString.length)}return r}(t),n=function(t){for(var e=0,r=0;r<t.length;r++)e+=$A[t[r].mode].getStringBitsLength(t[r].modeString.length);return Math.ceil(e/8)}(r),i=dC(n,e),o=function(t,e){for(var r="",n=0;n<t.length;n++)r+=$A[t[n].mode].encode(t[n].modeString,e);return r}(r,i);return new LA(o,i)},e}(va),BA=function(t){function e(){t.call(this),this.initProperties()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){PA(this,{modeIndicator:"",bitsInCharacterCount:[]})},e.prototype.getVersionIndex=function(t){return t<10?0:t>26?2:1},e.prototype.getBitsCharacterCount=function(t){return this.bitsInCharacterCount[this.getVersionIndex(t||40)]},e.prototype.getModeCountString=function(t,e){return this.modeIndicator+FA(t,this.getBitsCharacterCount(e))},e.prototype.encode=function(){},e.prototype.getStringBitsLength=function(){},e.prototype.getValue=function(){},e}(va),jA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),PA(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})},e.prototype.getValue=function(t){return parseInt(t,10)},e.prototype.encode=function(t,e){var r,n=IA(t,3),i=this.getModeCountString(t.length,e);for(r=0;r<n.length-1;r++)i+=FA(n[r],10);return i+FA(n[r],1+3*n[r].length)},e.prototype.getStringBitsLength=function(t,e){var r=t%3;return 4+this.getBitsCharacterCount(e)+10*Math.floor(t/3)+3*r+(0===r?0:1)},e}(BA),zA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),PA(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})},e.prototype.getValue=function(t){return this.characters[t]},e.prototype.encode=function(t,e){var r,n=IA(t,2),i=this.getModeCountString(t.length,e);for(r=0;r<n.length-1;r++)i+=FA(45*this.getValue(n[r].charAt(0))+this.getValue(n[r].charAt(1)),11);return i+FA(2===n[r].length?45*this.getValue(n[r].charAt(0))+this.getValue(n[r].charAt(1)):this.getValue(n[r].charAt(0)),1+5*n[r].length)},e.prototype.getStringBitsLength=function(t,e){return 4+this.getBitsCharacterCount(e)+11*Math.floor(t/2)+t%2*6},e}(BA),UA=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),PA(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})},e.prototype.getValue=function(t){var e=t.charCodeAt(0);if(e<=127||160<=e&&e<=255)return e;throw new Error('Unsupported character in QR Code: "'+t+'".')},e.prototype.encode=function(t,e){for(var r=this.getModeCountString(t.length,e),n=0;n<t.length;n++)r+=FA(this.getValue(t.charAt(n)),8);return r},e.prototype.getStringBitsLength=function(t,e){return 4+this.getBitsCharacterCount(e)+8*t},e}(BA),$A={};$A.numeric=new jA,$A.alphanumeric=new zA,$A.byte=new UA;var HA=function(t){function e(){t.call(this),this.initProperties(),this.mode=$A[this.encodingMode]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){PA(this,{encodingMode:"byte",utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})},e.prototype.getEncodingResult=function(t,e){var r=this.encode(t),n=dC(this.getDataCodewordsCount(r),e),i=this.mode.getModeCountString(r.length/8,n)+r;return new LA(i,n)},e.prototype.getDataCodewordsCount=function(t){var e=t.length;return Math.ceil((this.initialModeCountStringLength+e)/8)},e.prototype.encode=function(t){for(var e=this.utfBOM,r=0;r<t.length;r++)e+=this.encodeCharacter(t.charCodeAt(r));return e},e.prototype.encodeCharacter=function(t){var e=this.getBytesCount(t),r=e-1,n="";if(1===e)n=FA(t,8);else{for(var i=8-e,o=0;o<r;o++)n=FA(t>>6*o&63|128,8)+n;n=(t>>6*r|255>>i<<i).toString(2)+n}return n},e.prototype.getBytesCount=function(t){for(var e=this.ranges,r=0;r<e.length;r++)if(t<e[r])return r+1},e}(va),VA=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],qA="0000",WA="alphanumeric",XA={1:0},GA={0:1},KA={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},YA=[1,0,1,1,1],JA=[1,0,1],ZA={L:"01",M:"00",Q:"11",H:"10"},QA=["11101100","00010001"],tC=[function(t,e){return(t+e)%2==0},function(t,e){return t%2==0},function(t,e){return e%3==0},function(t,e){return(t+e)%3==0},function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0},function(t,e){return t*e%2+t*e%3==0},function(t,e){return(t*e%2+t*e%3)%2==0},function(t,e){return((t+e)%2+t*e%3)%2==0}],eC=/^\d+/,rC=new RegExp("^[A-Z $%*+./:-]+"),nC=new RegExp("^[A-Z0-9 $%*+./:-]+"),iC=new RegExp("^[^A-Z0-9 $%*+./:-]+"),oC=[[1,0],[1,25,0]];function sC(t,e,r,n){for(var i=0;i<t.length;i++)t[i][r][n]=e}function aC(t,e,r,n){for(var i=0;i<tC.length;i++)t[i][r][n]=tC[i](r,n)?1^e:parseInt(e,10)}function lC(t,e){for(var r=[],n=t.length-2;n>=0;n--)r[n]=t[n]^e[n];return r}function cC(t,e){for(var r=[],n=0;n<t.length;n++)for(var i=0;i<e.length;i++)void 0===r[n+i]?r[n+i]=(t[n]+(e[i]>=0?e[i]:0))%255:r[n+i]=XA[GA[r[n+i]]^GA[(t[n]+e[i])%255]];return r}function hC(t,e){var r=[],n=t.length-1;do{r[n]=GA[(t[n]+e)%255],n--}while(void 0!==t[n]);return r}function uC(t,e){var r,n,i=oC[e-1],o=new Array(e).concat(t),s=new Array(o.length-i.length).concat(i),a=t.length,l=[];for(n=0;n<a;n++)r=hC(s,XA[o[o.length-1]]),s.splice(0,1),o=lC(r,o);for(n=o.length-1;n>=0;n--)l[e-1-n]=FA(o[n],8);return l}function pC(t,e,r,n,i){var o,s,a=eC.exec(t),l=a?a[0]:"",c=rC.exec(t),h=c?c[0]:"",u=nC.exec(t),p=u?u[0]:"";return l&&(l.length>=e||t.length===l.length||l.length>=r&&!nC.test(t.charAt(l.length)))?(o="numeric",s=l):p&&(t.length===p.length||p.length>=n||i===WA)?(o=WA,s=l||h):(o="byte",s=p?p+iC.exec(t.substring(p.length))[0]:iC.exec(t)[0]),{mode:o,modeString:s}}function dC(t,e){var r=0,n=VA.length-1,i=Math.floor(VA.length/2);do{t<VA[i][e].totalDataCodewords?n=i:r=i,i=r+Math.floor((n-r)/2)}while(n-r>1);return t<=VA[r][e].totalDataCodewords?i+1:n+1}function fC(t,e,r){var n=DA(e),i=e.length-1,o=t<<i,s=FA(t,r-i),a=function(t,e){var r=e.toString(2).length,n=t.toString(2).length,i=t;do{n=(i^=e<<n-r).toString(2).length}while(n>=r);return i}(o,n);return a=s+FA(a,i)}function gC(t,e){return parseInt(t.charAt(e),10)}function mC(t,e){var r,n,i=t[0],o=0,s=e.length;for(r=0,n=8;r<=8;r++)6!==r&&sC(t,gC(e,s-1-o++),r,n);for(r=8,n=7;n>=0;n--)6!==n&&sC(t,gC(e,s-1-o++),r,n);for(o=0,n=i.length-1,r=8;n>=i.length-8;n--)sC(t,gC(e,s-1-o++),r,n);for(sC(t,1,i.length-8,8),r=i.length-7,n=8;r<i.length;r++)sC(t,gC(e,s-1-o++),r,n)}function yC(t,e){for(var r,n,i,o=t[0].length,s=o-11,a=o-11,l=0;l<e.length;l++)r=Math.floor(l/3),n=l%3,sC(t,i=gC(e,e.length-l-1),0+r,s+n),sC(t,i,a+n,0+r)}function vC(t,e,r,n){for(var i,o=e.length+2,s=e.length+1,a=0;a<e.length;a++)for(var l=a;l<o-a;l++)sC(t,i=e[a],r+l,n+a),sC(t,i,r+a,n+l),sC(t,i,r+s-l,n+s-a),sC(t,i,r+s-a,n+s-l)}function bC(t,e,r,n){var i=r,o=n,s=t[0];do{sC(t,0,i,n),sC(t,0,r,o),i+=e[0],o+=e[1]}while(i>=0&&i<s.length)}function wC(t,e,r,n,i){e[t][n]=(e[t][n]<<1^i)%128,93===e[t][n]&&(r[t]+=40)}function xC(t,e,r,n,i,o){r[t][o]===n?i[t][o]++:(r[t][o]=n,i[t][o]>=5&&(e[t]+=3+i[t][o]-5),i[t][o]=1)}function SC(t,e){var r=Math.floor(t/e*100),n=r%5,i=Math.abs(r-n-50),o=Math.abs(r+5-n-50);return 10*Math.min(i/5,o/5)}function kC(t,e,r){var n=function(t){return t&&t.toLowerCase().indexOf("utf_8")>=0?new HA:new NA}(r),i=n.getEncodingResult(t,e),o=i.version,s=VA[o-1][e],a=function(t,e){for(var r,n,i,o,s,a=0,l=[],c=[],h=e.groups,u=0;u<h.length;u++){i=h[u][0];for(var p=0;p<i;p++){n=h[u][1],r=[],o=[];for(var d=1;d<=n;d++)s=t.substring(a,a+8),r.push(s),o[n-d]=DA(s),a+=8;l.push(r),c.push(uC(o,e.errorCodewordsPerBlock))}}return[l,c]}(function(t,e){for(var r=8*e,n=0,i=0,o=t;o.length<r&&n<qA.length;)o+=qA.charAt(n++);for(o.length%8!=0&&(o+=new Array(9-o.length%8).join("0"));o.length<r;)o+=QA[i],i^=1;return o}(i.dataString,s.totalDataCodewords),s),l=function(t){for(var e=[],r=17+4*t,n=0;n<tC.length;n++){e[n]=new Array(r);for(var i=0;i<r;i++)e[n][i]=new Array(r)}return e}(o);!function(t){var e=t[0].length;vC(t,YA,0,0),bC(t,[-1,-1],7,7),vC(t,YA,e-7,0),bC(t,[1,-1],e-8,7),vC(t,YA,0,e-7),bC(t,[-1,1],7,e-8)}(l),function(t,e){if(!(e<2)){var r,n,i=t[0],o=i.length,s=Math.floor(e/7),a=[6],l=0;for((r=KA[e])?n=(o-13-r)/s:r=n=(o-13)/(s+1),a.push(a[l++]+r);a[l]+n<o;)a.push(a[l++]+n);for(var c=0;c<a.length;c++)for(var h=0;h<a.length;h++)void 0===i[a[c]][a[h]]&&vC(t,JA,a[c]-2,a[h]-2)}}(l,o),function(t){for(var e=1,r=t[0].length,n=8;n<r-8;n++)sC(t,e,6,n),sC(t,e,n,6),e^=1}(l),o>=7&&yC(l,FA(0,18)),mC(l,FA(0,15)),function(t,e){for(var r,n,i,o=new RA(t[0]),s=0;s<e.length;s++)for(r=e[s],n=0;r.length>0;){for(var a=0;a<r.length;a++)for(var l=0;l<8;l++)i=o.getNextCell(),aC(t,r[a][n].charAt(l),i.row,i.column);for(n++;r[0]&&n===r[0].length;)r.splice(0,1)}for(;i=o.getNextRemainderCell();)aC(t,0,i.row,i.column)}(l,a);var c=function(t){var e,r,n=[],i=[],o=[],s=[],a=[],l=t[0].length;for(r=0;r<t.length;r++)n[r]=0,o[r]=0,a[r]=[0,0],s[r]=[0,0],i[r]=[];for(var c=0;c<l;c++)for(var h=0;h<l;h++)for(var u=0;u<t.length;u++)e=t[u],o[u]+=parseInt(e[c][h],10),i[u][0]===e[c][h]&&c+1<l&&h-1>=0&&e[c+1][h]===i[u][0]&&e[c+1][h-1]===i[u][0]&&(n[u]+=3),wC(u,s,n,0,e[c][h]),wC(u,s,n,1,e[h][c]),xC(u,n,i,e[c][h],a,0),xC(u,n,i,e[h][c],a,1);var p,d=l*l,f=Number.MAX_VALUE;for(r=0;r<n.length;r++)n[r]+=SC(o[r],d),n[r]<f&&(f=n[r],p=r);return p}(l),h=l[c];return o>=7&&yC([h],function(t){return fC(t,"1111100100101",18)}(o)),mC([h],function(t){var e,r="";if(0===DA(t))return"101010000010010";e=fC(DA(t),"10100110111",15);for(var n=0;n<e.length;n++)r+=e.charAt(n)^"101010000010010".charAt(n);return r}(ZA[e]+FA(c,3))),h}!function(){var t,e;for(e=1;e<255;e++)(t=2*GA[e-1])>255&&(t^=285),GA[e]=t,XA[t]=e;t=2*GA[e-1]^285,GA[e]=t,GA[-1]=0}(),function(){for(var t=2;t<=68;t++){var e=oC[t-1],r=[t,0];oC[t]=cC(e,r)}}();var AC=Math.round,CC=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],_C=[[0,1],[1,1],[1,0]],TC=200,OC="L",MC="#fff",EC="#000",PC=1,IC=7,FC=function(t){function e(e,r,n){void 0===n&&(n=nc),t.call(this),this.options=Hs({},this.options,r),this.element=e,this.wrapper=this.element,this.onError=n,this._initElement(),this._initSurface(),this.setOptions(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._destroySurface()},e.prototype._initElement=function(){Is(this.element,"k-qrcode")},e.prototype._initSurface=function(){var t=this.options,e=this.surface;e&&e.options.type===t.renderAs||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},e.prototype._createSurface=function(){return Nb.create(this.surfaceElement,{type:this.options.renderAs})},e.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},e.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))},e.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},e.prototype.redraw=function(){var t=this._getSize();this.surface.clear(),this.surface.setSize({width:t,height:t}),this.createVisual(),this.surface.draw(this.visual)},e.prototype.getSize=function(){var t=this.element,e=t.clientWidth,r=t.clientHeight,n={width:0,height:0};return e>0&&(n.width=e),r&&(n.height=r),n},e.prototype._resize=function(){this.redraw()},e.prototype.createVisual=function(){this.visual=this._render()},e.prototype.exportVisual=function(){return this._render()},e.prototype._render=function(){var t,e,r,n,i,o=this._value,s=this.options.border||{},a=this.options.padding||0,l=s.width||0;s.width=l;var c=new zh;try{o&&(r=kC(o,this.options.errorCorrection,this.options.encoding),i=(n=this._getSize())-2*(l+a),t=this._calculateBaseUnit(i,r.length),e=l+a+(i-r.length*t)/2,c.append(this._renderBackground(n,s)),c.append(this._renderMatrix(r,t,e)),this._hasCustomLogo()?c.append(this._renderLogo(n,t)):this._isSwiss()&&c.append(this._renderSwissCode(n,t)))}catch(t){this.onError(t)}return c},e.prototype._renderLogo=function(t,e){var r,n=AC(t/2),i=this._getLogoSize(e*IC),o=this.options.overlay.imageUrl,s={x:n-i.width/2,y:n-i.height/2};return r=new bc(new gc(s.x,s.y),new yc(i.width,i.height)),new EA(o,r)},e.prototype._renderSwissCode=function(t,e){var r=this._getLogoSize(e*IC),n=(r=Math.max(r.width,r.height))/4,i=n/2,o=t/2,s={},a=new zh;return s.x=s.y=Math.ceil(o-e-r/2),a.append(this._renderShape(s,Math.ceil(r+2*e),_C,"#fff")),s.x=s.y=o-r/2,a.append(this._renderShape(s,r,_C,this.options.color)),s.x=o+i-r/2,s.y=o+i+n-r/2,a.append(this._renderShape(s,n,CC,"#fff")),a},e.prototype._renderShape=function(t,e,r,n){var i=new Oh({fill:{color:n},stroke:null});i.moveTo(t.x,t.y);for(var o=0;o<r.length;o++)i.lineTo(t.x+e*r[o][0],t.y+e*r[o][1]);return i.close(),i},e.prototype._getSize=function(){var t;if(this.options.size)t=parseInt(this.options.size,10);else{var e=_A(this.element,this.options.renderAs),r=Math.min(e.width,e.height);t=r>0?r:TC}return t},e.prototype._calculateBaseUnit=function(t,e){var r=Math.floor(t/e);if(r<PC){var n=Math.ceil(e*PC);this.onError(new Error("Insufficient size for QR Code: the current size is "+t+"px and the minimum size is "+n+"px."))}else r*e>=t&&r-1>=PC&&r--;return r},e.prototype._renderMatrix=function(t,e,r){for(var n=new Oh({fill:{color:this.options.color},stroke:null}),i=0;i<t.length;i++)for(var o=r+i*e,s=0;s<t.length;){for(;0===t[i][s]&&s<t.length;)s++;if(s<t.length){for(var a=s;1===t[i][s];)s++;var l=AC(r+a*e),c=AC(o),h=AC(r+s*e),u=AC(o+e);n.moveTo(l,c).lineTo(l,u).lineTo(h,u).lineTo(h,c).close()}}return n},e.prototype._renderBackground=function(t,e){var r=new Sc(0,0,t,t).unpad(e.width/2);return Th.fromRect(r.toRect(),{fill:{color:this.options.background},stroke:{color:e.color,width:e.width}})},e.prototype.setOptions=function(t){var e=t||{};this.options=PA(this.options,e),void 0!==t.value&&(this._value=String(this.options.value)),this._initSurface(),this.redraw()},e.prototype.value=function(t){if(void 0===t)return this._value;this._value=String(t),this.redraw()},e.prototype._hasCustomLogo=function(){return Boolean(this.options.overlay.imageUrl)},e.prototype._isSwiss=function(){return"swiss"===this.options.overlay.type},e.prototype._getLogoSize=function(t){var e=this.options.overlay.width,r=this.options.overlay.height;return e||r?e&&!r?r=e:!e&&r&&(e=r):e=r=t,{width:e,height:r}},e}(va);El(FC,{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:OC,background:MC,color:EC,size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});const DC=FC;var RC={WGS84:{a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149}};function LC(t){return t*t}var NC=Math,BC=NC.abs,jC=NC.atan,zC=NC.atan2,UC=NC.cos,$C=NC.sin,HC=NC.tan,VC=function(t){function e(e,r){t.call(this),this.initProperties(),1===arguments.length?(this.lat=e[0],this.lng=e[1]):(this.lat=e,this.lng=r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){Hs(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})},e.prototype.toArray=function(){return[this.lat,this.lng]},e.prototype.equals=function(t){return t&&t.lat===this.lat&&t.lng===this.lng},e.prototype.clone=function(){return new e(this.lat,this.lng)},e.prototype.round=function(t){return this.lng=Cl(this.lng,t),this.lat=Cl(this.lat,t),this},e.prototype.wrap=function(){return this.lng=this.lng%180,this.lat=this.lat%90,this},e.prototype.distanceTo=function(t,e){return this.greatCircleTo(t,e).distance},e.prototype.destination=function(t,r,n){var i=Al(r),o=n||RC.WGS84,s=Al(this.lat),a=Al(this.lng),l=t/o.a,c=NC.asin($C(s)*UC(l)+UC(s)*$C(l)*UC(i)),h=a+zC($C(i)*$C(l)*UC(s),UC(l)-$C(s)*$C(c));return new e(gl(c),gl(h))},e.prototype.greatCircleTo=function(t,r){var n=e.create(n),i=r||RC.WGS84;if(!n||this.clone().round(8).equals(n.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};for(var o,s,a,l,c,h,u,p,d=i.a,f=i.b,g=i.f,m=Al(n.lng-this.lng),y=jC((1-g)*HC(Al(this.lat))),v=$C(y),b=UC(y),w=jC((1-g)*HC(Al(n.lat))),x=$C(w),S=UC(w),k=m,A=this.DISTANCE_ITERATIONS,C=!1;!C&&A-- >0;){s=$C(k),a=UC(k),l=NC.sqrt(LC(S*s)+LC(b*x-v*S*a)),p=zC(l,h=v*x+b*S*a);var _=b*S*s/l;u=0,0!==(c=1-LC(_))&&(u=h-2*v*x/c),o=k;var T=g/16*c*(4+g*(4-3*c));k=m+(1-T)*g*_*(p+T*l*(u+T*h*(2*LC(u)-1))),C=BC(k-o)<=this.DISTANCE_CONVERGENCE}var O=c*(LC(d)-LC(f))/LC(f),M=1+O/16384*(4096+O*(O*(320-175*O)-768)),E=O/1024*(256+O*(O*(74-47*O)-128)),P=E*l*(u+E/4*(h*(2*LC(u)-1)-E/6*u*(4*LC(l)-3)*(4*LC(u)-3))),I=zC(S*s,b*x-v*S*a),F=zC(b*s,-v*S+b*x*a);return{distance:Cl(f*M*(p-P),this.DISTANCE_PRECISION),azimuthFrom:gl(I),azimuthTo:gl(F)}},e.prototype.toString=function(){return String(this.lat)+","+String(this.lng)},e.fromLngLat=function(t){return new e(t[1],t[0])},e.fromLatLng=function(t){return new e(t[0],t[1])},e.create=function(t,r){if(fl(t))return t instanceof e?t.clone():1===arguments.length&&2===t.length?e.fromLatLng(t):new e(t,r)},e}(va),qC=Math,WC=qC.atan,XC=qC.exp,GC=qC.pow,KC=qC.sin,YC=qC.log,JC=qC.tan,ZC=gc,QC=qC.PI,t_=QC/2,e_=QC/4,r_=QC/180,n_=RC.WGS84,i_=function(t){function e(e){t.call(this),this.initProperties(),this._initOptions(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initOptions=function(t){this.options=Hs({},this.options,t)},e.prototype.initProperties=function(){Hs(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})},e.prototype.forward=function(t,e){var r=this,n=r.options,i=n.datum.a,o=n.centralMeridian,s=Sl(t.lat,-r.MAX_LAT,r.MAX_LAT),a=e?Sl(t.lng,-r.MAX_LNG,r.MAX_LNG):t.lng,l=Al(a-o)*i,c=r._projectLat(s);return new ZC(l,c)},e.prototype._projectLat=function(t){var e=this.options.datum,r=e.e,n=e.a,i=Al(t),o=JC(e_+i/2),s=r*KC(i),a=GC((1-s)/(1+s),r/2);return n*YC(o*a)},e.prototype.inverse=function(t,e){var r=this,n=r.options,i=n.datum.a,o=n.centralMeridian,s=t.x/(r_*i)+o,a=Sl(r._inverseY(t.y),-r.MAX_LAT,r.MAX_LAT);return e&&(s=Sl(s,-r.MAX_LNG,r.MAX_LNG)),new VC(a,s)},e.prototype._inverseY=function(t){var e,r=this,n=r.options.datum,i=n.a,o=n.e,s=o/2,a=XC(-t/i),l=t_-2*WC(a);for(e=0;e<=r.INVERSE_ITERATIONS;e++){var c=o*KC(l),h=GC((1-c)/(1+c),s),u=t_-2*WC(a*h)-l;if(l+=u,qC.abs(u)<=r.INVERSE_CONVERGENCE)break}return gl(l)},e}(va);El(i_,{centralMeridian:0,datum:n_});var o_=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Hs(this,{MAX_LAT:85.0511287798})},e.prototype._projectLat=function(t){var e=this.options.datum.a,r=Al(t),n=JC(e_+r/2);return e*YC(n)},e.prototype._inverseY=function(t){var e=this.options.datum.a,r=XC(-t/e);return gl(t_-2*WC(r))},e}(i_),s_=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.forward=function(t){return new ZC(t.lng,t.lat)},e.prototype.inverse=function(t){return new VC(t.y,t.x)},e}(va),a_=function(t){function e(){t.call(this);var e=this._proj=new o_,r=this.c=2*QC*e.options.datum.a;this._tm=Ic().translate(.5,.5).scale(1/r,-1/r),this._itm=Ic().scale(r,-r).translate(-.5,-.5)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toPoint=function(t,e,r){return this._proj.forward(t,r).transform(this._tm).scale(e||1)},e.prototype.toLocation=function(t,e,r){var n=t.clone().scale(1/(e||1)).transform(this._itm);return this._proj.inverse(n,r)},e}(va),l_=(function(t){function e(){t.call(this),this._proj=new i_}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toPoint=function(t){return this._proj.forward(t)},e.prototype.toLocation=function(t){return this._proj.inverse(t)}}(va),function(t){function e(){t.call(this),this._proj=new s_}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toPoint=function(t){return this._proj.forward(t)},e.prototype.toLocation=function(t){return this._proj.inverse(t)}}(va),Object.defineProperty),c_=(Object.assign,function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild}),h_=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},u_=function(t,e){e.insertBefore(t,e.firstChild)},p_=function(t){return t.replace(/([a-z][A-Z])/g,(function(t){return t.charAt(0)+"-"+t.charAt(1).toLowerCase()}))},d_=function(t){return t&&String(t).endsWith("px")?t:String(t)+"px"},f_=function(t){var e,r=!1,n=[],i={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},o={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},s={tablet:/playbook|ipad|fire/i},a={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var l in i)if(i.hasOwnProperty(l)&&(n=t.match(i[l]))){if("windows"===l&&"plugins"in navigator)return!1;(r={}).device=l,r.tablet=g_(l,s,!1),r.browser=g_(t,a,"default"),r.name=g_(l,o),r[r.name]=!0,r.majorVersion=n[2],r.minorVersion=(n[3]||"0").replace("_","."),e=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+e+new Array(3-(e.length<3?e.length:2)).join("0");break}return r};function g_(t,e,r){for(var n in e)if(e.hasOwnProperty(n)&&e[n].test(t))return n;return void 0!==r?r:t}var m_=function(){var t={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},e=y_();return e.touch&&(e.mobileOS.ios||e.mobileOS.android)?t={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:e.pointers?t={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:e.msPointers&&(t={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),t},y_=function(){var t=f_(navigator.userAgent),e=function(t){var e=!1,r=[],n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var i in n)if(n.hasOwnProperty(i)&&(r=t.match(n[i]))){(e={})[i]=!0,e[r[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||r[2],10);break}return e}(navigator.userAgent),r=e.chrome,n=e.crios,i=e.mozilla,o=e.safari,s={};s.mobileOS=t,s.touch="ontouchstart"in window,s.pointers=!r&&!n&&!i&&!o&&window.PointerEvent,s.msPointers=!r&&window.MSPointerEvent,s.mouseAndTouchPresent=s.touch&&!(s.mobileOS.ios||s.mobileOS.android),s.eventCapture=document.documentElement.addEventListener;var a=document.createElement("table"),l=s.transitions=!1,c=s.transforms=!1,h="string";return["Moz","webkit","O","ms"].forEach((function(t){var e=typeof a.style[t+"Transition"]===h;if(e||typeof a.style[t+"Transform"]===h){var r=t.toLowerCase();return c={css:"ms"!==r?"-"+r+"-":"",prefix:t,event:"o"===r||"webkit"===r?r:""},e&&((l=c).event=l.event?l.event+"TransitionEnd":"transitionend"),!1}})),a=null,s.transforms=c,s.transitions=l,s.delayedClick=function(){if(s.touch){if(s.mobileOS.ios)return!0;if(s.mobileOS.android){if(!s.browser.chrome)return!0;if(s.browser.version<32)return!1;var t=document.querySelector("meta[name=viewport]");return!(t?t.getAttribute("content"):"").match(/user-scalable=no/i)}}return!1},s},v_=function(t,e){return t.bind(e)};var b_=function(t,e,r,n,i){w_(t,e,r,n,i)},w_=function(t,e,r,n,i){(Ps(e)?e:(e||"").split(" ")).forEach((function(e){x_(t,e,r,n,i)}))},x_=function(t,e,r,n,i){var o,s=n;r&&zs(r)&&!n?s=r:r&&"string"==typeof r&&zs(s)&&(o=r),t.addEventListener(e,(function(e){var r=e.target?e.target.closest(o):null;if(!o||o&&e.target&&r){var n=o?r:e.currentTarget;l_(e,"currentTarget",{value:n}),l_(e,"delegateTarget",{value:t}),s(e)}}),Boolean(i))},S_=function(t,e,r,n,i){k_(t,e,r,n,i)},k_=function(t,e,r,n){(Ps(e)?e:(e||"").split(" ")).forEach((function(e){A_(t,e,r,n)}))},A_=function(t,e,r,n){t.removeEventListener(e,r,Boolean(n))},C_=function(t){var e=m_(navigator.userAgent);return t.replace(/([^ ]+)/g,(function(t){return e[t]||t}))},__=function(t,e){var r=t.prototype;r.events?e.forEach((function(t){r.events.indexOf(t)<0&&r.events.push(t)})):r.events=e},T_=function(){return Number(new Date)},O_=function(){},M_="string",E_="function",P_=function(){this._defaultPrevented=!0},I_=function(){return!0===this._defaultPrevented},F_=function(t){function e(){t.call(this),this._events={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.unbind()},e.prototype.bind=function(t,e,r){var n,i,o,s,a=this,l=typeof t===M_?[t]:t||[],c=typeof e===E_;if(void 0===e){for(n in t)a.bind(n,t[n]);return a}var h=function(){var t=l[n];(s=c?e:e[t])&&(r&&(o=s,s=function(){a.unbind(t,s),o.apply(a,arguments)},s.original=o),(a._events[t]=a._events[t]||[]).push(s))};for(n=0,i=l.length;n<i;n++)h();return a},e.prototype.one=function(t,e){return this.bind(t,e,!0)},e.prototype.first=function(t,e){var r,n,i,o=this,s=typeof t===M_?[t]:t,a=typeof e===E_;for(r=0,n=s.length;r<n;r++){var l=s[r];(i=a?e:e[l])&&(o._events[l]=o._events[l]||[]).unshift(i)}return o},e.prototype.trigger=function(t,e){var r,n,i=this,o=i._events[t];if(o){var s=e||{};for(s.sender=i,s._defaultPrevented=!1,s.preventDefault=P_,s.isDefaultPrevented=I_,r=0,n=(o=o.slice()).length;r<n;r++)o[r].call(i,s);return!0===s._defaultPrevented}return!1},e.prototype.unbind=function(t,e){var r,n=this,i=n._events[t];if(void 0===t)n._events={};else if(i)if(e)for(r=i.length-1;r>=0;r--)i[r]!==e&&i[r].original!==e||i.splice(r,1);else n._events[t]=[];return n},e.prototype._setEvents=function(t){for(var e=this,r=(this.events||[]).length,n=0;n<r;n++){var i=e.events[n];e.options[i]&&t[i]&&(e.unbind(i,e.options[i]),e._events&&e._events[i]&&delete e._events[i])}this.bind(this.events,t)},e}(va),D_=Zs.compile,R_=function(t){function e(e,r){t.call(this),this.element=e,this._initOptions(r),this.items=[],Is(this.element,"k-widget k-attribution")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initOptions=function(t){this.options=Hs({},this.options,t)},e.prototype.filter=function(t,e){this._extent=t,this._zoom=e,this._render()},e.prototype.add=function(t){var e=t;fl(t)&&("string"==typeof t&&(e={text:t}),this.items.push(e),this._render())},e.prototype.remove=function(t){for(var e=[],r=0;r<this.items.length;r++){var n=this.items[r];n.text!==t&&e.push(n)}this.items=e,this._render()},e.prototype.clear=function(){this.items=[],h_(this.element)},e.prototype._render=function(){for(var t=[],e=D_(this.options.itemTemplate),r=0;r<this.items.length;r++){var n=this.items[r],i=this._itemText(n);""!==i&&t.push(e({text:i}))}t.length>0?(h_(this.element),function(t,e){var r=document.createElement("div");for(r.innerHTML=t;r.childNodes.length>0;)e.appendChild(r.childNodes[0])}(t.join(this.options.separator),this.element),this.showElement()):this.hideElement()},e.prototype.hideElement=function(){this.element.style.display="none"},e.prototype.showElement=function(){this.element.style.display=""},e.prototype._itemText=function(t){var e="",r=this._inZoomLevel(t.minZoom,t.maxZoom),n=this._inArea(t.extent);return r&&n&&(e+=t.text),e},e.prototype._inZoomLevel=function(t,e){var r=Tl(t,-Number.MAX_VALUE),n=Tl(e,Number.MAX_VALUE);return this._zoom>r&&this._zoom<n},e.prototype._inArea=function(t){var e=!0;return t&&(e=t.contains(this._extent)),e},e}(F_);El(R_,{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:"#= text #"});var L_={up:{className:"k-navigator-n",iconClass:"k-i-arrow-n"},down:{className:"k-navigator-s",iconClass:"k-i-arrow-s"},right:{className:"k-navigator-e",iconClass:"k-i-arrow-e"},left:{className:"k-navigator-w",iconClass:"k-i-arrow-w"}};function N_(t){var e='<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+L_[t].className+'" aria-label="move '+t+'"><span class="k-icon '+L_[t].iconClass+'" /></button>';return c_(e)}var B_=function(t){function e(e,r){t.call(this),this.element=e,this._initOptions(r);var n=N_("up"),i=N_("right"),o=N_("down"),s=N_("left");this.element.appendChild(n),this.element.appendChild(i),this.element.appendChild(o),this.element.appendChild(s),Is(this.element,"k-widget k-navigator"),b_(this.element,"click",".k-button",v_(this._click,this));var a=this.element.parentNode.closest("[data-role]");this._keyroot=a||this.element,this._tabindex(this._keyroot),this._keydownHandler=v_(this._keydown,this),b_(this._keyroot,"keydown",this._keydownHandler)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.dispose()},e.prototype.dispose=function(){S_(this._keyroot,"keydown",this._keydownHandler)},e.prototype._tabindex=function(t){var e=t||this.wrapper||this.element,r=this.element,n="tabindex",i=e.getAttribute(n)||r.getAttribute(n);r.removeAttribute(n),e.setAttribute(n,isNaN(i)?0:i)},e.prototype._initOptions=function(t){this.options=Hs({},this.options,t)},e.prototype._pan=function(t,e){var r=this.options.panStep;this.trigger("pan",{x:t*r,y:e*r})},e.prototype._click=function(t){var e=0,r=0,n=t.currentTarget;n.matches(".k-navigator-n")?r=1:n.matches(".k-navigator-s")?r=-1:n.matches(".k-navigator-e")?e=1:n.matches(".k-navigator-w")&&(e=-1),this._pan(e,r),t.preventDefault()},e.prototype._keydown=function(t){switch(t.which){case ic.UP:this._pan(0,1),t.preventDefault();break;case ic.DOWN:this._pan(0,-1),t.preventDefault();break;case ic.RIGHT:this._pan(1,0),t.preventDefault();break;case ic.LEFT:this._pan(-1,0),t.preventDefault()}},e}(F_);function j_(t,e){return c_('<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+t+'" title="zoom-'+t+'" aria-label="zoom-'+t+'"><span class="k-icon '+e+'"></span></button>')}El(B_,{name:"Navigator",panStep:1}),__(B_,["pan"]);var z_="change",U_=function(t){function e(e,r){t.call(this),this.element=e,this._initOptions(r);var n=j_("in","k-i-plus"),i=j_("out","k-i-minus");this.element.appendChild(n),this.element.appendChild(i),Is(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),b_(this.element,"click",".k-button",this._clickHandler);var o=this.element.parentNode.closest("[data-role]");this._keyroot=o||this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),b_(this._keyroot,"keydown",this._keydownHandler)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.element&&S_(this.element,"click",this._clickHandler),this._keyroot&&S_(this._keyroot,"keydown",this._keydownHandler)},e.prototype._tabindex=function(t){var e=t||this.wrapper||this.element,r=this.element,n="tabindex",i=e.getAttribute(n)||r.getAttribute(n);r.removeAttribute(n),e.setAttribute(n,isNaN(i)?0:i)},e.prototype._initOptions=function(t){this.options=Hs({},this.options,t)},e.prototype._change=function(t){var e=this.options.zoomStep;this.trigger(z_,{delta:t*e})},e.prototype._click=function(t){var e=1;ia(t.currentTarget,"k-zoom-out")&&(e=-1),this._change(e),t.preventDefault()},e.prototype._keydown=function(t){switch(t.which){case ic.NUMPAD_PLUS:case 187:case 61:this._change(1);break;case ic.NUMPAD_MINUS:case 189:case 173:this._change(-1)}},e}(F_);El(U_,{name:"ZoomControl",zoomStep:1}),__(U_,[z_]);var $_=Math,H_=$_.max,V_=$_.min,q_=function(t){function e(e,r){t.call(this);var n=VC.create(e),i=VC.create(r);n.lng+180>i.lng+180&&n.lat+90<i.lat+90?(this.se=n,this.nw=i):(this.se=i,this.nw=n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={World:{configurable:!0}};return e.prototype.contains=function(t){var e=this.nw,r=this.se,n=Tl(t.lng,t[1]),i=Tl(t.lat,t[0]);return t&&n+180>=e.lng+180&&n+180<=r.lng+180&&i+90>=r.lat+90&&i+90<=e.lat+90},e.prototype.center=function(){var t=this.nw,e=this.se,r=t.lng+(e.lng-t.lng)/2,n=t.lat+(e.lat-t.lat)/2;return new VC(n,r)},e.prototype.containsAny=function(t){for(var e=!1,r=0;r<t.length;r++)e=e||this.contains(t[r]);return e},e.prototype.include=function(t){var e=this.nw,r=this.se,n=Tl(t.lng,t[1]),i=Tl(t.lat,t[0]);e.lng=V_(e.lng,n),e.lat=H_(e.lat,i),r.lng=H_(r.lng,n),r.lat=V_(r.lat,i)},e.prototype.includeAll=function(t){for(var e=0;e<t.length;e++)this.include(t[e])},e.prototype.edges=function(){var t=this.nw,e=this.se;return{nw:this.nw,ne:new VC(t.lat,e.lng),se:this.se,sw:new VC(e.lat,t.lng)}},e.prototype.toArray=function(){var t=this.nw,e=this.se;return[t,new VC(t.lat,e.lng),e,new VC(e.lat,t.lng)]},e.prototype.overlaps=function(t){return this.containsAny(t.toArray())||t.containsAny(this.toArray())},e.create=function(t,r){return t instanceof e?t:t&&r?new e(t,r):t&&4===t.length&&!r?new e([t[0],t[1]],[t[2],t[3]]):void 0},r.World.get=function(){return new e([90,-180],[-90,180])},Object.defineProperties(e,r),e}(va),W_=function(t){function e(e,r){t.call(this),this.support=y_(),this._initOptions(r),this.map=e;var n=document.createElement("div");Is(n,"k-layer"),n.style.zIndex=this.options.zIndex,n.style.opacity=this.options.opacity,this.element=n,e.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._deactivate()},e.prototype._initOptions=function(t){this.options=Hs({},this.options,t)},e.prototype.show=function(){this.reset(),this._activate(),this._applyExtent(!0)},e.prototype.hide=function(){this._deactivate(),this._setVisibility(!1)},e.prototype.reset=function(){this._beforeReset(),this._reset()},e.prototype._reset=function(){this._applyExtent()},e.prototype._beforeReset=function(){},e.prototype._resize=function(){},e.prototype._panEnd=function(){this._applyExtent()},e.prototype._applyExtent=function(){var t=this.options,e=this.map.zoom(),r=!fl(t.minZoom)||e>=t.minZoom,n=!fl(t.maxZoom)||e<=t.maxZoom,i=q_.create(t.extent),o=!i||i.overlaps(this.map.extent());this._setVisibility(r&&n&&o)},e.prototype._setVisibility=function(t){this.element.style.display=t?"":"none"},e.prototype._activate=function(){var t=this.map;this._deactivate(),t.bind("beforeReset",this._beforeReset),t.bind("reset",this._reset),t.bind("resize",this._resize),t.bind("panEnd",this._panEnd)},e.prototype._deactivate=function(){var t=this.map;t.unbind("beforeReset",this._beforeReset),t.unbind("reset",this._reset),t.unbind("resize",this._resize),t.unbind("panEnd",this._panEnd)},e.prototype._updateAttribution=function(){var t=this.map.attribution;t&&t.add(this.options.attribution)},e.prototype._readData=function(){return this.options.data||[]},e.prototype._hasData=function(){return this._data&&this._data.length>0},e}(va),X_=Math,G_=Zs.compile,K_=gc;function Y_(t){return new K_(Cl(t.x),Cl(t.y))}function J_(t){var e=t;return"string"!=typeof t&&(e+="px"),e}var Z_=function(t){function e(e,r){t.call(this,e,r),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));var n=this._viewType();this._view=new n(this.element,this.options)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){t.prototype.destroy.call(this),this._view.destroy(),this._view=null},e.prototype._beforeReset=function(){var t=this.map,e=t.locationToLayer(t.extent().nw).round();this._view.viewOrigin(e)},e.prototype._reset=function(){t.prototype._reset.call(this),this._updateView(),this._view.reset()},e.prototype._viewType=function(){return Q_},e.prototype._activate=function(){t.prototype._activate.call(this),this.support.mobileOS||(this._pan||(this._pan=Ny(this._render.bind(this),100)),this.map.bind("pan",this._pan))},e.prototype._deactivate=function(){t.prototype._deactivate.call(this),this._pan&&this.map.unbind("pan",this._pan)},e.prototype._updateView=function(){var t=this._view,e=this.map,r=e.extent(),n={nw:e.locationToLayer(r.nw).round(),se:e.locationToLayer(r.se).round()};t.center(e.locationToLayer(e.center())),t.extent(n),t.zoom(e.zoom())},e.prototype._resize=function(){this._render()},e.prototype._panEnd=function(e){t.prototype._panEnd.call(this,e),this._render()},e.prototype._render=function(){this._updateView(),this._view.render()},e}(W_);El(Z_,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});var Q_=function(t){function e(e,r){t.call(this),this.element=e,this._initOptions(r),this.pool=new eT}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initOptions=function(t){this.options=Hs({},this.options,t)},e.prototype.center=function(t){this._center=t},e.prototype.extent=function(t){this._extent=t},e.prototype.viewOrigin=function(t){this._viewOrigin=t},e.prototype.zoom=function(t){this._zoom=t},e.prototype.pointToTileIndex=function(t){return new K_(X_.floor(t.x/this.options.tileSize),X_.floor(t.y/this.options.tileSize))},e.prototype.tileCount=function(){var t=this.size(),e=this.pointToTileIndex(this._extent.nw),r=this._extent.nw,n=this.indexToPoint(e).translate(-r.x,-r.y);return{x:X_.ceil((X_.abs(n.x)+t.width)/this.options.tileSize),y:X_.ceil((X_.abs(n.y)+t.height)/this.options.tileSize)}},e.prototype.size=function(){var t=this._extent.nw,e=this._extent.se.clone().translate(-t.x,-t.y);return{width:e.x,height:e.y}},e.prototype.indexToPoint=function(t){var e=t.x,r=t.y;return new K_(e*this.options.tileSize,r*this.options.tileSize)},e.prototype.subdomainText=function(){var t=this.options.subdomains;return t[this.subdomainIndex++%t.length]},e.prototype.destroy=function(){h_(this.element),this.pool.empty()},e.prototype.reset=function(){this.pool.reset(),this.subdomainIndex=0,this.render()},e.prototype.render=function(){var t,e,r,n=this.tileCount(),i=this.pointToTileIndex(this._extent.nw);for(e=0;e<n.x;e++)for(r=0;r<n.y;r++)(t=this.createTile({x:i.x+e,y:i.y+r})).visible||t.show()},e.prototype.createTile=function(t){var e=this.tileOptions(t),r=this.pool.get(this._center,e);return r.element.parentNode||this.element.append(r.element),r},e.prototype.tileOptions=function(t){var e=this.wrapIndex(t),r=this.indexToPoint(t),n=this._viewOrigin,i=r.clone().translate(-n.x,-n.y);return{index:e,currentIndex:t,point:r,offset:Y_(i),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}},e.prototype.wrapIndex=function(t){var e=X_.pow(2,this._zoom);return{x:this.wrapValue(t.x,e),y:Sl(t.y,0,e-1)}},e.prototype.wrapValue=function(t,e){var r=X_.abs(t)%e;return t>=0?r:e-(0===r?e:r)},e}(va),tT=function(t){function e(e,r){t.call(this),this.id=e,this.visible=!0,this._initOptions(r),this.createElement(),this.show()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){var t=this.element,e=t?t.parentNode:null;t&&(e&&e.removeChild(t),this.element=null)},e.prototype._initOptions=function(t){this.options=Hs({},this.options,t)},e.prototype.createElement=function(){var t=document.createElement("img");Is(t,"k-layer"),t.style.position="absolute",t.style.display="block",t.style.width=this.options.size,t.style.height=this.options.size,this.element=t},e.prototype.show=function(){var t=this.element;t.style.top=J_(this.options.offset.y),t.style.left=J_(this.options.offset.x);var e=this.url();e&&t.setAttribute("src",e),t.style.visibility="visible",this.visible=!0},e.prototype.hide=function(){this.element.style.visibility="hidden",this.visible=!1},e.prototype.url=function(){return G_(this.options.urlTemplate)(this.urlOptions())},e.prototype.errorUrl=function(){return G_(this.options.errorUrlTemplate)(this.urlOptions())},e.prototype.urlOptions=function(){var t=this.options;return{zoom:t.zoom,subdomain:t.subdomain,z:t.zoom,x:t.index.x,y:t.index.y,s:t.subdomain,quadkey:t.quadkey,q:t.quadkey,culture:t.culture,c:t.culture}},e}(va);El(tT,{urlTemplate:"",errorUrlTemplate:""});var eT=function(t){function e(){t.call(this),this._items=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._items.length>=this.options.maxSize&&this._remove(t),this._create(e)},e.prototype.empty=function(){for(var t=this._items,e=0;e<t.length;e++)t[e].destroy();this._items=[]},e.prototype.reset=function(){for(var t=this._items,e=0;e<t.length;e++)t[e].hide()},e.prototype._create=function(t){for(var e,r=this._items,n=wl(t.point.toString()+t.offset.toString()+t.zoom+t.urlTemplate),i=0;i<r.length;i++)if(r[i].id===n){e=r[i];break}return e?e.show():(e=new tT(n,t),this._items.push(e)),e},e.prototype._remove=function(t){for(var e=this._items,r=-1,n=-1,i=0;i<e.length;i++){var o=e[i].options.point.distanceTo(t);o>r&&!e[i].visible&&(n=i,r=o)}-1!==n&&(e[n].destroy(),e.splice(n,1))},e}(va);El(eT,{maxSize:100});var rT=Object.assign,nT="change",iT=function(t){function e(e,r){t.call(this);var n=this,i=e[0]||e;n.capture=!1;var o=m_(navigator.userAgent);i.addEventListener?(o.down.split(" ").forEach((function(t){i.addEventListener(t,v_(n._press,n),!0)})),o.up.split(" ").forEach((function(t){i.addEventListener(t,v_(n._release,n),!0)}))):(o.down.split(" ").forEach((function(t){i.attachEvent(t,v_(n._press,n))})),o.up.split(" ").forEach((function(t){i.attachEvent(t,v_(n._release,n))}))),n.bind(["press","release"],r||{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.captureNext=function(){this.capture=!0},e.prototype.cancelCapture=function(){this.capture=!1},e.prototype._press=function(t){this.trigger("press"),this.capture&&t.preventDefault()},e.prototype._release=function(t){var e=this;e.trigger("release"),e.capture&&(t.preventDefault(),e.cancelCapture())},e}(F_),oT=function(t){function e(e){t.call(this);var r=this;r.forcedEnabled=!1,rT(r,e),r.scale=1,r.horizontal?(r.measure="offsetWidth",r.scrollSize="scrollWidth",r.axis="x"):(r.measure="offsetHeight",r.scrollSize="scrollHeight",r.axis="y")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.makeVirtual=function(){rT(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},e.prototype.virtualSize=function(t,e){this._virtualMin===t&&this._virtualMax===e||(this._virtualMin=t,this._virtualMax=e,this.update())},e.prototype.outOfBounds=function(t){return t>this.max||t<this.min},e.prototype.forceEnabled=function(){this.forcedEnabled=!0},e.prototype.getSize=function(){return this.container[this.measure]},e.prototype.getTotal=function(){return this.element[this.scrollSize]},e.prototype.rescale=function(t){this.scale=t},e.prototype.update=function(t){var e=this,r=e.virtual?e._virtualMax:e.getTotal(),n=r*e.scale,i=e.getSize();(0!==r||e.forcedEnabled)&&(e.max=e.virtual?-e._virtualMin:0,e.size=i,e.total=n,e.min=Math.min(e.max,i-n),e.minScale=i/r,e.centerOffset=(n-i)/2,e.enabled=e.forcedEnabled||n>i,t||e.trigger(nT,e))},e}(F_),sT=function(t){function e(e){t.call(this);var r=this;r.x=new oT(rT({horizontal:!0},e)),r.y=new oT(rT({horizontal:!1},e)),r.container=e.container,r.forcedMinScale=e.minScale,r.maxScale=e.maxScale||100,r.bind(nT,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rescale=function(t){this.x.rescale(t),this.y.rescale(t),this.refresh()},e.prototype.centerCoordinates=function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},e.prototype.refresh=function(){var t=this;t.x.update(),t.y.update(),t.enabled=t.x.enabled||t.y.enabled,t.minScale=t.forcedMinScale||Math.min(t.x.minScale,t.y.minScale),t.fitScale=Math.max(t.x.minScale,t.y.minScale),t.trigger(nT)},e}(F_),aT=function(t){function e(e){t.call(this),rT(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.outOfBounds=function(){return this.dimension.outOfBounds(this.movable[this.axis])},e.prototype.dragMove=function(t){var e=this,r=e.dimension,n=e.axis,i=e.movable,o=i[n]+t;if(r.enabled){var s=t;(o<r.min&&t<0||o>r.max&&t>0)&&(s*=e.resistance),i.translateAxis(n,s),e.trigger(nT,e)}},e}(F_),lT=function(t){function e(e){t.call(this);var r,n,i,o,s=this;rT(s,{elastic:!0},e),i=s.elastic?.5:0,o=s.movable,s.x=r=new aT({axis:"x",dimension:s.dimensions.x,resistance:i,movable:o}),s.y=n=new aT({axis:"y",dimension:s.dimensions.y,resistance:i,movable:o}),s.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(t){s.gesture=t,s.offset=ml(s.dimensions.container)},press:function(t){var e=t.event.target.closest("a");e&&e.matches("[data-navigate-on-press=true]")&&t.sender.cancel()},gesturechange:function(t){var e,i=s.gesture,a=i.center,l=t.center,c=t.distance/i.distance,h=s.dimensions.minScale,u=s.dimensions.maxScale;o.scale<=h&&c<1&&(c+=.8*(1-c)),o.scale*c>=u&&(c=u/o.scale);var p=o.x+s.offset.left,d=o.y+s.offset.top;e={x:(p-a.x)*c+l.x-p,y:(d-a.y)*c+l.y-d},o.scaleWith(c),r.dragMove(e.x),n.dragMove(e.y),s.dimensions.rescale(o.scale),s.gesture=t,t.preventDefault()},move:function(t){t.event.target.tagName.match(/textarea|input/i)||(r.dimension.enabled||n.dimension.enabled?(r.dragMove(t.x.delta),n.dragMove(t.y.delta),t.preventDefault()):t.touch.skip())},end:function(t){t.preventDefault()}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(va),cT=function(t,e,r){return"translate3d("+t+"px,"+e+"px,0) scale("+r+")"},hT=function(t){function e(e){t.call(this);var r=this;r.support=y_(),this.transformStyle=this.support.transitions.prefix+"Transform",r.element=e,r.element.style.webkitTransformOrigin="left top",r.x=0,r.y=0,r.scale=1;var n=cT(r.x,r.y,r.scale);r.element.style[this.transformStyle]=n,r._saveCoordinates(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.translateAxis=function(t,e){this[t]+=e,this.refresh()},e.prototype.scaleTo=function(t){this.scale=t,this.refresh()},e.prototype.scaleWith=function(t){this.scale*=t,this.refresh()},e.prototype.translate=function(t){this.x+=t.x,this.y+=t.y,this.refresh()},e.prototype.moveAxis=function(t,e){this[t]=e,this.refresh()},e.prototype.moveTo=function(t){rT(this,t),this.refresh()},e.prototype.refresh=function(){var t,e=this,r=e.x,n=e.y;e.round&&(r=Math.round(r),n=Math.round(n)),(t=cT(r,n,e.scale))!==e.coordinates&&(e.element.style[this.transformStyle]=t,e._saveCoordinates(t),e.trigger(nT))},e.prototype._saveCoordinates=function(t){this.coordinates=t},e}(F_),uT=zh,pT=function(t){function e(e,r){t.call(this,e,r),this._pan=v_(this._pan,this),this.surface=Nb.create(this.element,{width:e.scrollElement.clientWidth,height:e.scrollElement.clientHeight}),this._initRoot(),this.movable=new hT(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseenter=this._handler("shapeMouseEnter"),this.surface.bind("mouseenter",this._mouseenter),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){t.prototype.destroy.call(this),this.surface.destroy()},e.prototype._reset=function(){t.prototype._reset.call(this),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)},e.prototype._initRoot=function(){this._root=new uT,this.surface.draw(this._root)},e.prototype._beforeReset=function(){this.surface.clear(),this._initRoot()},e.prototype._resize=function(){this.surface.size(this.map.size())},e.prototype._readData=function(){var e=t.prototype._readData.call(this);return"FeatureCollection"===e.type?e.features:"GeometryCollection"===e.type?e.geometries:e},e.prototype._load=function(t){this._data=t,this._clearMarkers(),this._loader||(this._loader=new dT(this.map,this.options.style,this));for(var e=new uT,r=0;r<t.length;r++){var n=this._loader.parse(t[r]);n&&e.append(n)}this._root.clear(),this._root.append(e)},e.prototype.shapeCreated=function(t){var e=!1;if(t instanceof Nh&&this.map.options.renderPointsAsMarkers&&(e=fl(this._createMarker(t))),!e){var r={layer:this,shape:t};e=this.map.trigger("shapeCreated",r)}return e},e.prototype.featureCreated=function(t){t.layer=this,this.map.trigger("shapeFeatureCreated",t)},e.prototype._createMarker=function(t){var e=this.map.markers.bind({location:t.location},t.dataItem);return e&&this._markers.push(e),e},e.prototype._clearMarkers=function(){for(var t=0;t<this._markers.length;t++)this.map.markers.remove(this._markers[t]);this._markers=[]},e.prototype._pan=function(){this._panning||(this._panning=!0,this.surface.suspendTracking())},e.prototype._panEnd=function(e){t.prototype._panEnd.call(this,e),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1},e.prototype._translateSurface=function(){var t=this.map,e=t.locationToView(t.extent().nw);this.surface.translate&&(this.surface.translate(e),this.movable.moveTo({x:e.x,y:e.y}))},e.prototype._handler=function(t){var e=this;return function(r){if(r.element){var n={layer:e,layerIndex:(e.map.layers||[]).indexOf(e),shape:r.element,shapeIndex:(e._data||[]).indexOf(r.element.dataItem),originalEvent:r.originalEvent};e.map.trigger(t,n)}}},e.prototype._activate=function(){t.prototype._activate.call(this),this._panHandler=v_(this._pan,this),this.map.bind("pan",this.panHandler)},e.prototype._deactivate=function(){t.prototype._deactivate.call(this),this.map.unbind("pan",this._panHandler)},e}(W_);El(pT,{autoBind:!0,zIndex:100});var dT=function(t){function e(e,r,n){t.call(this),this.observer=n,this.locator=e,this.style=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse=function(t){var e=new uT,r=!0;return"Feature"===t.type?(r=!1,this._loadGeometryTo(e,t.geometry,t),this._featureCreated(e,t)):this._loadGeometryTo(e,t,t),r&&e.children.length<2&&(e=e.children[0]),e},e.prototype._shapeCreated=function(t){var e=!1;return this.observer&&this.observer.shapeCreated&&(e=this.observer.shapeCreated(t)),e},e.prototype._featureCreated=function(t,e){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:t,dataItem:e,properties:e.properties})},e.prototype._loadGeometryTo=function(t,e,r){var n,i,o=this,s=e.coordinates;switch(e.type){case"LineString":i=this._loadPolygon(t,[s],r),this._setLineFill(i);break;case"MultiLineString":for(n=0;n<s.length;n++)i=o._loadPolygon(t,[s[n]],r),o._setLineFill(i);break;case"Polygon":this._loadPolygon(t,s,r);break;case"MultiPolygon":for(n=0;n<s.length;n++)o._loadPolygon(t,s[n],r);break;case"Point":this._loadPoint(t,s,r);break;case"MultiPoint":for(n=0;n<s.length;n++)o._loadPoint(t,s[n],r)}},e.prototype._setLineFill=function(t){var e=t.segments;(e.length<4||!e[0].anchor().equals(xl(e).anchor()))&&(t.options.fill=null)},e.prototype._loadShape=function(t,e){return this._shapeCreated(e)||t.append(e),e},e.prototype._loadPolygon=function(t,e,r){var n=this._buildPolygon(e);return n.dataItem=r,this._loadShape(t,n)},e.prototype._buildPolygon=function(t){for(var e=new(t.length>1?Oh:Th)(this.style),r=0;r<t.length;r++)for(var n=0;n<t[r].length;n++){var i=this.locator.locationToView(VC.fromLngLat(t[r][n]));0===n?e.moveTo(i.x,i.y):e.lineTo(i.x,i.y)}return e},e.prototype._loadPoint=function(t,e,r){var n=VC.fromLngLat(e),i=this.locator.locationToView(n),o=new Fh(i,10),s=new Nh(o,this.style);return s.dataItem=r,s.location=n,this._loadShape(t,s)},e}(va),fT=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._readData=function(){return this.options.data||[]},e.prototype._load=function(t){var e=this;if(this._data=t,this.surface.clear(),0!==t.length){var r=this.options,n=ra(r.valueField),i=t.slice(0);i.sort((function(t,e){return n(e)-n(t)}));for(var o,s=this._scaleType(),a=ra(this.options.locationField),l=0;l<i.length;l++){var c=i[l],h=a(c),u=n(c);if(fl(h)&&fl(u)){o||(o=new s([0,u],[r.minSize,r.maxSize])),h=VC.create(h);var p=e.map.locationToView(h),d=o.map(u),f=e._createSymbol({center:p,size:d,style:r.style,dataItem:c,location:h});f.dataItem=c,f.location=h,f.value=u,e._drawSymbol(f)}}}},e.prototype._scaleType=function(){var t=this.options.scale;return zs(t)?t:mT[t]},e.prototype._createSymbol=function(t){var e=this.options.symbol;return zs(e)||(e=yT[e]),e(t)},e.prototype._drawSymbol=function(t){var e={layer:this,shape:t};this.map.trigger("shapeCreated",e)||this.surface.draw(t)},e}(pT);El(fT,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});var gT=function(t){function e(e,r){t.call(this),this._domain=e,this._range=r;var n=Math.sqrt(e[1])-Math.sqrt(e[0]),i=r[1]-r[0];this._ratio=i/n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t){var e=(Math.sqrt(t)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+e},e}(va),mT={sqrt:gT},yT={circle:function(t){var e=new Fh(t.center,t.size/2);return new Nh(e,t.style)},square:function(t){var e=new Th(t.style),r=t.size/2,n=t.center;return e.moveTo(n.x-r,n.y-r).lineTo(n.x+r,n.y-r).lineTo(n.x+r,n.y+r).lineTo(n.x-r,n.y+r).close(),e}},vT="click",bT="mouseenter",wT="mouseleave",xT=Object.assign,ST=".k-marker",kT=function(t){function e(e,r){t.call(this,e,r),this._markerClickHandler=v_(this._markerClick,this),b_(this.element,vT,ST,this._markerClickHandler),this.items=[],this._load(this._readData())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){t.prototype.destroy.call(this),S_(this.element,vT,this._markerClickHandler),this.clear()},e.prototype.add=function(t){if(!Ps(t))return this._addOne(t);for(var e=0;e<t.length;e++)this._addOne(t[e])},e.prototype.remove=function(t){t.destroy();var e=(this.items||[]).indexOf(t);e>-1&&this.items.splice(e,1)},e.prototype.clear=function(){for(var t=0;t<this.items.length;t++)this.items[t].destroy();this.items=[]},e.prototype.update=function(t){var e=t.location();if(e){t.showAt(this.map.locationToView(e));var r={marker:t,layer:this};this.map.trigger("markerActivate",r)}},e.prototype._reset=function(){t.prototype._reset.call(this);for(var e=this.items,r=0;r<e.length;r++)this.update(e[r])},e.prototype.bind=function(t,e){var r=AT.create(t,this.options);r.dataItem=e;var n={marker:r,layer:this};if(!this.map.trigger("markerCreated",n))return this.add(r),r},e.prototype._addOne=function(t){var e=AT.create(t,this.options);return e.addTo(this),e},e.prototype._readData=function(){return this.options.data||[]},e.prototype._load=function(t){this._data=t,this.clear();for(var e=ra(this.options.locationField),r=ra(this.options.titleField),n=0;n<t.length;n++){var i=t[n];this.bind({location:e(i),title:r(i)},i)}},e.prototype._markerClick=function(t){var e=this.map.layers||[],r=t.target._kendoNode,n={layer:this,layerIndex:e.indexOf(this),marker:r,markerIndex:(this.items||[]).indexOf(r),originalEvent:t};this.map.trigger("markerClick",n)},e.prototype._markerMouseEnter=function(t){var e=this._createMarkerEventArgs(t);this.map.trigger("markerMouseEnter",e)},e.prototype._markerMouseLeave=function(t){var e=this._createMarkerEventArgs(t);this.map.trigger("markerMouseLeave",e)},e.prototype._createMarkerEventArgs=function(t){var e=t.marker;return xT({},{layer:this,layerIndex:this.map.layers.indexOf(this),marker:e,markerIndex:(this.items||[]).indexOf(e)},t)},e}(W_);El(kT,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title"});var AT=function(t){function e(e){t.call(this),this.options=e||{}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.layer=null,this.unbindEvents(),this.hide()},e.prototype.addTo=function(t){this.layer=t.markers||t,this.layer.items.push(this),this.layer.update(this)},e.prototype.location=function(t){return t?(this.options.location=VC.create(t).toArray(),this.layer&&this.layer.update(this),this):VC.create(this.options.location)},e.prototype.showAt=function(t){this.render(),this.element.style.left=d_(Math.round(t.x)),this.element.style.top=d_(Math.round(t.y)),this.tooltip&&this.tooltip.popup&&this.tooltip.popup._position()},e.prototype.hide=function(){this.element&&(this.element.remove(),this.element=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)},e.prototype.bindEvents=function(){this.element&&(this._mouseEnterHandler=v_(this._mouseEnter,this),b_(this.element,bT,ST,this._mouseEnterHandler),this._mouseLeaveHandler=v_(this._mouseLeave,this),b_(this.element,wT,ST,this._mouseLeaveHandler))},e.prototype.unbindEvents=function(){this.element&&(S_(this.element,bT,this._mouseEnterHandler),S_(this.element,wT,this._mouseLeaveHandler))},e.prototype.render=function(){if(!this.element){var t=this.options,e=this.layer,r=document.createElement("span");Is(r,"k-marker k-icon k-i-marker-"+p_(t.shape||"pin")),r.setAttribute("title",t.title);var n=t.attributes||{};Object.keys(n).forEach((function(t){r.setAttributett(t,n[t])})),r._kendoNode=this,r.style.zIndex=t.zIndex,this.element=r,e&&e.element.appendChild(this.element),this.bindEvents(),this.renderTooltip()}},e.prototype._mouseEnter=function(t){var e=this._createEventArgs(t);this.layer._markerMouseEnter(e)},e.prototype._mouseLeave=function(t){var e=this._createEventArgs(t);this.layer._markerMouseLeave(e)},e.prototype._createEventArgs=function(t){return{marker:this,originalEvent:t}},e.prototype.renderTooltip=function(){},e.create=function(t,r){return t instanceof e?t:new e(Hs({},r,t))},e}(va),CT=Object.assign;function _T(t){window.requestAnimationFrame(t)}var TT=function(t){function e(){t.call(this);var e=this;e._tickProxy=v_(e._tick,e),e._started=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.tick=function(){},e.prototype.done=function(){},e.prototype.onEnd=function(){},e.prototype.onCancel=function(){},e.prototype.start=function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,_T(this._tickProxy)))},e.prototype.enabled=function(){return!0},e.prototype.cancel=function(){this._started=!1,this.onCancel()},e.prototype._tick=function(){var t=this;t._started&&(t.tick(),t.done()?(t._started=!1,t.onEnd()):_T(t._tickProxy))},e}(va),OT=function(t){function e(e){t.call(this),CT(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.done=function(){return this.timePassed()>=this.duration},e.prototype.timePassed=function(){return Math.min(this.duration,T_()-this.startDate)},e.prototype.moveTo=function(t){var e=this,r=e.movable;e.initial=r[e.axis],e.delta=t.location-e.initial,e.duration="number"==typeof t.duration?t.duration:300,e.tick=e._easeProxy(t.ease),e.startDate=T_(),e.start()},e.prototype._easeProxy=function(t){var e=this;return function(){e.movable.moveAxis(e.axis,t(e.timePassed(),e.initial,e.delta,e.duration))}},e.easeOutExpo=function(t,e,r,n){return t===n?e+r:r*(1-Math.pow(2,-10*t/n))+e},e}(TT),MT=Object.assign,ET=function(t){t.preventDefault()},PT=800,IT=0,FT="press",DT="hold",RT="select",LT="start",NT="move",BT="end",jT="cancel",zT="tap",UT="doubleTap",$T="release",HT="gesturechange",VT="gestureend",qT="gesturetap",WT={api:0,touch:0,mouse:9,pointer:9};function XT(t){var e,r,n,i=y_(),o=[],s=t.originalEvent||t,a=t.currentTarget,l=0;if(t.api)o.push({id:2,event:t,target:t.target,currentTarget:t.target,location:t,type:"api"});else if(t.type.match(/touch/))for(e=(r=s?s.changedTouches:[]).length;l<e;l++)n=r[l],o.push({location:n,event:t,target:n.target,currentTarget:a,id:n.identifier,type:"touch"});else i.pointers||i.msPointers?o.push({location:s,event:t,target:t.target,currentTarget:a,id:s.pointerId,type:"pointer"}):o.push({id:1,event:t,target:t.target,currentTarget:a,location:t,type:"mouse"});return o}var GT=function(t){function e(e,r){t.call(this);var n=this;n.support=y_(),n.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,n.axis=e,n._updateLocationData(r),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=T_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.move=function(t){var e=this,r=t["page"+e.axis],n=T_(),i=n-e.timeStamp||1;!r&&this.invalidZeroEvents||(e.delta=r-e.location,e._updateLocationData(t),e.initialDelta=r-e.startLocation,e.velocity=e.delta/i,e.timeStamp=n)},e.prototype._updateLocationData=function(t){var e=this,r=e.axis;e.location=t["page"+r],e.client=t["client"+r],e.screen=t["screen"+r]},e}(va),KT=function(t){function e(e,r,n){t.call(this),MT(this,{x:new GT("X",n.location),y:new GT("Y",n.location),type:n.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||WT[n.type],userEvents:e,target:r,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_clicks:e._clicks,supportDoubleTap:e.supportDoubleTap,_moved:!1,_finished:!1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.press=function(){this._holdTimeout=setTimeout(v_(this._hold,this),this.userEvents.minHold),this._trigger(FT,this.pressEvent)},e.prototype._tap=function(t){var e=this;e.userEvents._clicks++,1===e.userEvents._clicks&&(e._clickTimeout=setTimeout((function(){1===e.userEvents._clicks?e._trigger(zT,t):e._trigger(UT,t),e.userEvents._clicks=0}),300))},e.prototype._hold=function(){this._trigger(DT,this.pressEvent)},e.prototype.move=function(t){var e=this,r="api"!==t.type&&e.userEvents._shouldNotMove;if(!e._finished&&!r){if(e.x.move(t.location),e.y.move(t.location),!e._moved){if(e._withinIgnoreThreshold())return;if(JT.current&&JT.current!==e.userEvents)return e.dispose();e._start(t)}e._finished||e._trigger(NT,t)}},e.prototype.end=function(t){this.endTime=T_(),this._finished||(this._finished=!0,this._trigger($T,t),this._moved?this._trigger(BT,t):this.useClickAsTap||(this.supportDoubleTap?this._tap(t):this._trigger(zT,t)),clearTimeout(this._holdTimeout),this.dispose())},e.prototype.dispose=function(){var t=this.userEvents.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);var e=t.indexOf(this);t.splice(e,1)},e.prototype.skip=function(){this.dispose()},e.prototype.cancel=function(){this.dispose()},e.prototype.isMoved=function(){return this._moved},e.prototype._start=function(t){clearTimeout(this._holdTimeout),this.startTime=T_(),this._moved=!0,this._trigger(LT,t)},e.prototype._trigger=function(t,e){var r=this,n=e.event,i={touch:r,x:r.x,y:r.y,target:r.target,event:n};r.userEvents.notify(t,i)&&n.preventDefault()},e.prototype._withinIgnoreThreshold=function(){var t=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(t*t+e*e)<=this.threshold},e}(va);function YT(t){for(var e=m_(navigator.userAgent).up.split(" "),r=0,n=e.length;r<n;r++)t(e[r])}var JT=function(t){function e(e,r){t.call(this);var n,i=this,o=y_();this.support=o,r=r||{},this.options=r,n=i.filter=r.filter,i.threshold=r.threshold||IT,i.minHold=r.minHold||PT,i.touches=[],i._maxTouches=r.multiTouch?2:1,i.allowSelection=r.allowSelection,i.captureUpIfMoved=r.captureUpIfMoved,i.useClickAsTap=!r.fastTap&&!o.delayedClick(),i._clicks=0,i.supportDoubleTap=r.supportDoubleTap;var s=!o.touch||o.mouseAndTouchPresent;if(MT(i,{element:e,surface:r.global&&s?e.ownerDocument.documentElement:r.surface||e,stopPropagation:r.stopPropagation,pressed:!1}),this._surfaceMoveHandler=v_(this._move,this),b_(i.surface,C_("move"),this._surfaceMoveHandler),this._surfaceEndHandler=v_(this._end,this),b_(i.surface,C_("up cancel"),this._surfaceEndHandler),this._elementStartHandler=v_(this._start,this),b_(e,C_("down"),n,this._elementStartHandler),i.useClickAsTap&&(this._elementClickHandler=v_(this._click,this),b_(e,C_("click"),n,this._elementClickHandler)),o.pointers||o.msPointers)if(o.browser.version<11){var a="pinch-zoom double-tap-zoom";e.style["-ms-touch-action"]=r.touchAction&&"none"!==r.touchAction?a+" "+r.touchAction:a}else e.style["touch-action"]=r.touchAction||"none";if(r.preventDragEvent&&(this._elementDragStartHandler=ET,b_(e,C_("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=v_(this._select,this),b_(e,C_("mousedown"),n,this._elementSelectHandler),i.captureUpIfMoved&&o.eventCapture){var l=i.surface,c=v_(i.preventIfMoving,i);YT((function(t){l.addEventListener(t,c,!0)}))}i.bind([FT,DT,zT,UT,LT,NT,BT,$T,jT,"gesturestart",HT,VT,qT,RT],r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventIfMoving=function(t){this._isMoved()&&t.preventDefault()},e.prototype.destroy=function(){var t=this,e=this.options,r=this.element;if(!t._destroyed){if(t._destroyed=!0,t.captureUpIfMoved&&this.support.eventCapture){var n=t.surface;YT((function(e){n.removeEventListener(e,t.preventIfMoving)}))}S_(t.surface,C_("move"),this._surfaceMoveHandler),S_(t.surface,C_("up cancel"),this._surfaceEndHandler),S_(r,C_("down"),this._elementStartHandler),t.useClickAsTap&&S_(r,C_("click"),this._elementClickHandler),e.preventDragEvent&&S_(r,C_("dragstart"),this._elementDragStartHandler),S_(r,C_("mousedown"),this._elementSelectHandler),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget}},e.prototype.capture=function(){e.current=this},e.prototype.cancel=function(){this._disposeAll(),this.trigger(jT)},e.prototype.notify=function(t,e){var r,n,i,o,s,a,l,c,h=this.touches,u=t;if(this._isMultiTouch()){switch(u){case NT:u=HT;break;case BT:u=VT;break;case zT:u=qT}MT(e,{touches:h},(r=h[0],n=h[1],i=r.x.location,o=r.y.location,s=n.x.location,a=n.y.location,l=i-s,c=o-a,{center:{x:(i+s)/2,y:(o+a)/2},distance:Math.sqrt(l*l+c*c)}))}return this.trigger(u,MT(e,{type:u}))},e.prototype.press=function(t,e,r){this._apiCall("_start",t,e,r)},e.prototype.move=function(t,e){this._apiCall("_move",t,e)},e.prototype.end=function(t,e){this._apiCall("_end",t,e)},e.prototype._isMultiTouch=function(){return this.touches.length>1},e.prototype._maxTouchesReached=function(){return this.touches.length>=this._maxTouches},e.prototype._disposeAll=function(){for(var t=this.touches;t.length>0;)t.pop().dispose()},e.prototype._isMoved=function(){return na(this.touches,(function(t){return t.isMoved()})).length},e.prototype._select=function(t){this.allowSelection&&!this.trigger(RT,{event:t})||t.preventDefault()},e.prototype._start=function(t){var r,n,i=this,o=0,s=i.filter,a=XT(t),l=a.length,c=t.which;if(!(c&&c>1||i._maxTouchesReached()))for(e.current=null,i.currentTarget=t.currentTarget,i.stopPropagation&&t.stopPropagation();o<l&&!i._maxTouchesReached();o++)n=a[o],(r=s?n.currentTarget:i.element)&&0===r.length||(n=new KT(i,r,n),i.touches.push(n),n.press(),i._isMultiTouch()&&i.notify("gesturestart",{}))},e.prototype._move=function(t){this._eachTouch("move",t)},e.prototype._end=function(t){this._eachTouch("end",t)},e.prototype._click=function(t){var e={touch:{initialTouch:t.target,target:t.currentTarget,endTime:T_(),x:{location:t.pageX,client:t.clientX},y:{location:t.pageY,client:t.clientY}},x:t.pageX,y:t.pageY,target:t.currentTarget,event:t,type:"tap"};this.trigger("tap",e)&&t.preventDefault()},e.prototype._eachTouch=function(t,e){var r,n,i,o,s={},a=XT(e),l=this.touches;for(r=0;r<l.length;r++)s[(n=l[r]).id]=n;for(r=0;r<a.length;r++)(o=s[(i=a[r]).id])&&o[t](i)},e.prototype._apiCall=function(t,e,r,n){this[t]({api:!0,pageX:e,pageY:r,clientX:e,clientY:r,target:n||this.element,stopPropagation:O_,preventDefault:O_})},e.defaultThreshold=function(t){IT=t},e.minHold=function(t){PT=t},e}(F_),ZT=Object.assign,QT=Math.abs,tO="change",eO="scroll",rO=function(t){function e(e){t.call(this,e);var r=this;ZT(r,e),r.userEvents.bind("gestureend",r.start.bind(this)),r.tapCapture.bind("press",r.cancel.bind(this))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enabled=function(){return this.movable.scale<this.dimensions.minScale},e.prototype.done=function(){return this.dimensions.minScale-this.movable.scale<.01},e.prototype.tick=function(){var t=this.movable;t.scaleWith(1.1),this.dimensions.rescale(t.scale)},e.prototype.onEnd=function(){var t=this.movable;t.scaleTo(this.dimensions.minScale),this.dimensions.rescale(t.scale)},e}(TT),nO=function(t){function e(e){t.call(this);var r=this;ZT(r,e,{transition:new OT({axis:e.axis,movable:e.movable,onEnd:function(){r._end()}})}),r.tapCapture.bind("press",(function(){r.cancel()})),r.userEvents.bind("end",v_(r.start,r)),r.userEvents.bind("gestureend",v_(r.start,r)),r.userEvents.bind("tap",v_(r.onEnd,r))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onCancel=function(){this.transition.cancel()},e.prototype.freeze=function(t){this.cancel(),this._moveTo(t)},e.prototype.onEnd=function(){var t=this;t.paneAxis.outOfBounds()?t._snapBack():t._end()},e.prototype.done=function(){return QT(this.velocity)<1},e.prototype.start=function(e){var r,n=this;n.dimension.enabled&&(n.paneAxis.outOfBounds()?n.transition._started?(n.transition.cancel(),n.velocity=Math.min(e.touch[n.axis].velocity*n.velocityMultiplier,55),t.prototype.start.call(this)):n._snapBack():(r=2===e.touch.id?0:e.touch[n.axis].velocity,n.velocity=Math.max(Math.min(r*n.velocityMultiplier,55),-55),n.tapCapture.captureNext(),t.prototype.start.call(this)))},e.prototype.tick=function(){var t=this,e=t.dimension,r=t.paneAxis.outOfBounds()?.5:t.friction,n=t.velocity*=r,i=t.movable[t.axis]+n;!t.elastic&&e.outOfBounds(i)&&(i=Math.max(Math.min(i,e.max),e.min),t.velocity=0),t.movable.moveAxis(t.axis,i)},e.prototype._end=function(){this.tapCapture.cancelCapture(),this.end()},e.prototype._snapBack=function(){var t=this,e=t.dimension,r=t.movable[t.axis]>e.max?e.max:e.min;t._moveTo(r)},e.prototype._moveTo=function(t){this.transition.moveTo({location:t,duration:500,ease:OT.easeOutExpo})},e}(TT),iO=function(t){function e(e){t.call(this,e);ZT(this,e,{origin:{},destination:{},offset:{}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.tick=function(){this._updateCoordinates(),this.moveTo(this.origin)},e.prototype.done=function(){return QT(this.offset.y)<5&&QT(this.offset.x)<5},e.prototype.onEnd=function(){this.moveTo(this.destination),this.callback&&this.callback.call()},e.prototype.setCoordinates=function(t,e){this.offset={},this.origin=t,this.destination=e},e.prototype.setCallback=function(t){t&&zs(t)?this.callback=t:t=void 0},e.prototype._updateCoordinates=function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}},e}(TT),oO=function(t){function e(e){t.call(this);var r=this,n="x"===e.axis,i=c_('<div class="km-touch-scrollbar km-'+(n?"horizontal":"vertical")+'-scrollbar" />');ZT(r,e,{element:i,elementSize:0,movable:new hT(i),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:n?"width":"height"}),r.scrollMovable.bind(tO,r.refresh.bind(r)),r.container.appendChild(i),e.alwaysVisible&&r.show()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.refresh=function(){var t=this,e=t.axis,r=t.dimension,n=r.size,i=t.scrollMovable,o=n/r.total,s=Math.round(-i[e]*o),a=Math.round(n*o);this.element.style.display=o>=1?"none":"",s+a>n?a=n-s:s<0&&(a+=s,s=0),t.elementSize!==a&&(t.element.style[t.size]=a+"px",t.elementSize=a),t.movable.moveAxis(e,s)},e.prototype.show=function(){this.element.style.opacity=.7,this.element.style.visibility="visible"},e.prototype.hide=function(){this.alwaysVisible||(this.element.style.opacity=0)},e}(va),sO=function(t){function e(e,r){t.call(this);var n=this;this.element=e,this._initOptions(r);var i=function(t){var e=f_(t);return e.ios||e.android}(navigator.userAgent);n._native=n.options.useNative&&i;var o=c_('<div class="km-scroll-header"/>');if(n._native)return Is(e,"km-native-scroller"),u_(o,e),void ZT(n,{scrollElement:e,fixedContainer:e.children[0]});e.style.overflow="hidden",Is(e,"km-scroll-wrapper"),function(t,e){for(t.appendChild(e);t.firstChild!==e;)e.appendChild(t.firstChild)}(e,c_('<div class="km-scroll-container"/>')),u_(o,e);var s=e.children[1],a=new iT(e),l=new hT(s),c=new sT({element:s,container:e,forcedEnabled:n.options.zoom}),h=this.options.avoidScrolling,u=new JT(e,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:n.options.zoom,supportDoubleTap:n.options.supportDoubleTap,start:function(t){c.refresh();var e=QT(t.x.velocity),r=QT(t.y.velocity),i=2*e>=r,o=function(t,e){return t===e||function(t,e){if(!e)return!1;for(var r=e.parentNode;null!==r;){if(r===t)return!0;r=r.parentNode}return!1}(t,e)}(n.fixedContainer,t.event.target),s=2*r>=e;!o&&!h(t)&&n.enabled&&(c.x.enabled&&i||c.y.enabled&&s)?u.capture():u.cancel()}}),p=new lT({movable:l,dimensions:c,userEvents:u,elastic:n.options.elastic}),d=new rO({movable:l,dimensions:c,userEvents:u,tapCapture:a}),f=new iO({moveTo:function(t){n.scrollTo(t.x,t.y)}});l.bind(tO,(function(){n.scrollTop=-l.y,n.scrollLeft=-l.x,n.trigger(eO,{scrollTop:n.scrollTop,scrollLeft:n.scrollLeft})})),n.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),b_(e,"DOMMouseScroll mousewheel",this._wheelScrollHandler)),ZT(n,{movable:l,dimensions:c,zoomSnapBack:d,animatedScroller:f,userEvents:u,pane:p,tapCapture:a,pulled:!1,enabled:!0,scrollElement:s,scrollTop:0,scrollLeft:0,fixedContainer:e.children[0]}),n._initAxis("x"),n._initAxis("y"),n._wheelEnd=function(){n._wheel=!1,n.userEvents.end(0,n._wheelY)},c.refresh(),n.options.pullToRefresh&&n._initPullToRefresh()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initOptions=function(t){this.options=Hs({},this.options,t)},e.prototype._wheelScroll=function(t){if(!t.ctrlKey){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var e=function(t){var e,r=t.originalEvent||t,n=r.wheelDeltaY;return r.wheelDelta?(void 0===n||n)&&(e=r.wheelDelta):r.detail&&r.axis===r.VERTICAL_AXIS&&(e=10*-r.detail),e}(t);e&&(this._wheelY+=e,this.userEvents.move(0,this._wheelY)),t.preventDefault()}},e.prototype.makeVirtual=function(){this.dimensions.y.makeVirtual()},e.prototype.virtualSize=function(t,e){this.dimensions.y.virtualSize(t,e)},e.prototype.height=function(){return this.dimensions.y.size},e.prototype.scrollHeight=function(){return this.scrollElement.scrollHeight},e.prototype.scrollWidth=function(){return this.scrollElement.scrollWidth},e.prototype._resize=function(){this._native||this.contentResized()},e.prototype.setOptions=function(t){this._initOptions(t),t.pullToRefresh&&this._initPullToRefresh()},e.prototype.reset=function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},e.prototype.contentResized=function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},e.prototype.zoomOut=function(){var t=this.dimensions;t.refresh(),this._scale(t.fitScale),this.movable.moveTo(t.centerCoordinates())},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.scrollTo=function(t,e){this._native?(this.scrollElement.scrollLeft(QT(t)),this.scrollElement.scrollTop(QT(e))):(this.dimensions.refresh(),this.movable.moveTo({x:t,y:e}))},e.prototype.animatedScrollTo=function(t,e,r){var n,i;this._native?this.scrollTo(t,e):(n={x:this.movable.x,y:this.movable.y},i={x:t,y:e},this.animatedScroller.setCoordinates(n,i),this.animatedScroller.setCallback(r),this.animatedScroller.start())},e.prototype.pullHandled=function(){},e.prototype.destroy=function(){var t=this.element;S_(t,"DOMMouseScroll mousewheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()},e.prototype._scale=function(t){this.dimensions.rescale(t),this.movable.scaleTo(t)},e.prototype._initPullToRefresh=function(){},e.prototype._dragEnd=function(){},e.prototype._paneChange=function(){},e.prototype._initAxis=function(t){var e=this,r=e.movable,n=e.dimensions[t],i=e.tapCapture,o=e.pane[t],s=new oO({axis:t,movable:r,dimension:n,container:e.element,alwaysVisible:e.options.visibleScrollHints});n.bind(tO,(function(){s.refresh()})),o.bind(tO,(function(){s.show()})),e[t+"inertia"]=new nO({axis:t,paneAxis:o,movable:r,tapCapture:i,userEvents:e.userEvents,dimension:n,elastic:e.options.elastic,friction:e.options.friction||.96,velocityMultiplier:e.options.velocityMultiplier||10,end:function(){s.hide(),e.trigger("scrollEnd",{axis:t,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}})},e}(F_);El(sO,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}}),__(sO,["pull",eO,"resize"]);var aO=function(t,e){void 0===e&&(e={}),this.sender=e.sender||t,this.widget=t,this.rtl=Boolean(e.rtl)};aO.prototype.notify=function(t,e){this.widget&&this.widget.trigger(t,e)};const lO=aO;var cO=Math,hO=cO.min,uO=cO.pow,pO=gc,dO="marker",fO="DOMMouseScroll mousewheel",gO={bubble:fT,shape:pT,tile:Z_};function mO(t){var e=[];if(t)for(var r=p_(t).split("-"),n=0;n<r.length;n++)e.push("k-pos-"+r[n]);return e.join(" ")}gO.marker=kT;var yO=function(t){function e(e,r,n,i){void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i={}),t.call(this),this._init(e,r,n,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.scroller.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),Ps(this.markers)?this.markers.forEach((function(t){t.destroy()})):this.markers.destroy();for(var e=0;e<this.layers.length;e++)this.layers[e].destroy();S_(this.element,fO,this._mousewheelHandler),t.prototype.destroy.call(this)},e.prototype._init=function(t,e,r,n){void 0===e&&(e={}),void 0===r&&(r={}),void 0===n&&(n={}),this.support=y_(),this.context=n,this.initObserver(n),this.initServices(n),this._initOptions(e),this._setEvents(e),this.crs=new a_,this._initElement(t),this._viewOrigin=this._getOrigin(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset(),this._mousewheelHandler=this._mousewheel.bind(this),b_(this.element,fO,this._mousewheelHandler)},e.prototype._initOptions=function(t){this.options=Hs({},this.options,t)},e.prototype._initElement=function(t){this.element=t,Is(t,"k-map"),t.style.position="relative",t.setAttribute("data-role","map"),h_(t);var e=c_("<div />");this.element.appendChild(e)},e.prototype.initServices=function(t){void 0===t&&(t={}),this.widgetService=new lO(this,t)},e.prototype.initObserver=function(t){void 0===t&&(t={}),this.observers=[],this.addObserver(t.observer)},e.prototype.addObserver=function(t){t&&this.observers.push(t)},e.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)},e.prototype.requiresHandlers=function(t){for(var e=this.observers,r=0;r<e.length;r++)if(e[r].requiresHandlers(t))return!0},e.prototype.trigger=function(e,r){void 0===r&&(r={}),r.sender=this;for(var n=this.observers,i=!1,o=0;o<n.length;o++)n[o].trigger(e,r)&&(i=!0);return i||t.prototype.trigger.call(this,e,r),i},e.prototype._notifyObserver=function(t,e){void 0===e&&(e={}),e.sender=this;for(var r=this.observers,n=!1,i=0;i<r.length;i++)r[i].trigger(t,e)&&(n=!0);return n},e.prototype.zoom=function(t){var e,r=this.options;if(fl(t)){var n=cO.round(Sl(t,r.minZoom,r.maxZoom));r.zoom!==n&&(r.zoom=n,this._reset()),e=this}else e=r.zoom;return e},e.prototype.center=function(t){var e;return t?(this.options.center=VC.create(t).toArray(),this._reset(),e=this):e=VC.create(this.options.center),e},e.prototype.extent=function(t){var e;return t?(this._setExtent(t),e=this):e=this._getExtent(),e},e.prototype.setOptions=function(t){void 0===t&&(t={});var e=this.element;this.destroy(),h_(e),this._init(e,t,{},this.context),this._reset()},e.prototype.locationToLayer=function(t,e){var r=!this.options.wraparound,n=VC.create(t);return this.crs.toPoint(n,this._layerSize(e),r)},e.prototype.layerToLocation=function(t,e){var r=!this.options.wraparound,n=pO.create(t);return this.crs.toLocation(n,this._layerSize(e),r)},e.prototype.locationToView=function(t){var e=VC.create(t),r=this.locationToLayer(this._viewOrigin);return this.locationToLayer(e).translateWith(r.scale(-1))},e.prototype.viewToLocation=function(t,e){var r=this.locationToLayer(this._getOrigin(),e),n=pO.create(t).clone().translateWith(r);return this.layerToLocation(n,e)},e.prototype.eventOffset=function(t){var e,r,n=ml(this.element);if(t.x&&t.x.location||t.y&&t.y.location)e=t.x.location-n.left,r=t.y.location-n.top;else{var i=t.originalEvent||t;e=Tl(i.pageX,i.clientX)-n.left,r=Tl(i.pageY,i.clientY)-n.top}return new gc(e,r)},e.prototype.eventToView=function(t){var e=this.eventOffset(t);return this.locationToView(this.viewToLocation(e))},e.prototype.eventToLayer=function(t){return this.locationToLayer(this.eventToLocation(t))},e.prototype.eventToLocation=function(t){var e=this.eventOffset(t);return this.viewToLocation(e)},e.prototype.viewSize=function(){var t=this.element,e=this._layerSize(),r=t.clientWidth;return this.options.wraparound||(r=hO(e,r)),{width:r,height:hO(e,t.clientHeight)}},e.prototype.exportVisual=function(){return this._reset(),!1},e.prototype._setOrigin=function(t,e){var r,n=this.viewSize(),i=this._origin=VC.create(t);return(r=this.locationToLayer(i,e)).x+=n.width/2,r.y+=n.height/2,this.options.center=this.layerToLocation(r,e).toArray(),this},e.prototype._getOrigin=function(t){var e,r=this.viewSize();return!t&&this._origin||((e=this.locationToLayer(this.center())).x-=r.width/2,e.y-=r.height/2,this._origin=this.layerToLocation(e)),this._origin},e.prototype._setExtent=function(t){var e=q_.create(t),r=e.se.clone();this.options.wraparound&&r.lng<0&&t.nw.lng>0&&(r.lng=180+(180+r.lng));var n=new q_(e.nw,r);this.center(n.center());var i,o=this.element.clientWidth,s=this.element.clientHeight;for(i=this.options.maxZoom;i>=this.options.minZoom;i--){var a=this.locationToLayer(n.nw,i),l=this.locationToLayer(n.se,i),c=cO.abs(l.x-a.x),h=cO.abs(l.y-a.y);if(c<=o&&h<=s)break}this.zoom(i)},e.prototype._getExtent=function(){var t=this._getOrigin(),e=this.locationToLayer(t),r=this.viewSize();e.x+=r.width,e.y+=r.height;var n=this.layerToLocation(e);return new q_(t,n)},e.prototype._zoomAround=function(t,e){this._setOrigin(this.layerToLocation(t,e),e),this.zoom(e)},e.prototype._initControls=function(){var t=this.options.controls;t.attribution&&this._createAttribution(t.attribution),this.support.mobileOS||(t.navigator&&this._createNavigator(t.navigator),t.zoom&&this._createZoomControl(t.zoom))},e.prototype._createControlElement=function(t,e){var r=t.position||e,n="."+mO(r).replace(" ","."),i=this.element.querySelector(".k-map-controls"+n)||[];if(0===i.length){var o=document.createElement("div");Is(o,"k-map-controls "+mO(r)),i=o,this.element.appendChild(i)}var s=document.createElement("div");return i.appendChild(s),s},e.prototype._createAttribution=function(t){var e=this._createControlElement(t,"bottomRight");this.attribution=new R_(e,t)},e.prototype._createNavigator=function(t){var e=this._createControlElement(t,"topLeft"),r=this.navigator=new B_(e,t);this._navigatorPan=this._navigatorPan.bind(this),r.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),r.bind("center",this._navigatorCenter)},e.prototype._navigatorPan=function(t){var e=this.scroller,r=e.scrollLeft+t.x,n=e.scrollTop-t.y,i=this._virtualSize,o=this.element.clientWidth,s=this.element.clientHeight;r=Sl(r,i.x.min,i.x.max-o),n=Sl(n,i.y.min,i.y.max-s),this.scroller.one("scroll",v_(this._scrollEnd,this)),this.scroller.scrollTo(-r,-n)},e.prototype._navigatorCenter=function(){this.center(this.options.center)},e.prototype._createZoomControl=function(t){var e=this._createControlElement(t,"topLeft"),r=this.zoomControl=new U_(e,t);this._zoomControlChange=this._zoomControlChange.bind(this),r.bind("change",this._zoomControlChange)},e.prototype._zoomControlChange=function(t){this.trigger("zoomStart",{originalEvent:t})||(this.zoom(this.zoom()+t.delta),this.trigger("zoomEnd",{originalEvent:t}))},e.prototype._initScroller=function(){var t=this.support.mobileOS?.93:.9,e=!1!==this.options.zoomable,r=this.scroller=new sO(this.element.children[0],{friction:t,velocityMultiplier:5,zoom:e,mousewheelScrolling:!1,supportDoubleTap:!0});r.bind("scroll",v_(this._scroll,this)),r.bind("scrollEnd",v_(this._scrollEnd,this)),r.userEvents.bind("gesturestart",v_(this._scaleStart,this)),r.userEvents.bind("gestureend",v_(this._scale,this)),r.userEvents.bind("doubleTap",v_(this._doubleTap,this)),r.userEvents.bind("tap",v_(this._tap,this)),this.scrollElement=r.scrollElement},e.prototype._initLayers=function(){for(var t=this.options.layers,e=this.layers=[],r=0;r<t.length;r++){var n=t[r],i=this._createLayer(n);e.push(i)}},e.prototype._createLayer=function(t){var e=t.type||"shape",r=this.options.layerDefaults[e],n=Hs({},e===dO?this.options.markerDefaults:r,t),i=new(0,gO[e])(this,n);return e===dO&&(this.markers=i),i},e.prototype._initMarkers=function(){(this.options.layers||[]).filter((function(t){return t&&t.type===dO})).length>0||(this.markers=new kT(this,this.options.markerDefaults),this.markers.add(this.options.markers))},e.prototype._scroll=function(t){var e=this.locationToLayer(this._viewOrigin).round(),r=t.sender.movable,n=new gc(r.x,r.y).scale(-1).scale(1/r.scale);e.x+=n.x,e.y+=n.y,this._scrollOffset=n,this._setOrigin(this.layerToLocation(e)),this.trigger("pan",{originalEvent:t,origin:this._getOrigin(),center:this.center()})},e.prototype._scrollEnd=function(t){this._scrollOffset&&this._panComplete()&&(this._scrollOffset=null,this._panEndTimestamp=T_(),this.trigger("panEnd",{originalEvent:t,origin:this._getOrigin(),center:this.center()}))},e.prototype._panComplete=function(){return T_()-(this._panEndTimestamp||0)>50},e.prototype._scaleStart=function(t){if(this.trigger("zoomStart",{originalEvent:t})){var e=t.touches[1];e&&e.cancel()}},e.prototype._scale=function(t){var e=this.scroller.movable.scale,r=this._scaleToZoom(e),n=new gc(t.center.x,t.center.y),i=this.viewToLocation(n,r),o=this.locationToLayer(i,r).translate(-n.x,-n.y);this._zoomAround(o,r),this.trigger("zoomEnd",{originalEvent:t})},e.prototype._scaleToZoom=function(t){var e=this._layerSize()*t/this.options.minSize,r=cO.log(e)/cO.log(2);return cO.round(r)},e.prototype._reset=function(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.trigger("beforeReset"),this.trigger("reset")},e.prototype._resetScroller=function(){var t=this.scroller,e=t.dimensions.x,r=t.dimensions.y,n=this._layerSize(),i=this.extent().nw,o=this.locationToLayer(i).round();t.movable.round=!0,t.reset(),t.userEvents.cancel();var s=this.zoom();t.dimensions.forcedMinScale=uO(2,this.options.minZoom-s),t.dimensions.maxScale=uO(2,this.options.maxZoom-s);var a={min:-o.x,max:n-o.x},l={min:-o.y,max:n-o.y};if(this.options.wraparound&&(a.max=20*n,a.min=-a.max),!1===this.options.pannable){var c=this.viewSize();a.min=l.min=0,a.max=c.width,l.max=c.height}e.makeVirtual(),r.makeVirtual(),e.virtualSize(a.min,a.max),r.virtualSize(l.min,l.max),this._virtualSize={x:a,y:l}},e.prototype._renderLayers=function(){},e.prototype._layerSize=function(t){var e=Tl(t,this.options.zoom);return this.options.minSize*uO(2,e)},e.prototype._tap=function(t){if(this._panComplete()){var e=this.eventOffset(t);this.trigger("click",{originalEvent:t,location:this.viewToLocation(e)})}},e.prototype._doubleTap=function(t){if(!1!==this.options.zoomable&&!this.trigger("zoomStart",{originalEvent:t})){var e=this.zoom()+1,r=this.eventOffset(t),n=this.viewToLocation(r),i=this.locationToLayer(n,e).translate(-r.x,-r.y);this._zoomAround(i,e),this.trigger("zoomEnd",{originalEvent:t})}},e.prototype._mousewheel=function(t){t.preventDefault();var e=ya(t)>0?-1:1,r=this.options,n=this.zoom(),i=Sl(n+e,r.minZoom,r.maxZoom);if(!1!==r.zoomable&&i!==n&&!this.trigger("zoomStart",{originalEvent:t})){var o=this.eventOffset(t),s=this.viewToLocation(o),a=this.locationToLayer(s,i).translate(-o.x,-o.y);this._zoomAround(a,i),this.trigger("zoomEnd",{originalEvent:t})}},e}(F_);El(yO,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1}),__(yO,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);const vO=yO;var bO=1.5,wO=.4,xO="#000",SO="Arial, Helvetica, sans-serif",kO="12px "+SO,AO="16px "+SO,CO="transparent",_O="#fff",TO=function(){return{icon:{border:{width:1}},label:{font:kO,padding:3},line:{length:10,width:2},visible:!0}},OO=function(){return{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:_O,gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}}},MO=function(){return{gap:bO,spacing:wO,target:{color:"#ff0000"}}},EO=function(){return{gap:.5,line:{color:xO,width:1},spacing:wO}},PO=function(t){return{visible:!0,labels:{font:"11px Arial, Helvetica, sans-serif"},overlay:t.gradients?{}:{gradient:"none"},area:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},rangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalRangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},bar:{gap:bO,spacing:wO},boxPlot:OO(),bubble:{border:{width:0},labels:{background:CO},opacity:.6},bullet:MO(),candlestick:{border:{_brightness:.8,width:1},downColor:_O,gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:xO,width:1},spacing:.3},column:{gap:bO,spacing:wO},heatmap:{labels:{color:"",background:CO,visible:!0},highlight:{border:{width:0}}},pie:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},donut:{margin:1},funnel:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},horizontalWaterfall:EO(),line:{width:2},notes:TO(),ohlc:{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3},radarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},radarLine:{markers:{visible:!1},width:2},polarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},polarLine:{markers:{visible:!1},width:2},rangeBar:{gap:bO,spacing:wO},rangeColumn:{gap:bO,spacing:wO},scatterLine:{width:1},verticalArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalBoxPlot:OO(),verticalBullet:MO(),verticalLine:{width:2},waterfall:EO()}},IO=function(t){return void 0===t&&(t={}),{axisDefaults:{labels:{font:kO},notes:TO(),title:{font:AO,margin:5}},categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:PO(t),title:{font:AO},legend:{labels:{font:kO}}}};class FO{constructor(){!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"store",{})}push(t){this.store=t}set(t,e){for(var r=this.store,n=t.split("."),i=n.shift();n.length>0;)r=r[i]=r[i]||{},i=n.shift();r[i]=e}}function DO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var RO=t=>"".concat(t.fontSize," ").concat(t.fontFamily);class LO extends FO{constructor(){super(...arguments),DO(this,"loaded",!1),DO(this,"element",null),DO(this,"currentAccentColor",void 0)}reset(){this.loaded=!1}getThemeOptions(){return this.store}loadTheme(){this.readTheme()||this.readDefaultTheme(),this.loaded=!0}readTheme(){this.createElement();var t=this.queryColor("accent"),e=this.queryColor("accent-contrast");if(this.loaded&&this.currentAccentColor&&this.currentAccentColor===t)return!0;var r=t!==e;try{r&&(this.currentAccentColor=t,this.push(IO()),this.setColors(),this.setFonts(),this.setSeriesColors())}finally{this.destroyElement()}return r}readDefaultTheme(){this.push(Object.assign({},IO(),{axisDefaults:{crosshair:{color:"rgba(0, 0, 0, 0.5)"},labels:{color:"rgb(101, 101, 101)",font:"12px serif"},line:{color:"rgba(0, 0, 0, 0.08)"},majorGridLines:{color:"rgba(0, 0, 0, 0.08)"},minorGridLines:{color:"rgba(0, 0, 0, 0.04)"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},title:{color:"rgb(101, 101, 101)",font:"14px serif"}},chartArea:{background:"rgb(255, 255, 255)"},legend:{inactiveItems:{labels:{color:"rgba(102, 102, 102, 0.5)"},markers:{color:"rgba(102, 102, 102, 0.5)"}},labels:{color:"rgb(101, 101, 101)",font:"14px serif"}},seriesDefaults:{boxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},bullet:{target:{color:"rgb(101, 101, 101)"}},candlestick:{downColor:"rgb(101, 101, 101)",line:{color:"rgb(101, 101, 101)"}},errorBars:{color:"rgba(0, 0, 0, 0.5)"},horizontalWaterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},icon:{border:{color:"rgba(0, 0, 0, 0.08)"}},labels:{background:"rgb(255, 255, 255)",color:"rgb(101, 101, 101)",opacity:.8,font:"12px serif"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},verticalBoxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},verticalBullet:{target:{color:"rgb(101, 101, 101)"}},waterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},area:{opacity:.8}},title:{color:"rgb(101, 101, 101)",font:"16px serif"},seriesColors:["rgb(255, 99, 88)","rgb(255, 210, 70)","rgb(120, 210, 55)","rgb(40, 180, 200)","rgb(45, 115, 245)","rgb(170, 70, 190)"]}))}createElement(){var t=this.element=document.createElement("div");t.style.display="none",t.innerHTML='\n    <div class="k-var--accent"></div>\n    <div class="k-var--accent-contrast"></div>\n    <div class="k-var--base"></div>\n    <div class="k-var--background"></div>\n\n    <div class="k-var--normal-background"></div>\n    <div class="k-var--normal-text-color"></div>\n    <div class="k-var--hover-background"></div>\n    <div class="k-var--hover-text-color"></div>\n    <div class="k-var--selected-background"></div>\n    <div class="k-var--selected-text-color"></div>\n    <div class="k-var--chart-error-bars-background"></div>\n    <div class="k-var--chart-notes-background"></div>\n    <div class="k-var--chart-notes-border"></div>\n    <div class="k-var--chart-notes-lines"></div>\n    <div class="k-var--chart-crosshair-background"></div>\n\n    <div class="k-var--chart-inactive"></div>\n    <div class="k-var--chart-major-lines"></div>\n    <div class="k-var--chart-minor-lines"></div>\n    <div class="k-var--chart-area-opacity"></div>\n\n    <div>\n        <div class="k-var--chart-font"></div>\n        <div class="k-var--chart-title-font"></div>\n        <div class="k-var--chart-label-font"></div>\n    </div>\n\n    <div class="k-var--series">\n      <div class="k-var--series-a"></div>\n      <div class="k-var--series-b"></div>\n      <div class="k-var--series-c"></div>\n      <div class="k-var--series-d"></div>\n      <div class="k-var--series-e"></div>\n      <div class="k-var--series-f"></div>\n    </div>\n',document.body.appendChild(t)}destroyElement(){this.element&&(document.body.removeChild(this.element),this.element=void 0)}setStyle(t,e){this.set(t,e)}setColors(){this.mapColor("axisDefaults.crosshair.color","chart-crosshair-background"),this.mapColor("axisDefaults.labels.color","normal-text-color"),this.mapColor("axisDefaults.line.color","chart-major-lines"),this.mapColor("axisDefaults.majorGridLines.color","chart-major-lines"),this.mapColor("axisDefaults.minorGridLines.color","chart-minor-lines"),this.mapColor("axisDefaults.notes.icon.background","chart-notes-background"),this.mapColor("axisDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("axisDefaults.notes.line.color","chart-notes-lines"),this.mapColor("axisDefaults.title.color","normal-text-color"),this.mapColor("chartArea.background","background"),this.mapColor("legend.inactiveItems.labels.color","chart-inactive"),this.mapColor("legend.inactiveItems.markers.color","chart-inactive"),this.mapColor("legend.labels.color","normal-text-color"),this.mapColor("seriesDefaults.boxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.boxPlot.mean.color","base"),this.mapColor("seriesDefaults.boxPlot.median.color","base"),this.mapColor("seriesDefaults.boxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.bullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.candlestick.downColor","normal-text-color"),this.mapColor("seriesDefaults.candlestick.line.color","normal-text-color"),this.mapColor("seriesDefaults.errorBars.color","chart-error-bars-background"),this.mapColor("seriesDefaults.horizontalWaterfall.line.color","chart-major-lines"),this.mapColor("seriesDefaults.icon.border.color","chart-major-lines"),this.mapColor("seriesDefaults.labels.background","background"),this.mapColor("seriesDefaults.labels.color","normal-text-color"),this.mapColor("seriesDefaults.notes.icon.background","chart-notes-background"),this.mapColor("seriesDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("seriesDefaults.notes.line.color","chart-notes-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.mean.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.median.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.verticalBullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.waterfall.line.color","chart-major-lines"),this.mapColor("title.color","normal-text-color");var t=parseFloat(this.queryStyle("chart-area-opacity").opacity);isNaN(t)||(this.setStyle("seriesDefaults.area.opacity",t),this.setStyle("seriesDefaults.labels.opacity",t))}setFonts(){var t=RO(this.queryStyle("chart-font")),e=RO(this.queryStyle("chart-title-font")),r=RO(this.queryStyle("chart-label-font"));this.setStyle("axisDefaults.labels.font",r),this.setStyle("axisDefaults.notes.label.font",t),this.setStyle("axisDefaults.title.font",t),this.setStyle("legend.labels.font",t),this.setStyle("seriesDefaults.labels.font",r),this.setStyle("seriesDefaults.notes.label.font",t),this.setStyle("title.font",e)}setSeriesColors(){var t=this.element,e=[].slice.call(t.querySelectorAll(".k-var--series div")).reduce(((t,e)=>(t[(t=>t.match(/series-([a-z])$/)[1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0))(e.className)]=window.getComputedStyle(e).backgroundColor,t)),[]);this.setStyle("seriesColors",e)}mapColor(t,e){this.setStyle(t,this.queryColor(e))}queryColor(t){return this.queryStyle(t).backgroundColor}queryStyle(t){var e=this.element;return window.getComputedStyle(e.querySelector(".k-var--".concat(t)))}}class NO extends H{constructor(t,e,r,n){super(t,e),this.extendOptions(e),this.themeService=r,this.intlService=n}destroy(){this.destroyWidget()}getThemeOptions(){return this.themeService?(this.themeService.loadTheme(),this.themeService.getThemeOptions()):{}}initWidget(){this.widget=this.createWidget(this.element,this.options,this.getThemeOptions(),this.intlService,this.instanceObserver)}destroyWidget(){this.widget&&(this.widget.destroy(),this.widget=null)}createWidget(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new(this.getWidgetConstructor())(t,e,r,{intlService:n,observer:i,sender:this})}getWidgetConstructor(){}setOptions(t){this.widget&&(this.options=t,this.widget.setOptions(t,this.getThemeOptions()))}refresh(){this.themeService&&this.themeService.reset(),this.setOptions(this.options)}}function BO(t){var{id:e="",widgetOptions:r="",componentOptions:n={},services:i={themeService:{},intlService:{}},componentConstructor:o}=t,s=G(e);if(s){var a=JSON.parse(r),l=re(e),c=u(a,n);if(l)te(l,c);else i.intlService&&(c.locale=c.locale||{},c.locale.name=e,i.intlService.setLocale(c.locale)),ie(e,new o(s,c,i.themeService,i.intlService))}}class jO extends NO{constructor(t,e,r,n){super(t,e,r,n),this.extendOptions(e),this.initWidget()}getWidgetConstructor(){return OA}}function zO(t,e,r){BO({id:t,widgetOptions:e,componentOptions:r,services:{themeService:new LO,intlService:Ko},componentConstructor:jO})}class UO extends NO{constructor(t,e,r,n){super(t,e,r,n),this.extendOptions(e),this.initWidget()}getWidgetConstructor(){return DC}}function $O(t,e,r){BO({id:t,widgetOptions:e,componentOptions:r,services:{themeService:new LO,intlService:Ko},componentConstructor:UO})}var HO=F("index");class VO extends H{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{dotNetInstance:null,mode:"",debounceDelay:1}),this.extendOptions(e),this.collapsibleItems=[],this.setCollapsibleItems(),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.debouncedResize=Rr((t=>{this.onResize(t)}),this.options.debounceDelay).bind(this),window.addEventListener("resize",this.debouncedResize)}unbindEvents(){window.removeEventListener("resize",this.debouncedResize),this.debouncedResize=null}getItems(){return Array.from(this.element.querySelector(".k-breadcrumb-container").children)}setCollapsibleItems(){var t=this.getItems(),e=t.slice(1,t.length-1).map((t=>{var e=N(HO,t);return{index:e,offsetWidth:this.getItemWidth(e),expanded:!0}}));this.collapsibleItems=e}setItemDisplay(t,e){var r=this.getItemByIndex(t.index),n="wrap"===this.options.mode?2:1;if(t.index===n)for(var i=r.children,o=1;o<i.length;o++)i[o].style.display=e;else r.style.display=e}getWidths(){var t=this.getItems().map((t=>t.offsetWidth)).reduce(((t,e)=>t+e),0),e=getComputedStyle(this.element);return{totalItemsWidth:t,elementInternalWidth:this.element.clientWidth-parseInt(e.paddingLeft)-parseInt(e.paddingRight)}}getItemWidth(t){return this.getItemByIndex(t).offsetWidth}getItemByIndex(t){return this.element.querySelector(R(HO,t))}collapseItem(t){this.setItemDisplay(t,"none"),t.expanded=!1}expandItem(t){this.setItemDisplay(t,""),t.expanded=!0}onResize(t){if("auto"===this.options.mode&&this.collapsibleItems.length){var{totalItemsWidth:e,elementInternalWidth:r}=this.getWidths(),n=this.collapsibleItems.find((t=>t.expanded)),i=[...this.collapsibleItems].reverse().find((t=>!t.expanded));n&&e>=r&&!0!==t?(this.collapseItem(n),this.onResize(!1)):i&&e+i.offsetWidth<r&&!1!==t&&(this.expandItem(i),this.onResize(!0))}}handleChange(t){t&&(this.setCollapsibleItems(),this.collapsibleItems.forEach((t=>this.expandItem(t)))),this.onResize()}}function qO(t,e){Zt(VO,t,e)}class WO extends pa{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"handlerMap",{showTooltip:"onObserverShowTooltip",hideTooltip:"onObserverHideTooltip",seriesClick:"onObserverSeriesClick"})}}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function GO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?XO(Object(r),!0).forEach((function(e){KO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function KO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var YO="mouseleave";class JO extends H{constructor(t,e,r,n){super(t,e),KO(this,"options",{seriesTooltipPopupId:"",crosshairTooltips:{},jsinterop:{onObserverShowCrosshairTooltip:"",onObserverShowTooltip:"",onObserverSeriesClick:""}}),KO(this,"onMouseLeave",(t=>{this.hideElements(t)})),KO(this,"onObserverShowTooltip",(t=>{this.showTooltip(t)})),KO(this,"onObserverHideTooltip",(t=>{this.hideTooltip(t)})),KO(this,"onObserverSeriesClick",(t=>{var e=this.createSeriesClickEventArgs(t);this.invokeSeriesClickAsync(e)})),this.extendOptions(e),this.themeService=r,this.createInstanceObserver(),this.chartInstance=this.createChart(this.element,this.options,this.getThemeOptions(),n,this.chartInstanceObserver),this.bindEvents()}destroy(){this.unbindEvents(),this.destroyInstanceObserver(),this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null)}bindEvents(){this.element.addEventListener(YO,this.onMouseLeave)}unbindEvents(){this.element.removeEventListener(YO,this.onMouseLeave)}getThemeOptions(){return this.themeService.loadTheme(),this.themeService.getThemeOptions()}createChart(t,e,r,n,i){return new(this.getChartConstructor())(t,e,r,{intlService:n,observer:i,sender:this})}getChartConstructor(){return Qx}setOptions(t){this.chartInstance&&(this.options=t,this.chartInstance.setOptions(t,this.getThemeOptions()))}refresh(){this.themeService.reset(),this.setOptions(this.options)}createInstanceObserver(){this.chartInstanceObserver=new WO(this)}destroyInstanceObserver(){this.chartInstanceObserver=null}trigger(){}requiresHandlers(){return!1}invokeShowCrosshairTooltipAsync(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverShowCrosshairTooltip,t)}invokeShowSeriesTooltipAsync(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverShowTooltip,t)}invokeSeriesClickAsync(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverSeriesClick,t)}showTooltip(t){t.crosshair?this.showCrosshairTooltip(t):this.showSeriesTooltip(t)}hideTooltip(t){t.crosshair?this.hideCrosshairTooltip(t):this.hideSeriesTooltip(t)}showCrosshairTooltip(t){var e=this.getCrosshairTooltipPopup(t);if(e){e.options.elementAlign={horizontal:"center",vertical:"center"},this.setTooltipPosition(t.anchor,e);var r=this.getCrosshairTooltipTemplateContext(t);this.invokeShowCrosshairTooltipAsync(r)}}hideCrosshairTooltip(t){var e=this.getCrosshairTooltipPopup(t);e&&e.close()}showSeriesTooltip(t){var e=this.getSeriesTooltipPopup();this.setTooltipPosition(t.anchor,e);var r=this.getSeriesTooltipTemplateContext(t);this.invokeShowSeriesTooltipAsync(r)}hideSeriesTooltip(){var t=this.getSeriesTooltipPopup();t&&t.close()}getTooltipAnchorRect(t){var e=this.getTooltipAnchorOffset(t);return{x:0,y:0,width:0,height:0,top:e.top,left:e.left,right:e.right,bottom:e.bottom}}getTooltipAnchorOffset(t){return t?t.point:{top:0,left:0}}getCrosshairTooltipPopup(t){var e=this.getCrosshairAxisKey(t),r=this.getCrosshairTooltip(e);if(r)return re(r.popupId)}getSeriesTooltipPopup(){return re(this.options.seriesTooltipPopupId)}setTooltipPosition(t,e){if(e&&t){var r=this.getTooltipAnchorRect(t);e.options.anchorAlign=t.align,e.options.anchorRect=r,e.positionElement()}}getCrosshairTooltipTemplateContext(t){var e=((t.options||{}).tooltip||{}).format||t.format,r=t.point,n={formattedValue:e&&r&&r.formatValue?r.formatValue(e):String(t.value),axisKey:this.getCrosshairAxisKey(t)};return this.extendWithTooltipStyling(n,t)}getCrosshairAxisKey(t){var{axisName:e,axisIndex:r}=t;return"".concat(e).concat(r)}getCrosshairTooltip(t){var e=this.options.crosshairTooltips;return e?e[t]:{}}getSeriesTooltipTemplateContext(t){if(t.shared)return this.getSeriesTooltipSharedTemplateContext(t);var e=GO({},this.createSeriesTooltipTemplatePoint(t.point,t.format));return this.extendWithTooltipStyling(e,t)}getSeriesTooltipSharedTemplateContext(t){var e=t.points.filter((t=>x(t.series.name))).length>0,r=t.series.length>1,n=1;e&&n++,r&&n++;var i=this.createTooltipTemplatePoints(t),o={category:t.category,categoryText:t.categoryText,points:i,showSeriesColorMarker:r,showSeriesName:e,headerColumnColSpan:n};return this.extendWithTooltipStyling(o,t)}createTooltipTemplatePoints(t){return t.points?t.points.map((e=>this.createSeriesTooltipTemplatePoint(e,t.format))):[]}createSeriesTooltipTemplatePoint(t,e){var r=this.convertToSeriesPoint(t),n=((t.options||{}).tooltip||{}).format||e;return GO(GO({},r),{},{formattedValue:n&&t.formatValue?t.formatValue(n):String(t.value)})}hideElements(t){var e=t.relatedTarget,r=e&&Boolean(e.closest(".k-chart-tooltip")),n=V(this.element,e);e&&(r||n)||this.chartInstance.hideElements()}createSeriesClickEventArgs(t){return this.convertToSeriesPoint(t.point)}convertToSeriesPoint(t){var e,r=p(t.dataItem)?Object.getPrototypeOf(t.dataItem):null;return p(t.dataItem)&&r&&r!==Object.prototype&&(e=u({},r,t.dataItem)),{dataItem:e,category:t.category,categoryIndex:t.categoryIx,seriesIndex:t.series.index,seriesColor:t.series.color,seriesName:t.series.name||"",percentage:t.percentage,pointIndex:t.pointIx||t.index}}extendWithTooltipStyling(t,e){return u(t,{tooltipStyle:M(e.style),tooltipClass:e.className||""})}}var ZO={autoBindElements:!0,liveDrag:!1,partialRedraw:!0,tooltip:{visible:!1},seriesDefaults:{tooltip:{visible:!1}}};class QO extends JO{getChartConstructor(){return vS}extendOptions(t){this.applyNavigatorDefaults(t),super.extendOptions(t)}setOptions(t){this.applyNavigatorDefaults(t);var e=this.getThemeOptions();this.chartInstance.applyOptions(t,e),super.setOptions(t)}applyNavigatorDefaults(t){g(t.navigator,ZO)}}__webpack_require__(840);var tM=t=>({x:{location:t.pageX},y:{location:t.pageY}});function eM(t,e){for(var r=0;r<t.length;r++)if(e[t[r]])return!0;return!1}var rM=[{end:"panend",move:"panmove",start:"panstart"},{gesturechange:"pinchmove",gestureend:"pinchend",gesturestart:"pinchstart"},{press:"press"},{tap:"tap"}];class nM{constructor(t,e){this.hammerInstance=t,this.eventHandlers={},this.tap=this.tap.bind(this),this.press=this.press.bind(this),this.panstart=this.panstart.bind(this),this.panmove=this.panmove.bind(this),this.panend=this.panend.bind(this),this.pinchstart=this.pinchstart.bind(this),this.pinchmove=this.pinchmove.bind(this),this.pinchend=this.pinchend.bind(this),e&&this.bind(e)}tap(t){this.trigger("tap",t)}press(t){this.trigger("press",t)}panstart(t){delete this.previous,this.previous=this.trigger("start",t)}panmove(t){this.previous=this.trigger("move",t)}panend(t){this.trigger("end",t),delete this.previous}pinchstart(t){this.trigger("gesturestart",t)}pinchmove(t){this.trigger("gesturechange",t)}pinchend(t){this.trigger("gestureend",t)}trigger(t,e){var r=((t,e)=>{var r=t.pointers,n=r[0],i=n.pageX,o=n.pageY,s=0;if(r.length>1){var a=r[0],l=r[1];s=Math.sqrt(Math.pow(a.pageX-l.pageX,2)+Math.pow(a.pageY-l.pageY,2))}return{distance:s,event:t.srcEvent,preventDefault:function(){t.preventDefault()},target:t.target,touches:r.map(tM),type:t.type,x:{delta:e?i-e.x.location:0,initialDelta:t.deltaX,location:i,startLocation:i-t.deltaX},y:{delta:e?o-e.y.location:0,initialDelta:t.deltaY,location:o,startLocation:o-t.deltaY}}})(e,this.previous);return this.eventHandlers[t]&&this.eventHandlers[t](r),r}bind(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.unbind(),this.eventHandlers=t;for(var e=0;e<rM.length;e++){var r=rM[e],n=Object.keys(r);if(eM(n,t))for(var i=0;i<n.length;i++){var o=r[n[i]];this.hammerInstance.on(o,this[o])}}}unbind(){this.hammerInstance&&this.hammerInstance.off(),this.eventHandlers={}}destroy(){this.hammerInstance&&(this.hammerInstance.destroy(),delete this.hammerInstance),delete this.eventHandlers}toggleDrag(t){this.toggle("pan",t)}toggleZoom(t){this.toggle("pinch",t)}toggle(t,e){this.hammerInstance&&this.hammerInstance.get(t).set({enable:e})}}function iM(t,e,r){var n=G(t);if(n){var i=JSON.parse(e),o=re(t),s=u(i,r);if(o)te(o,s);else{s.locale.name=t,Ko.setLocale(s.locale);var a=function(t,e,r,n){return new("stockchart"===e._constructor?QO:JO)(t,e,r,n)}(n,s,new LO,Ko);ie(t,a)}}}function oM(t){Qt(t)}function sM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Zs.register(rs),Yu.register(class{static create(t,e){var r=window.Hammer,n=new r(t,{recognizers:[[r.Tap],[r.Pan],[r.Pinch],[r.Press,{time:0}]]});return new nM(n,e)}});var aM=[fe.ARROWDOWN,fe.ARROWRIGHT,fe.ARROWLEFT,fe.ARROWUP,fe.ENTER];class lM extends H{constructor(t,e){super(t,e),sM(this,"options",{dotNetInstance:null,jsinterop:{keydown:"",blur:""}}),sM(this,"onKeyDown",(t=>(this.invokeMethodAsync(this.options.jsinterop.keydown,t.name),t.name===fe.ENTER))),sM(this,"invokeBlur",(()=>{this.invokeMethodAsync(this.options.jsinterop.blur)})),this.extendOptions(e),this.initNavigationService(),this.bindEvents()}destroy(){this.navigationService.destroy(),this.unbindEvents(),super.destroy()}bindEvents(){this.element.addEventListener("blur",this.invokeBlur)}unbindEvents(){this.element.removeEventListener("blur",this.invokeBlur)}initNavigationService(){this.navigationService=new ve(this.element),this.navigationService.bind(aM,this.onKeyDown)}focus(){setTimeout((()=>{this.element.focus()}),100)}}function cM(t,e){Zt(lM,t,e)}function hM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class uM extends H{constructor(t,e){super(t,e),hM(this,"options",{dotNetInstance:null,jsinterop:{keydown:"",blur:""}}),hM(this,"closePopup",(()=>(this.focus(),this.invokeMethodAsync(this.options.jsinterop.close),!1))),hM(this,"openPopup",(()=>(this.invokeMethodAsync(this.options.jsinterop.open),!1))),hM(this,"focus",(()=>{this.element.focus()})),this.popupElement=G(e.popupId),this.extendOptions(e),this.initNavigationService(),this.initPopupNavigationService()}destroy(){this.navigationService.destroy(),this.popupNavigationService.destroy(),super.destroy()}initNavigationService(){this.navigationService=new ve(this.element),this.navigationService.bind("".concat(ge.ALT," ").concat(fe.ARROWDOWN),this.openPopup),this.navigationService.bind("".concat(ge.ALT," ").concat(fe.ARROWUP),this.closePopup)}initPopupNavigationService(){this.popupNavigationService=new ve(this.popupElement),this.popupNavigationService.bind([fe.ESC,"".concat(ge.ALT," ").concat(fe.ARROWUP)],this.closePopup)}}function pM(t,e){Zt(uM,t,e)}function dM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var fM=[fe.ARROWUP,fe.ARROWDOWN,fe.ARROWLEFT,fe.ARROWRIGHT];class gM extends H{constructor(t,e){super(t,e),dM(this,"onDrag",(t=>{this.moveDragHandleFromEvent(t),this.throttleChangeValue()})),dM(this,"onDragEnd",(()=>{this.changeValue(),this.dragHandle.focus()})),dM(this,"onNavigate",(t=>{var e=B("top",this.dragHandle),r=B("left",this.dragHandle);switch(t.name){case fe.ARROWDOWN:e+=4;break;case fe.ARROWUP:e-=4;break;case fe.ARROWRIGHT:r+=4;break;case fe.ARROWLEFT:r-=4}this.moveDragHandle(e,r),this.changeValue()})),dM(this,"onClick",(t=>{this.moveDragHandleFromEvent(t),this.dragHandle.focus(),this.changeValue()})),this.gradient=this.element.querySelector(".k-hsv-rectangle"),this.dragHandle=this.element.querySelector(".k-draghandle"),this.setOptions(e),this.initDraggable(),this.bindEvents(),this.throttleChangeValue=Lr(this.changeValue,150).bind(this)}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.gradient.addEventListener("click",this.onClick),this.initNavigationService()}unbindEvents(){this.gradient.removeEventListener("click",this.onClick)}setOptions(t){super.setOptions(t),this.hsva=this.options.hsva,this.initDragHandlePosition()}initNavigationService(){this.navigationService=new ve(this.dragHandle),this.navigationService.bind(fM,this.onNavigate)}initDraggable(){this.draggable=new mr(this.element,{filter:".k-hsv-gradient",offsetDropClue:!1,events:{drag:this.onDrag,dragEnd:this.onDragEnd}})}initDragHandlePosition(){var t=(1-this.hsva.v)*this.gradient.offsetHeight,e=this.hsva.s*this.gradient.offsetWidth;this.dragHandle.style.display="block",this.setDragHandlePosition(t,e)}setDragHandlePosition(t,e){this.dragHandle&&(this.dragHandle.style.top="".concat(t,"px"),this.dragHandle.style.left="".concat(e,"px"))}moveDragHandleFromEvent(t){var e=this.gradient.getBoundingClientRect();this.moveDragHandle(t.clientY-e.top,t.clientX-e.left)}moveDragHandle(t,e){var r=he(t,0,this.gradient.offsetHeight),n=he(e,0,this.gradient.offsetWidth);this.setDragHandlePosition(r,n),this.hsva.s=n/this.gradient.offsetWidth,this.hsva.v=1-r/this.gradient.offsetHeight}changeValue(){this.invokeMethodAsync(this.options.jsinterop.changeValue,this.hsva)}}function mM(t,e){Zt(gM,t,e)}function yM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class vM extends H{constructor(t,e){super(t,e),yM(this,"options",{dotNetInstance:null,jsinterop:{change:""}}),yM(this,"onKeyDown",((t,e)=>{this.isEnterKeyActionable(e.target)||this.invokeMethodAsync(this.options.jsinterop.change)})),yM(this,"onFocusOut",(t=>{V(this.element,t.relatedTarget)||this.invokeChange()})),yM(this,"invokeChange",(()=>{this.invokeMethodAsync(this.options.jsinterop.change)})),this.extendOptions(e),this.bindEvents(),this.initNavigationService()}bindEvents(){this.element.addEventListener("focusout",this.onFocusOut)}unbindEvents(){this.element.removeEventListener("focusout",this.onFocusOut)}destroy(){this.navigationService.destroy(),this.unbindEvents(),super.destroy()}initNavigationService(){this.navigationService=new ve(this.element),this.navigationService.bind("".concat(fe.ENTER),this.onKeyDown)}isEnterKeyActionable(t){return!(!t.matches(".k-button")&&t.querySelector(".k-selected.k-focus"))}}function bM(t,e){Zt(vM,t,e)}function wM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xM="keydown";class SM extends H{constructor(t,e){super(t,e),wM(this,"options",{dotNetInstance:null,itemListDataId:"",jsinterop:{itemListKeyDown:""}}),wM(this,"onKeyDown",(t=>{var e=[fe.ARROWRIGHT,fe.ARROWLEFT,fe.ARROWUP,fe.ARROWDOWN].includes(t.key);if(t.key===fe.TAB){var r=t.target.closest(".k-columnmenu-item-wrapper"),n=r?r.querySelector(".k-columnmenu-item"):null,i="true"===(n?n.getAttribute("aria-expanded"):"");(!i||i&&t.target===n&&t.shiftKey)&&t.preventDefault()}else e&&Q("k-columnmenu-item",t.target)&&t.preventDefault()})),wM(this,"onItemListKeyDown",(t=>{var e=ct(t.target),r=t.target.closest(".k-filter-menu");if(!e||!r||t.key!==fe.ARROWUP&&t.key!==fe.ARROWDOWN||t.shiftKey){var n=P(t);this.invokeMethodAsync(this.options.jsinterop.itemListKeyDown,n)}})),this.extendOptions(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){var t=this.getItemListElement();t&&t.addEventListener(xM,this.onItemListKeyDown),this.element.addEventListener(xM,this.onKeyDown)}unbindEvents(){var t=this.getItemListElement();t&&t.removeEventListener(xM,this.onItemListKeyDown),this.element.removeEventListener(xM,this.onKeyDown)}getItemListElement(){return G(this.options.itemListDataId)}}function kM(t,e){Zt(SM,t,e)}function AM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class CM extends H{constructor(t,e){super(t,e),AM(this,"options",{selector:"",popupId:""}),AM(this,"onContextMenu",(t=>{t.preventDefault(),this.activeElement=t.target,this.openPopup(t.pageX,t.pageY)})),AM(this,"onPopupKeyDown",(t=>{t.key===fe.ESC&&(this.closePopup(),this.activeElement.focus())})),this.extendOptions(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.anchors=null}bindEvents(){this.anchors=document.querySelectorAll(this.options.selector),this.anchors.forEach((t=>{t.addEventListener("contextmenu",this.onContextMenu)})),G(this.options.popupId).addEventListener("keydown",this.onPopupKeyDown)}unbindEvents(){this.anchors.forEach((t=>{t.removeEventListener("contextmenu",this.onContextMenu)}))}openContextMenu(t){var e=t.clientX+window.scrollX,r=t.clientY+window.scrollY;this.openPopup(e,r)}focusFirstMenuItem(){var t=this.getPopup();if(t){var e=t.element.querySelector(".k-context-menu .k-item");e&&e.focus()}}openPopup(t,e){var r=this.getPopup();r.openAsync(null,t,e),this.activeElement&&r.setZIndex(this.activeElement)}closePopup(){this.getPopup().closeAsync()}getPopup(){return re(this.options.popupId)}}function _M(t,e){re(t)||ie(t,new CM(null,e))}var TM,OM=function(t){return t?new Date(t.getTime()):null},MM=function(t,e){var r=OM(t);return 0===e&&23===r.getHours()&&r.setHours(r.getHours()+2),r},EM=function(t,e,r,n,i,o,s){void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0);var a=new Date(t,e,r,n,i,o,s);return t>-1&&t<100&&a.setFullYear(a.getFullYear()-1900),MM(a,n)},PM=function(t){return function(t,e){var r=OM(t);return r.setDate(r.getDate()+e),MM(r,t.getHours())}(EM(t.getFullYear(),t.getMonth()+1,1,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),-1)},IM=function(t,e){var r=OM(t),n=(12+(r.getMonth()+e)%12)%12;return r.setMonth(r.getMonth()+e),function(t,e){return t.getMonth()!==e?PM(IM(t,-1)):t}(MM(r,t.getHours()),n)};!function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"}(TM||(TM={}));var FM;!function(t){t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday"}(FM||(FM={}));var DM=function(t){return EM(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0)};function RM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class LM{constructor(){RM(this,"symbols",""),RM(this,"partMap",void 0)}}var NM=(t,e)=>(t[e.pattern[0]]=e.type,t);function BM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class jM{get value(){return this._value}constructor(t,e,r,n,i){BM(this,"year",!0),BM(this,"month",!0),BM(this,"date",!0),BM(this,"hours",!0),BM(this,"minutes",!0),BM(this,"seconds",!0),BM(this,"milliseconds",!0),BM(this,"formatPlaceholder",void 0),BM(this,"format",void 0),BM(this,"leadingZero",null),BM(this,"monthNames",[]),BM(this,"typedMonthPart",""),BM(this,"knownParts","adHhmMsEy"),BM(this,"symbols",{E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"}),BM(this,"_value",DM(new Date)),this.intl=t,this.formatPlaceholder=e||"wide",this.format=r,this.localeId=n||"en",this.cycleTime=i,this.monthNames=this.allFormatedMonths(this.localeId)}setValue(t){var e,r;t?(e=t,r=this._value,!e&&!r||e&&r&&e.getTime()===r.getTime()||(this._value=OM(t),this.modifyExisting(!0))):(this._value=DM(new Date),this.modifyExisting(!1))}hasValue(){return this.intl.splitDateFormat(this.format,this.localeId).reduce(((t,e)=>t||"literal"!==e.type&&"dayperiod"!==e.type&&this.getExisting(e.pattern[0])),!1)}getDateObject(){for(var t=0;t<this.knownParts.length;t++)if(!this.getExisting(this.knownParts[t]))return null;return OM(this.value)}getFormattedDate(t){return this.intl.formatDate(this.getDateObject(),t,this.localeId)}getTextAndFormat(){var t=this.intl.formatDate(this.value,this.format,this.localeId),e=this.dateFormatString(this.value,this.format);return this.merge(t,e)}modifyExisting(t){for(var e=this.dateFormatString(this.value,this.format).symbols,r=0;r<e.length;r++)this.setExisting(e[r],t)}getExisting(t){switch(t){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}setExisting(t,e){switch(t){case"y":this.year=e,!1===e&&this._value.setFullYear((new Date).getFullYear());break;case"M":this.month=e,!1===e&&this._value.setMonth(0);break;case"d":this.date=e;break;case"h":case"H":this.hours=e;break;case"m":this.minutes=e;break;case"s":this.seconds=e;break;default:return}}modifyPart(t,e){var r=OM(this.value),n=!1;switch(t){case"y":r.setFullYear(r.getFullYear()+e);break;case"M":r=IM(this.value,e);break;case"d":case"E":r.setDate(r.getDate()+e);break;case"h":case"H":r.setHours(r.getHours()+e),n=!0;break;case"m":r.setMinutes(r.getMinutes()+e),n=!0;break;case"s":r.setSeconds(r.getSeconds()+e),n=!0;break;case"a":r.setHours(r.getHours()+12*e),n=!0}n&&!this.cycleTime&&r.getDate()!==this._value.getDate()&&(r.setDate(this._value.getDate()),r.setMonth(this._value.getMonth()),r.setFullYear(this._value.getFullYear())),this.setExisting(t,!0),this._value=r}parsePart(t,e,r){if(!e)return this.resetLeadingZero(),this.setExisting(t,!1),{value:null,switchToNext:!1};for(var n=this.intl.formatDate(this.value,this.format,this.localeId),i=this.dateFormatString(this.value,this.format),o=i.symbols,s=!1,a="",l="",c="",h=0;h<n.length;h++)o[h]===t?(l+=this.getExisting(t)?n[h]:"0",s=!0):s?c+=n[h]:a+=n[h];var u=l.length-3,p=null,d=this.matchMonth(e),f=this.matchDayPeriod(e,t),g="0"===e,m=this.leadingZero||{};g?0!==parseInt(r?e:l+e,10)||this.isAbbrMonth(i.partMap,t)||this.incrementLeadingZero(t):this.resetLeadingZero();for(var y=Math.max(0,u);y<=l.length;y++){var v=r?e:l.substring(y)+e,b=parseInt(v,10);if(!(p=this.intl.parseDate(a+v+c,this.format,this.localeId))&&!isNaN(b)&&!isNaN(parseInt(e,10))){if("M"===t&&!d){var w=b-1;w>-1&&w<12&&((p=OM(this.value)).setMonth(w),p.getMonth()!==w&&(p=PM(IM(p,-1))))}"y"===t&&(p=EM(parseInt(v,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&p.getDate()!==this.value.getDate()&&(p=PM(IM(p,-1))))}if(p){var x=this.partPattern(i.partMap,t).pattern,S=this.intl.parseDate("".concat(a).concat(this.peek(v,x)).concat(c),this.format,this.localeId);this._value=p,this.setExisting(t,!0);var k=null===S||m[t]&&x.length<=v.length;return{value:this.value,switchToNext:k}}}return d&&(p=this.intl.parseDate(a+d+c,this.format,this.localeId))?(this._value=p,this.setExisting(t,!0),{value:this.value,switchToNext:!1}):f&&(p=this.intl.parseDate(a+f+c,this.format))?(this._value=p,{value:this.value,switchToNext:!0}):(g&&this.setExisting(t,!1),{value:null,switchToNext:!1})}symbolMap(t){return this.intl.splitDateFormat(this.format,this.localeId).reduce(NM,{})[t]}resetLeadingZero(){var t=null!==this.leadingZero;return this.leadingZero=null,t}incrementLeadingZero(t){var e=this.leadingZero||{};e[t]=(e[t]||0)+1,this.leadingZero=e}isAbbrMonth(t,e){var r=this.partPattern(t,e);return"month"===r.type&&r.names}partPattern(t,e){return t.filter((t=>-1!==t.pattern.indexOf(e)))[0]}peek(t,e){var r,n=t.replace(/^0*/,"")+"0";return r=e.length-n.length,new Array(Math.max(r,0)).fill("0").join("")+n}matchMonth(t){if(this.typedMonthPart+=t.toLowerCase(),0===this.monthNames.length)return"";for(;this.typedMonthPart.length>0;){for(var e=0;e<this.monthNames.length;e++)if(0===this.monthNames[e].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[e];var r=parseInt(this.typedMonthPart,10);if(r>=1&&r<=12&&r.toString()===this.typedMonthPart)return this.monthNames[r-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}matchDayPeriod(t,e){var r=t.toLowerCase();if("a"===e&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(r))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(r))return this.dayPeriods.pm}return""}allFormatedMonths(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",e=this.intl.splitDateFormat(this.format,this.localeId),r=0;r<e.length;r++)if("month"===e[r].type&&e[r].names)return this.intl.dateFormatNames(t,e[r].names);return[]}dateFormatString(t,e){for(var r=this.intl.splitDateFormat(e,this.localeId),n=[],i=[],o=0;o<r.length;o++)for(var s=this.intl.formatDate(t,{pattern:r[o].pattern},this.localeId).length;s>0;)n.push(this.symbols[r[o].pattern[0]]||"_"),i.push(r[o]),s--;var a=new LM;return a.symbols=n.join(""),a.partMap=i,a}merge(t,e){for(var r="",n="",i=e.symbols,o=i.length-1;o>=0;o--)if(-1===this.knownParts.indexOf(i[o])||this.getExisting(i[o]))r=t[o]+r,n=i[o]+n;else{for(var s=i[o];o>=0&&s===i[o];)o--;for(o++,r=this.leadingZero&&this.leadingZero[s]?"0"+r:this.dateFieldName(e.partMap[o])+r;n.length<r.length;)n=i[o]+n}return{text:r,format:n}}dateFieldName(t){var e=this.formatPlaceholder||"wide";return e[t.type]?e[t.type]:"formatPattern"===e?t.pattern:this.intl.dateFieldName(Object.assign(t,{nameType:e}))}}function zM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var UM="dragStart",$M="mouseup",HM="click",VM="input",qM="keydown",WM="focus",XM="blur";class GM extends H{constructor(e,r){var n=new Date(r.selectedDate);isNaN(n.getTime())&&(n=null),super(e,r),zM(this,"options",{dotNetInstance:null,format:"yyyy-MM-dd",selectedDate:null,allowNulls:!1,hasPlaceHolder:!1,cycleTime:!0,locale:null,steps:{second:"",minute:"",hour:"",day:"",month:"",year:""},formatPlaceholder:null,debounceDelay:null,jsinterop:{focus:"",blur:"",updateDate:"",enter:""}}),zM(this,"onElementDragStart",(t=>{t.preventDefault()})),zM(this,"onElementMouseUp",(t=>{t.preventDefault()})),zM(this,"onElementClick",(()=>{this.setSelection(this.selectionByIndex(this.selection.start))})),zM(this,"onElementInput",(()=>{if(this.element&&this.dateObject){var{text:t,format:e}=this.dateObject.getTextAndFormat();this.currentFormat=e;var r=((t,e,r,n)=>{var i=t[n+t.length-r.length],o=t.substring(0,n+t.length-r.length),s=r.substring(0,n),a=[];if(o===s&&n>0)return a.push([e[n-1],s[n-1]]),a;if(0===o.indexOf(s)&&(0===s.length||e[s.length-1]!==e[s.length])){var l="";1===s.length&&a.push([e[0],s[0]]);for(var c=s.length;c<o.length;c++)e[c]!==l&&"_"!==e[c]&&(l=e[c],a.push([l,""]));return a}if(0===s.indexOf(o)||"_"===e[n-1]){for(var h=e[0],u=Math.max(0,o.length-1);u<e.length;u++)if("_"!==e[u]){h=e[u];break}return[[h,s[n-1]]]}return" "===s[s.length-1]||s[s.length-1]===i?[[e[n-1],"_"]]:[[e[n-1],s[n-1]]]})(t,this.currentFormat,this.element.value,this.selection.start),n=1===r.length&&"_"===r[0][1],i=!1;if(!n)for(var o=0;o<r.length;o++)i=this.dateObject.parsePart(r[o][0],r[o][1],this.resetSegmentValue).switchToNext;this.resetSegmentValue=!1,this.forceUpdate(),r.length&&"_"!==r[0][0]&&this.setSelection(this.selectionBySymbol(r[0][0])),(i||n)&&this.switchDateSegment(1),this.debounceUpdateValue()}})),zM(this,"onElementFocus",(()=>{this.isActive=!0,this.togglePlaceholder(),this.invokeMethodAsync(this.options.jsinterop.focus)})),zM(this,"onElementBlur",(()=>{this.resetSegmentValue=!0,this.isActive=!1,this.togglePlaceholder(),this.invokeMethodAsync(this.options.jsinterop.blur)})),zM(this,"onElementKeyDown",(t=>{var e=this.options.jsinterop.enter,r=this.currentFormat[this.selection.start],n=this.getStepFromSymbol(r),i=!1;if(!t.altKey&&t.keyCode!==de.TAB){switch(t.keyCode){case de.ARROWLEFT:this.switchDateSegment(-1),i=!0;break;case de.ARROWUP:this.modifyDateSegmentValue(n,r,event),i=!0;break;case de.ARROWRIGHT:this.switchDateSegment(1),i=!0;break;case de.ARROWDOWN:this.modifyDateSegmentValue(-n,r,event),i=!0;break;case de.ENTER:this.invokeMethodAsync(e);break;case de.DELETE:case de.BACKSPACE:return this.options.allowNulls&&(this.dateObject.setValue(null),this.forceUpdate(),this.updateComponentValue()),void(i=!0);default:return}i&&t.preventDefault()}})),this.setOptions(r);var i=this.element.getAttribute("data-id");this.extendCulture(i);var o=this.options.formatPlaceholder?this.options.formatPlaceholder:"formatPattern";this.dateObject=new jM(t,o,r.format,i,r.cycleTime),this.dateObject.setValue(n),this.setTextAndFormat(),this.bindEvents(),this.resetSegmentValue=!0}extendCulture(t){var e=this.options;e.locale.name=t,Vn(g({},pn("en"),e.locale))}destroy(){this.unbindEvents(),super.destroy(),this.dateObject=null}bindEvents(){this.element.addEventListener(UM,this.onElementDragStart),this.element.addEventListener(HM,this.onElementClick),this.element.addEventListener($M,this.onElementMouseUp),this.element.addEventListener(VM,this.onElementInput),this.element.addEventListener(qM,this.onElementKeyDown),this.element.addEventListener(WM,this.onElementFocus),this.element.addEventListener(XM,this.onElementBlur)}unbindEvents(){this.element.removeEventListener(UM,this.onElementDragStart),this.element.removeEventListener($M,this.onElementMouseUp),this.element.removeEventListener(HM,this.onElementClick),this.element.removeEventListener(VM,this.onElementInput),this.element.removeEventListener(qM,this.onElementKeyDown),this.element.removeEventListener(WM,this.onElementFocus),this.element.removeEventListener(XM,this.onElementBlur)}setOptions(t){this.extendOptions(t),this.debounceUpdateValue=Rr(this.updateComponentValue,this.options.debounceDelay)}focus(){this.element.focus()}get selection(){var t={start:0,end:0};return null!==this.element&&void 0!==this.element.selectionStart&&(t={start:this.element.selectionStart,end:this.element.selectionEnd}),t}setSelection(t){this._lastSelectedSymbol=this.currentFormat[t.start],this.element&&document.activeElement===this.element&&this.element.setSelectionRange(t.start,t.end)}selectionBySymbol(t){for(var e=-1,r=0,n=0;n<this.currentFormat.length;n++)this.currentFormat[n]===t&&(r=n+1,-1===e&&(e=n));return e<0&&(e=0),{start:e,end:r}}selectionByIndex(t){for(var e={start:t,end:t},r=t,n=t-1;r<this.currentFormat.length||n>=0;r++,n--){if(r<this.currentFormat.length&&"_"!==this.currentFormat[r]){e=this.selectionBySymbol(this.currentFormat[r]);break}if(n>=0&&"_"!==this.currentFormat[n]){e=this.selectionBySymbol(this.currentFormat[n]);break}}return e}switchDateSegment(t){var{start:e,end:r}=this.selection;if(e<r&&this.currentFormat[e]!==this.currentFormat[r-1])return this.setSelection(this.selectionByIndex(t>0?e:r-1)),void(this.resetSegmentValue=!0);for(var n=this.currentFormat[e],i=e+t;i>0&&i<this.currentFormat.length&&(this.currentFormat[i]===n||"_"===this.currentFormat[i]);)i+=t;if("_"!==this.currentFormat[i]){for(var o=i;o>=0&&o<this.currentFormat.length&&this.currentFormat[o]===this.currentFormat[i];)o+=t;i>o&&(o+1!==e||i+1!==r)?(this.setSelection({start:o+1,end:i+1}),this.resetSegmentValue=!0):i<o&&(i!==e||o!==r)&&(this.setSelection({start:i,end:o}),this.resetSegmentValue=!0)}}modifyDateSegmentValue(t,e){if(this.dateObject){var r=1*t;this.dateObject.modifyPart(e,r),this.forceUpdate(),this.setSelection(this.selectionBySymbol(e)),this.updateComponentValue()}}updateValue(t){var e=new Date(t);isNaN(e.getTime())&&(e=null),this.dateObject.setValue(e),this.forceUpdate(),this.togglePlaceholder()}updateComponentValue(){this.invokeMethodAsync(this.options.jsinterop.updateDate,{dateValue:this.dateObject.getFormattedDate("yyyy-MM-dd HH:mm:ss"),inputElementValue:this.element.value})}forceUpdate(){this.setTextAndFormat(),this.setElementValue(this.currentText)}setTextAndFormat(){var{text:t,format:e}=this.dateObject.getTextAndFormat();this.currentFormat=e,this.currentText=t}togglePlaceholder(){this.options.hasPlaceHolder&&!this.dateObject.hasValue()&&this.setElementValue(this.isActive?this.currentText:"")}setElementValue(t){this.element.value=t}getStepFromSymbol(t){switch(t){case"s":return Number(this.options.steps.second);case"m":return Number(this.options.steps.minute);case"h":case"H":return Number(this.options.steps.hour);case"M":return Number(this.options.steps.month);case"d":case"E":return Number(this.options.steps.day);case"y":return Number(this.options.steps.year);default:return 1}}stopDebounceUpdateValue(){this.debounceUpdateValue&&this.debounceUpdateValue.pending&&(this.debounceUpdateValue.stop(),this.debounceUpdateValue.runCallback())}}function KM(t,e){Zt(GM,t,e)}function YM(t,e){var r=re(t);r&&r.updateValue(e)}function JM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class ZM extends H{constructor(t,e){super(t,e),JM(this,"onToggleElementClick",(t=>{t.preventDefault()})),JM(this,"onToggleElementMouseDown",(()=>{this.inputComponent=re(this.input.getAttribute("data-id")),this.inputComponent&&this.inputComponent.stopDebounceUpdateValue();var t=this.options.jsinterop.mousedown;this.invokeMethodAsync(t)})),JM(this,"onPopupKeyDown",(t=>{(t.keyCode===de.ESCAPE||t.keyCode===de.ARROWUP&&t.altKey)&&(this.invokeClose(),this.focus(),t.stopPropagation())})),JM(this,"closePopup",(()=>(this.invokeClose(),!1))),JM(this,"openPopup",(()=>(this.invokeOpen(),!1))),JM(this,"onInputFocus",(()=>{this.invokeClose()})),JM(this,"onInputFocusOut",(t=>{V(this.popupElement,t.relatedTarget)||V(this.element,t.relatedTarget)||this.invokeMethodAsync(this.options.jsinterop.blur)})),this.input=this.element.getElementsByClassName("k-input-inner")[0],this.toggleElement=this.element.querySelector(e.toggleElementSelector),this.popupElement=G(e.popupId),this.initTabKeyTrap(),this.initNavigationService()}destroy(){this.tabKeyTrap.destroy(),this.navigationService.destroy(),this.unbindEvents(),super.destroy(),this.input=this.popupElement=this.selectArrow=null,this.tabKeyTrap=null}initNavigationService(){this.navigationService=new ve(this.element),this.navigationService.bind("".concat(ge.ALT," ").concat(fe.ARROWDOWN),this.openPopup),this.navigationService.bind("".concat(ge.ALT," ").concat(fe.ARROWUP),this.closePopup)}initTabKeyTrap(){this.tabKeyTrap=new we(this.popupElement)}bindEvents(){this.input.addEventListener("focus",this.onInputFocus),this.input.addEventListener("focusout",this.onInputFocusOut),this.toggleElement.addEventListener("click",this.onToggleElementClick),this.toggleElement.addEventListener("mousedown",this.onToggleElementMouseDown),this.popupElement.addEventListener("keydown",this.onPopupKeyDown,!0),this.tabKeyTrap.enableKeyTrap()}unbindEvents(){this.input.removeEventListener("focus",this.onInputFocus),this.input.removeEventListener("focusout",this.onInputFocusOut),this.toggleElement.removeEventListener("click",this.onToggleElementClick),this.toggleElement.removeEventListener("mousedown",this.onToggleElementMouseDown),this.popupElement.removeEventListener("keydown",this.onPopupKeyDown,!0)}focus(){var t=this;setTimeout((()=>{t.input.focus()}),100)}invokeClose(){this.invokeMethodAsync(this.options.jsinterop.close)}invokeOpen(){this.invokeMethodAsync(this.options.jsinterop.open)}}class QM extends ZM{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{dotNetInstance:null,popupElement:null,jsinterop:{close:"",mousedown:""}}),this.extendOptions(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}function tE(t,e){Zt(QM,t,e)}function eE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class rE extends H{constructor(t,e){super(t,e),eE(this,"options",{dotNetInstance:null,focusOnInit:!1,jsinterop:{click:""}}),eE(this,"onKeyDown",(t=>{t.keyCode===de.ARROWUP?(this.onKeyArrowUp(),t.preventDefault()):t.keyCode===de.ARROWDOWN?(this.onKeyArrowDown(),t.preventDefault()):t.keyCode===de.ENTER&&this.invokeEnter()})),eE(this,"onScroll",(()=>{var t=this;t.element.scrollTop!==t.scrollTop&&(clearTimeout(this.timeout),this.timeout=setTimeout((()=>{t.snapToItem(!0)}),33))})),eE(this,"onMouseDown",(t=>{t.preventDefault()})),eE(this,"onClick",(t=>{var e=t.target.closest("li"),r=this.listElement.querySelectorAll(".k-item"),n=Array.from(r).indexOf(e);e&&(this.scrollTo(e.offsetTop),this.invokeSelect(n))})),eE(this,"onMouseEnter",(()=>{this.timeList.focus()})),eE(this,"onFocusOut",(t=>{this.invokeFocusOut(t)})),this.extendOptions(e),this.timeList=this.element.parentElement,this.listElement=this.element.querySelector("ul.k-reset"),this.timeout,this.setDimensions(),this.bindEvents(),this.options.focusOnInit&&this.focusTimeList()}setDimensions(){this.itemHeight=this.listElement.querySelector("li.k-item").offsetHeight,this.elementHeight=this.element.offsetHeight,this.scrollTop=this.element.scrollTop;var t=this.listElement.offsetHeight+(this.elementHeight-this.itemHeight);this.element.querySelector(".k-scrollable-placeholder").setAttribute("style","height: "+t+"px");var e=Math.floor((this.elementHeight-this.itemHeight)/2);this.listElement.setAttribute("style","transform: translateY("+e+"px);")}bindEvents(){this.element.addEventListener("scroll",this.onScroll),this.element.addEventListener("mousedown",this.onMouseDown),this.listElement.addEventListener("click",this.onClick),this.timeList.addEventListener("keydown",this.onKeyDown),this.timeList.addEventListener("mouseenter",this.onMouseEnter),this.timeList.addEventListener("focusout",this.onFocusOut)}destroy(){clearTimeout(this.timeout),this.unbindEvents(),super.destroy(),this.selectedIndex=this.listElement=null}unbindEvents(){this.element.addEventListener("mousedown",this.onMouseDown),this.element.removeEventListener("scroll",this.onScroll),this.listElement.removeEventListener("click",this.onClick),this.timeList.removeEventListener("keydown",this.onKeyDown),this.timeList.removeEventListener("mouseenter",this.onMouseEnter),this.timeList.removeEventListener("focusout",this.onFocusOut)}onKeyArrowUp(){var t=this.selectedIndex;this.setSelectedIndex(t-1),this.selectedIndex!==t&&this.invokeSelect(this.selectedIndex)}onKeyArrowDown(){var t=this.selectedIndex;this.setSelectedIndex(t+1),this.selectedIndex!==t&&this.invokeSelect(this.selectedIndex)}focusTimeList(){var t=this;setTimeout((()=>{t.timeList.focus({preventScroll:!0})}),100)}snapToItem(t){var e=this.element.scrollTop,r=e%this.itemHeight;this.scrollTop>e?e-=r:e+=this.itemHeight-r,this.selectItem(e,t)}selectItem(t,e){if(!Number.isNaN(t)&&(this.scrollTo(t),e)){var r=Math.floor(t/this.itemHeight);this.invokeSelect(r)}}invokeSelect(t){var e=this.options.jsinterop.click,r=Math.min(t,this.listElement.querySelectorAll(".k-item").length-1);this.invokeMethodAsync(e,r)}invokeEnter(){var t=this.options.jsinterop.enter;this.invokeMethodAsync(t)}invokeFocusOut(t){t.relatedTarget&&this.invokeMethodAsync(this.options.jsinterop.focusout)}scrollTo(t){this.element.scrollTop=t,this.scrollTop=this.element.scrollTop}setSelectedIndex(t){this.setDimensions();var e=this.listElement.querySelectorAll(".k-item")[t];e&&(this.selectedIndex=t,this.scrollTo(e.offsetTop))}}function nE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class iE extends ZM{constructor(t,e){super(t,e),nE(this,"options",{dotNetInstance:null,popupElement:null,jsinterop:{close:"",mousedown:""}}),nE(this,"onNavigate",(t=>{var e=document.activeElement;if(e.classList.contains("k-time-list")){var r=e.getAttribute("data-index");t.keyCode===de.ARROWLEFT?(this.focusTimeList(parseInt(r)-1),t.preventDefault()):t.keyCode===de.ARROWRIGHT&&(this.focusTimeList(parseInt(r)+1),t.preventDefault())}})),this.extendOptions(e),this.bindEvents()}bindEvents(){this.popupElement.addEventListener("keydown",this.onNavigate),super.bindEvents()}unbindEvents(){this.popupElement.addEventListener("keydown",this.onNavigate),super.unbindEvents()}destroy(){this.unbindEvents(),super.destroy()}focusTimeList(t){var e='.k-time-list[data-index="'.concat(t,'"]'),r=this.popupElement.querySelector(e);r&&r.focus()}focusFirstCarousel(){this.popupElement&&setTimeout((()=>{var t=this.popupElement.querySelector(".k-time-list");t instanceof HTMLElement&&t.focus()}),100)}}function oE(t,e){Zt(iE,t,e)}function sE(t){var e=re(t);e&&e.focus()}function aE(t,e){Zt(rE,t,e)}function lE(t,e){var r=re(t);r&&r.setSelectedIndex(e)}function cE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var hE="keydown",uE="mousedown",pE="click",dE="focus",fE="focusout",gE=[de.ARROWUP,de.ARROWDOWN,de.ARROWLEFT,de.ARROWRIGHT,de.HOME,de.END,de.SPACE];class mE extends H{constructor(t,e){super(t,e),cE(this,"onKeyDown",(t=>{gE.concat(de.ENTER).includes(t.keyCode)?t.preventDefault():(t.shiftKey||t.ctrlKey)&&t.stopPropagation()})),cE(this,"onMouseDown",(t=>{t.preventDefault()})),cE(this,"onClick",(t=>{var e=t.currentTarget;e&&e.focus()})),cE(this,"onFocus",(()=>{this.invokeMethodAsync(this.options.jsinterop.focus)})),cE(this,"onFocusout",(t=>{t.relatedTarget&&this.invokeMethodAsync(this.options.jsinterop.focusout)})),this.extendOptions(e),this.tables=this.element.querySelectorAll("table"),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.tables=this.navigationService=null}bindEvents(){[...this.tables].forEach((t=>{t.addEventListener(uE,this.onMouseDown),t.addEventListener(pE,this.onClick),t.addEventListener(hE,this.onKeyDown,!0),t.addEventListener(dE,this.onFocus),t.addEventListener(fE,this.onFocusout)}))}unbindEvents(){[...this.tables].forEach((t=>{t.removeEventListener(uE,this.onMouseDown),t.removeEventListener(pE,this.onClick),t.removeEventListener(hE,this.onKeyDown,!0),t.removeEventListener(dE,this.onFocus),t.removeEventListener(fE,this.onFocusout)}))}focusTable(){var t=this.tables[0];t&&setTimeout((()=>{t.focus()}),100)}}function yE(t,e){Zt(mE,t,e)}function vE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class bE extends ZM{constructor(t,e){super(t,e),vE(this,"options",{dotNetInstance:null,jsinterop:{close:"",mousedown:""}}),vE(this,"onNavigate",(t=>{var e=document.activeElement;if(e.classList.contains("k-time-list")){var r=e.getAttribute("data-index");t.keyCode===de.ARROWLEFT?(this.focusTimeList(parseInt(r)-1),t.preventDefault()):t.keyCode===de.ARROWRIGHT&&(this.focusTimeList(parseInt(r)+1),t.preventDefault())}})),this.extendOptions(e),this.bindEvents()}bindEvents(){this.popupElement.addEventListener("keydown",this.onNavigate),super.bindEvents()}unbindEvents(){this.popupElement.addEventListener("keydown",this.onNavigate),super.unbindEvents()}destroy(){this.unbindEvents(),super.destroy()}focusTimeList(t){var e='.k-time-list[data-index="'.concat(t,'"]'),r=this.popupElement.querySelector(e);r&&r.focus()}focusTable(){var t=this;setTimeout((()=>{var e=t.popupElement&&t.popupElement.querySelector("table");e instanceof HTMLElement&&e.focus()}),100)}focusFirstCarousel(){this.popupElement&&setTimeout((()=>{var t=this.popupElement.querySelector(".k-time-list");t instanceof HTMLElement&&t.focus()}),100)}}function wE(t,e){Zt(bE,t,e)}function xE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var SE="blur",kE="click";class AE extends H{constructor(t,e){super(t,e),xE(this,"options",{dotNetInstance:null,popupElement:null,jsinterop:{change:"",close:"",open:""}}),xE(this,"onStartEnterKeyDown",(()=>{this.triggerStartChanged(),this.focusEndInput()})),xE(this,"onEndEnterKeyDown",(()=>{this.triggerEndChanged(),this.invokeClose()})),xE(this,"onPopupShiftTab",((t,e)=>{var r=ht(this.popupElement,!1);return e.target!==r||(this.focusEndInput(),!1)})),xE(this,"onPopupTab",((t,e)=>{var r=this.popupElement.querySelector("table:last-child");return e.target===r&&this.triggerClose(),!0})),xE(this,"triggerStartOpen",(()=>(this.isClosed()&&this.invokeOpen(this.options.startTarget),!0))),xE(this,"triggerEndOpen",(()=>(this.isClosed()&&this.invokeOpen(this.options.endTarget),!0))),xE(this,"triggerStartChanged",(()=>{this.invokeChange(this.options.startTarget)})),xE(this,"triggerEndChanged",(()=>{this.invokeChange(this.options.endTarget)})),xE(this,"triggerClose",(()=>(this.invokeClose(),!0))),xE(this,"focusPopupCalendar",(()=>!!this.isClosed()||(this.popupElement.querySelector("table").focus(),!1))),xE(this,"closePopup",(()=>!!this.isClosed()||(this.triggerClose(),this.focusStartInput(),!1)));var r=this.element.querySelectorAll(".k-input-inner");this.startInput=r[0],this.endInput=r[1],this.popupElement=G(e.popupId),this.extendOptions(e),this.initNavigationServices(),this.bindEvents()}bindEvents(){this.startInput.addEventListener(SE,this.triggerStartChanged),this.endInput.addEventListener(SE,this.triggerEndChanged),this.startInput.addEventListener(kE,this.triggerStartOpen,!0),this.endInput.addEventListener(kE,this.triggerEndOpen,!0)}unbindEvents(){this.startInput.removeEventListener(SE,this.triggerStartChanged),this.endInput.removeEventListener(SE,this.triggerEndChanged),this.startInput.removeEventListener(kE,this.triggerStartOpen,!0),this.endInput.removeEventListener(kE,this.triggerEndOpen,!0)}destroy(){this.unbindEvents(),this.navigationServices.forEach((t=>t.destroy())),super.destroy()}initNavigationServices(){this.navigationServices=[this.initStartInputNavigationService(),this.initEndInputNavigationService(),this.initPopupNavigationService()]}initStartInputNavigationService(){var t=new ve(this.startInput);return t.bind([fe.ESC,"".concat(ge.ALT," ").concat(fe.ARROWUP)],this.closePopup),t.bind("".concat(ge.ALT," ").concat(fe.ARROWDOWN),this.triggerStartOpen),t.bind(fe.ENTER,this.onStartEnterKeyDown),t.bind("".concat(ge.SHIFT," ").concat(fe.TAB),this.triggerClose),t}initEndInputNavigationService(){var t=new ve(this.endInput);return t.bind([fe.ESC,"".concat(ge.ALT," ").concat(fe.ARROWUP)],this.closePopup),t.bind("".concat(ge.ALT," ").concat(fe.ARROWDOWN),this.triggerEndOpen),t.bind(fe.TAB,this.focusPopupCalendar),t.bind(fe.ENTER,this.onEndEnterKeyDown),t}initPopupNavigationService(){var t=new ve(this.popupElement);return t.bind("".concat(ge.SHIFT," ").concat(fe.TAB),this.onPopupShiftTab),t.bind("".concat(fe.TAB),this.onPopupTab),t.bind([fe.ESC,"".concat(ge.ALT," ").concat(fe.ARROWUP)],this.closePopup),t}focusStartInput(){this.startInput.focus()}focusEndInput(){this.endInput.focus()}invokeChange(t){this.invokeMethodAsync(this.options.jsinterop.change,t)}invokeClose(){this.invokeMethodAsync(this.options.jsinterop.close)}invokeOpen(t){this.invokeMethodAsync(this.options.jsinterop.open,t)}isClosed(){return!this.popupElement||!this.popupElement.children[0].children.length}}function CE(t,e){Zt(AE,t,e)}function _E(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class TE extends H{constructor(t,e){super(t,e),_E(this,"options",{dotNetInstance:null,jsinterop:{keydown:""}}),_E(this,"onKeyDown",(t=>{this.element!==t.target&&t.keyCode!==de.ESCAPE||this.invokeKeyDown(t)})),this.extendOptions(e),this.bindEvents(),this.elementDataId=this.element.dataset.id,this.enableTabKeyTrap(),this.focusElement()}destroy(){this.unbindEvents(),this.disableTabKeyTrap(),super.destroy()}bindEvents(){this.element.addEventListener("keydown",this.onKeyDown)}unbindEvents(){this.element.removeEventListener("keydown",this.onKeyDown)}onAfterShow(t){this.unbindEvents(),this.options=t[0],this.element=G(this.elementDataId),this.bindEvents(),this.keyTrap.destroy(),this.enableTabKeyTrap(),this.focusElement()}onAfterClose(){this.restoreFocus()}invokeKeyDown(t){this.invokeMethodAsync(this.options.jsinterop.keydown,t.key)}enableTabKeyTrap(){this.keyTrap=new Ae(this.element),this.keyTrap.enableKeyTrap()}disableTabKeyTrap(){this.keyTrap&&this.keyTrap.disableTabKeyTrap()}focusElement(){if(this.elementToFocusOnClose=document.activeElement,this.options.focusedElementSelector){var t=this.element.querySelector(this.options.focusedElementSelector);t instanceof HTMLElement&&nt(t)}else pt(this.elementDataId)}restoreFocus(){this.elementToFocusOnClose&&(this.elementToFocusOnClose.focus(),this.elementToFocusOnClose=null)}}function OE(t,e){Zt(TE,t,e)}function ME(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var EE=F("field"),PE=F("text"),IE="k-indicator-container";class FE extends H{constructor(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),ME(this,"options",{dotNetInstance:null,parentSelector:".k-grid",dropTargetSelector:".k-grouping-header",dropTarget:{group:null,itemSelector:nr(IE)},jsinterop:{addGroup:""}}),ME(this,"onDropTargetDrop",(t=>{var e=t.draggable.originalCurrentTarget,r=e.getAttribute(EE),n=t.draggable.getElementUnderCursor(t).closest(this.dropTarget.options.itemSelector),i=e.getAttribute(PE),o=Nt(n);if(o<0){var s=He(this.dropTarget.element.querySelectorAll(this.dropTarget.options.itemSelector));o=Nt(s)}r&&o>=0&&this.invokeAddGroup({field:r,title:i,index:o})})),ME(this,"allowsDragFrom",(t=>!this.containsGroup(t.originalCurrentTarget)&&t.originalCurrentTarget.hasAttribute(EE))),ME(this,"allowsDropFrom",(t=>!this.containsGroup(t.originalCurrentTarget))),this.extendOptions(e),this.createDropTarget()}destroy(){this.destroyDropTarget(),super.destroy()}createDropTarget(){var t=this.element.closest(this.options.parentSelector).querySelector(this.options.dropTargetSelector);t&&(this.dropTarget=new dr(t,g(this.options.dropTarget,{allowsDragFrom:this.allowsDragFrom,allowsDropFrom:this.allowsDropFrom,events:{drop:this.onDropTargetDrop}})))}destroyDropTarget(){this.dropTarget&&this.dropTarget.destroy()}containsGroup(t){var e=t.getAttribute(EE),r=Array.from(this.element.querySelectorAll(nr(IE))).map((t=>t.getAttribute(EE))).includes(e);return r}invokeAddGroup(t){this.invokeMethodAsync(this.options.jsinterop.addGroup,t)}}function DE(t,e){Zt(FE,ae(t,"Groupable"),e)}function RE(t){Qt(ae(t,"Groupable"))}function LE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var NE=F("field"),BE=F("text"),jE="k-drag-status",zE="k-i-plus",UE="k-i-cancel",$E="k-grouping-dropclue",HE=t=>{var e=M({position:"absolute","z-index":2e4}),r=(t=>t instanceof HTMLElement&&(t.getAttribute(BE)||t.getAttribute(NE))||"")(t),n=t.getAttribute(NE)||"",i=t.getAttribute(BE)||"";return j('<div class="k-header k-drag-clue" style="'.concat(e,'" data-field="').concat(_(n),'" data-text="').concat(_(i),'">\n            <span class="k-icon k-drag-status k-i-cancel k-icon-with-modifier">\n                <span class="k-icon k-icon-modifier"></span>\n            </span>\n            ').concat(_(r),"\n        </div>"))},VE=t=>t&&t.hasAttribute("data-field");class qE extends H{constructor(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),LE(this,"options",{parentSelector:".k-grid",draggableSourceSelector:".k-grid-header",draggable:{group:null,filter:"th.k-header:not(.k-group-cell):not(.k-hierarchy-cell):not(.k-drag-cell)",ignore:".k-grid-header-menu, .k-checkbox, .k-column-resizer"}}),LE(this,"onDraggableDrag",(t=>{this.canDragToAnyDropTarget(t)||t.preventDefault()})),LE(this,"onDraggableDrop",(()=>{this.destroyDropClue()})),LE(this,"onDropTargetLeave",(()=>{this.showDisabledHint(),this.destroyDropClue()})),LE(this,"onDropTargetOver",(t=>{this.canDrop(t)?this.showDropAllowedIndicators(t):this.showDropForbiddenIndicators()})),LE(this,"ignoreElementUnderCursor",(t=>{var e=t&&t.closest(nr($E));return Boolean(e)})),this.extendOptions(e),this.createDraggable()}destroy(){this.destroyDropClue(),this.destroyDraggable(),super.destroy()}extendOptions(t){this.options=g(this.options,t)}createDraggable(){var t=this.element.closest(this.options.parentSelector).querySelector(this.options.draggableSourceSelector);t&&(this.draggable=new mr(t,g(this.options.draggable,{hint:HE,ignoreElementUnderCursor:this.ignoreElementUnderCursor,events:{drag:this.onDraggableDrag,drop:this.onDraggableDrop,dropTargetLeave:this.onDropTargetLeave,dropTargetOver:this.onDropTargetOver}})))}destroyDraggable(){this.draggable&&this.draggable.destroy()}canDragToAnyDropTarget(t){var e=!1;return this.draggable.forEachDropTarget((r=>{e=e||r.allowsDragFrom(this.draggable,t)})),e}canDrop(t){return t.dropTarget&&t.dropTarget.allowsDropFrom(this.draggable,t)}showEnabledHint(){var t=this.draggable.hint;if(t){var e=t.querySelector(nr(jE));Z(UE,e),J(zE,e)}}showDisabledHint(){var t=this.draggable.hint;if(t){var e=t.querySelector(nr(jE));J(UE,e),Z(zE,e)}}createDropClue(){this.dropClue||(this.dropClue=new yr,this.dropClueSize=this.dropClue.getSize())}destroyDropClue(){this.dropClue&&(this.dropClue.destroy(),this.dropClue=null)}addDropClue(t){if(t.dropTarget&&t.elementUnderCursor){var e=t.elementUnderCursor.closest(t.dropTarget.options.itemSelector)||t.elementUnderCursor,r=t.draggable.originalCurrentTarget,n=this.getDropTargetIndicators(t.dropTarget.element,t.dropTarget.options.itemSelector).length>1,i=Lt(e,r),o=i?Rt(e,r):n&&!VE(e),s=this.getDropClueOffsetElement({elementUnderCursor:e,dropTargetItemSelector:t.dropTarget.options.itemSelector,dropTargeElement:t.dropTarget.element,isDragInSiblings:i});if(s){this.createDropClue();var a=this.dropClue.getOffsetState(s,o);if(!o){var{width:l}=this.dropClueSize;a.left-=l/2}this.showDropClue(a)}}}getDropClueOffsetElement(t){var{elementUnderCursor:e,dropTargeElement:r,dropTargetItemSelector:n,isDragInSiblings:i}=t,o=e.closest(n),s=this.getDropTargetIndicators(r,n),a=s.filter(VE),l=He(s),c=He(a)||l;return o&&(i||VE(o))&&(c=o),c}showDropClue(t){var{top:e,left:r,height:n}=t;this.dropClue||this.createDropClue(),this.dropClue.setState({top:e,left:r,height:n}),this.dropClue.show()}hideDropClue(){this.dropClue&&this.dropClue.hide()}showDropAllowedIndicators(t){this.showEnabledHint(),this.addDropClue(t)}showDropForbiddenIndicators(){this.showDisabledHint(),this.destroyDropClue()}getDropTargetIndicators(t,e){return Array.from(t.querySelectorAll(e))}}function WE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Zt(qE,ae(t,"ColumnDraggable"),e)}function XE(t){Qt(ae(t,"ColumnDraggable"))}function GE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var KE=F("reorderable"),YE=F("parent-col-initialization-index");class JE extends H{constructor(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),GE(this,"options",{parentSelector:".k-grid",reorderableSourceSelector:".k-grid-header",dropTarget:{itemSelector:"th.k-header:not(.k-group-cell):not(.k-hierarchy-cell):not(.k-drag-cell)"}}),GE(this,"allowsDragFrom",(t=>{var e=Boolean(t.originalCurrentTarget.getAttribute(KE)),r=this.dropTarget.element.querySelectorAll(this.options.dropTarget.itemSelector).length>1;return e&&r})),GE(this,"allowsDropFrom",((t,e)=>{var r=e.elementUnderCursor.closest(this.options.dropTarget.itemSelector),n=t.originalCurrentTarget;if(!r||!n)return!1;var i=Boolean(n.getAttribute(KE)),o=N(YE,r),s=N(YE,n);return i&&r!==n&&o===s})),GE(this,"onDropTargetDrop",(t=>{var e=t.draggable.originalCurrentTarget,r=t.elementUnderCursor.closest(this.options.dropTarget.itemSelector),n=Xe(e),i=Xe(r),o=n>=0?n:Nt(e,this.options.dropTarget.itemSelector),s=i>=0?i:Nt(r,this.options.dropTarget.itemSelector);document.activeElement&&document.activeElement.blur(),this.reorderColumn(o,s)})),this.extendOptions(e),this.createDropTarget()}destroy(){this.destroyDropTarget(),super.destroy()}createDropTarget(){var t=this.element.closest(this.options.parentSelector).querySelector(this.options.reorderableSourceSelector);this.dropTarget=new dr(t,g(this.options.dropTarget,{allowsDragFrom:this.allowsDragFrom,allowsDropFrom:this.allowsDropFrom,events:{drop:this.onDropTargetDrop}}))}destroyDropTarget(){this.dropTarget&&this.dropTarget.destroy()}reorderColumn(t,e){t>=0&&e>=0&&t!==e&&this.invokeMethodAsync(this.options.jsinterop.reorderColumn,{fromIndex:t,toIndex:e})}}function ZE(t,e){Zt(JE,ae(t,"ColumnReorderable"),e)}function QE(t){Qt(ae(t,"ColumnReorderable"))}function tP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class eP extends H{constructor(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),tP(this,"options",{events:{resizeStart:null,resize:null,resizeEnd:null},draggable:{filter:""}}),tP(this,"onDraggableDragStart",(t=>{this.initialLocation={pageX:t.pageX,pageY:t.pageY},this.location={pageX:t.pageX,pageY:t.pageY},this.delta={x:0,y:0},this.initialDelta={x:0,y:0},this.trigger("resizeStart",t)})),tP(this,"onDraggableDrag",(t=>{this.setCursorStyle(t.sender.originalCurrentTarget.style.cursor),this.calculateInitialDelta(t),this.calculateDelta(t),this.setLocation(t),this.trigger("resize",t)})),tP(this,"onDraggableDragEnd",(t=>{this.resetCursorStyle(),this.trigger("resizeEnd",t)})),this.extendOptions(e),this.createDraggable(t)}destroy(){this.destroyDraggable(),super.destroy()}createDraggable(){this.draggable=new mr(this.element,g(this.options.draggable,{events:{dragStart:this.onDraggableDragStart,drag:this.onDraggableDrag,dragEnd:this.onDraggableDragEnd}}))}destroyDraggable(){this.draggable&&this.draggable.destroy()}trigger(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return super.trigger(t,u(e,{initialLocation:this.initialLocation,location:this.location,delta:this.delta,initialDelta:this.initialDelta}))}calculateDelta(t){this.delta={x:t.pageX-this.location.pageX,y:t.pageY-this.location.pageY}}calculateInitialDelta(t){this.initialDelta={x:t.pageX-this.initialLocation.pageX,y:t.pageY-this.initialLocation.pageY}}setLocation(t){var{pageX:e,pageY:r}=t;this.location={pageX:e,pageY:r}}setCursorStyle(t){t&&(document.body.style.cursor=t)}resetCursorStyle(){document.body.style.cursor=""}}function rP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var nP="dblclick",iP=Array.from,oP=t=>parseFloat(t)+"px",sP=(t,e)=>{t.style.width=oP(e)},aP=t=>t.getBoundingClientRect().width,lP=t=>Boolean(t.style.width),cP=(t,e,r)=>r?he(t,e,r):Math.max(t,e),hP="k-column-resizer";class uP extends H{constructor(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t,e),rP(this,"options",{parentSelector:".k-grid",resizableSourceSelector:".k-grid-header",dataRowSelector:"tr:not(.k-grouping-row)",columnSelector:"th.k-header:not(.k-group-cell):not(.k-hierarchy-cell):not(.k-drag-cell)",contentTableSelector:".k-grid-table",contentRowSelector:"tr.k-master-row",contentCellSelector:"td:not(.k-group-cell):not(.k-hierarchy-cell):not(.k-drag-cell)",footerTableSelector:".k-grid-footer table",footerRowSelector:"tr.k-group-footer",columns:[],defaultMinResizableWidth:30,dragResizing:!0,resizable:{draggable:{filter:".k-column-resizer"}},jsinterop:{resizeColumns:""}}),rP(this,"onResizableResizeStart",(t=>{this.resetState(),this.setFixedWidths();var e=t.originalCurrentTarget.closest(this.options.columnSelector);this.setState({originColumn:{element:e,initialWidth:aP(e)}}),this.rescaleColumns()})),rP(this,"onResizableResize",(t=>{var e=this.state.originColumn.element,r=aP(e),n=this.getColumnIndex(e),{minWidth:i,maxWidth:o}=this.getResizingConstraints(n),s=this.state.originColumn.initialWidth+t.initialDelta.x,a=o&&o<r||i>r,l=t.delta.x>0&&s<=i,c=o&&t.delta.x<0&&s>=o;(a||!l&&!c)&&this.applyResizeDelta(e,t.delta.x)})),rP(this,"onResizableResizeEnd",(()=>{this.state.columns.length>0&&this.invokeResizeColumns({columns:this.state.columns,tableWidth:this.state.tableWidth})})),rP(this,"onDoubleClick",(t=>{if(Q(hP,t.target)){var e=t.target.closest(this.options.columnSelector);this.autoFitColumnElements([e])}})),this.extendOptions(e),this.bindEvents(),this.options.dragResizing&&this.createResizable(),this.resetState()}destroy(){this.unbindEvents(),this.destroyResizable(),super.destroy()}createResizable(){var t=this.element.closest(this.options.parentSelector).querySelector(this.options.resizableSourceSelector);this.resizable=new eP(t,g(this.options.resizable,{events:{resizeStart:this.onResizableResizeStart,resize:this.onResizableResize,resizeEnd:this.onResizableResizeEnd}}))}destroyResizable(){this.resizable&&this.resizable.destroy()}bindEvents(){this.element.addEventListener(nP,this.onDoubleClick)}unbindEvents(){this.element.removeEventListener(nP,this.onDoubleClick)}setState(t){this.state=u(this.state||{},t)}resetState(){this.setState({columns:[],tableWidth:null,originColumn:{element:{},initialWidth:null}})}setColumns(t){this.options.columns=t}autoFitAllColumns(){var t=this.getLeafHeaderCells();this.autoFitColumnElements(t)}autoFitColumns(t){var e=t.map((t=>this.element.querySelector($e(t))));this.autoFitColumnElements(e)}autoFitColumnElements(t){var e=[];this.setFixedWidths(),this.rescaleColumns(),t.forEach((t=>{if(t&&!We(t)){var r=this.getHeaderCellLeafIndex(t),n=this.getColumnIndex(t);if(this.isContentCellVisible(r)){var i=this.getColumnWidth(r,n);this.resizeColumn(t,i);var o=aP(t);e.push({index:n,width:oP(o)})}}})),e.length>0&&this.invokeResizeColumns({columns:e,tableWidth:oP(aP(this.getHeaderTable()))})}getColumnWidth(t,e){var r=this.getContentColumnWidth(t,e),n=this.getHeaderColumnWidth(t,e),i=this.getFooterColumnWidth(t,e);return Math.max(r,n,i)}getContentColumnWidth(t,e){var r=this.getContentCellVirtualIndex(t);return r<0?0:this.calculateColumnWidth({columnIndex:r,columnInitializationIndex:e,tableElement:this.getContentTable(),cellSelector:this.options.contentCellSelector,scrollContainerSelector:".k-grid-content"})}getHeaderColumnWidth(t,e){return this.calculateColumnWidth({columnIndex:t,columnInitializationIndex:e,tableElement:this.getHeaderTable(),cellSelector:this.options.columnSelector,scrollContainerSelector:".k-grid-header-wrap"})}getFooterColumnWidth(t,e){var r=this.getFooterTable();return r?this.calculateColumnWidth({columnIndex:t,columnInitializationIndex:e,tableElement:r,cellSelector:this.options.contentCellSelector,scrollContainerSelector:".k-grid-footer-wrap"}):0}calculateColumnWidth(t){var{columnIndex:e,columnInitializationIndex:r,tableElement:n,cellSelector:i,scrollContainerSelector:o}=t,s=this.getTableColumns(n)[e],a=o?n.closest(o):null,l=s.style.width,c=null!==a?a.scrollLeft:0;s.style.width="",J("k-autofitting",n);var h=n.querySelector($e(r))||n.querySelector(this.options.dataRowSelector).querySelectorAll(i)[e],u=aP(h);return Z("k-autofitting",n),s.style.width=l,a&&(a.scrollLeft=c),u}setFixedWidths(){var t=this.getHeaderColumns(),e=this.getHeaderTable(),r=this.getContentTable(),n=this.getFooterTable();if(!(t.every(lP)&&lP(e)&&lP(r))){sP(e,aP(e)),sP(r,aP(r)),n&&sP(n,aP(n));var i=this.hasMultiColumnHeaders()?this.getLeafHeaderCells():this.getHeaderCells(),o=this.getHeaderCells().sort(Qe);this.leafHeaderCellsFixedWidths=[],this.headerCellsFixedWidths=[];for(var s=0;s<i.length;s++){var a=aP(i[s]);this.leafHeaderCellsFixedWidths.push(a)}for(var l=0;l<o.length;l++){var c=aP(o[l]);this.headerCellsFixedWidths.push(c)}for(var h=0;h<i.length;h++)this.resizeHeaderColumn(h,this.leafHeaderCellsFixedWidths[h]),this.resizeContentColumn(h,this.leafHeaderCellsFixedWidths[h]),n&&this.resizeFooterColumn(h,this.leafHeaderCellsFixedWidths[h])}}applyResizeDelta(t,e){t&&this.resizeColumn(t,aP(t)+e,e)}resizeColumn(t,e){var r=this.getFooterTable(),n=[];if(t){var i,o=this.getColumnIndex(t),s=this.hasMultiColumnHeaders(),a=this.getHeaderCellLeafIndex(t),l=[];if(s)l=((t,e)=>{var r=Ye(t,e);return r.filter((t=>r.every((e=>!tr(t.element,e.element)))))})(t,this.getHeaderCells().sort(Ze));i=l.length>0?{minWidth:this.options.defaultMinResizableWidth,maxWidth:null}:this.getResizingConstraints(o);var c=cP(e,i.minWidth,i.maxWidth),h=c-aP(t);if(!(-.05<=h&&h<=.05)){if(n.push({index:o,width:oP(c)}),l.length){var u=[],p=0,d=h/l.length;l.forEach((t=>{var e=t.index,r=t.leafIndex,n=this.getHeaderColWidth(t.leafIndex),{minWidth:i,maxWidth:o}=this.getResizingConstraints(t.index),s=cP(n+d,i,o);u.push({index:e,leafIndex:r,newWidth:s})})),u.forEach((t=>{this.resizeHeaderColumn(t.leafIndex,t.newWidth),this.resizeContentColumn(t.leafIndex,t.newWidth),p+=t.newWidth,n.push({index:t.index,width:oP(t.newWidth)})})),n[0].width=oP(p);var f=p-aP(t);this.resizeHeaderTable(f),this.resizeContentTable(f),this.resizeLockedColumns(),r&&(this.resizeFooterTable(f),u.forEach((t=>{this.resizeFooterColumn(t.leafIndex,t.newWidth)})))}else this.resizeHeaderTable(h),this.resizeContentTable(h),this.resizeHeaderColumn(a,c),this.resizeContentColumn(a,c),this.resizeLockedColumns(),r&&(this.resizeFooterTable(h),this.resizeFooterColumn(a,c));this.setState({columns:n,tableWidth:oP(aP(this.getHeaderTable()))})}}}resizeHeaderColumn(t,e){var r=this.getHeaderColumnByIndex(t);sP(r,e)}resizeContentColumn(t,e){var r=this.getContentColumnByIndex(t);sP(r,e)}resizeFooterColumn(t,e){var r=this.getFooterColumnByIndex(t);sP(r,e)}resizeHeaderTable(t){this.resizeTable(this.getHeaderTable(),t)}resizeContentTable(t){this.resizeTable(this.getContentTable(),t)}resizeFooterTable(t){this.resizeTable(this.getFooterTable(),t)}resizeTable(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t&&sP(t,aP(t)+e)}resizeLockedColumns(){this.resizeLockedHeaderCells(),this.resizeLockedContentCells(),this.resizeLockedFooterCells()}resizeLockedHeaderCells(){var t=this.getHeaderCells().sort(Ze);this.setLockedCellsOffsets(t)}resizeLockedContentCells(){var t=this.getContentRows();this.resizeLockedCellsForRows(t)}resizeLockedFooterCells(){var t=this.getFooterRows();this.resizeLockedCellsForRows(t)}resizeLockedCellsForRows(t){for(var e=0;e<t.length;e++){var r=t[e].querySelectorAll(this.options.contentCellSelector);this.setLockedCellsOffsets(r)}}setLockedCellsOffsets(t){this.setLockedCellsOffsetLeft(t),this.setLockedCellsOffsetRight(t)}setLockedCellsOffsetLeft(t){this.setLockedCellOffset(t,((t,e)=>{((t,e)=>{t.style.left=oP(e)})(t,e)}))}setLockedCellsOffsetRight(t){this.setLockedCellOffset(t,((t,e)=>{((t,e)=>{t.style.right=oP(e)})(t,e)}),{iterateBackwards:!0})}setLockedCellOffset(t,e){for(var{iterateBackwards:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getMaxLevel(t),i=new Array(n).fill(0),o=0;o<t.length;o++){var s=t[r?t.length-1-o:o];if(Pe(s)){var a=aP(s),l=qe(s),c=Math.max(0,l-1);if(e(s,i[c]),We(s))i[c]+=a;else for(var h=c;h<i.length;h++)i[h]+=a}}}getMaxLevel(t){for(var e=1,r=0;r<t.length;r++){var n=qe(t[r]);e=Math.max(e,n)}return e}invokeResizeColumns(t){if(x(t.columns)&&x(t.tableWidth))return this.invokeMethodAsync(this.options.jsinterop.resizeColumns,{columns:t.columns,tableWidth:t.tableWidth})}rescaleColumns(){this.headerCellsFixedWidths&&(this.invokeRescaleColumns(this.headerCellsFixedWidths.map((t=>"".concat(t,"px")))),this.headerCellsFixedWidths=null)}invokeRescaleColumns(t){return this.invokeMethodAsync(this.options.jsinterop.rescaleColumns,t)}getHeaderTable(){return this.element.closest("table")}getContentTable(){return this.element.closest(this.options.parentSelector).querySelector(this.options.contentTableSelector)}getFooterTable(){return this.element.closest(this.options.parentSelector).querySelector(this.options.footerTableSelector)}getHeaderColumnByIndex(t){return this.getHeaderColumns()[t]}getHeaderColumns(){return this.getTableColumns(this.getHeaderTable())}getHeaderColWidth(t){var e,r,n=this.getHeaderColumnByIndex(t);return e=n,r=parseFloat(e.style.width),Number.isNaN(r)?aP(e):r}getHeaderCellByIndex(t){return this.getHeaderCells()[t]}getHeaderCells(){return iP(this.element.querySelectorAll(this.options.columnSelector))}getLeafHeaderCells(){var t=this.getHeaderCells();return Je(t).sort(Ze)}getHeaderCellLeafIndex(t){return this.getLeafHeaderCells().indexOf(t)}getContentColumnByIndex(t){return this.getContentColumns()[t]}getContentColumns(){return this.getTableColumns(this.getContentTable())}getTableColumns(t){var e=t.querySelector("colgroup").querySelectorAll("col:not(.k-group-col):not(.k-hierarchy-col):not(.k-drag-col)");return iP(e)}getContentRows(){return this.queryContentTable(this.options.contentRowSelector)}getFooterColumnByIndex(t){return this.getFooterColumns()[t]}getFooterColumns(){return this.getTableColumns(this.getFooterTable())}getFooterRows(){return this.queryContentTable(this.options.footerRowSelector)}getColumnIndex(t){var e=Xe(t);return e>=0?e:Nt(t,this.options.columnSelector)}queryContentTable(t){var e=this.getContentTable().querySelectorAll(t);return iP(e)}hasMultiColumnHeaders(){return this.element.querySelectorAll("tr").length>1}getFirstContentRow(){return this.getContentTable().querySelector(this.options.dataRowSelector)}getContentCellVirtualIndex(t){var e=this.getFirstContentRow();if(!e)return-1;var r=e.querySelector(this.options.contentCellSelector),n=t;return r&&r.colSpan>1&&(n-=r.colSpan-1),n}isContentCellVisible(t){var e=this.getContentCellVirtualIndex(t),r=this.getFirstContentRow();if(!r)return!1;var n=r.querySelectorAll(this.options.contentCellSelector);return!!n&&(e>=0&&e<n.length)}getResizingConstraints(t){var e=this.options.columns[t]||{};return{minWidth:Math.max(e.minResizableWidth,this.options.defaultMinResizableWidth),maxWidth:e.maxResizableWidth}}}function pP(t,e){Zt(uP,ae(t,"ColumnResizable"),e)}function dP(t){Qt(ae(t,"ColumnResizable"))}function fP(t,e){var r=re(ae(t,"ColumnResizable"));r&&r.autoFitColumns(e)}function gP(t){var e=re(ae(t,"ColumnResizable"));e&&e.autoFitAllColumns()}function mP(t,e){var r=re(ae(t,"ColumnResizable"));r&&r.setColumns(e)}function yP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var vP=[fe.ENTER,fe.ARROWDOWN,fe.ARROWUP],bP=()=>A(20);class wP extends H{constructor(t,e){super(t,e),yP(this,"options",{dotNetInstance:null,jsinterop:{keydown:"",focusout:"",collapse:""},mode:"",duration:0}),yP(this,"onMouseDown",(t=>{var e=t.target;"overlay"!==this.options.mode||et(e,[this.element])||this.invokeCollapse()})),yP(this,"onKeyDown",(t=>{this.invokeKeyDown(t)})),yP(this,"onFocusOut",(t=>{this.invokeFocusOut(t)})),this.extendOptions(e),this.bindEvents(),this.createNavigationService()}expandAsync(){return bP().then((()=>this.onTransitionEnd()))}collapseAsync(){return bP().then((()=>this.onTransitionEnd()))}destroy(){this.unbindEvents(),this.destroyNavigationService(),super.destroy()}bindEvents(){this.element.addEventListener("focusout",this.onFocusOut),document.addEventListener("mousedown",this.onMouseDown,!0)}unbindEvents(){this.element.removeEventListener("focusout",this.onFocusOut),document.removeEventListener("mousedown",this.onMouseDown,!0)}focusItem(t){var e=this.element.querySelector('[data-index="'.concat(t,'"]'));e instanceof HTMLElement&&e.focus()}cancelCallback(){this.timer&&this.timer.cancel(),this.timer=null}onTransitionEnd(){var t=this.options.duration;return this.timer=C(t),this.timer.promise}createNavigationService(){this.navigationService=new ve(this.element),this.navigationService.bind(vP,this.onKeyDown)}destroyNavigationService(){this.navigationService&&(this.navigationService.destroy(),this.navigationService=null)}invokeKeyDown(t){this.invokeMethodAsync(this.options.jsinterop.keydown,t.name)}invokeFocusOut(t){var e=t.target.closest(".k-drawer-item[role='menuitem'"),r=e?parseInt(e.getAttribute("data-index")):null;setTimeout((()=>{this.invokeMethodAsync(this.options.jsinterop.focusout,r)}),1)}invokeCollapse(){this.invokeMethodAsync(this.options.jsinterop.collapse)}}function xP(t,e){Zt(wP,t,e)}function SP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var kP=[fe.ENTER,fe.ESC],AP=[fe.HOME,fe.END];class CP extends H{constructor(t,e){super(t,e),SP(this,"options",{dotNetInstance:null,popupId:null,jsinterop:{focus:null,blur:null,keydown:null}}),SP(this,"onKeyDown",(t=>(this.invokeKeyDown(t),this.isClosed()))),SP(this,"onPopupKeys",(t=>!!this.isClosed()||(this.invokeKeyDown(t),!1))),SP(this,"invokeKeyDown",(t=>{this.invokeMethodAsync(this.options.jsinterop.keydown,t.name)})),SP(this,"invokeBlur",(()=>{this.invokeMethodAsync(this.options.jsinterop.blur)})),SP(this,"invokeFocus",(()=>{this.invokeMethodAsync(this.options.jsinterop.focus)})),this.extendOptions(e),this.popupElement=G(e.popupId),this.initNavigationService()}destroy(){this.destroyNavigationService(),this.popupElement=null,super.destroy()}initNavigationService(){this.navigationService=new ve(this.element),this.navigationService.bind(kP,this.onKeyDown),this.navigationService.bind("".concat(ge.ALT," ").concat(fe.ARROWDOWN),this.onKeyDown),this.navigationService.bind("".concat(ge.ALT," ").concat(fe.ARROWUP),this.onKeyDown),this.navigationService.bind(AP,this.onPopupKeys)}destroyNavigationService(){this.navigationService.destroy()}isClosed(){return!this.popupElement||!this.popupElement.children[0].children.length}}function _P(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var TP="blur",OP="focus";class MP extends CP{constructor(t,e){super(t,e),_P(this,"options",{value:null}),_P(this,"onBlur",(t=>{var e=t.relatedTarget;V(this.popupElement,e)||V(this.element,e)?this.focus():this.invokeBlur()})),_P(this,"onFocus",(()=>{this.invokeFocus()})),this.extendOptions(e),this.input=this.element.querySelector("input"),this.setValue(e.value),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.input=null}bindEvents(){this.input.addEventListener(TP,this.onBlur),this.input.addEventListener(OP,this.onFocus)}unbindEvents(){this.input.removeEventListener(TP,this.onBlur),this.input.removeEventListener(OP,this.onFocus)}setValue(t){this.input&&(this.input.value=t)}focus(){this.input&&this.input.focus()}}var EP=[fe.ARROWDOWN,fe.ARROWUP];class PP extends MP{constructor(t,e){super(t,e)}bindEvents(){super.bindEvents(),this.navigationService.bind(EP,this.onPopupKeys)}}function IP(t,e){Zt(PP,t,e)}var FP=[fe.ARROWDOWN,fe.ARROWUP];class DP extends MP{constructor(t,e){super(t,e)}bindEvents(){super.bindEvents(),this.navigationService.bind(FP,this.invokeKeyDown)}}function RP(t,e){Zt(DP,t,e)}function LP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var NP="blur",BP="click",jP=[fe.ARROWDOWN,fe.ARROWUP];class zP extends CP{constructor(t,e){super(t,e),LP(this,"focus",(()=>{Q("k-disabled",this.element)||this.element.focus()})),LP(this,"onBlur",(t=>{var e=t.relatedTarget;V(this.popupElement,e)?e.closest(".k-list-filter")||this.element.focus():this.invokeBlur()})),LP(this,"onFocus",(()=>{this.invokeFocus()})),this.initLabel(),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.element.addEventListener(NP,this.onBlur),this.element.addEventListener("focus",this.onFocus),this.bindLabelEvent(),this.navigationService.bind(jP,this.invokeKeyDown),this.navigationService.bind("printableKey",this.invokeKeyDown)}unbindEvents(){this.element.removeEventListener(NP,this.onBlur),this.unbindLabelEvent()}initLabel(){var t=this.element.getAttribute("id"),e=document.querySelector("[for='"+t+"']");if(e&&!this.element.getAttribute("aria-labelledby")){var r=e.getAttribute("id");r||(r=m(),e.setAttribute("id",r)),this.element.setAttribute("aria-labelledby",r)}this.label=e}bindLabelEvent(){this.label&&this.label.addEventListener(BP,this.focus)}unbindLabelEvent(){this.label&&this.label.removeEventListener(BP,this.focus)}}function UP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var $P="blur",HP=[fe.ARROWDOWN,fe.ARROWUP,fe.ENTER,fe.ESC,"".concat(ge.ALT," ").concat(fe.ARROWUP)];class VP extends H{constructor(t,e){super(t,e),UP(this,"options",{dotNetInstance:null,anchorDataId:"",jsinterop:{blur:null,keydown:null}}),UP(this,"onBlur",(t=>{var e=t.relatedTarget;e&&e.closest('[data-id="'.concat(this.options.anchorDataId,'"]'))||(V(this.element.closest(".k-popup"),e)?this.element.focus():this.invokeBlur())})),UP(this,"onKeyDown",(t=>{this.invokeKeyDown(t)})),UP(this,"invokeBlur",(()=>{this.invokeMethodAsync(this.options.jsinterop.blur)})),UP(this,"invokeKeyDown",(t=>{this.invokeMethodAsync(this.options.jsinterop.keydown,t.name)})),this.extendOptions(e),this.bindEvents(),this.initNavigationService()}destroy(){this.destroyNavigationService(),this.unbindEvents(),super.destroy()}bindEvents(){this.element.addEventListener($P,this.onBlur)}unbindEvents(){this.element.removeEventListener($P,this.onBlur)}initNavigationService(){this.navigationService=new ve(this.element),this.navigationService.bind(HP,this.onKeyDown)}destroyNavigationService(){this.navigationService.destroy()}}function qP(t,e){Zt(zP,t,e)}function WP(t,e){Zt(VP,t,e)}var XP="click";class GP extends MP{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"onClick",(t=>{t.target instanceof HTMLElement&&!t.target.closest(".k-chip")&&!t.target.closest(".k-clear-value")&&(this.focus(),this.invokeClick())})),this.bindMultiSelectEvents()}destroy(){this.unbindMultiSelectEvents(),super.destroy()}bindMultiSelectEvents(){this.element.addEventListener(XP,this.onClick,!0),this.navigationService.bind([fe.ARROWDOWN,fe.ARROWUP],this.onPopupKeys),this.navigationService.bind([fe.ARROWLEFT,fe.ARROWRIGHT],this.onTagFocus.bind(this)),this.navigationService.bind([fe.BACKSPACE,fe.DELETE],this.onTagDelete.bind(this))}unbindMultiSelectEvents(){this.element.removeEventListener(XP,this.onClick,!0)}onTagDelete(t){return!!this.input.value||(this.invokeKeyDown(t),!1)}onTagFocus(t){return!!this.input.value||(this.invokeKeyDown(t),!1)}invokeClick(){var t=this.options.jsinterop.click;this.invokeMethodAsync(t)}}function KP(t,e){Zt(GP,t,e)}var YP=[fe.ARROWDOWN,fe.ARROWUP];class JP extends MP{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{dotNetInstance:null,columnsTotalWidth:null}),this.extendOptions(e),this.adjustScrollbarPadding()}bindEvents(){super.bindEvents(),this.navigationService.bind(YP,this.invokeKeyDown)}adjustScrollbarPadding(){Bt()}}function ZP(t,e){Zt(JP,t,e)}function QP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class tI extends H{constructor(t,e){super(t,e),QP(this,"options",{dotNetInstance:null,parentSelector:null,containerSelector:null,jsinterop:{focus:null,blur:null,keydown:null}}),QP(this,"onScroll",(()=>{var t=It(this.scrollableContainer,"li");if(t){var e=N("data-group-index",t);this.currentGroupIndex!==e&&(this.currentGroupIndex=e,this.invokeMethodAsync(this.options.jsinterop.groupChanged,e))}})),this.extendOptions(e),this.scrollableContainer=t.closest(this.options.containerSelector).querySelector(this.options.parentSelector),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.scrollableContainer.addEventListener("scroll",this.onScroll)}unbindEvents(){this.scrollableContainer.removeEventListener("scroll",this.onScroll)}}function eI(t,e){Zt(tI,t,e)}function rI(t){this.content=t}rI.prototype={constructor:rI,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),o=n.content.slice();return-1==i?o.push(r||t,e):(o[i+1]=e,r&&(o[i]=r)),new rI(o)},remove:function(t){var e=this.find(t);if(-1==e)return this;var r=this.content.slice();return r.splice(e,2),new rI(r)},addToStart:function(t,e){return new rI([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new rI(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),o=n.find(t);return i.splice(-1==o?i.length:o,0,e,r),new rI(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=rI.from(t)).size?new rI(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=rI.from(t)).size?new rI(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=rI.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},get size(){return this.content.length>>1}},rI.from=function(t){if(t instanceof rI)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new rI(e)};const nI=rI;function iI(t,e,r){for(var n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;var i=t.child(n),o=e.child(n);if(i!=o){if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(var s=0;i.text[s]==o.text[s];s++)r++;return r}if(i.content.size||o.content.size){var a=iI(i.content,o.content,r+1);if(null!=a)return a}r+=i.nodeSize}else r+=i.nodeSize}}function oI(t,e,r,n){for(var i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:r,b:n};var s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:r,b:n};if(s.isText&&s.text!=a.text){for(var c=0,h=Math.min(s.text.length,a.text.length);c<h&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(s.content.size||a.content.size){var u=oI(s.content,a.content,r-1,n-1);if(u)return u}r-=l,n-=l}else r-=l,n-=l}}var sI=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var r=0;r<t.length;r++)this.size+=t[r].nodeSize},aI={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};sI.prototype.nodesBetween=function(t,e,r,n,i){void 0===n&&(n=0);for(var o=0,s=0;s<e;o++){var a=this.content[o],l=s+a.nodeSize;if(l>t&&!1!==r(a,n+s,i,o)&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,t-c),Math.min(a.content.size,e-c),r,n+c)}s=l}},sI.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},sI.prototype.textBetween=function(t,e,r,n){var i="",o=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(i+=s.text.slice(Math.max(t,a)-a,e-a),o=!r):s.isLeaf&&n?(i+="function"==typeof n?n(s):n,o=!r):!o&&s.isBlock&&(i+=r,o=!0)}),0),i},sI.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,r=t.firstChild,n=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(r)&&(n[n.length-1]=e.withText(e.text+r.text),i=1);i<t.content.length;i++)n.push(t.content[i]);return new sI(n,this.size+t.size)},sI.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var r=[],n=0;if(e>t)for(var i=0,o=0;o<e;i++){var s=this.content[i],a=o+s.nodeSize;a>t&&((o<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),r.push(s),n+=s.nodeSize),o=a}return new sI(r,n)},sI.prototype.cutByIndex=function(t,e){return t==e?sI.empty:0==t&&e==this.content.length?this:new sI(this.content.slice(t,e))},sI.prototype.replaceChild=function(t,e){var r=this.content[t];if(r==e)return this;var n=this.content.slice(),i=this.size+e.nodeSize-r.nodeSize;return n[t]=e,new sI(n,i)},sI.prototype.addToStart=function(t){return new sI([t].concat(this.content),this.size+t.nodeSize)},sI.prototype.addToEnd=function(t){return new sI(this.content.concat(t),this.size+t.nodeSize)},sI.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},aI.firstChild.get=function(){return this.content.length?this.content[0]:null},aI.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},aI.childCount.get=function(){return this.content.length},sI.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},sI.prototype.maybeChild=function(t){return this.content[t]},sI.prototype.forEach=function(t){for(var e=0,r=0;e<this.content.length;e++){var n=this.content[e];t(n,r,e),r+=n.nodeSize}},sI.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),iI(this,t,e)},sI.prototype.findDiffEnd=function(t,e,r){return void 0===e&&(e=this.size),void 0===r&&(r=t.size),oI(this,t,e,r)},sI.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return cI(0,t);if(t==this.size)return cI(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var r=0,n=0;;r++){var i=n+this.child(r).nodeSize;if(i>=t)return i==t||e>0?cI(r+1,i):cI(r,n);n=i}},sI.prototype.toString=function(){return"<"+this.toStringInner()+">"},sI.prototype.toStringInner=function(){return this.content.join(", ")},sI.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},sI.fromJSON=function(t,e){if(!e)return sI.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new sI(e.map(t.nodeFromJSON))},sI.fromArray=function(t){if(!t.length)return sI.empty;for(var e,r=0,n=0;n<t.length;n++){var i=t[n];r+=i.nodeSize,n&&i.isText&&t[n-1].sameMarkup(i)?(e||(e=t.slice(0,n)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new sI(e||t,r)},sI.from=function(t){if(!t)return sI.empty;if(t instanceof sI)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new sI([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(sI.prototype,aI);var lI={index:0,offset:0};function cI(t,e){return lI.index=t,lI.offset=e,lI}function hI(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!hI(t[n],e[n]))return!1}else{for(var i in t)if(!(i in e)||!hI(t[i],e[i]))return!1;for(var o in e)if(!(o in t))return!1}return!0}sI.empty=new sI([],0);var uI=function(t,e){this.type=t,this.attrs=e};function pI(t){var e=Error.call(this,t);return e.__proto__=pI.prototype,e}uI.prototype.addToSet=function(t){for(var e,r=!1,n=0;n<t.length;n++){var i=t[n];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,n));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,n)),e.push(this),r=!0),e&&e.push(i)}}return e||(e=t.slice()),r||e.push(this),e},uI.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},uI.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},uI.prototype.eq=function(t){return this==t||this.type==t.type&&hI(this.attrs,t.attrs)},uI.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},uI.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var r=t.marks[e.type];if(!r)throw new RangeError("There is no mark type "+e.type+" in this schema");return r.create(e.attrs)},uI.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].eq(e[r]))return!1;return!0},uI.setFrom=function(t){if(!t||0==t.length)return uI.none;if(t instanceof uI)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},uI.none=[],pI.prototype=Object.create(Error.prototype),pI.prototype.constructor=pI,pI.prototype.name="ReplaceError";var dI=function(t,e,r){this.content=t,this.openStart=e,this.openEnd=r},fI={size:{configurable:!0}};function gI(t,e,r){var n=t.findIndex(e),i=n.index,o=n.offset,s=t.maybeChild(i),a=t.findIndex(r),l=a.index,c=a.offset;if(o==e||s.isText){if(c!=r&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(i!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(gI(s.content,e-o-1,r-o-1)))}function mI(t,e,r,n){var i=t.findIndex(e),o=i.index,s=i.offset,a=t.maybeChild(o);if(s==e||a.isText)return n&&!n.canReplace(o,o,r)?null:t.cut(0,e).append(r).append(t.cut(e));var l=mI(a.content,e-s-1,r);return l&&t.replaceChild(o,a.copy(l))}function yI(t,e,r){if(r.openStart>t.depth)throw new pI("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new pI("Inconsistent open depths");return vI(t,e,r,0)}function vI(t,e,r,n){var i=t.index(n),o=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){var s=vI(t,e,r,n+1);return o.copy(o.content.replaceChild(i,s))}if(r.content.size){if(r.openStart||r.openEnd||t.depth!=n||e.depth!=n){var a=function(t,e){for(var r=e.depth-t.openStart,n=e.node(r).copy(t.content),i=r-1;i>=0;i--)n=e.node(i).copy(sI.from(n));return{start:n.resolveNoCache(t.openStart+r),end:n.resolveNoCache(n.content.size-t.openEnd-r)}}(r,t);return kI(o,AI(t,a.start,a.end,e,n))}var l=t.parent,c=l.content;return kI(l,c.cut(0,t.parentOffset).append(r.content).append(c.cut(e.parentOffset)))}return kI(o,CI(t,e,n))}function bI(t,e){if(!e.type.compatibleContent(t.type))throw new pI("Cannot join "+e.type.name+" onto "+t.type.name)}function wI(t,e,r){var n=t.node(r);return bI(n,e.node(r)),n}function xI(t,e){var r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function SI(t,e,r,n){var i=(e||t).node(r),o=0,s=e?e.index(r):i.childCount;t&&(o=t.index(r),t.depth>r?o++:t.textOffset&&(xI(t.nodeAfter,n),o++));for(var a=o;a<s;a++)xI(i.child(a),n);e&&e.depth==r&&e.textOffset&&xI(e.nodeBefore,n)}function kI(t,e){if(!t.type.validContent(e))throw new pI("Invalid content for node "+t.type.name);return t.copy(e)}function AI(t,e,r,n,i){var o=t.depth>i&&wI(t,e,i+1),s=n.depth>i&&wI(r,n,i+1),a=[];return SI(null,t,i,a),o&&s&&e.index(i)==r.index(i)?(bI(o,s),xI(kI(o,AI(t,e,r,n,i+1)),a)):(o&&xI(kI(o,CI(t,e,i+1)),a),SI(e,r,i,a),s&&xI(kI(s,CI(r,n,i+1)),a)),SI(n,null,i,a),new sI(a)}function CI(t,e,r){var n=[];(SI(null,t,r,n),t.depth>r)&&xI(kI(wI(t,e,r+1),CI(t,e,r+1)),n);return SI(e,null,r,n),new sI(n)}fI.size.get=function(){return this.content.size-this.openStart-this.openEnd},dI.prototype.insertAt=function(t,e){var r=mI(this.content,t+this.openStart,e,null);return r&&new dI(r,this.openStart,this.openEnd)},dI.prototype.removeBetween=function(t,e){return new dI(gI(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},dI.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},dI.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},dI.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},dI.fromJSON=function(t,e){if(!e)return dI.empty;var r=e.openStart||0,n=e.openEnd||0;if("number"!=typeof r||"number"!=typeof n)throw new RangeError("Invalid input for Slice.fromJSON");return new dI(sI.fromJSON(t,e.content),r,n)},dI.maxOpen=function(t,e){void 0===e&&(e=!0);for(var r=0,n=0,i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)r++;for(var o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)n++;return new dI(t,r,n)},Object.defineProperties(dI.prototype,fI),dI.empty=new dI(sI.empty,0,0);var _I=function(t,e,r){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=r},TI={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};_I.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},TI.parent.get=function(){return this.node(this.depth)},TI.doc.get=function(){return this.node(0)},_I.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},_I.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},_I.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},_I.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},_I.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},_I.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},_I.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},TI.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},TI.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var r=this.pos-this.path[this.path.length-1],n=t.child(e);return r?t.child(e).cut(r):n},TI.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},_I.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var r=this.path[3*e],n=0==e?0:this.path[3*e-1]+1,i=0;i<t;i++)n+=r.child(i).nodeSize;return n},_I.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return uI.none;if(this.textOffset)return t.child(e).marks;var r=t.maybeChild(e-1),n=t.maybeChild(e);if(!r){var i=r;r=n,n=i}for(var o=r.marks,s=0;s<o.length;s++)!1!==o[s].type.spec.inclusive||n&&o[s].isInSet(n.marks)||(o=o[s--].removeFromSet(o));return o},_I.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var r=e.marks,n=t.parent.maybeChild(t.index()),i=0;i<r.length;i++)!1!==r[i].type.spec.inclusive||n&&r[i].isInSet(n.marks)||(r=r[i--].removeFromSet(r));return r},_I.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},_I.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new PI(this,t,r)},_I.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},_I.prototype.max=function(t){return t.pos>this.pos?t:this},_I.prototype.min=function(t){return t.pos<this.pos?t:this},_I.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},_I.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var r=[],n=0,i=e,o=t;;){var s=o.content.findIndex(i),a=s.index,l=s.offset,c=i-l;if(r.push(o,a,n+l),!c)break;if((o=o.child(a)).isText)break;i=c-1,n+=l+1}return new _I(e,r,i)},_I.resolveCached=function(t,e){for(var r=0;r<OI.length;r++){var n=OI[r];if(n.pos==e&&n.doc==t)return n}var i=OI[MI]=_I.resolve(t,e);return MI=(MI+1)%EI,i},Object.defineProperties(_I.prototype,TI);var OI=[],MI=0,EI=12,PI=function(t,e,r){this.$from=t,this.$to=e,this.depth=r},II={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};II.start.get=function(){return this.$from.before(this.depth+1)},II.end.get=function(){return this.$to.after(this.depth+1)},II.parent.get=function(){return this.$from.node(this.depth)},II.startIndex.get=function(){return this.$from.index(this.depth)},II.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(PI.prototype,II);var FI=Object.create(null),DI=function(t,e,r,n){this.type=t,this.attrs=e,this.content=r||sI.empty,this.marks=n||uI.none},RI={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};RI.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},RI.childCount.get=function(){return this.content.childCount},DI.prototype.child=function(t){return this.content.child(t)},DI.prototype.maybeChild=function(t){return this.content.maybeChild(t)},DI.prototype.forEach=function(t){this.content.forEach(t)},DI.prototype.nodesBetween=function(t,e,r,n){void 0===n&&(n=0),this.content.nodesBetween(t,e,r,n,this)},DI.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},RI.textContent.get=function(){return this.textBetween(0,this.content.size,"")},DI.prototype.textBetween=function(t,e,r,n){return this.content.textBetween(t,e,r,n)},RI.firstChild.get=function(){return this.content.firstChild},RI.lastChild.get=function(){return this.content.lastChild},DI.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},DI.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},DI.prototype.hasMarkup=function(t,e,r){return this.type==t&&hI(this.attrs,e||t.defaultAttrs||FI)&&uI.sameSet(this.marks,r||uI.none)},DI.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},DI.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},DI.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},DI.prototype.slice=function(t,e,r){if(void 0===e&&(e=this.content.size),void 0===r&&(r=!1),t==e)return dI.empty;var n=this.resolve(t),i=this.resolve(e),o=r?0:n.sharedDepth(e),s=n.start(o),a=n.node(o).content.cut(n.pos-s,i.pos-s);return new dI(a,n.depth-o,i.depth-o)},DI.prototype.replace=function(t,e,r){return yI(this.resolve(t),this.resolve(e),r)},DI.prototype.nodeAt=function(t){for(var e=this;;){var r=e.content.findIndex(t),n=r.index,i=r.offset;if(!(e=e.maybeChild(n)))return null;if(i==t||e.isText)return e;t-=i+1}},DI.prototype.childAfter=function(t){var e=this.content.findIndex(t),r=e.index,n=e.offset;return{node:this.content.maybeChild(r),index:r,offset:n}},DI.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),r=e.index,n=e.offset;if(n<t)return{node:this.content.child(r),index:r,offset:n};var i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}},DI.prototype.resolve=function(t){return _I.resolveCached(this,t)},DI.prototype.resolveNoCache=function(t){return _I.resolve(this,t)},DI.prototype.rangeHasMark=function(t,e,r){var n=!1;return e>t&&this.nodesBetween(t,e,(function(t){return r.isInSet(t.marks)&&(n=!0),!n})),n},RI.isBlock.get=function(){return this.type.isBlock},RI.isTextblock.get=function(){return this.type.isTextblock},RI.inlineContent.get=function(){return this.type.inlineContent},RI.isInline.get=function(){return this.type.isInline},RI.isText.get=function(){return this.type.isText},RI.isLeaf.get=function(){return this.type.isLeaf},RI.isAtom.get=function(){return this.type.isAtom},DI.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),NI(this.marks,t)},DI.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},DI.prototype.canReplace=function(t,e,r,n,i){void 0===r&&(r=sI.empty),void 0===n&&(n=0),void 0===i&&(i=r.childCount);var o=this.contentMatchAt(t).matchFragment(r,n,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=n;a<i;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0},DI.prototype.canReplaceWith=function(t,e,r,n){if(n&&!this.type.allowsMarks(n))return!1;var i=this.contentMatchAt(t).matchType(r),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd},DI.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},DI.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=uI.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!uI.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},DI.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},DI.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var r=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,r)}var n=sI.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,n,r)},Object.defineProperties(DI.prototype,RI);var LI=function(t){function e(e,r,n,i){if(t.call(this,e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):NI(this.marks,JSON.stringify(this.text))},r.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},r.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,r),e}(DI);function NI(t,e){for(var r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}var BI=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},jI={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};BI.parse=function(t,e){var r=new zI(t,e);if(null==r.next)return BI.empty;var n=$I(r);r.next&&r.err("Unexpected trailing text");var i=function(t){var e=Object.create(null);return r(GI(t,0));function r(n){var i=[];n.forEach((function(e){t[e].forEach((function(e){var r=e.term,n=e.to;if(r){var o=i.indexOf(r),s=o>-1&&i[o+1];GI(t,n).forEach((function(t){s||i.push(r,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var o=e[n.join(",")]=new BI(n.indexOf(t.length-1)>-1),s=0;s<i.length;s+=2){var a=i[s+1].sort(XI);o.next.push(i[s],e[a.join(",")]||r(a))}return o}}(function(t){var e=[[]];return i(o(t,0),r()),e;function r(){return e.push([])-1}function n(t,r,n){var i={term:n,to:r};return e[t].push(i),i}function i(t,e){t.forEach((function(t){return t.to=e}))}function o(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,r){return t.concat(o(r,e))}),[]);if("seq"==t.type)for(var s=0;;s++){var a=o(t.exprs[s],e);if(s==t.exprs.length-1)return a;i(a,e=r())}else{if("star"==t.type){var l=r();return n(e,l),i(o(t.expr,l),l),[n(l)]}if("plus"==t.type){var c=r();return i(o(t.expr,e),c),i(o(t.expr,c),c),[n(c)]}if("opt"==t.type)return[n(e)].concat(o(t.expr,e));if("range"==t.type){for(var h=e,u=0;u<t.min;u++){var p=r();i(o(t.expr,h),p),h=p}if(-1==t.max)i(o(t.expr,h),h);else for(var d=t.min;d<t.max;d++){var f=r();n(h,f),i(o(t.expr,h),f),h=f}return[n(h)]}if("name"==t.type)return[n(e,null,t.value)]}}}(n));return function(t,e){for(var r=0,n=[t];r<n.length;r++){for(var i=n[r],o=!i.validEnd,s=[],a=0;a<i.next.length;a+=2){var l=i.next[a],c=i.next[a+1];s.push(l.name),!o||l.isText||l.hasRequiredAttrs()||(o=!1),-1==n.indexOf(c)&&n.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,r),i},BI.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},BI.prototype.matchFragment=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.childCount);for(var n=this,i=e;n&&i<r;i++)n=n.matchType(t.child(i).type);return n},jI.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},jI.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},BI.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var r=0;r<t.next.length;r+=2)if(this.next[e]==t.next[r])return!0;return!1},BI.prototype.fillBefore=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=0);var n=[this];return function i(o,s){var a=o.matchFragment(t,r);if(a&&(!e||a.validEnd))return sI.from(s.map((function(t){return t.createAndFill()})));for(var l=0;l<o.next.length;l+=2){var c=o.next[l],h=o.next[l+1];if(!c.isText&&!c.hasRequiredAttrs()&&-1==n.indexOf(h)){n.push(h);var u=i(h,s.concat(c));if(u)return u}}}(this,[])},BI.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var r=this.computeWrapping(t);return this.wrapCache.push(t,r),r},BI.prototype.computeWrapping=function(t){for(var e=Object.create(null),r=[{match:this,type:null,via:null}];r.length;){var n=r.shift(),i=n.match;if(i.matchType(t)){for(var o=[],s=n;s.type;s=s.via)o.push(s.type);return o.reverse()}for(var a=0;a<i.next.length;a+=2){var l=i.next[a];l.isLeaf||l.hasRequiredAttrs()||l.name in e||n.type&&!i.next[a+1].validEnd||(r.push({match:l.contentMatch,type:l,via:n}),e[l.name]=!0)}}},jI.edgeCount.get=function(){return this.next.length>>1},BI.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},BI.prototype.toString=function(){var t=[];return function e(r){t.push(r);for(var n=1;n<r.next.length;n+=2)-1==t.indexOf(r.next[n])&&e(r.next[n])}(this),t.map((function(e,r){for(var n=r+(e.validEnd?"*":" ")+" ",i=0;i<e.next.length;i+=2)n+=(i?", ":"")+e.next[i].name+"->"+t.indexOf(e.next[i+1]);return n})).join("\n")},Object.defineProperties(BI.prototype,jI),BI.empty=new BI(!0);var zI=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},UI={next:{configurable:!0}};function $I(t){var e=[];do{e.push(HI(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function HI(t){var e=[];do{e.push(VI(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function VI(t){for(var e=function(t){if(t.eat("(")){var e=$I(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var r=function(t,e){var r=t.nodeTypes,n=r[e];if(n)return[n];var i=[];for(var o in r){var s=r[o];s.groups.indexOf(e)>-1&&i.push(s)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==r.length?r[0]:{type:"choice",exprs:r}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=WI(t,e)}return e}function qI(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function WI(t,e){var r=qI(t),n=r;return t.eat(",")&&(n="}"!=t.next?qI(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function XI(t,e){return e-t}function GI(t,e){var r=[];return function e(n){var i=t[n];if(1==i.length&&!i[0].term)return e(i[0].to);r.push(n);for(var o=0;o<i.length;o++){var s=i[o],a=s.term,l=s.to;a||-1!=r.indexOf(l)||e(l)}}(e),r.sort(XI)}function KI(t){var e=Object.create(null);for(var r in t){var n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function YI(t,e){var r=Object.create(null);for(var n in t){var i=e&&e[n];if(void 0===i){var o=t[n];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+n);i=o.default}r[n]=i}return r}function JI(t){var e=Object.create(null);if(t)for(var r in t)e[r]=new tF(t[r]);return e}UI.next.get=function(){return this.tokens[this.pos]},zI.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},zI.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(zI.prototype,UI);var ZI=function(t,e,r){this.name=t,this.schema=e,this.spec=r,this.groups=r.group?r.group.split(" "):[],this.attrs=JI(r.attrs),this.defaultAttrs=KI(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t},QI={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};QI.isInline.get=function(){return!this.isBlock},QI.isTextblock.get=function(){return this.isBlock&&this.inlineContent},QI.isLeaf.get=function(){return this.contentMatch==BI.empty},QI.isAtom.get=function(){return this.isLeaf||this.spec.atom},QI.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")},ZI.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},ZI.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},ZI.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:YI(this.attrs,t)},ZI.prototype.create=function(t,e,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new DI(this,this.computeAttrs(t),sI.from(e),uI.setFrom(r))},ZI.prototype.createChecked=function(t,e,r){if(e=sI.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new DI(this,this.computeAttrs(t),e,uI.setFrom(r))},ZI.prototype.createAndFill=function(t,e,r){if(t=this.computeAttrs(t),(e=sI.from(e)).size){var n=this.contentMatch.fillBefore(e);if(!n)return null;e=n.append(e)}var i=this.contentMatch.matchFragment(e).fillBefore(sI.empty,!0);return i?new DI(this,t,e.append(i),uI.setFrom(r)):null},ZI.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0},ZI.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},ZI.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},ZI.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?e&&e.push(t[r]):e||(e=t.slice(0,r));return e?e.length?e:uI.empty:t},ZI.compile=function(t,e){var r=Object.create(null);t.forEach((function(t,n){return r[t]=new ZI(t,e,n)}));var n=e.spec.topNode||"doc";if(!r[n])throw new RangeError("Schema is missing its top node type ('"+n+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r},Object.defineProperties(ZI.prototype,QI);var tF=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},eF={isRequired:{configurable:!0}};eF.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(tF.prototype,eF);var rF=function(t,e,r,n){this.name=t,this.schema=r,this.spec=n,this.attrs=JI(n.attrs),this.rank=e,this.excluded=null;var i=KI(this.attrs);this.instance=i&&new uI(this,i)};rF.prototype.create=function(t){return!t&&this.instance?this.instance:new uI(this,YI(this.attrs,t))},rF.compile=function(t,e){var r=Object.create(null),n=0;return t.forEach((function(t,i){return r[t]=new rF(t,n++,e,i)})),r},rF.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},rF.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},rF.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var nF=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=nI.from(t.nodes),this.spec.marks=nI.from(t.marks),this.nodes=ZI.compile(this.spec.nodes,this),this.marks=rF.compile(this.spec.marks,this);var r=Object.create(null);for(var n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");var i=this.nodes[n],o=i.spec.content||"",s=i.spec.marks;i.contentMatch=r[o]||(r[o]=BI.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==s?null:s?iF(this,s.split(" ")):""!=s&&i.inlineContent?null:[]}for(var a in this.marks){var l=this.marks[a],c=l.spec.excludes;l.excluded=null==c?[l]:""==c?[]:iF(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function iF(t,e){for(var r=[],n=0;n<e.length;n++){var i=e[n],o=t.marks[i],s=o;if(o)r.push(o);else for(var a in t.marks){var l=t.marks[a];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}nF.prototype.node=function(t,e,r,n){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof ZI))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,r,n)},nF.prototype.text=function(t,e){var r=this.nodes.text;return new LI(r,r.defaultAttrs,t,uI.setFrom(e))},nF.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},nF.prototype.nodeFromJSON=function(t){return DI.fromJSON(this,t)},nF.prototype.markFromJSON=function(t){return uI.fromJSON(this,t)},nF.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var oF=function(t,e){var r=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?r.tags.push(t):t.style&&r.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var r=t.nodes[e.node];return r.contentMatch.matchType(r)}))};oF.prototype.parse=function(t,e){void 0===e&&(e={});var r=new uF(this,e,!1);return r.addAll(t,null,e.from,e.to),r.finish()},oF.prototype.parseSlice=function(t,e){void 0===e&&(e={});var r=new uF(this,e,!0);return r.addAll(t,null,e.from,e.to),dI.maxOpen(r.finish())},oF.prototype.matchTag=function(t,e,r){for(var n=r?this.tags.indexOf(r)+1:0;n<this.tags.length;n++){var i=this.tags[n];if(dF(t,i.tag)&&(void 0===i.namespace||t.namespaceURI==i.namespace)&&(!i.context||e.matchesContext(i.context))){if(i.getAttrs){var o=i.getAttrs(t);if(!1===o)continue;i.attrs=o}return i}}},oF.prototype.matchStyle=function(t,e,r,n){for(var i=n?this.styles.indexOf(n)+1:0;i<this.styles.length;i++){var o=this.styles[i];if(!(0!=o.style.indexOf(t)||o.context&&!r.matchesContext(o.context)||o.style.length>t.length&&(61!=o.style.charCodeAt(t.length)||o.style.slice(t.length+1)!=e))){if(o.getAttrs){var s=o.getAttrs(e);if(!1===s)continue;o.attrs=s}return o}}},oF.schemaRules=function(t){var e=[];function r(t){for(var r=null==t.priority?50:t.priority,n=0;n<e.length;n++){var i=e[n];if((null==i.priority?50:i.priority)<r)break}e.splice(n,0,t)}var n=function(e){var n=t.marks[e].spec.parseDOM;n&&n.forEach((function(t){r(t=fF(t)),t.mark=e}))};for(var i in t.marks)n(i);var o;for(var s in t.nodes)o=void 0,(o=t.nodes[s].spec.parseDOM)&&o.forEach((function(t){r(t=fF(t)),t.node=s}));return e},oF.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new oF(t,oF.schemaRules(t)))};var sF={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},aF={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},lF={ol:!0,ul:!0};function cF(t,e,r){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&r}var hF=function(t,e,r,n,i,o,s){this.type=t,this.attrs=e,this.solid=i,this.match=o||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=r,this.activeMarks=uI.none,this.pendingMarks=n,this.stashMarks=[]};hF.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(sI.from(t));if(!e){var r,n=this.type.contentMatch;return(r=n.findWrapping(t.type))?(this.match=n,r):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},hF.prototype.finish=function(t){if(!(1&this.options)){var e,r=this.content[this.content.length-1];r&&r.isText&&(e=/[ \t\r\n\u000c]+$/.exec(r.text))&&(r.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-e[0].length)))}var n=sI.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(sI.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n},hF.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},hF.prototype.applyPending=function(t){for(var e=0,r=this.pendingMarks;e<r.length;e++){var n=r[e];(this.type?this.type.allowsMarkType(n.type):gF(n.type,t))&&!n.isInSet(this.activeMarks)&&(this.activeMarks=n.addToSet(this.activeMarks),this.pendingMarks=n.removeFromSet(this.pendingMarks))}},hF.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!sF.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var uF=function(t,e,r){this.parser=t,this.options=e,this.isOpen=r;var n,i=e.topNode,o=cF(null,e.preserveWhitespace,0)|(r?4:0);n=i?new hF(i.type,i.attrs,uI.none,uI.none,!0,e.topMatch||i.type.contentMatch,o):new hF(r?null:t.schema.topNodeType,null,uI.none,uI.none,!0,null,o),this.nodes=[n],this.open=0,this.find=e.findPositions,this.needsBlock=!1},pF={top:{configurable:!0},currentPos:{configurable:!0}};function dF(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function fF(t){var e={};for(var r in t)e[r]=t[r];return e}function gF(t,e){var r=e.schema.nodes,n=function(n){var i=r[n];if(i.allowsMarkType(t)){var o=[],s=function(t){o.push(t);for(var r=0;r<t.edgeCount;r++){var n=t.edge(r),i=n.type,a=n.next;if(i==e)return!0;if(o.indexOf(a)<0&&s(a))return!0}};return s(i.contentMatch)?{v:!0}:void 0}};for(var i in r){var o=n(i);if(o)return o.v}}pF.top.get=function(){return this.nodes[this.open]},uF.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),r=e?this.readStyles(function(t){var e,r=/\s*([\w-]+)\s*:\s*([^;]+)/g,n=[];for(;e=r.exec(t);)n.push(e[1],e[2].trim());return n}(e)):null,n=this.top;if(null!=r)for(var i=0;i<r.length;i++)this.addPendingMark(r[i]);if(this.addElement(t),null!=r)for(var o=0;o<r.length;o++)this.removePendingMark(r[o],n)}},uF.prototype.addTextNode=function(t){var e=t.nodeValue,r=this.top;if(2&r.options||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&r.options)e=2&r.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var n=r.content[r.content.length-1],i=t.previousSibling;(!n||i&&"BR"==i.nodeName||n.isText&&/[ \t\r\n\u000c]$/.test(n.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},uF.prototype.addElement=function(t,e){var r,n=t.nodeName.toLowerCase();lF.hasOwnProperty(n)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,r=null;e;e=e.nextSibling){var n=1==e.nodeType?e.nodeName.toLowerCase():null;n&&lF.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):"li"==n?r=e:n&&(r=null)}}(t);var i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(r=this.parser.matchTag(t,this,e));if(i?i.ignore:aF.hasOwnProperty(n))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);var o,s=this.top,a=this.needsBlock;if(sF.hasOwnProperty(n))o=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),o&&this.sync(s),this.needsBlock=a}else this.addElementByRule(t,i,!1===i.consuming?r:null)},uF.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},uF.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},uF.prototype.readStyles=function(t){var e=uI.none;t:for(var r=0;r<t.length;r+=2)for(var n=null;;){var i=this.parser.matchStyle(t[r],t[r+1],this,n);if(!i)continue t;if(i.ignore)return null;if(e=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(e),!1!==i.consuming)break;n=i}return e},uF.prototype.addElementByRule=function(t,e,r){var n,i,o,s=this;e.node?(i=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):n=this.enter(i,e.attrs,e.preserveWhitespace):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));var a=this.top;if(i&&i.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return s.insertNode(t)}));else{var l=e.contentElement;"string"==typeof l?l=t.querySelector(l):"function"==typeof l&&(l=l(t)),l||(l=t),this.findAround(t,l,!0),this.addAll(l,n)}n&&(this.sync(a),this.open--),o&&this.removePendingMark(o,a)},uF.prototype.addAll=function(t,e,r,n){for(var i=r||0,o=r?t.childNodes[r]:t.firstChild,s=null==n?null:t.childNodes[n];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o),e&&sF.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,i)},uF.prototype.findPlace=function(t){for(var e,r,n=this.open;n>=0;n--){var i=this.nodes[n],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,r=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(r);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},uF.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var r=this.top;r.applyPending(t.type),r.match&&(r.match=r.match.matchType(t.type));for(var n=r.activeMarks,i=0;i<t.marks.length;i++)r.type&&!r.type.allowsMarkType(t.marks[i].type)||(n=t.marks[i].addToSet(n));return r.content.push(t.mark(n)),!0}return!1},uF.prototype.enter=function(t,e,r){var n=this.findPlace(t.create(e));return n&&this.enterInner(t,e,!0,r),n},uF.prototype.enterInner=function(t,e,r,n){this.closeExtra();var i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t,e);var o=cF(t,n,i.options);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new hF(t,e,i.activeMarks,i.pendingMarks,r,null,o)),this.open++},uF.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},uF.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},uF.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},pF.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var r=this.nodes[e].content,n=r.length-1;n>=0;n--)t+=r[n].nodeSize;e&&t++}return t},uF.prototype.findAtPoint=function(t,e){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==e&&(this.find[r].pos=this.currentPos)},uF.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},uF.prototype.findAround=function(t,e,r){if(t!=e&&this.find)for(var n=0;n<this.find.length;n++){if(null==this.find[n].pos&&1==t.nodeType&&t.contains(this.find[n].node))e.compareDocumentPosition(this.find[n].node)&(r?2:4)&&(this.find[n].pos=this.currentPos)}},uF.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},uF.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var r=t.split("/"),n=this.options.context,i=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),o=-(n?n.depth+1:0)+(i?0:1),s=function(t,a){for(;t>=0;t--){var l=r[t];if(""==l){if(t==r.length-1||0==t)continue;for(;a>=o;a--)if(s(t-1,a))return!0;return!1}var c=a>0||0==a&&i?e.nodes[a].type:n&&a>=o?n.node(a-o).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;a--}return!0};return s(r.length-1,this.open)},uF.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var r=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(var n in this.parser.schema.nodes){var i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}},uF.prototype.addPendingMark=function(t){var e=function(t,e){for(var r=0;r<e.length;r++)if(t.eq(e[r]))return e[r]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},uF.prototype.removePendingMark=function(t,e){for(var r=this.open;r>=0;r--){var n=this.nodes[r];if(n.pendingMarks.lastIndexOf(t)>-1)n.pendingMarks=t.removeFromSet(n.pendingMarks);else{n.activeMarks=t.removeFromSet(n.activeMarks);var i=n.popFromStashMark(t);i&&n.type&&n.type.allowsMarkType(i.type)&&(n.activeMarks=i.addToSet(n.activeMarks))}if(n==e)break}},Object.defineProperties(uF.prototype,pF);var mF=function(t,e){this.nodes=t||{},this.marks=e||{}};function yF(t){var e={};for(var r in t){var n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function vF(t){return t.document||window.document}mF.prototype.serializeFragment=function(t,e,r){var n=this;void 0===e&&(e={}),r||(r=vF(e).createDocumentFragment());var i=r,o=null;return t.forEach((function(t){if(o||t.marks.length){o||(o=[]);for(var r=0,s=0;r<o.length&&s<t.marks.length;){var a=t.marks[s];if(n.marks[a.type.name]){if(!a.eq(o[r])||!1===a.type.spec.spanning)break;r+=2,s++}else s++}for(;r<o.length;)i=o.pop(),o.pop();for(;s<t.marks.length;){var l=t.marks[s++],c=n.serializeMark(l,t.isInline,e);c&&(o.push(l,i),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(n.serializeNodeInner(t,e))})),r},mF.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var r=mF.renderSpec(vF(e),this.nodes[t.type.name](t)),n=r.dom,i=r.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,i,e):this.serializeFragment(t.content,e,i)}return n},mF.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var r=this.serializeNodeInner(t,e),n=t.marks.length-1;n>=0;n--){var i=this.serializeMark(t.marks[n],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r},mF.prototype.serializeMark=function(t,e,r){void 0===r&&(r={});var n=this.marks[t.type.name];return n&&mF.renderSpec(vF(r),n(t,e))},mF.renderSpec=function(t,e,r){if(void 0===r&&(r=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var n=e[0],i=n.indexOf(" ");i>0&&(r=n.slice(0,i),n=n.slice(i+1));var o=null,s=r?t.createElementNS(r,n):t.createElement(n),a=e[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var c in l=2,a)if(null!=a[c]){var h=c.indexOf(" ");h>0?s.setAttributeNS(c.slice(0,h),c.slice(h+1),a[c]):s.setAttribute(c,a[c])}for(var u=l;u<e.length;u++){var p=e[u];if(0===p){if(u<e.length-1||u>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var d=mF.renderSpec(t,p,r),f=d.dom,g=d.contentDOM;if(s.appendChild(f),g){if(o)throw new RangeError("Multiple content holes");o=g}}return{dom:s,contentDOM:o}},mF.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new mF(this.nodesFromSchema(t),this.marksFromSchema(t)))},mF.nodesFromSchema=function(t){var e=yF(t.nodes);return e.text||(e.text=function(t){return t.text}),e},mF.marksFromSchema=function(t){return yF(t.marks)};var bF=Math.pow(2,16);function wF(t,e){return t+e*bF}function xF(t){return 65535&t}var SF=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=null),this.pos=t,this.deleted=e,this.recover=r},kF=function t(e,r){if(void 0===r&&(r=!1),!e.length&&t.empty)return t.empty;this.ranges=e,this.inverted=r};kF.prototype.recover=function(t){var e=0,r=xF(t);if(!this.inverted)for(var n=0;n<r;n++)e+=this.ranges[3*n+2]-this.ranges[3*n+1];return this.ranges[3*r]+e+function(t){return(t-(65535&t))/bF}(t)},kF.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},kF.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},kF.prototype._map=function(t,e,r){for(var n=0,i=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var l=this.ranges[s+i],c=this.ranges[s+o],h=a+l;if(t<=h){var u=a+n+((l?t==a?-1:t==h?1:e:e)<0?0:c);if(r)return u;var p=t==(e<0?a:h)?null:wF(s/3,t-a);return new SF(u,e<0?t!=a:t!=h,p)}n+=c-l}return r?t+n:new SF(t+n)},kF.prototype.touches=function(t,e){for(var r=0,n=xF(e),i=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>t)break;var l=this.ranges[s+i];if(t<=a+l&&s==3*n)return!0;r+=this.ranges[s+o]-l}return!1},kF.prototype.forEach=function(t){for(var e=this.inverted?2:1,r=this.inverted?1:2,n=0,i=0;n<this.ranges.length;n+=3){var o=this.ranges[n],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),l=this.ranges[n+e],c=this.ranges[n+r];t(s,s+l,a,a+c),i+=c-l}},kF.prototype.invert=function(){return new kF(this.ranges,!this.inverted)},kF.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},kF.offset=function(t){return 0==t?kF.empty:new kF(t<0?[0,-t,0]:[0,0,t])},kF.empty=new kF([]);var AF=function(t,e,r,n){this.maps=t||[],this.from=r||0,this.to=null==n?this.maps.length:n,this.mirror=e};function CF(t){var e=Error.call(this,t);return e.__proto__=CF.prototype,e}AF.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new AF(this.maps,this.mirror,t,e)},AF.prototype.copy=function(){return new AF(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},AF.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},AF.prototype.appendMapping=function(t){for(var e=0,r=this.maps.length;e<t.maps.length;e++){var n=t.getMirror(e);this.appendMap(t.maps[e],null!=n&&n<e?r+n:null)}},AF.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},AF.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},AF.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,r=this.maps.length+t.maps.length;e>=0;e--){var n=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=n&&n>e?r-n-1:null)}},AF.prototype.invert=function(){var t=new AF;return t.appendMappingInverted(this),t},AF.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var r=this.from;r<this.to;r++)t=this.maps[r].map(t,e);return t},AF.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},AF.prototype._map=function(t,e,r){for(var n=!1,i=this.from;i<this.to;i++){var o=this.maps[i].mapResult(t,e);if(null!=o.recover){var s=this.getMirror(i);if(null!=s&&s>i&&s<this.to){i=s,t=this.maps[s].recover(o.recover);continue}}o.deleted&&(n=!0),t=o.pos}return r?t:new SF(t,n)},CF.prototype=Object.create(Error.prototype),CF.prototype.constructor=CF,CF.prototype.name="TransformError";var _F=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new AF},TF={before:{configurable:!0},docChanged:{configurable:!0}};function OF(){throw new Error("Override me")}TF.before.get=function(){return this.docs.length?this.docs[0]:this.doc},_F.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new CF(e.failed);return this},_F.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},TF.docChanged.get=function(){return this.steps.length>0},_F.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(_F.prototype,TF);var MF=Object.create(null),EF=function(){};EF.prototype.apply=function(t){return OF()},EF.prototype.getMap=function(){return kF.empty},EF.prototype.invert=function(t){return OF()},EF.prototype.map=function(t){return OF()},EF.prototype.merge=function(t){return null},EF.prototype.toJSON=function(){return OF()},EF.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var r=MF[e.stepType];if(!r)throw new RangeError("No step type "+e.stepType+" defined");return r.fromJSON(t,e)},EF.jsonID=function(t,e){if(t in MF)throw new RangeError("Duplicate use of step JSON ID "+t);return MF[t]=e,e.prototype.jsonID=t,e};var PF=function(t,e){this.doc=t,this.failed=e};PF.ok=function(t){return new PF(t,null)},PF.fail=function(t){return new PF(null,t)},PF.fromReplace=function(t,e,r,n){try{return PF.ok(t.replace(e,r,n))}catch(t){if(t instanceof pI)return PF.fail(t.message);throw t}};var IF=function(t){function e(e,r,n,i){t.call(this),this.from=e,this.to=r,this.slice=n,this.structure=!!i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&DF(t,this.from,this.to)?PF.fail("Structure replace would overwrite content"):PF.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new kF([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted?null:new e(r.pos,Math.max(r.pos,n.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var r=this.slice.size+t.slice.size==0?dI.empty:new dI(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,r,this.structure)}var n=this.slice.size+t.slice.size==0?dI.empty:new dI(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),n,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(r.from,r.to,dI.fromJSON(t,r.slice),!!r.structure)},e}(EF);EF.jsonID("replace",IF);var FF=function(t){function e(e,r,n,i,o,s,a){t.call(this),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=o,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(DF(t,this.from,this.gapFrom)||DF(t,this.gapTo,this.to)))return PF.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return PF.fail("Gap is not a flat range");var r=this.slice.insertAt(this.insert,e.content);return r?PF.fromReplace(t,this.from,this.to,r):PF.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new kF([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var r=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return r.deleted&&n.deleted||i<r.pos||o>n.pos?null:new e(r.pos,n.pos,i,o,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,r){if("number"!=typeof r.from||"number"!=typeof r.to||"number"!=typeof r.gapFrom||"number"!=typeof r.gapTo||"number"!=typeof r.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(r.from,r.to,r.gapFrom,r.gapTo,dI.fromJSON(t,r.slice),r.insert,!!r.structure)},e}(EF);function DF(t,e,r){for(var n=t.resolve(e),i=r-e,o=n.depth;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0)for(var s=n.node(o).maybeChild(n.indexAfter(o));i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}return!1}function RF(t,e,r){return(0==e||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function LF(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),r=t.depth;;--r){var n=t.$from.node(r),i=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&n.canReplace(i,o,e))return r;if(0==r||n.type.spec.isolating||!RF(n,i,o))break}}function NF(t){return{type:t,attrs:null}}function BF(t,e,r,n){void 0===r&&(r=1);var i=t.resolve(e),o=i.depth-r,s=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var a=i.depth-1,l=r-2;a>o;a--,l--){var c=i.node(a),h=i.index(a);if(c.type.spec.isolating)return!1;var u=c.content.cutByIndex(h,c.childCount),p=n&&n[l]||c;if(p!=c&&(u=u.replaceChild(0,p.type.create(p.attrs))),!c.canReplace(h+1,c.childCount)||!p.type.validContent(u))return!1}var d=i.indexAfter(o),f=n&&n[0];return i.node(o).canReplaceWith(d,d,f?f.type:i.node(o+1).type)}function jF(t,e){var r=t.resolve(e),n=r.index();return zF(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function zF(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function UF(t,e,r){var n=t.resolve(e);if(!r.content.size)return e;for(var i=r.content,o=0;o<r.openStart;o++)i=i.firstChild.content;for(var s=1;s<=(0==r.openStart&&r.size?2:1);s++)for(var a=n.depth;a>=0;a--){var l=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,c=n.index(a)+(l>0?1:0),h=n.node(a),u=!1;if(1==s)u=h.canReplace(c,c,i);else{var p=h.contentMatchAt(c).findWrapping(i.firstChild.type);u=p&&h.canReplaceWith(c,c,p[0])}if(u)return 0==l?n.pos:l<0?n.before(a+1):n.after(a+1)}return null}function $F(t,e,r){for(var n=[],i=0;i<t.childCount;i++){var o=t.child(i);o.content.size&&(o=o.copy($F(o.content,e,o))),o.isInline&&(o=e(o,r,i)),n.push(o)}return sI.fromArray(n)}EF.jsonID("replaceAround",FF),_F.prototype.lift=function(t,e){for(var r=t.$from,n=t.$to,i=t.depth,o=r.before(i+1),s=n.after(i+1),a=o,l=s,c=sI.empty,h=0,u=i,p=!1;u>e;u--)p||r.index(u)>0?(p=!0,c=sI.from(r.node(u).copy(c)),h++):a--;for(var d=sI.empty,f=0,g=i,m=!1;g>e;g--)m||n.after(g+1)<n.end(g)?(m=!0,d=sI.from(n.node(g).copy(d)),f++):l++;return this.step(new FF(a,l,o,s,new dI(c.append(d),h,f),c.size-h,!0))},_F.prototype.wrap=function(t,e){for(var r=sI.empty,n=e.length-1;n>=0;n--){if(r.size){var i=e[n].type.contentMatch.matchFragment(r);if(!i||!i.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=sI.from(e[n].type.create(e[n].attrs,r))}var o=t.start,s=t.end;return this.step(new FF(o,s,o,s,new dI(r,0,0),e.length,!0))},_F.prototype.setBlockType=function(t,e,r,n){var i=this;if(void 0===e&&(e=t),!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(r,n)&&function(t,e,r){var n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}(i.doc,i.mapping.slice(o).map(e),r)){i.clearIncompatible(i.mapping.slice(o).map(e,1),r);var s=i.mapping.slice(o),a=s.map(e,1),l=s.map(e+t.nodeSize,1);return i.step(new FF(a,l,a+1,l-1,new dI(sI.from(r.create(n,null,t.marks)),0,0),1,!0)),!1}})),this},_F.prototype.setNodeMarkup=function(t,e,r,n){var i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");e||(e=i.type);var o=e.create(r,null,n||i.marks);if(i.isLeaf)return this.replaceWith(t,t+i.nodeSize,o);if(!e.validContent(i.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new FF(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new dI(sI.from(o),0,0),1,!0))},_F.prototype.split=function(t,e,r){void 0===e&&(e=1);for(var n=this.doc.resolve(t),i=sI.empty,o=sI.empty,s=n.depth,a=n.depth-e,l=e-1;s>a;s--,l--){i=sI.from(n.node(s).copy(i));var c=r&&r[l];o=sI.from(c?c.type.create(c.attrs,o):n.node(s).copy(o))}return this.step(new IF(t,t,new dI(i.append(o),e,e),!0))},_F.prototype.join=function(t,e){void 0===e&&(e=1);var r=new IF(t-e,t+e,dI.empty,!0);return this.step(r)};var HF=function(t){function e(e,r,n){t.call(this),this.from=e,this.to=r,this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,r=t.slice(this.from,this.to),n=t.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new dI($F(r.content,(function(t,r){return t.isAtom&&r.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),i),r.openStart,r.openEnd);return PF.fromReplace(t,this.from,this.to,o)},e.prototype.invert=function(){return new VF(this.from,this.to,this.mark)},e.prototype.map=function(t){var r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new e(r.pos,n.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(r.from,r.to,t.markFromJSON(r.mark))},e}(EF);EF.jsonID("addMark",HF);var VF=function(t){function e(e,r,n){t.call(this),this.from=e,this.to=r,this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,r=t.slice(this.from,this.to),n=new dI($F(r.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),r.openStart,r.openEnd);return PF.fromReplace(t,this.from,this.to,n)},e.prototype.invert=function(){return new HF(this.from,this.to,this.mark)},e.prototype.map=function(t){var r=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new e(r.pos,n.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(r.from,r.to,t.markFromJSON(r.mark))},e}(EF);function qF(t,e,r,n){if(void 0===r&&(r=e),void 0===n&&(n=dI.empty),e==r&&!n.size)return null;var i=t.resolve(e),o=t.resolve(r);return WF(i,o,n)?new IF(e,r,n):new XF(i,o,n).fit()}function WF(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}EF.jsonID("removeMark",VF),_F.prototype.addMark=function(t,e,r){var n=this,i=[],o=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(n,l,c){if(n.isInline){var h=n.marks;if(!r.isInSet(h)&&c.type.allowsMarkType(r.type)){for(var u=Math.max(l,t),p=Math.min(l+n.nodeSize,e),d=r.addToSet(h),f=0;f<h.length;f++)h[f].isInSet(d)||(s&&s.to==u&&s.mark.eq(h[f])?s.to=p:i.push(s=new VF(u,p,h[f])));a&&a.to==u?a.to=p:o.push(a=new HF(u,p,r))}}})),i.forEach((function(t){return n.step(t)})),o.forEach((function(t){return n.step(t)})),this},_F.prototype.removeMark=function(t,e,r){var n=this;void 0===r&&(r=null);var i=[],o=0;return this.doc.nodesBetween(t,e,(function(n,s){if(n.isInline){o++;var a=null;if(r instanceof rF)for(var l,c=n.marks;l=r.isInSet(c);)(a||(a=[])).push(l),c=l.removeFromSet(c);else r?r.isInSet(n.marks)&&(a=[r]):a=n.marks;if(a&&a.length)for(var h=Math.min(s+n.nodeSize,e),u=0;u<a.length;u++){for(var p=a[u],d=void 0,f=0;f<i.length;f++){var g=i[f];g.step==o-1&&p.eq(i[f].style)&&(d=g)}d?(d.to=h,d.step=o):i.push({style:p,from:Math.max(s,t),to:h,step:o})}}})),i.forEach((function(t){return n.step(new VF(t.from,t.to,t.style))})),this},_F.prototype.clearIncompatible=function(t,e,r){void 0===r&&(r=e.contentMatch);for(var n=this.doc.nodeAt(t),i=[],o=t+1,s=0;s<n.childCount;s++){var a=n.child(s),l=o+a.nodeSize,c=r.matchType(a.type,a.attrs);if(c){r=c;for(var h=0;h<a.marks.length;h++)e.allowsMarkType(a.marks[h].type)||this.step(new VF(o,l,a.marks[h]))}else i.push(new IF(o,l,dI.empty));o=l}if(!r.validEnd){var u=r.fillBefore(sI.empty,!0);this.replace(o,o,new dI(u,0,0))}for(var p=i.length-1;p>=0;p--)this.step(i[p]);return this},_F.prototype.replace=function(t,e,r){void 0===e&&(e=t),void 0===r&&(r=dI.empty);var n=qF(this.doc,t,e,r);return n&&this.step(n),this},_F.prototype.replaceWith=function(t,e,r){return this.replace(t,e,new dI(sI.from(r),0,0))},_F.prototype.delete=function(t,e){return this.replace(t,e,dI.empty)},_F.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var XF=function(t,e,r){this.$to=e,this.$from=t,this.unplaced=r,this.frontier=[];for(var n=0;n<=t.depth;n++){var i=t.node(n);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(n))})}this.placed=sI.empty;for(var o=t.depth;o>0;o--)this.placed=sI.from(t.node(o).copy(this.placed))},GF={depth:{configurable:!0}};function KF(t,e,r){return 0==e?t.cutByIndex(r):t.replaceChild(0,t.firstChild.copy(KF(t.firstChild.content,e-1,r)))}function YF(t,e,r){return 0==e?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(YF(t.lastChild.content,e-1,r)))}function JF(t,e){for(var r=0;r<e;r++)t=t.firstChild.content;return t}function ZF(t,e,r){if(e<=0)return t;var n=t.content;return e>1&&(n=n.replaceChild(0,ZF(n.firstChild,e-1,1==n.childCount?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(sI.empty,!0)))),t.copy(n)}function QF(t,e,r,n,i){var o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!r.compatibleContent(o.type))return null;var a=n.fillBefore(o.content,!0,s);return a&&!function(t,e,r){for(var n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}(r,o.content,s)?a:null}function tD(t){return t.spec.defining||t.spec.definingForContent}function eD(t,e,r,n,i){if(e<r){var o=t.firstChild;t=t.replaceChild(0,o.copy(eD(o.content,e+1,r,n,o)))}if(e>n){var s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(sI.empty,!0))}return t}function rD(t,e){for(var r=[],n=Math.min(t.depth,e.depth);n>=0;n--){var i=t.start(n);if(i<t.pos-(t.depth-n)||e.end(n)>e.pos+(e.depth-n)||t.node(n).type.spec.isolating||e.node(n).type.spec.isolating)break;(i==e.start(n)||n==t.depth&&n==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&n&&e.start(n-1)==i-1)&&r.push(n)}return r}GF.depth.get=function(){return this.frontier.length-1},XF.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;for(var o=this.placed,s=n.depth,a=i.depth;s&&a&&1==o.childCount;)o=o.firstChild.content,s--,a--;var l=new dI(o,s,a);return e>-1?new FF(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new IF(n.pos,i.pos,l):void 0},XF.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var r=void 0,n=(e?(r=JF(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,i=this.depth;i>=0;i--){var o=this.frontier[i],s=o.type,a=o.match,l=void 0,c=void 0;if(1==t&&(n?a.matchType(n.type)||(c=a.fillBefore(sI.from(n),!1)):s.compatibleContent(r.type)))return{sliceDepth:e,frontierDepth:i,parent:r,inject:c};if(2==t&&n&&(l=a.findWrapping(n.type)))return{sliceDepth:e,frontierDepth:i,parent:r,wrap:l};if(r&&a.matchType(r.type))break}},XF.prototype.openMore=function(){var t=this.unplaced,e=t.content,r=t.openStart,n=t.openEnd,i=JF(e,r);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new dI(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)},XF.prototype.dropNode=function(){var t=this.unplaced,e=t.content,r=t.openStart,n=t.openEnd,i=JF(e,r);if(i.childCount<=1&&r>0){var o=e.size-r<=r+i.size;this.unplaced=new dI(KF(e,r-1,1),r-1,o?r-1:n)}else this.unplaced=new dI(KF(e,r,1),r,n)},XF.prototype.placeNodes=function(t){for(var e=t.sliceDepth,r=t.frontierDepth,n=t.parent,i=t.inject,o=t.wrap;this.depth>r;)this.closeFrontierNode();if(o)for(var s=0;s<o.length;s++)this.openFrontierNode(o[s]);var a=this.unplaced,l=n?n.content:a.content,c=a.openStart-e,h=0,u=[],p=this.frontier[r],d=p.match,f=p.type;if(i){for(var g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}for(var m=l.size+e-(a.content.size-a.openEnd);h<l.childCount;){var y=l.child(h),v=d.matchType(y.type);if(!v)break;(++h>1||0==c||y.content.size)&&(d=v,u.push(ZF(y.mark(f.allowedMarks(y.marks)),1==h?c:0,h==l.childCount?m:-1)))}var b=h==l.childCount;b||(m=-1),this.placed=YF(this.placed,r,sI.from(u)),this.frontier[r].match=d,b&&m<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var w=0,x=l;w<m;w++){var S=x.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),x=S.content}this.unplaced=b?0==e?dI.empty:new dI(KF(a.content,e-1,1),e-1,m<0?a.openEnd:e-1):new dI(KF(a.content,e,h),a.openStart,a.openEnd)},XF.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!QF(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var r=this.$to.depth,n=this.$to.after(r);r>1&&n==this.$to.end(--r);)++n;return n},XF.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var r=this.frontier[e],n=r.match,i=r.type,o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=QF(t,e,i,n,o);if(s){for(var a=e-1;a>=0;a--){var l=this.frontier[a],c=l.match,h=QF(t,a,l.type,c,!0);if(!h||h.childCount)continue t}return{depth:e,fit:s,move:o?t.doc.resolve(t.after(e+1)):t}}}},XF.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=YF(this.placed,e.depth,e.fit)),t=e.move;for(var r=e.depth+1;r<=t.depth;r++){var n=t.node(r),i=n.type.contentMatch.fillBefore(n.content,!0,t.index(r));this.openFrontierNode(n.type,n.attrs,i)}return t},XF.prototype.openFrontierNode=function(t,e,r){var n=this.frontier[this.depth];n.match=n.match.matchType(t),this.placed=YF(this.placed,this.depth,sI.from(t.create(e,r))),this.frontier.push({type:t,match:t.contentMatch})},XF.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(sI.empty,!0);t.childCount&&(this.placed=YF(this.placed,this.frontier.length,t))},Object.defineProperties(XF.prototype,GF),_F.prototype.replaceRange=function(t,e,r){if(!r.size)return this.deleteRange(t,e);var n=this.doc.resolve(t),i=this.doc.resolve(e);if(WF(n,i,r))return this.step(new IF(t,e,r));var o=rD(n,this.doc.resolve(e));0==o[o.length-1]&&o.pop();var s=-(n.depth+1);o.unshift(s);for(var a=n.depth,l=n.pos-1;a>0;a--,l--){var c=n.node(a).type.spec;if(c.defining||c.definingAsContext||c.isolating)break;o.indexOf(a)>-1?s=a:n.before(a)==l&&o.splice(1,0,-a)}for(var h=o.indexOf(s),u=[],p=r.openStart,d=r.content,f=0;;f++){var g=d.firstChild;if(u.push(g),f==r.openStart)break;d=g.content}for(var m=p-1;m>=0;m--){var y=u[m].type,v=tD(y);if(v&&n.node(h).type!=y)p=m;else if(v||!y.isTextblock)break}for(var b=r.openStart;b>=0;b--){var w=(b+p+1)%(r.openStart+1),x=u[w];if(x)for(var S=0;S<o.length;S++){var k=o[(S+h)%o.length],A=!0;k<0&&(A=!1,k=-k);var C=n.node(k-1),_=n.index(k-1);if(C.canReplaceWith(_,_,x.type,x.marks))return this.replace(n.before(k),A?i.after(k):e,new dI(eD(r.content,0,r.openStart,w),w,r.openEnd))}}for(var T=this.steps.length,O=o.length-1;O>=0&&(this.replace(t,e,r),!(this.steps.length>T));O--){var M=o[O];M<0||(t=n.before(M),e=i.after(M))}return this},_F.prototype.replaceRangeWith=function(t,e,r){if(!r.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var n=function(t,e,r){var n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(0==n.parentOffset)for(var i=n.depth-1;i>=0;i--){var o=n.index(i);if(n.node(i).canReplaceWith(o,o,r))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(var s=n.depth-1;s>=0;s--){var a=n.indexAfter(s);if(n.node(s).canReplaceWith(a,a,r))return n.after(s+1);if(a<n.node(s).childCount)return null}}(this.doc,t,r.type);null!=n&&(t=e=n)}return this.replaceRange(t,e,new dI(sI.from(r),0,0))},_F.prototype.deleteRange=function(t,e){for(var r=this.doc.resolve(t),n=this.doc.resolve(e),i=rD(r,n),o=0;o<i.length;o++){var s=i[o],a=o==i.length-1;if(a&&0==s||r.node(s).type.contentMatch.validEnd)return this.delete(r.start(s),n.end(s));if(s>0&&(a||r.node(s-1).canReplace(r.index(s-1),n.indexAfter(s-1))))return this.delete(r.before(s),n.after(s))}for(var l=1;l<=r.depth&&l<=n.depth;l++)if(t-r.start(l)==r.depth-l&&e>r.end(l)&&n.end(l)-e!=n.depth-l)return this.delete(r.before(l),e);return this.delete(t,e)};var nD=Object.create(null),iD=function(t,e,r){this.ranges=r||[new sD(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},oD={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};oD.anchor.get=function(){return this.$anchor.pos},oD.head.get=function(){return this.$head.pos},oD.from.get=function(){return this.$from.pos},oD.to.get=function(){return this.$to.pos},oD.$from.get=function(){return this.ranges[0].$from},oD.$to.get=function(){return this.ranges[0].$to},oD.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},iD.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},iD.prototype.replace=function(t,e){void 0===e&&(e=dI.empty);for(var r=e.content.lastChild,n=null,i=0;i<e.openEnd;i++)n=r,r=r.lastChild;for(var o=t.steps.length,s=this.ranges,a=0;a<s.length;a++){var l=s[a],c=l.$from,h=l.$to,u=t.mapping.slice(o);t.replaceRange(u.map(c.pos),u.map(h.pos),a?dI.empty:e),0==a&&fD(t,o,(r?r.isInline:n&&n.isTextblock)?-1:1)}},iD.prototype.replaceWith=function(t,e){for(var r=t.steps.length,n=this.ranges,i=0;i<n.length;i++){var o=n[i],s=o.$from,a=o.$to,l=t.mapping.slice(r),c=l.map(s.pos),h=l.map(a.pos);i?t.deleteRange(c,h):(t.replaceRangeWith(c,h,e),fD(t,r,e.isInline?-1:1))}},iD.findFrom=function(t,e,r){var n=t.parent.inlineContent?new aD(t):dD(t.node(0),t.parent,t.pos,t.index(),e,r);if(n)return n;for(var i=t.depth-1;i>=0;i--){var o=e<0?dD(t.node(0),t.node(i),t.before(i+1),t.index(i),e,r):dD(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,r);if(o)return o}},iD.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new uD(t.node(0))},iD.atStart=function(t){return dD(t,t,0,0,1)||new uD(t)},iD.atEnd=function(t){return dD(t,t,t.content.size,t.childCount,-1)||new uD(t)},iD.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var r=nD[e.type];if(!r)throw new RangeError("No selection type "+e.type+" defined");return r.fromJSON(t,e)},iD.jsonID=function(t,e){if(t in nD)throw new RangeError("Duplicate use of selection JSON ID "+t);return nD[t]=e,e.prototype.jsonID=t,e},iD.prototype.getBookmark=function(){return aD.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(iD.prototype,oD),iD.prototype.visible=!0;var sD=function(t,e){this.$from=t,this.$to=e},aD=function(t){function e(e,r){void 0===r&&(r=e),t.call(this,e,r)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={$cursor:{configurable:!0}};return r.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(r,n){var i=r.resolve(n.map(this.head));if(!i.parent.inlineContent)return t.near(i);var o=r.resolve(n.map(this.anchor));return new e(o.parent.inlineContent?o:i,i)},e.prototype.replace=function(e,r){if(void 0===r&&(r=dI.empty),t.prototype.replace.call(this,e,r),r==dI.empty){var n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new lD(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,r){if("number"!=typeof r.anchor||"number"!=typeof r.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(r.anchor),t.resolve(r.head))},e.create=function(t,e,r){void 0===r&&(r=e);var n=t.resolve(e);return new this(n,r==e?n:t.resolve(r))},e.between=function(r,n,i){var o=r.pos-n.pos;if(i&&!o||(i=o>=0?1:-1),!n.parent.inlineContent){var s=t.findFrom(n,i,!0)||t.findFrom(n,-i,!0);if(!s)return t.near(n,i);n=s.$head}return r.parent.inlineContent||(0==o||(r=(t.findFrom(r,-i,!0)||t.findFrom(r,i,!0)).$anchor).pos<n.pos!=o<0)&&(r=n),new e(r,n)},Object.defineProperties(e.prototype,r),e}(iD);iD.jsonID("text",aD);var lD=function(t,e){this.anchor=t,this.head=e};lD.prototype.map=function(t){return new lD(t.map(this.anchor),t.map(this.head))},lD.prototype.resolve=function(t){return aD.between(t.resolve(this.anchor),t.resolve(this.head))};var cD=function(t){function e(e){var r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);t.call(this,e,n),this.node=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(r,n){var i=n.mapResult(this.anchor),o=i.deleted,s=i.pos,a=r.resolve(s);return o?t.near(a):new e(a)},e.prototype.content=function(){return new dI(sI.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new hD(this.anchor)},e.fromJSON=function(t,r){if("number"!=typeof r.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(r.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(iD);cD.prototype.visible=!1,iD.jsonID("node",cD);var hD=function(t){this.anchor=t};hD.prototype.map=function(t){var e=t.mapResult(this.anchor),r=e.deleted,n=e.pos;return r?new lD(n,n):new hD(n)},hD.prototype.resolve=function(t){var e=t.resolve(this.anchor),r=e.nodeAfter;return r&&cD.isSelectable(r)?new cD(e):iD.near(e)};var uD=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,r){if(void 0===r&&(r=dI.empty),r==dI.empty){e.delete(0,e.doc.content.size);var n=t.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else t.prototype.replace.call(this,e,r)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return pD},e}(iD);iD.jsonID("all",uD);var pD={map:function(){return this},resolve:function(t){return new uD(t)}};function dD(t,e,r,n,i,o){if(e.inlineContent)return aD.create(t,r);for(var s=n-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){var a=e.child(s);if(a.isAtom){if(!o&&cD.isSelectable(a))return cD.create(t,r-(i<0?a.nodeSize:0))}else{var l=dD(t,a,r+i,i<0?a.childCount:0,i,o);if(l)return l}r+=a.nodeSize*i}}function fD(t,e,r){var n=t.steps.length-1;if(!(n<e)){var i,o=t.steps[n];if(o instanceof IF||o instanceof FF)t.mapping.maps[n].forEach((function(t,e,r,n){null==i&&(i=n)})),t.setSelection(iD.near(t.doc.resolve(i),r))}}var gD=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return r.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},r.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return uI.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},r.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,r){t.prototype.addStep.call(this,e,r),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var r=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||uI.none))),r.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,r){void 0===r&&(r=e);var n=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(n.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,r);var i=this.storedMarks;if(!i){var o=this.doc.resolve(e);i=r==e?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(e,r,n.text(t,i)),this.selection.empty||this.setSelection(iD.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},r.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},r.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,r),e}(_F);function mD(t,e){return e&&t?t.bind(e):t}var yD=function(t,e,r){this.name=t,this.init=mD(e.init,r),this.apply=mD(e.apply,r)},vD=[new yD("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new yD("selection",{init:function(t,e){return t.selection||iD.atStart(e.doc)},apply:function(t){return t.selection}}),new yD("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new yD("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],bD=function(t,e){var r=this;this.schema=t,this.fields=vD.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(r.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");r.plugins.push(t),r.pluginsByKey[t.key]=t,t.spec.state&&r.fields.push(new yD(t.key,t.spec.state,t))}))},wD=function(t){this.config=t},xD={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};xD.schema.get=function(){return this.config.schema},xD.plugins.get=function(){return this.config.plugins},wD.prototype.apply=function(t){return this.applyTransaction(t).state},wD.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var r=0;r<this.config.plugins.length;r++)if(r!=e){var n=this.config.plugins[r];if(n.spec.filterTransaction&&!n.spec.filterTransaction.call(n,t,this))return!1}return!0},wD.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],r=this.applyInner(t),n=null;;){for(var i=!1,o=0;o<this.config.plugins.length;o++){var s=this.config.plugins[o];if(s.spec.appendTransaction){var a=n?n[o].n:0,l=n?n[o].state:this,c=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,l,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",t),!n){n=[];for(var h=0;h<this.config.plugins.length;h++)n.push(h<o?{state:r,n:e.length}:{state:this,n:0})}e.push(c),r=r.applyInner(c),i=!0}n&&(n[o]={state:r,n:e.length})}}if(!i)return{state:r,transactions:e}}},wD.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new wD(this.config),r=this.config.fields,n=0;n<r.length;n++){var i=r[n];e[i.name]=i.apply(t,this[i.name],this,e)}for(var o=0;o<SD.length;o++)SD[o](this,t,e);return e},xD.tr.get=function(){return new gD(this)},wD.create=function(t){for(var e=new bD(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new wD(e),n=0;n<e.fields.length;n++)r[e.fields[n].name]=e.fields[n].init(t,r);return r},wD.prototype.reconfigure=function(t){for(var e=new bD(this.schema,t.plugins),r=e.fields,n=new wD(e),i=0;i<r.length;i++){var o=r[i].name;n[o]=this.hasOwnProperty(o)?this[o]:r[i].init(t,n)}return n},wD.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var r in t){if("doc"==r||"selection"==r)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var n=t[r],i=n.spec.state;i&&i.toJSON&&(e[r]=i.toJSON.call(n,this[n.key]))}return e},wD.fromJSON=function(t,e,r){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var n=new bD(t.schema,t.plugins),i=new wD(n);return n.fields.forEach((function(n){if("doc"==n.name)i.doc=DI.fromJSON(t.schema,e.doc);else if("selection"==n.name)i.selection=iD.fromJSON(i.doc,e.selection);else if("storedMarks"==n.name)e.storedMarks&&(i.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(r)for(var o in r){var s=r[o],a=s.spec.state;if(s.key==n.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,o))return void(i[n.name]=a.fromJSON.call(s,t,e[o],i))}i[n.name]=n.init(t,i)}})),i},wD.addApplyListener=function(t){SD.push(t)},wD.removeApplyListener=function(t){var e=SD.indexOf(t);e>-1&&SD.splice(e,1)},Object.defineProperties(wD.prototype,xD);var SD=[];function kD(t,e,r){for(var n in t){var i=t[n];i instanceof Function?i=i.bind(e):"handleDOMEvents"==n&&(i=kD(i,e,{})),r[n]=i}return r}var AD=function(t){this.props={},t.props&&kD(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:_D("plugin")};AD.prototype.getState=function(t){return t[this.key]};var CD=Object.create(null);function _D(t){return t in CD?t+"$"+ ++CD[t]:(CD[t]=0,t+"$")}var TD=function(t){void 0===t&&(t="key"),this.key=_D(t)};TD.prototype.get=function(t){return t.config.pluginsByKey[this.key]},TD.prototype.getState=function(t){return t[this.key]};var OD="k-parent-node",MD="k-colgroup-data",ED="k-resizable-node",PD="k-editor-resize-handle",ID="data-dir-table-resize",FD="data-dir-image-resize",DD=function(t,e){var r=(t.ownerDocument||document).createElement(e);Array.from(t.rows).filter((function(t){return t.getAttribute(OD)===e})).forEach((function(t){t.removeAttribute(OD),r.appendChild(t)})),r.children.length&&t.appendChild(r)},RD=function(t,e){var r=e.toUpperCase();t.filter((function(t){return t.nodeName===r})).forEach((function(t){Array.from(t.children).forEach((function(r){r.setAttribute(OD,e),t.parentNode&&t.parentNode.insertBefore(r,t)})),t.remove()}))},LD=function(t){var e,r=document.createElement("template");if("content"in r)r.innerHTML=t,e=r.content;else{var n=(new DOMParser).parseFromString(t,"text/html");e=document.createDocumentFragment();for(var i=n.body;i&&i.firstChild;)e.appendChild(i.firstChild)}return e},ND=function(t){var e=mF.fromSchema(t.type.schema).serializeFragment(t.content);return function(t){Array.from(t.querySelectorAll("table")).forEach((function(t){DD(t,"thead"),DD(t,"tbody"),DD(t,"tfoot");var e=Array.from(t.children).find((function(t){return 0===t.children.length}));e&&e.remove()}))}(e),e},BD=function(t,e,r){return oF.fromSchema(e).parse(t,r)},jD=function(t,e,r){var n,i=LD(t);return n=i,Array.from(n.querySelectorAll("table")).forEach((function(t){var e=Array.from(t.children);e.some((function(t){return"THEAD"===t.nodeName||"TFOOT"===t.nodeName}))&&(RD(e,"thead"),RD(e,"tbody"),RD(e,"tfoot"));var r=e.find((function(t){return"COLGROUP"===t.nodeName}));r&&(t.setAttribute(MD,r.outerHTML),r.remove())})),BD(i,e,r)},zD=function(t,e,r){return void 0===e&&(e="setHTML"),void 0===r&&(r={preserveWhitespace:"full"}),function(n,i){return i(n.tr.setSelection(new uD(n.doc)).replaceSelectionWith(jD(t,n.schema,r)).setMeta("commandName",e))}};var UD=function(){return UD=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},UD.apply(this,arguments)};function $D(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}var HD=function(t,e){var r=e.style,n=e.value,i=e.newValue;if(!t)return{changed:!1,style:null};var o=t.split(/\s*;\s*/).filter((function(t){return Boolean(t)})),s=o.filter((function(t){var e=t.split(/\s*:\s*/);return!(e[0].toLowerCase()===r&&n.test(e[1]))}));return i&&s.push(r+": "+i),{style:s.join("; ")+(s.length?";":""),changed:Boolean(i)||s.length!==o.length}},VD=function(t){return t instanceof DI?t.type.name:t.name},qD=function(t,e){return void 0===e&&(e=1),function(r){return function(t,e){return void 0===e&&(e=1),function(r){for(var n=r.$from,i=n.depth;i>0;i--){var o=n.node(i);if(t(o)&&0==(e-=1))return{depth:i,node:o}}}}((function(e){return VD(e)===VD(t)}),e)(r)}},WD=function(t,e){return function(r,n){var i=r.tr.replaceSelectionWith(t);e&&i.scrollIntoView(),n(i)}},XD={before:/[^ !,?.\[\]{}()]+$/i,after:/^[^ !,?.\[\]{}()]+/i},GD=function(t,e){return function(r,n,i){var o=function(t,e,r){if(!r.applyToWord||!t.selection.empty)return{state:t,dispatch:e};var n=!0===r.applyToWord?XD:r.applyToWord,i=null,o=t.tr,s=t.selection,a=s.$head.nodeBefore,l=s.$head.nodeAfter;if(a&&"text"===a.type.name&&a.text&&l&&"text"===l.type.name&&l.text){var c=[];s.$head.parent.descendants((function(t,e){return c.push({node:t,pos:e}),!1}));for(var h=s.$head.parentOffset,u=c.findIndex((function(t){var e=t.node,r=t.pos;return r<=h&&r+e.nodeSize>=h})),p=c[u].node.text,d=!1,f=u-1;f>=0;f--){var g=c[f];!d&&g&&"text"===g.node.type.name?p=g.node.text+p:(d=!0,h-=g.node.nodeSize)}for(f=u+1;f<c.length&&((g=c[f])&&"text"===g.node.type.name);f++)p+=g.node.text;var m=p.substring(0,h),y=p.substring(h),v=n.before.exec(m),b=n.after.exec(y);if(v&&b){var w=v[0].length,x=b[0].length,S=i=s.from;return o.setSelection(aD.create(t.doc,S-w,S+x)),{state:{tr:o,selection:o.selection,doc:o.doc,storedMarks:null,schema:o.doc.type.schema},dispatch:function(t){t.setSelection(aD.create(t.doc,i)),e(t)}}}}return{state:t,dispatch:e}}(r,n,e),s=o.state,a=o.dispatch;return t(e)(s,a)}},KD=function(t,e,r){for(var n=function(n){var i=e[n],o=i.$from,s=i.$to,a=0===o.depth&&t.type.allowsMarkType(r);if(t.nodesBetween(o.pos,s.pos,(function(t){if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(r)})),a)return{v:!0}},i=0;i<e.length;i++){var o=n(i);if(o)return o.v}return!1},YD=function(t,e,r){return function(n,i){var o=n.selection,s=o.empty,a=o.$cursor,l=o.ranges;if(s&&!a||!KD(n.doc,l,t))return!1;if(i)if(a)t.isInSet(n.storedMarks||a.marks())?i(r.removeStoredMark(t)):i(r.addStoredMark(t.create(e)));else{for(var c=!1,h=0;!c&&h<l.length;h++){var u=l[h],p=u.$from,d=u.$to;c=n.doc.rangeHasMark(p.pos,d.pos,t)}for(h=0;h<l.length;h++){var f=l[h];p=f.$from,d=f.$to;c?r.removeMark(p.pos,d.pos,t):r.addMark(p.pos,d.pos,t.create(e))}i(r.scrollIntoView())}return!0}},JD=function(t,e,r,n){void 0===n&&(n=null);var i=[],o=0;return t.doc.nodesBetween(e,r,(function(t,s){if(t.isInline){o++;var a=null;if(n instanceof rF){var l=n.isInSet(t.marks);l&&(a=[l])}else n?n.isInSet(t.marks)&&(a=[n]):a=t.marks;if(a&&a.length)for(var c=Math.min(s+t.nodeSize,r),h=0;h<a.length;h++){for(var u=a[h],p=void 0,d=0;d<i.length;d++){var f=i[d];f.step===o-1&&u.eq(f.style)&&(p=f)}p?(p.to=c,p.step=o):i.push({style:u,from:Math.max(s,e),to:c,step:o})}}})),i.forEach((function(e){return t.step(new VF(e.from,e.to,e.style))})),t},ZD=function(t,e){var r=e.except,n=t.doc,i=t.selection,o=n.type.schema,s=i.empty,a=i.ranges,l=(r||[]).map((function(t){return t.name}));if(!s){var c=Object.keys(o.marks).map((function(t){return o.marks[t]})).filter((function(t){return-1===l.indexOf(t.name)}));a.forEach((function(e){var r=e.$from,n=e.$to;c.forEach((function(e){return t.removeMark(r.pos,n.pos,e)}))}))}},QD=function(t,e){var r,n=t.schema.marks,i=(e.altMarks||[]).filter((function(t){return n[t]})),o=e.altStyle,s=t.selection,a=s.from,l=s.$from,c=s.to,h=s.empty,u=n[e.mark],p=t.doc,d=!1;return h?(r=t.storedMarks||l.marks(),d=u&&u.isInSet(r)||i.some((function(t){return n[t].isInSet(r)}))):d=u&&p.rangeHasMark(a,c,u)||i.some((function(t){return p.rangeHasMark(a,c,n[t])})),!d&&o&&n.style?eR(t,n.style).some((function(t){return null!==tR(t,o)})):Boolean(d)},tR=function(t,e){for(var r=(t&&t.attrs.style||"").split(/\s*;\s*/).filter((function(t){return Boolean(t)})),n=0;n<r.length;n++){var i=r[n].split(/\s*:\s*/);if(i[0].toLowerCase()===e.name&&e.value.test(i[1]))return i[1]}return null},eR=function(t,e){var r=t.selection,n=r.from,i=r.$from,o=r.to,s=r.empty,a=[];return s?a.push(e.isInSet(t.storedMarks||i.marks())):t.doc.nodesBetween(n,o,(function(t){t.isInline&&a.push(e.isInSet(t.marks))})),a},rR=function(t,e){var r=eR(t,e),n=r.filter((function(t){return Boolean(t)}));return{hasNodesWithoutMarks:r.length!==n.length,marks:n}},nR=function(t,e){var r=t.find((function(t){return"style"===t.type.name})),n=r&&r.attrs.style;return HD(n,e)},iR=function(t,e,r,n,i){var o=i.create({style:n.style}),s=[],a=[],l=null,c=null;return t.doc.nodesBetween(e,r,(function(t,h,u){if(t.isInline){var p=t.marks;if(!o.isInSet(p)&&u.type.allowsMarkType(o.type)){var d=Math.max(h,e),f=Math.min(h+t.nodeSize,r),g=nR(p,n);if(g.changed||n.newValue){for(var m=g.changed?{style:g.style||null}:{style:[n.style]+": "+n.newValue+";"},y=i.isInSet(p)?p.find((function(t){return"style"===t.type.name})):null,v=y?UD({},y.attrs,m):m,b=i.create(v),w=b.addToSet(p),x=0;x<p.length;x++)p[x].isInSet(w)||(l&&l.to===d&&l.mark.eq(p[x])?l.to=f:(l=new VF(d,f,p[x]),s.push(l)));var S=c&&c.to===d,k=S&&b.attrs.style===c.mark.attrs.style;S&&k?c.to=f:Object.keys(v).some((function(t){return null!==v[t]}))&&(c=new HF(d,f,b),a.push(c))}}}})),s.forEach((function(e){return t.step(e)})),a.forEach((function(e){return t.step(e)})),s.length+a.length>0},oR=function(t,e){var r=t.schema.marks.style;return(r?eR(t,r):[]).map((function(t){return tR(t,e)})).filter((function(t){return null!==t}))},sR=function(t,e){return function(r,n,i){var o=r.selection,s=o.empty,a=o.$cursor,l=o.ranges;if(s&&!a||!KD(r.doc,l,t))return!1;var c,h,u,p,d=!1;if(n){var f=i||r.tr;if(a){var g=r.storedMarks||a.marks();if(t.isInSet(g)){var m=nR(g,e),y=g.find((function(t){return"style"===t.type.name})),v=UD({},y?y.attrs:{},{style:m.style||null});if(c=y.attrs,h=v,u=Object.keys(c),p=Object.keys(h),u.length===p.length&&u.every((function(t){return c[t]===h[t]})))return!1;n(f.removeStoredMark(t)),Object.keys(v).some((function(t){return null!==v[t]}))&&n(f.addStoredMark(t.create(v))),d=!0}}else{for(var b=0;b<l.length;b++){var w=l[b],x=w.$from,S=w.$to;d=iR(f,x.pos,S.pos,e,t)}d&&(f.scrollIntoView(),n(f))}}return d}},aR=function(t,e,r){return function(n,i){var o=n.schema.marks,s=t.altStyle,a=t.altMarks,l=void 0===a?[]:a,c=t.mark,h=e||n.tr,u=!1,p=!1,d=function(){return p=!0};s&&o.style&&(u=sR(o.style,{style:s.name,value:s.value})(n,d,h));var f=[c].concat(l).filter((function(t){return o[t]})).map((function(t){return QD(n,{mark:t})&&o[t]})).filter((function(t){return t}));return f.length?function(t,e,r,n){var i=e.selection,o=i.$cursor,s=i.ranges;if(n=n||e.tr,o)t.forEach((function(t){t.isInSet(e.storedMarks||o.marks())&&r(n.removeStoredMark(t))}));else{for(var a=function(e){var r=s[e],i=r.$from,o=r.$to;t.forEach((function(t){JD(n,i.pos,o.pos,t)}))},l=0;l<s.length;l++)a(l);r(n.scrollIntoView())}}(f,n,d,h):u||YD(o[c],r,h)(n,d),p&&i(h),p}},lR=function(t,e){return function(r,n){var i=r.schema.marks.style,o={style:t.style,value:/^.+$/,newValue:t.value},s=r.tr;e&&s.setMeta("commandName",e),s.setMeta("args",t);var a=r.selection,l=a.empty,c=a.$cursor,h=a.ranges;if(l&&!c||!i||!KD(r.doc,h,i))return!1;if(c){var u=r.storedMarks||c.marks(),p=i.isInSet(u)?u.find((function(t){return"style"===t.type.name})):null,d={style:null};if(p&&p.attrs.style){var f=HD(p.attrs.style,o);f.changed&&f.style&&(d.style=f.style)}else o.newValue&&(d.style=[o.style]+": "+o.newValue+";");var g=p?UD({},p.attrs,d):d;return Object.keys(g).some((function(t){return null!==g[t]}))?n(s.addStoredMark(i.create(g))):n(s.removeStoredMark(i)),!0}return sR(i,o)(r,n,s)}},cR=function(t,e){return function(r,n){var i=r.selection.$cursor;if(i){var o=i.parent,s=i.index(),a=r.schema.marks[t.mark],l=o.child(s).marks.find((function(t){return t.type===a})),c=o.childCount,h=i.pos-i.textOffset,u=o.child(s).nodeSize,p=void 0,d=void 0;for(p=s-1;p>=0&&l.isInSet(o.child(p).marks);)u+=d=o.child(p).nodeSize,h-=d,p-=1;for(p=s+1;p<c&&l.isInSet(o.child(p).marks);)u+=o.child(p).nodeSize,p+=1;n(JD(e||r.tr,h,h+u,l))}else aR(t,e)(r,n)}},hR=function(t,e){var r=t.mark,n=t.attrs;return void 0===e&&(e="link"),function(t,i){var o=t.schema.marks,s=t.tr;e&&(s.setMeta("commandName",e),s.setMeta("args",n));var a=!1,l=function(){return a=!0};if(function(t,e){var r=eR(t,e);return 1===r.length&&r[0]?r[0]:null}(t,o[r]))!function(t,e){return function(r,n){var i=r.selection,o=i.$cursor,s=i.from,a=i.to,l=r.schema.marks[t.mark];if(o){var c=o.parent,h=o.index(),u=c.child(h).marks.find((function(t){return t.type===l})),p=c.childCount,d=o.pos-o.textOffset,f=c.child(h).nodeSize,g=void 0,m=void 0;for(g=h-1;g>=0&&u.isInSet(c.child(g).marks);)f+=m=c.child(g).nodeSize,d-=m,g-=1;for(g=h+1;g<p&&u.isInSet(c.child(g).marks);)f+=c.child(g).nodeSize,g+=1;e.removeMark(d,d+f,l),e.addMark(d,d+f,l.create(t.attrs)),n(e)}else e.doc.nodesBetween(s,a,(function(r,i){r.isInline&&l.isInSet(r.marks)&&(e.removeMark(i,i+r.nodeSize,l),e.addMark(i,i+r.nodeSize,l.create(t.attrs)),n(e))}))}}({mark:r,attrs:n},s)(t,l);else{var c=t;QD(t,{mark:r})&&(cR({mark:r,attrs:n},s)(t,l),c=wD.create({doc:s.doc,selection:s.selection})),a?YD(o[r],n,s)(c,l):aR({mark:r},s,n)(c,l)}return a&&i(s),a}},uR=function(t,e,r,n){if(!r.isTextblock)return!1;t.selection.ranges.forEach((function(i){var o=t.steps.length,s=i.$from.pos,a=i.$to.pos;t.doc.nodesBetween(s,a,(function(i,s){if(i.eq(e)&&i.isTextblock&&!i.hasMarkup(r,n)&&function(t,e,r){var n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}(t.doc,t.mapping.slice(o).map(s),r)){t.clearIncompatible(t.mapping.slice(o).map(s,1),r);var a=t.mapping.slice(o),l=a.map(s,1),c=a.map(s+i.nodeSize,1),h=new dI(sI.from(r.create(n,null,i.marks)),0,0);return t.step(new FF(l,c,l+1,c-1,h,1,!0)),!1}}))}))},pR=function(t,e){void 0===e&&(e={blocksInSelection:!1});var r=t.doc,n=t.selection,i=n.$from,o=n.ranges,s=e.blocksInSelection,a=[],l=n instanceof cD?n.node:void 0;return l?l.isBlock?(a.push(l),l.nodesBetween(0,l.content.size,(function(t){t.isBlock&&a.push(t)}))):!s&&i.parent&&i.parent.isBlock&&a.push(i.parent):o.forEach((function(t){var e=t.$from.pos,n=t.$to.pos;r.nodesBetween(e,n,(function(t,r,i,o){t.isBlock&&(!s||r>=e&&r+t.content.size+2<=n)&&a.push(t)}))})),a},dR=function(t,e){var r,n,i=t.attrs.style;i&&e.forEach((function(t){n={style:t.name,value:/^.+$/,newValue:t.value},r=HD(i,n),i=r.changed?r.style:i}));return i=i||e.reduce((function(t,e){return(t&&e.value?t+" ":"")+e.value?e.name+": "+e.value+";":""}),""),Object.assign({},t.attrs,{style:i||null})},fR=function(t,e){var r=t.selection,n=r.from,i=r.to,o=!1;return t.doc.nodesBetween(n,i,(function(t){return!(o=o||t.type===e)})),o},gR=function(t){var e=function(t){var e=pR(t),r=t.schema.nodes,n=[];return e.forEach((function(t){t.type===r.paragraph?n.push("p"):t.type===r.heading?n.push("h"+t.attrs.level):t.type===r.blockquote&&r.blockquote.isTextblock&&n.push("blockquote")})),n}(t);return 1===new Set(e).size?e[0]:null},mR=function(t,e){return function(r,n){var i=pR(r),o=r.tr;o.setMeta("commandName",e),i.forEach((function(e){if(e.type.isTextblock){var r={},n=t.find((function(t){return t.node===e.type.name}));n&&(r=dR(e,n.style)),uR(o,e,e.type,r)}}));var s=o.docChanged;return s&&n(o.scrollIntoView()),s}},yR=function(t,e){var r=pR(t),n=!1;return r.forEach((function(t){if(!n&&t.type.isTextblock&&t.attrs.style){var r=e.find((function(e){return e.node===t.type.name}));r&&(n=r.style.every((function(e){return!!e.value&&new RegExp(e.name+":\\s?"+e.value,"i").test(t.attrs.style)})))}})),n};function vR(t,e){return function(r,n){var i=r.selection,o=i.$from,s=i.$to,a=o.blockRange(s),l=!1,c=a;if(!a)return!1;if(a.depth>=2&&o.node(a.depth-1).type.compatibleContent(t)&&0==a.startIndex){if(0==o.index(a.depth-1))return!1;var h=r.doc.resolve(a.start-2);c=new PI(h,h,a.depth),a.endIndex<a.parent.childCount&&(a=new PI(o,r.doc.resolve(s.end(a.depth)),a.depth)),l=!0}var u=function(t,e,r,n){void 0===n&&(n=t);var i=function(t,e){var r=t.parent,n=t.startIndex,i=t.endIndex,o=r.contentMatchAt(n).findWrapping(e);if(!o)return null;var s=o.length?o[0]:e;return r.canReplaceWith(n,i,s)?o:null}(t,e),o=i&&function(t,e){var r=t.parent,n=t.startIndex,i=t.endIndex,o=r.child(n),s=e.contentMatch.findWrapping(o.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:e).contentMatch,l=n;a&&l<i;l++)a=a.matchType(r.child(l).type);return a&&a.validEnd?s:null}(n,e);return o?i.map(NF).concat({type:e,attrs:r}).concat(o.map(NF)):null}(c,t,e,a);return!!u&&(n&&n(function(t,e,r,n,i){for(var o=sI.empty,s=r.length-1;s>=0;s--)o=sI.from(r[s].type.create(r[s].attrs,o));t.step(new FF(e.start-(n?2:0),e.end,e.start,e.end,new dI(o,0,0),r.length,!0));for(var a=0,l=0;l<r.length;l++)r[l].type==i&&(a=l+1);for(var c=r.length-a,h=e.start+r.length-(n?2:0),u=e.parent,p=e.startIndex,d=e.endIndex,f=!0;p<d;p++,f=!1)!f&&BF(t.doc,h,c)&&(t.split(h,c),h+=2*c),h+=u.child(p).nodeSize;return t}(r.tr,a,u,l,t).scrollIntoView()),!0)}}function bR(t){return function(e,r){var n=e.selection,i=n.$from,o=n.$to,s=i.blockRange(o,(function(e){return e.childCount&&e.firstChild.type==t}));return!!s&&(!r||(i.node(s.depth-1).type==t?function(t,e,r,n){var i=t.tr,o=n.end,s=n.$to.end(n.depth);o<s&&(i.step(new FF(o-1,s,o,s,new dI(sI.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new PI(i.doc.resolve(n.$from.pos),i.doc.resolve(s),n.depth));return e(i.lift(n,LF(n)).scrollIntoView()),!0}(e,r,t,s):function(t,e,r){for(var n=t.tr,i=r.parent,o=r.end,s=r.endIndex-1,a=r.startIndex;s>a;s--)o-=i.child(s).nodeSize,n.delete(o-1,o+1);var l=n.doc.resolve(r.start),c=l.nodeAfter;if(n.mapping.map(r.end)!=r.start+l.nodeAfter.nodeSize)return!1;var h=0==r.startIndex,u=r.endIndex==i.childCount,p=l.node(-1),d=l.index(-1);if(!p.canReplace(d+(h?0:1),d+1,c.content.append(u?sI.empty:sI.from(i))))return!1;var f=l.pos,g=f+c.nodeSize;return n.step(new FF(f-(h?1:0),g+(u?1:0),f+1,g-1,new dI((h?sI.empty:sI.from(i.copy(sI.empty))).append(u?sI.empty:sI.from(i.copy(sI.empty))),h?0:1,u?0:1),h?0:1)),e(n.scrollIntoView()),!0}(e,r,s)))}}function wR(t){return function(e,r){var n=e.selection,i=n.$from,o=n.$to,s=i.blockRange(o,(function(e){return e.childCount&&e.firstChild.type==t}));if(!s)return!1;var a=s.startIndex;if(0==a)return!1;var l=s.parent,c=l.child(a-1);if(c.type!=t)return!1;if(r){var h=c.lastChild&&c.lastChild.type==l.type,u=sI.from(h?t.create():null),p=new dI(sI.from(t.create(null,sI.from(l.type.create(null,u)))),h?3:1,0),d=s.start,f=s.end;r(e.tr.step(new FF(d-(h?3:1),f,d,f,p,1,!0)).scrollIntoView())}return!0}}var xR={orderedList:"ordered_list",bulletList:"bullet_list",listItem:"list_item"},SR={listType:xR.orderedList,types:UD({},xR)},kR={listType:xR.bulletList,types:UD({},xR)},AR={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"}],listsTypes:UD({},xR)},CR={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"}],listsTypes:UD({},xR)};function _R(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function TR(t,e,r){var n=t.selection.$cursor;if(!n||(r?!r.endOfTextblock("backward",t):n.parentOffset>0))return!1;var i=ER(n);if(!i){var o=n.blockRange(),s=o&&LF(o);return null!=s&&(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)}var a=i.nodeBefore;if(!a.type.spec.isolating&&jR(t,i,e))return!0;if(0==n.parent.content.size&&(OR(a,"end")||cD.isSelectable(a))){var l=qF(t.doc,n.before(),n.after(),dI.empty);if(l.slice.size<l.to-l.from){if(e){var c=t.tr.step(l);c.setSelection(OR(a,"end")?iD.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):cD.create(c.doc,i.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}}return!(!a.isAtom||i.depth!=n.depth-1)&&(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0)}function OR(t,e,r){for(;t;t="start"==e?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(r&&1!=t.childCount)return!1}return!1}function MR(t,e,r){var n=t.selection,i=n.$head,o=i;if(!n.empty)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):i.parentOffset>0)return!1;o=ER(i)}var s=o&&o.nodeBefore;return!(!s||!cD.isSelectable(s))&&(e&&e(t.tr.setSelection(cD.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)}function ER(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function PR(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}function IR(t,e){var r=t.selection,n=r.$head,i=r.$anchor;return!(!n.parent.type.spec.code||!n.sameParent(i))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function FR(t){for(var e=0;e<t.edgeCount;e++){var r=t.edge(e).type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function DR(t,e){var r=t.selection,n=r.$head,i=r.$anchor;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;var o=n.node(-1),s=n.indexAfter(-1),a=FR(o.contentMatchAt(s));if(!o.canReplaceWith(s,s,a))return!1;if(e){var l=n.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(iD.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0}function RR(t,e){var r=t.selection,n=r.$from,i=r.$to;if(r instanceof uD||n.parent.inlineContent||i.parent.inlineContent)return!1;var o=FR(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){var s=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(aD.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}function LR(t,e){var r=t.selection.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var n=r.before();if(BF(t.doc,n))return e&&e(t.tr.split(n).scrollIntoView()),!0}var i=r.blockRange(),o=i&&LF(i);return null!=o&&(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)}function NR(t,e){var r=t.selection,n=r.$from,i=r.$to;if(t.selection instanceof cD&&t.selection.node.isBlock)return!(!n.parentOffset||!BF(t.doc,n.pos))&&(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(e){var o=i.parentOffset==i.parent.content.size,s=t.tr;(t.selection instanceof aD||t.selection instanceof uD)&&s.deleteSelection();var a=0==n.depth?null:FR(n.node(-1).contentMatchAt(n.indexAfter(-1))),l=o&&a?[{type:a}]:null,c=BF(s.doc,s.mapping.map(n.pos),1,l);if(l||c||!BF(s.doc,s.mapping.map(n.pos),1,a&&[{type:a}])||(l=[{type:a}],c=!0),c&&(s.split(s.mapping.map(n.pos),1,l),!o&&!n.parentOffset&&n.parent.type!=a)){var h=s.mapping.map(n.before()),u=s.doc.resolve(h);n.node(-1).canReplaceWith(u.index(),u.index()+1,a)&&s.setNodeMarkup(s.mapping.map(n.before()),a)}e(s.scrollIntoView())}return!0}function BR(t,e){return NR(t,e&&function(r){var n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();n&&r.ensureMarks(n),e(r)})}function jR(t,e,r){var n,i,o=e.nodeBefore,s=e.nodeAfter;if(o.type.spec.isolating||s.type.spec.isolating)return!1;if(function(t,e,r){var n=e.nodeBefore,i=e.nodeAfter,o=e.index();return!(!(n&&i&&n.type.compatibleContent(i.type))||(!n.content.size&&e.parent.canReplace(o-1,o)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(o,o+1)||!i.isTextblock&&!jF(t.doc,e.pos)||(r&&r(t.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),0)))}(t,e,r))return!0;var a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(n=(i=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&i.matchType(n[0]||s.type).validEnd){if(r){for(var l=e.pos+s.nodeSize,c=sI.empty,h=n.length-1;h>=0;h--)c=sI.from(n[h].create(null,c));c=sI.from(o.copy(c));var u=t.tr.step(new FF(e.pos-1,l,e.pos,l,new dI(c,1,0),n.length,!0)),p=l+2*n.length;jF(u.doc,p)&&u.join(p),r(u.scrollIntoView())}return!0}var d=iD.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),g=f&&LF(f);if(null!=g&&g>=e.depth)return r&&r(t.tr.lift(f,g).scrollIntoView()),!0;if(a&&OR(s,"start",!0)&&OR(o,"end")){for(var m=o,y=[];y.push(m),!m.isTextblock;)m=m.lastChild;for(var v=s,b=1;!v.isTextblock;v=v.firstChild)b++;if(m.canReplace(m.childCount,m.childCount,v.content)){if(r){for(var w=sI.empty,x=y.length-1;x>=0;x--)w=sI.from(y[x].copy(w));r(t.tr.step(new FF(e.pos-y.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new dI(w,y.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function zR(t){return function(e,r){for(var n=e.selection,i=t<0?n.$from:n.$to,o=i.depth;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(r&&r(e.tr.setSelection(aD.create(e.doc,t<0?i.start(o):i.end(o)))),!0)}}var UR=zR(-1),$R=zR(1);function HR(t,e){if(Array.isArray(e)){var r=e;e=function(t){return r.indexOf(t.type.name)>-1}}return function(r,n,i){return t(r,n&&function(t,e){return function(r){if(!r.isGeneric)return t(r);for(var n=[],i=0;i<r.mapping.maps.length;i++){for(var o=r.mapping.maps[i],s=0;s<n.length;s++)n[s]=o.map(n[s]);o.forEach((function(t,e,r,i){return n.push(r,i)}))}for(var a=[],l=0;l<n.length;l+=2)for(var c=n[l],h=n[l+1],u=r.doc.resolve(c),p=u.sharedDepth(h),d=u.node(p),f=u.indexAfter(p),g=u.after(p+1);g<=h;++f){var m=d.maybeChild(f);if(!m)break;if(f&&-1==a.indexOf(g)){var y=d.child(f-1);y.type==m.type&&e(y,m)&&a.push(g)}g+=m.nodeSize}a.sort((function(t,e){return t-e}));for(var v=a.length-1;v>=0;v--)jF(r.doc,a[v])&&r.join(a[v]);t(r)}}(n,e),i)}}function VR(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,r,n){for(var i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}var qR=VR(_R,TR,MR),WR=VR(_R,(function(t,e,r){var n=t.selection.$cursor;if(!n||(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size))return!1;var i=PR(n);if(!i)return!1;var o=i.nodeAfter;if(jR(t,i,e))return!0;if(0==n.parent.content.size&&(OR(o,"start")||cD.isSelectable(o))){var s=qF(t.doc,n.before(),n.after(),dI.empty);if(s.slice.size<s.to-s.from){if(e){var a=t.tr.step(s);a.setSelection(OR(o,"start")?iD.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):cD.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=n.depth-1)&&(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0)}),(function(t,e,r){var n=t.selection,i=n.$head,o=i;if(!n.empty)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;o=PR(i)}var s=o&&o.nodeAfter;return!(!s||!cD.isSelectable(s))&&(e&&e(t.tr.setSelection(cD.create(t.doc,o.pos)).scrollIntoView()),!0)})),XR={Enter:VR(IR,RR,LR,NR),"Mod-Enter":DR,Backspace:qR,"Mod-Backspace":qR,"Shift-Backspace":qR,Delete:WR,"Mod-Delete":WR,"Mod-a":function(t,e){return e&&e(t.tr.setSelection(new uD(t.doc))),!0}},GR={"Ctrl-h":XR.Backspace,"Alt-Backspace":XR["Mod-Backspace"],"Ctrl-d":XR.Delete,"Ctrl-Alt-Backspace":XR["Mod-Delete"],"Alt-Delete":XR["Mod-Delete"],"Alt-d":XR["Mod-Delete"],"Ctrl-a":UR,"Ctrl-e":$R};for(var KR in XR)GR[KR]=XR[KR];var YR=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?GR:XR,JR=function(t,e,r){return function(n,i){var o=pR(n),s=n.tr;s.setMeta("commandName",e),o.forEach((function(e){if(e.type.isTextblock){var n=void 0,i=t.find((function(t){return t.node===e.type.name}));if(i){var o="rtl"===r?i.rtlStyle:i.style,a={name:o,value:i.step>0?""+i.step+i.unit:""};if(e.attrs.style){var l=new RegExp(o+":\\s?(\\d+)"+i.unit,"i"),c=e.attrs.style.match(l);if(c){var h=parseFloat(c[1])+i.step;h=h<=0?"":h,a.value=""+h+(h?i.unit:"")}}n=dR(e,[a])}n&&uR(s,e,e.type,n)}}));var a=s.docChanged;return a&&i(s.scrollIntoView()),a}},ZR=function(t,e,r){var n=pR(t),i=!1;return n.forEach((function(t){if(!i&&t.type.isTextblock&&t.attrs.style){var n=e.find((function(e){return e.node===t.type.name}));if(n){var o="rtl"===r?n.rtlStyle:n.style,s=new RegExp(o+":\\s?\\d+"+n.unit,"i");i=s.test(t.attrs.style)}}})),i},QR=function(t,e){return wR(e)(t)},tL=function(t,e){var r=t.schema.nodes[e.listsTypes.listItem],n=t.schema.nodes[e.listsTypes.orderedList],i=t.schema.nodes[e.listsTypes.bulletList],o=!!qD(n,2)(t.selection),s=!!qD(i,2)(t.selection);return(o||s)&&bR(r)(t)},eL=function(t,e){var r=t.schema.nodes,n=r[AR.listsTypes.listItem];return(ZR(t,e.nodes)||AR.nodes.some((function(e){return r[e.node]&&fR(t,r[e.node])})))&&!fR(t,n)},rL=function(t,e){var r=t.schema.nodes[AR.listsTypes.listItem],n=eL(t,AR);QR(t,r)?wR(r)(t,e):n&&JR(AR.nodes)(t,e)},nL=function(t,e){var r=t.schema.nodes,n=r[CR.listsTypes.listItem],i=eL(t,CR);fR(t,r.blockquote)?function(t,e){var r=t.selection,n=r.$from,i=r.$to,o=t.schema.nodes.blockquote,s=t.doc,a=-1,l=n.blockRange(i);l&&s.nodesBetween(l.start,l.end,(function(t,e,r,n){t.type===o&&(a=e)}));var c=-1!==a;e&&c&&e(t.tr.lift(l,s.resolve(a).depth))}(t,e):tL(t,CR)?bR(n)(t,e):i&&JR(CR.nodes)(t,e)},iL=function(t,e,r){for(var n=e.depth,i=t.nodes[r.bulletList],o=t.nodes[r.orderedList],s=t.nodes[r.listItem],a=e.depth;a>0;a--){var l=e.node(a);if(l.type!==i&&l.type!==o||(n=a),l.type!==i&&l.type!==o&&l.type!==s)break}return n-1};function oL(t){return function(e,r,n){if(!n)return!1;var i=(e=n.state).schema.nodes[t.listType],o=e.selection,s=o.$from,a=o.$to,l=s.node(-2),c=s.node(-3),h=function(t,e,r,n){return 0===function(t,e,r){var n=Array(),i=function(t,e){var r=["blockquote","bulletList","orderedList"];if(1===e.depth)return e;var n=e.node(e.depth),i=e;for(;e.depth>=1;)(n=(e=t.resolve(e.before(e.depth))).node(e.depth))&&-1!==r.indexOf(n.type.name)&&(i=e);return i}(t,e).depth,o=t.resolve(e.start(i));for(;o.pos<=r.start(r.depth);){var s=Math.min(o.depth,i),a=o.node(s);if(a&&n.push(a),0===s)break;var l=t.resolve(o.after(s));if(l.start(s)>=t.nodeSize-2)break;l.depth!==o.depth&&(l=t.resolve(l.pos+2)),o=l.depth?t.resolve(l.start(l.depth)):t.resolve(l.end(l.depth))}return n}(t,e,r).filter((function(t){return t.type!==n})).length}(e.doc,s,a,i);return(l&&l.type===i||c&&c.type===i)&&h?aL(t)(e,r):(h||(aL(t)(e,r),e=n.state),function(t,e){void 0===e&&(e={});return HR(vR(t,e),(function(e,r){return e.type===r.type&&e.type===t}))}(i,t.listAttrs)(e,r))}}function sL(t,e,r,n){var i=n||t.schema.nodes.listItem,o=e.$from,s=e.$to,a=o.blockRange(s,(function(t){return t.childCount&&t.firstChild.type===i}));if(!a||a.depth<2||o.node(a.depth-1).type!==i)return r;var l=a.end,c=s.end(a.depth);return l<c&&(r.step(new FF(l-1,c,l,c,new dI(sI.from(i.create(void 0,a.parent.copy())),1,0),1,!0)),a=new PI(r.doc.resolve(o.pos),r.doc.resolve(c),a.depth)),r.lift(a,LF(a)).scrollIntoView()}function aL(t){return function(e,r){var n=e.tr,i=e.selection,o=i.$from,s=i.$to;return n.doc.nodesBetween(o.pos,s.pos,(function(r,i){if(r.isTextblock||"blockquote"===r.type.name||"div"===r.type.name){var o=new cD(n.doc.resolve(n.mapping.map(i))),s=o.$from.blockRange(o.$to);if(!s||o.$from.parent.type!==e.schema.nodes[t.listItem])return!1;var a=s&&LF(s);if(null==a)return!1;n.lift(s,a)}})),r&&r(n),!0}}var lL=/list\-style\-type:\s?([\w-]+)/,cL=function(t){var e=t.style||"",r=lL.exec(e);return r&&r[1]||""},hL=function(t,e,r,n,i){var o=n.listType,s=n.listAttrs,a=void 0===s?{style:null}:s,l=t.selection,c=l.$from.node(l.$from.depth-2),h=l.$to.node(l.$to.depth-2);if(c&&c.type.name===o&&cL(c.attrs)===cL(a)&&h&&h.type.name===o&&cL(h.attrs)===cL(a)){var u=r.state.schema.nodes,p={bulletList:u[n.bulletList],orderedList:u[n.orderedList],listItem:u[n.listItem]},d=function(t,e){for(var r,n=e.bulletList,i=e.orderedList,o=e.listItem,s=t.depth-1;s>0;s--){var a=t.node(s);if(a.type!==n&&a.type!==i||(r=s),a.type!==n&&a.type!==i&&a.type!==o)break}return r}(l.$to,p),f=function(t,e,r,n,i,o){o||(o=t.schema.nodes.listItem);var s=!1;return i.doc.nodesBetween(e,r,(function(r,a){if(!s&&r.type===o&&a>e){s=!0;for(var l=n+3;l>n+2;){var c=i.doc.resolve(i.mapping.map(a));l=c.depth;var h=i.doc.resolve(i.mapping.map(a+r.textContent.length)),u=new aD(c,h);i=sL(t,u,i,o)}}})),i}(t,l.$to.pos,l.$to.end(d),d,r.state.tr,p.listItem);return f=function(t,e,r){var n=t.selection,i=n.from,o=n.to,s=t.schema.nodes,a=s.paragraph,l=s.heading,c=[];e.doc.nodesBetween(i,o,(function(t,e){t.type!==a&&t.type!==l||c.push({node:t,pos:e})}));for(var h=c.length-1;h>=0;h--){var u=c[h],p=e.doc.resolve(e.mapping.map(u.pos));if(p.depth>0){var d=void 0;d=u.node.textContent&&u.node.textContent.length>0?e.doc.resolve(e.mapping.map(u.pos+u.node.textContent.length)):e.doc.resolve(e.mapping.map(u.pos+1));var f=p.blockRange(d);f&&e.lift(f,iL(t.schema,p,r))}}return e}(t,f,n),f.setMeta("commandName",i),e(f),!0}return oL(n)(t,e,r)};function uL(t,e,r){return hL(t,e,r,UD({listType:kR.listType},kR.types))}function pL(t,e,r){return hL(t,e,r,UD({listType:SR.listType},SR.types))}for(var dL=function(t){return function(e,r){return function(t){return function(e,r){var n=e.selection,i=n.$from,o=n.$to,s=n.node;if(s&&s.isBlock||i.depth<2||!i.sameParent(o))return!1;var a=i.node(-1);if(a.type!=t)return!1;if(0==i.parent.content.size&&i.node(-1).childCount==i.indexAfter(-1)){if(2==i.depth||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(r){for(var l=sI.empty,c=i.index(-1)?1:i.index(-2)?2:3,h=i.depth-c;h>=i.depth-3;h--)l=sI.from(i.node(h).copy(l));var u=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;l=l.append(sI.from(t.createAndFill()));var p=i.before(i.depth-(c-1)),d=e.tr.replace(p,i.after(-u),new dI(l,4-c,0)),f=-1;d.doc.nodesBetween(p,d.doc.content.size,(function(t,e){if(f>-1)return!1;t.isTextblock&&0==t.content.size&&(f=e+1)})),f>-1&&d.setSelection(e.selection.constructor.near(d.doc.resolve(f))),r(d.scrollIntoView())}return!0}var g=o.pos==i.end()?a.contentMatchAt(0).defaultType:null,m=e.tr.delete(i.pos,o.pos),y=g&&[null,{type:g}];return!!BF(m.doc,i.pos,2,y)&&(r&&r(m.split(i.pos,2,y).scrollIntoView()),!0)}}(t)(e,(function(t){var n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();n&&t.ensureMarks(n),r(t)}))}},fL=function(t,e){return{name:t,value:e}},gL=[{node:"paragraph",style:[fL("text-align","left")]},{node:"heading",style:[fL("text-align","left")]}],mL=[{node:"paragraph",style:[fL("text-align","right")]},{node:"heading",style:[fL("text-align","right")]}],yL=[{node:"paragraph",style:[fL("text-align","center")]},{node:"heading",style:[fL("text-align","center")]}],vL=[{node:"paragraph",style:[fL("text-align","justify")]},{node:"heading",style:[fL("text-align","justify")]}],bL=[{node:"paragraph",style:[fL("text-align","")]},{node:"heading",style:[fL("text-align","")]}],wL={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},xL={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},SL="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),kL="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),AL="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),CL="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),_L="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),TL=SL&&(CL||+SL[1]<57)||AL&&CL,OL=0;OL<10;OL++)wL[48+OL]=wL[96+OL]=String(OL);for(OL=1;OL<=24;OL++)wL[OL+111]="F"+OL;for(OL=65;OL<=90;OL++)wL[OL]=String.fromCharCode(OL+32),xL[OL]=String.fromCharCode(OL);for(var ML in wL)xL.hasOwnProperty(ML)||(xL[ML]=wL[ML]);var EL="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function PL(t){var e,r,n,i,o=t.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(var a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))e=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))n=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);EL?i=!0:r=!0}}return e&&(s="Alt-"+s),r&&(s="Ctrl-"+s),i&&(s="Meta-"+s),n&&(s="Shift-"+s),s}function IL(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==r&&e.shiftKey&&(t="Shift-"+t),t}function FL(t){return new AD({props:{handleKeyDown:DL(t)}})}function DL(t){var e=function(t){var e=Object.create(null);for(var r in t)e[PL(r)]=t[r];return e}(t);return function(t,r){var n,i=function(t){var e=!(TL&&(t.ctrlKey||t.altKey||t.metaKey)||(kL||_L)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?xL:wL)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(r),o=1==i.length&&" "!=i,s=e[IL(i,r,!o)];if(s&&s(t.state,t.dispatch,t))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(n=wL[r.keyCode])&&n!=i){var a=e[IL(n,r,!0)];if(a&&a(t.state,t.dispatch,t))return!0}else if(o&&r.shiftKey){var l=e[IL(i,r,!0)];if(l&&l(t.state,t.dispatch,t))return!0}return!1}}var RL={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var LL=/Edge\/(\d+)/.exec(navigator.userAgent),NL=/MSIE \d/.test(navigator.userAgent),BL=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),jL=RL.ie=!!(NL||BL||LL);RL.ie_version=NL?document.documentMode||6:BL?+BL[1]:LL?+LL[1]:null,RL.gecko=!jL&&/gecko\/(\d+)/i.test(navigator.userAgent),RL.gecko_version=RL.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var zL=!jL&&/Chrome\/(\d+)/.exec(navigator.userAgent);RL.chrome=!!zL,RL.chrome_version=zL&&+zL[1],RL.safari=!jL&&/Apple Computer/.test(navigator.vendor),RL.ios=RL.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),RL.mac=RL.ios||/Mac/.test(navigator.platform),RL.android=/Android \d/.test(navigator.userAgent),RL.webkit="webkitFontSmoothing"in document.documentElement.style,RL.webkit_version=RL.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var UL=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},$L=function(t){var e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e},HL=null,VL=function(t,e,r){var n=HL||(HL=document.createRange());return n.setEnd(t,null==r?t.nodeValue.length:r),n.setStart(t,e||0),n},qL=function(t,e,r,n){return r&&(XL(t,e,r,n,-1)||XL(t,e,r,n,1))},WL=/^(img|br|input|textarea|hr)$/i;function XL(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:GL(t))){var o=t.parentNode;if(!o||1!=o.nodeType||KL(t)||WL.test(t.nodeName)||"false"==t.contentEditable)return!1;e=UL(t)+(i<0?0:1),t=o}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?GL(t):0}}}function GL(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function KL(t){for(var e,r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var YL=function(t){var e=t.isCollapsed;return e&&RL.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function JL(t,e){var r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function ZL(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function QL(t,e){return"number"==typeof t?t:t[e]}function tN(t){var e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function eN(t,e,r){for(var n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument,s=r||t.dom;s;s=$L(s))if(1==s.nodeType){var a=s==o.body||1!=s.nodeType,l=a?ZL(o):tN(s),c=0,h=0;if(e.top<l.top+QL(n,"top")?h=-(l.top-e.top+QL(i,"top")):e.bottom>l.bottom-QL(n,"bottom")&&(h=e.bottom-l.bottom+QL(i,"bottom")),e.left<l.left+QL(n,"left")?c=-(l.left-e.left+QL(i,"left")):e.right>l.right-QL(n,"right")&&(c=e.right-l.right+QL(i,"right")),c||h)if(a)o.defaultView.scrollBy(c,h);else{var u=s.scrollLeft,p=s.scrollTop;h&&(s.scrollTop+=h),c&&(s.scrollLeft+=c);var d=s.scrollLeft-u,f=s.scrollTop-p;e={left:e.left-d,top:e.top-f,right:e.right-d,bottom:e.bottom-f}}if(a)break}}function rN(t){for(var e=[],r=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=r);t=$L(t));return e}function nN(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=n.dom,o=n.top,s=n.left;i.scrollTop!=o+e&&(i.scrollTop=o+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}var iN=null;function oN(t,e){for(var r,n,i=2e8,o=0,s=e.top,a=e.top,l=t.firstChild,c=0;l;l=l.nextSibling,c++){var h=void 0;if(1==l.nodeType)h=l.getClientRects();else{if(3!=l.nodeType)continue;h=VL(l).getClientRects()}for(var u=0;u<h.length;u++){var p=h[u];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);var d=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(d<i){r=l,i=d,n=d&&3==r.nodeType?{left:p.right<e.left?p.right:p.left,top:e.top}:e,1==l.nodeType&&d&&(o=c+(e.left>=(p.left+p.right)/2?1:0));continue}}!r&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(o=c+1)}}return r&&3==r.nodeType?function(t,e){for(var r=t.nodeValue.length,n=document.createRange(),i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);var o=cN(n,1);if(o.top!=o.bottom&&sN(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}(r,n):!r||i&&1==r.nodeType?{node:t,offset:o}:oN(r,n)}function sN(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function aN(t,e,r){var n=t.childNodes.length;if(n&&r.top<r.bottom)for(var i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),o=i;;){var s=t.childNodes[o];if(1==s.nodeType)for(var a=s.getClientRects(),l=0;l<a.length;l++){var c=a[l];if(sN(e,c))return aN(s,e,c)}if((o=(o+1)%n)==i)break}return t}function lN(t,e){var r,n,i,o,s=t.dom.ownerDocument;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(i=(r=a).offsetNode,o=r.offset)}catch(t){}if(!i&&s.caretRangeFromPoint){var l=s.caretRangeFromPoint(e.left,e.top);l&&(i=(n=l).startContainer,o=n.startOffset)}var c,h=(t.root.elementFromPoint?t.root:s).elementFromPoint(e.left,e.top+1);if(!h||!t.dom.contains(1!=h.nodeType?h.parentNode:h)){var u=t.dom.getBoundingClientRect();if(!sN(e,u))return null;if(!(h=aN(t.dom,e,u)))return null}if(RL.safari)for(var p=h;i&&p;p=$L(p))p.draggable&&(i=o=null);if(h=function(t,e){var r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}(h,e),i){if(RL.gecko&&1==i.nodeType&&(o=Math.min(o,i.childNodes.length))<i.childNodes.length){var d,f=i.childNodes[o];"IMG"==f.nodeName&&(d=f.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&o++}i==t.dom&&o==i.childNodes.length-1&&1==i.lastChild.nodeType&&e.top>i.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:0!=o&&1==i.nodeType&&"BR"==i.childNodes[o-1].nodeName||(c=function(t,e,r,n){for(var i=-1,o=e;o!=t.dom;){var s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>n.left||a.top>n.top)i=s.posBefore;else{if(!(a.right<n.left||a.bottom<n.top))break;i=s.posAfter}}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r)}(t,i,o,e))}null==c&&(c=function(t,e,r){var n=oN(e,r),i=n.node,o=n.offset,s=-1;if(1==i.nodeType&&!i.firstChild){var a=i.getBoundingClientRect();s=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(i,o,s)}(t,h,e));var g=t.docView.nearestDesc(h,!0);return{pos:c,inside:g?g.posAtStart-g.border:-1}}function cN(t,e){var r=t.getClientRects();return r.length?r[e<0?0:r.length-1]:t.getBoundingClientRect()}var hN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function uN(t,e,r){var n=t.docView.domFromPos(e,r<0?-1:1),i=n.node,o=n.offset,s=RL.webkit||RL.gecko;if(3==i.nodeType){if(!s||!hN.test(i.nodeValue)&&(r<0?o:o!=i.nodeValue.length)){var a=o,l=o,c=r<0?1:-1;return r<0&&!o?(l++,c=-1):r>=0&&o==i.nodeValue.length?(a--,c=1):r<0?a--:l++,pN(cN(VL(i,a,l),c),c<0)}var h=cN(VL(i,o,o),r);if(RL.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var u=cN(VL(i,o-1,o-1),-1);if(u.top==h.top){var p=cN(VL(i,o,o+1),-1);if(p.top!=h.top)return pN(p,p.left<u.left)}}return h}if(!t.state.doc.resolve(e).parent.inlineContent){if(o&&(r<0||o==GL(i))){var d=i.childNodes[o-1];if(1==d.nodeType)return dN(d.getBoundingClientRect(),!1)}if(o<GL(i)){var f=i.childNodes[o];if(1==f.nodeType)return dN(f.getBoundingClientRect(),!0)}return dN(i.getBoundingClientRect(),r>=0)}if(o&&(r<0||o==GL(i))){var g=i.childNodes[o-1],m=3==g.nodeType?VL(g,GL(g)-(s?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(m)return pN(cN(m,1),!1)}if(o<GL(i)){for(var y=i.childNodes[o];y.pmViewDesc&&y.pmViewDesc.ignoreForCoords;)y=y.nextSibling;var v=y?3==y.nodeType?VL(y,0,s?0:1):1==y.nodeType?y:null:null;if(v)return pN(cN(v,-1),!0)}return pN(cN(3==i.nodeType?VL(i):i,-r),r>=0)}function pN(t,e){if(0==t.width)return t;var r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function dN(t,e){if(0==t.height)return t;var r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function fN(t,e,r){var n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}var gN=/[\u0590-\u08ac]/;var mN=null,yN=null,vN=!1;function bN(t,e,r){return mN==e&&yN==r?vN:(mN=e,yN=r,vN="up"==r||"down"==r?function(t,e,r){var n=e.selection,i="up"==r?n.$from:n.$to;return fN(t,e,(function(){for(var e=t.docView.domFromPos(i.pos,"up"==r?-1:1).node;;){var n=t.docView.nearestDesc(e,!0);if(!n)break;if(n.node.isBlock){e=n.dom;break}e=n.dom.parentNode}for(var o=uN(t,i.pos,1),s=e.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=VL(s,0,s.nodeValue.length).getClientRects()}for(var l=0;l<a.length;l++){var c=a[l];if(c.bottom>c.top+1&&("up"==r?o.top-c.top>2*(c.bottom-o.top):c.bottom-o.bottom>2*(o.bottom-c.top)))return!1}}return!0}))}(t,e,r):function(t,e,r){var n=e.selection.$head;if(!n.parent.isTextblock)return!1;var i=n.parentOffset,o=!i,s=i==n.parent.content.size,a=t.root.getSelection();return gN.test(n.parent.textContent)&&a.modify?fN(t,e,(function(){var e=a.getRangeAt(0),i=a.focusNode,o=a.focusOffset,s=a.caretBidiLevel;a.modify("move",r,"character");var l=!(n.depth?t.docView.domAfterPos(n.before()):t.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||i==a.focusNode&&o==a.focusOffset;return a.removeAllRanges(),a.addRange(e),null!=s&&(a.caretBidiLevel=s),l})):"left"==r||"backward"==r?o:s}(t,e,r))}var wN=function(t,e,r,n){this.parent=t,this.children=e,this.dom=r,r.pmViewDesc=this,this.contentDOM=n,this.dirty=0},xN={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};wN.prototype.matchesWidget=function(){return!1},wN.prototype.matchesMark=function(){return!1},wN.prototype.matchesNode=function(){return!1},wN.prototype.matchesHack=function(t){return!1},wN.prototype.parseRule=function(){return null},wN.prototype.stopEvent=function(){return!1},xN.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},xN.border.get=function(){return 0},wN.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},wN.prototype.posBeforeChild=function(t){for(var e=0,r=this.posAtStart;e<this.children.length;e++){var n=this.children[e];if(n==t)return r;r+=n.size}},xN.posBefore.get=function(){return this.parent.posBeforeChild(this)},xN.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},xN.posAfter.get=function(){return this.posBefore+this.size},xN.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},wN.prototype.localPosFromDOM=function(t,e,r){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(r<0){var n,i;if(t==this.contentDOM)n=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.previousSibling}for(;n&&(!(i=n.pmViewDesc)||i.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(i)+i.size:this.posAtStart}var o,s;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&(!(s=o.pmViewDesc)||s.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}var a;if(t==this.dom&&this.contentDOM)a=e>UL(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var l=t;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.parentNode.firstChild!=l)break}if(null==a&&e==t.childNodes.length)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==a?r>0:a)?this.posAtEnd:this.posAtStart},wN.prototype.nearestDesc=function(t,e){for(var r=!0,n=t;n;n=n.parentNode){var i=this.getDesc(n);if(i&&(!e||i.node)){if(!r||!i.nodeDOM||(1==i.nodeDOM.nodeType?i.nodeDOM.contains(1==t.nodeType?t:t.parentNode):i.nodeDOM==t))return i;r=!1}}},wN.prototype.getDesc=function(t){for(var e=t.pmViewDesc,r=e;r;r=r.parent)if(r==this)return e},wN.prototype.posFromDOM=function(t,e,r){for(var n=t;n;n=n.parentNode){var i=this.getDesc(n);if(i)return i.localPosFromDOM(t,e,r)}return-1},wN.prototype.descAt=function(t){for(var e=0,r=0;e<this.children.length;e++){var n=this.children[e],i=r+n.size;if(r==t&&i!=r){for(;!n.border&&n.children.length;)n=n.children[0];return n}if(t<i)return n.descAt(t-r-n.border);r=i}},wN.prototype.domFromPos=function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var r=0,n=0,i=0;r<this.children.length;r++){var o=this.children[r],s=i+o.size;if(s>t||o instanceof MN){n=t-i;break}i=s}if(n)return this.children[r].domFromPos(n-this.children[r].border,e);for(var a=void 0;r&&!(a=this.children[r-1]).size&&a instanceof kN&&a.widget.type.side>=0;r--);if(e<=0){for(var l,c=!0;(l=r?this.children[r-1]:null)&&l.dom.parentNode!=this.contentDOM;r--,c=!1);return l&&e&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,e):{node:this.contentDOM,offset:l?UL(l.dom)+1:0}}for(var h,u=!0;(h=r<this.children.length?this.children[r]:null)&&h.dom.parentNode!=this.contentDOM;r++,u=!1);return h&&u&&!h.border&&!h.domAtom?h.domFromPos(0,e):{node:this.contentDOM,offset:h?UL(h.dom):this.contentDOM.childNodes.length}},wN.prototype.parseRange=function(t,e,r){if(void 0===r&&(r=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var n=-1,i=-1,o=r,s=0;;s++){var a=this.children[s],l=o+a.size;if(-1==n&&t<=l){var c=o+a.border;if(t>=c&&e<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,c);t=o;for(var h=s;h>0;h--){var u=this.children[h-1];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(1)){n=UL(u.dom)+1;break}t-=u.size}-1==n&&(n=0)}if(n>-1&&(l>e||s==this.children.length-1)){e=l;for(var p=s+1;p<this.children.length;p++){var d=this.children[p];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=UL(d.dom);break}e+=d.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:t,to:e,fromOffset:n,toOffset:i}},wN.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},wN.prototype.domAfterPos=function(t){var e=this.domFromPos(t,0),r=e.node,n=e.offset;if(1!=r.nodeType||n==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[n]},wN.prototype.setSelection=function(t,e,r,n){for(var i=Math.min(t,e),o=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var l=this.children[s],c=a+l.size;if(i>a&&o<c)return l.setSelection(t-a-l.border,e-a-l.border,r,n);a=c}var h=this.domFromPos(t,t?-1:1),u=e==t?h:this.domFromPos(e,e?-1:1),p=r.getSelection(),d=!1;if((RL.gecko||RL.safari)&&t==e){var f=h.node,g=h.offset;if(3==f.nodeType){if((d=g&&"\n"==f.nodeValue[g-1])&&g==f.nodeValue.length)for(var m=f,y=void 0;m;m=m.parentNode){if(y=m.nextSibling){"BR"==y.nodeName&&(h=u={node:y.parentNode,offset:UL(y)+1});break}var v=m.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{var b=f.childNodes[g-1];d=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(RL.gecko&&p.focusNode&&p.focusNode!=u.node&&1==p.focusNode.nodeType){var w=p.focusNode.childNodes[p.focusOffset];w&&"false"==w.contentEditable&&(n=!0)}if(n||d&&RL.safari||!qL(h.node,h.offset,p.anchorNode,p.anchorOffset)||!qL(u.node,u.offset,p.focusNode,p.focusOffset)){var x=!1;if((p.extend||t==e)&&!d){p.collapse(h.node,h.offset);try{t!=e&&p.extend(u.node,u.offset),x=!0}catch(t){if(!(t instanceof DOMException))throw t}}if(!x){if(t>e){var S=h;h=u,u=S}var k=document.createRange();k.setEnd(u.node,u.offset),k.setStart(h.node,h.offset),p.removeAllRanges(),p.addRange(k)}}},wN.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},xN.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},wN.prototype.markDirty=function(t,e){for(var r=0,n=0;n<this.children.length;n++){var i=this.children[n],o=r+i.size;if(r==o?t<=o&&e>=r:t<o&&e>r){var s=r+i.border,a=o-i.border;if(t>=s&&e<=a)return this.dirty=t==r||e==o?2:1,void(t!=s||e!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-s,e-s):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}r=o}this.dirty=2},wN.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var r=1==t?2:1;e.dirty<r&&(e.dirty=r)}},xN.domAtom.get=function(){return!1},xN.ignoreForCoords.get=function(){return!1},Object.defineProperties(wN.prototype,xN);var SN=[],kN=function(t){function e(e,r,n,i){var o,s=r.type.toDOM;if("function"==typeof s&&(s=s(n,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:i}))),!r.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,SN,s,null),this.widget=r,o=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={domAtom:{configurable:!0}};return e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},e.prototype.destroy=function(){this.widget.type.destroy(this.dom),t.prototype.destroy.call(this)},r.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,r),e}(wN),AN=function(t){function e(e,r,n,i){t.call(this,e,SN,r,null),this.textDOM=n,this.text=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={size:{configurable:!0}};return r.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,r),e}(wN),CN=function(t){function e(e,r,n,i){t.call(this,e,[],n,i),this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,r,n,i){var o=i.nodeViews[r.type.name],s=o&&o(r,i,n);return s&&s.dom||(s=mF.renderSpec(document,r.type.spec.toDOM(r,n))),new e(t,r,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,r){if(t.prototype.markDirty.call(this,e,r),0!=this.dirty){for(var n=this.parent;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,r,n){var i=e.create(this.parent,this.mark,!0,n),o=this.children,s=this.size;r<s&&(o=$N(o,r,s,n)),t>0&&(o=$N(o,0,t,n));for(var a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i},e}(wN),_N=function(t){function e(e,r,n,i,o,s,a,l,c){t.call(this,e,r.isLeaf?SN:[],o,s),this.nodeDOM=a,this.node=r,this.outerDeco=n,this.innerDeco=i,s&&this.updateChildren(l,c)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(t,r,n,i,o,s){var a,l,c=o.nodeViews[r.type.name],h=c&&c(r,o,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:s}),n,i),u=h&&h.dom,p=h&&h.contentDOM;if(r.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(r.text);else u||(u=(a=mF.renderSpec(document,r.type.spec.toDOM(r))).dom,p=a.contentDOM);p||r.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable=!1),r.type.spec.draggable&&(u.draggable=!0));var d=u;return u=NN(u,n,r),h?l=new EN(t,r,n,i,u,p,d,h,o,s+1):r.isText?new ON(t,r,n,i,u,d,o):new e(t,r,n,i,u,p,d,o,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(var r=this.children.length-1;r>=0;r--){var n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=function(){return sI.empty})}else e.contentElement=this.contentDOM;else e.getContent=function(){return t.node.content};return e},e.prototype.matchesNode=function(t,e,r){return 0==this.dirty&&t.eq(this.node)&&BN(e,this.outerDeco)&&r.eq(this.innerDeco)},r.size.get=function(){return this.node.nodeSize},r.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var r=this,n=this.node.inlineContent,i=e,o=t.composing&&this.localCompositionInfo(t,e),s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new zN(this,s&&s.node);!function(t,e,r,n){var i=e.locals(t),o=0;if(0==i.length){for(var s=0;s<t.childCount;s++){var a=t.child(s);n(a,i,e.forChild(o,a),s),o+=a.nodeSize}return}for(var l=0,c=[],h=null,u=0;;){if(l<i.length&&i[l].to==o){for(var p=i[l++],d=void 0;l<i.length&&i[l].to==o;)(d||(d=[p])).push(i[l++]);if(d){d.sort(UN);for(var f=0;f<d.length;f++)r(d[f],u,!!h)}else r(p,u,!!h)}var g=void 0,m=void 0;if(h)m=-1,g=h,h=null;else{if(!(u<t.childCount))break;m=u,g=t.child(u++)}for(var y=0;y<c.length;y++)c[y].to<=o&&c.splice(y--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)c.push(i[l++]);var v=o+g.nodeSize;if(g.isText){var b=v;l<i.length&&i[l].from<b&&(b=i[l].from);for(var w=0;w<c.length;w++)c[w].to<b&&(b=c[w].to);b<v&&(h=g.cut(b-o),g=g.cut(0,b-o),v=b,m=-1)}n(g,c.length?g.isInline&&!g.isLeaf?c.filter((function(t){return!t.inline})):c.slice():SN,e.forChild(o,g),m),o=v}}(this.node,this.innerDeco,(function(e,o,s){e.spec.marks?l.syncToMarks(e.spec.marks,n,t):e.type.side>=0&&!s&&l.syncToMarks(o==r.node.childCount?uI.none:r.node.child(o).marks,n,t),l.placeWidget(e,t,i)}),(function(e,r,s,c){var h;l.syncToMarks(e.marks,n,t),l.findNodeMatch(e,r,s,c)||a&&t.state.selection.from>i&&t.state.selection.to<i+e.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(e,r,s,h,t)||l.updateNextNode(e,r,s,t,c)||l.addNode(e,r,s,t,i),i+=e.nodeSize})),l.syncToMarks(SN,n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(t,s),PN(this.contentDOM,this.children,t),RL.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))},e.prototype.localCompositionInfo=function(t,e){var r=t.state.selection,n=r.from,i=r.to;if(!(!(t.state.selection instanceof aD)||n<e||i>e+this.node.content.size)){var o=t.root.getSelection(),s=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];e=GL(t=t.childNodes[e-1])}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(o.focusNode,o.focusOffset);if(s&&this.dom.contains(s.parentNode)){if(this.node.inlineContent){var a=s.nodeValue,l=function(t,e,r,n){for(var i=0,o=0;i<t.childCount&&o<=n;){var s=t.child(i++),a=o;if(o+=s.nodeSize,s.isText){for(var l=s.text;i<t.childCount;){var c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=r){var h=a<n?l.lastIndexOf(e,n-a-1):-1;if(h>=0&&h+e.length+a>=r)return a+h;if(r==n&&l.length>=n+e.length-a&&l.slice(n-a,n-a+e.length)==e)return n}}}return-1}(this.node.content,a,n-e,i-e);return l<0?null:{node:s,pos:l,text:a}}return{node:s,pos:-1}}}},e.prototype.protectLocalComposition=function(t,e){var r=e.node,n=e.pos,i=e.text;if(!this.getDesc(r)){for(var o=r;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var s=new AN(this,o,r,i);t.compositionNodes.push(s),this.children=$N(this.children,n,n+i.length,t,s)}},e.prototype.update=function(t,e,r,n){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,r,n),!0)},e.prototype.updateInner=function(t,e,r,n){this.updateOuterDeco(e),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(n,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!BN(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,r=this.dom;this.dom=RN(this.dom,this.nodeDOM,DN(this.outerDeco,this.node,e),DN(t,this.node,e)),this.dom!=r&&(r.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},r.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,r),e}(wN);function TN(t,e,r,n,i){return NN(n,e,t),new _N(null,t,e,r,n,n,n,i,0)}var ON=function(t){function e(e,r,n,i,o,s,a){t.call(this,e,r,n,i,o,null,s,a)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,r,n){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,n.trackWrites==this.nodeDOM&&(n.trackWrites=null)),this.node=t,this.dirty=0,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,r,n)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,r,n){var i=this.node.cut(t,r),o=document.createTextNode(i.text);return new e(this.parent,i,this.outerDeco,this.innerDeco,o,o,n)},e.prototype.markDirty=function(e,r){t.prototype.markDirty.call(this,e,r),this.dom==this.nodeDOM||0!=e&&r!=this.nodeDOM.nodeValue.length||(this.dirty=3)},r.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,r),e}(_N),MN=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(t){return 0==this.dirty&&this.dom.nodeName==t},r.domAtom.get=function(){return!0},r.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(e.prototype,r),e}(wN),EN=function(t){function e(e,r,n,i,o,s,a,l,c,h){t.call(this,e,r,n,i,o,s,a,c,h),this.spec=l}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,r,n,i){if(3==this.dirty)return!1;if(this.spec.update){var o=this.spec.update(e,r,n);return o&&this.updateInner(e,r,n,i),o}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,r,n,i)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n):t.prototype.setSelection.call(this,e,r,n,i)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(_N);function PN(t,e,r){for(var n=t.firstChild,i=!1,o=0;o<e.length;o++){var s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=n;)n=jN(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(a,n);if(s instanceof CN){var l=n?n.previousSibling:t.lastChild;PN(s.contentDOM,s.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=jN(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}function IN(t){t&&(this.nodeName=t)}IN.prototype=Object.create(null);var FN=[new IN];function DN(t,e,r){if(0==t.length)return FN;for(var n=r?FN[0]:new IN,i=[n],o=0;o<t.length;o++){var s=t[o].type.attrs;if(s)for(var a in s.nodeName&&i.push(n=new IN(s.nodeName)),s){var l=s[a];null!=l&&(r&&1==i.length&&i.push(n=new IN(e.isInline?"span":"div")),"class"==a?n.class=(n.class?n.class+" ":"")+l:"style"==a?n.style=(n.style?n.style+";":"")+l:"nodeName"!=a&&(n[a]=l))}}return i}function RN(t,e,r,n){if(r==FN&&n==FN)return e;for(var i=e,o=0;o<n.length;o++){var s=n[o],a=r[o];if(o){var l=void 0;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.tagName.toLowerCase()==s.nodeName||((l=document.createElement(s.nodeName)).pmIsDeco=!0,l.appendChild(i),a=FN[0]),i=l}LN(i,a||FN[0],s)}return i}function LN(t,e,r){for(var n in e)"class"==n||"style"==n||"nodeName"==n||n in r||t.removeAttribute(n);for(var i in r)"class"!=i&&"style"!=i&&"nodeName"!=i&&r[i]!=e[i]&&t.setAttribute(i,r[i]);if(e.class!=r.class){for(var o=e.class?e.class.split(" ").filter(Boolean):SN,s=r.class?r.class.split(" ").filter(Boolean):SN,a=0;a<o.length;a++)-1==s.indexOf(o[a])&&t.classList.remove(o[a]);for(var l=0;l<s.length;l++)-1==o.indexOf(s[l])&&t.classList.add(s[l]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style)for(var c,h=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=h.exec(e.style);)t.style.removeProperty(c[1]);r.style&&(t.style.cssText+=r.style)}}function NN(t,e,r){return RN(t,t,FN,DN(e,r,1!=t.nodeType))}function BN(t,e){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function jN(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var zN=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(t,e){var r=e,n=r.children.length,i=t.childCount,o=new Map,s=[];t:for(;i>0;){for(var a=void 0;;)if(n){var l=r.children[n-1];if(!(l instanceof CN)){a=l,n--;break}r=l,n=l.children.length}else{if(r==e)break t;n=r.parent.children.indexOf(r),r=r.parent}var c=a.node;if(c){if(c!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}(t.node.content,t)};function UN(t,e){return t.type.side-e.type.side}function $N(t,e,r,n,i){for(var o=[],s=0,a=0;s<t.length;s++){var l=t[s],c=a,h=a+=l.size;c>=r||h<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,n)),i&&(o.push(i),i=null),h>r&&o.push(l.slice(r-c,l.size,n)))}return o}function HN(t,e){var r=t.root.getSelection(),n=t.state.doc;if(!r.focusNode)return null;var i=t.docView.nearestDesc(r.focusNode),o=i&&0==i.size,s=t.docView.posFromDOM(r.focusNode,r.focusOffset);if(s<0)return null;var a,l,c=n.resolve(s);if(YL(r)){for(a=c;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&cD.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function(t,e,r){for(var n=0==e,i=e==GL(t);n||i;){if(t==r)return!0;var o=UL(t);if(!(t=t.parentNode))return!1;n=n&&0==o,i=i&&o==GL(t)}}(r.focusNode,r.focusOffset,i.dom))){var h=i.posBefore;l=new cD(s==h?c:n.resolve(h))}}else{var u=t.docView.posFromDOM(r.anchorNode,r.anchorOffset);if(u<0)return null;a=n.resolve(u)}l||(l=ZN(t,a,c,"pointer"==e||t.state.selection.head<c.pos&&!o?1:-1));return l}function VN(t){return t.editable?t.hasFocus():QN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function qN(t,e){var r=t.state.selection;if(YN(t,r),VN(t)){if(!e&&t.mouseDown&&t.mouseDown.allowDefault&&RL.chrome){var n=t.root.getSelection(),i=t.domObserver.currentSelection;if(n.anchorNode&&qL(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset))return t.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),r=document.createRange(),n=t.cursorWrapper.dom,i="IMG"==n.nodeName;i?r.setEnd(n.parentNode,UL(n)+1):r.setEnd(n,0);r.collapse(!1),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&RL.ie&&RL.ie_version<=11&&(n.disabled=!0,n.disabled=!1)}(t);else{var o,s,a=r.anchor,l=r.head;!WN||r instanceof aD||(r.$from.parent.inlineContent||(o=XN(t,r.from)),r.empty||r.$from.parent.inlineContent||(s=XN(t,r.to))),t.docView.setSelection(a,l,t.root,e),WN&&(o&&KN(o),s&&KN(s)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var r=t.root.getSelection(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){r.anchorNode==n&&r.anchorOffset==i||(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout((function(){VN(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}zN.prototype.destroyBetween=function(t,e){if(t!=e){for(var r=t;r<e;r++)this.top.children[r].destroy();this.top.children.splice(t,e-t),this.changed=!0}},zN.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},zN.prototype.syncToMarks=function(t,e,r){for(var n=0,i=this.stack.length>>1,o=Math.min(i,t.length);n<o&&(n==i-1?this.top:this.stack[n+1<<1]).matchesMark(t[n])&&!1!==t[n].type.spec.spanning;)n++;for(;n<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[i])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var l=CN.create(this.top,t[i],e,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}},zN.prototype.findNodeMatch=function(t,e,r,n){var i,o=-1;if(n>=this.preMatch.index&&(i=this.preMatch.matches[n-this.preMatch.index]).parent==this.top&&i.matchesNode(t,e,r))o=this.top.children.indexOf(i,this.index);else for(var s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){var l=this.top.children[s];if(l.matchesNode(t,e,r)&&!this.preMatch.matched.has(l)){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},zN.prototype.updateNodeAt=function(t,e,r,n,i){return!!this.top.children[n].update(t,e,r,i)&&(this.destroyBetween(this.index,n),this.index=n+1,!0)},zN.prototype.findIndexWithChild=function(t){for(;;){var e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var r=t.pmViewDesc;if(r)for(var n=this.index;n<this.top.children.length;n++)if(this.top.children[n]==r)return n;return-1}t=e}},zN.prototype.updateNextNode=function(t,e,r,n,i){for(var o=this.index;o<this.top.children.length;o++){var s=this.top.children[o];if(s instanceof _N){var a=this.preMatch.matched.get(s);if(null!=a&&a!=i)return!1;var l=s.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&3!=s.dirty&&BN(e,s.outerDeco)))&&s.update(t,e,r,n))return this.destroyBetween(this.index,o),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},zN.prototype.addNode=function(t,e,r,n,i){this.top.children.splice(this.index++,0,_N.create(this.top,t,e,r,n,i)),this.changed=!0},zN.prototype.placeWidget=function(t,e,r){var n=this.index<this.top.children.length?this.top.children[this.index]:null;if(!n||!n.matchesWidget(t)||t!=n.widget&&n.widget.type.toDOM.parentNode){var i=new kN(this.top,t,e,r);this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++},zN.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof CN;)t=t.children[t.children.length-1];t&&t instanceof ON&&!/\n$/.test(t.node.text)||((RL.safari||RL.chrome)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},zN.prototype.addHackNode=function(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var e=document.createElement(t);"IMG"==t&&(e.className="ProseMirror-separator",e.alt=""),"BR"==t&&(e.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new MN(this.top,SN,e,null)),this.changed=!0}};var WN=RL.safari||RL.chrome&&RL.chrome_version<63;function XN(t,e){var r=t.docView.domFromPos(e,0),n=r.node,i=r.offset,o=i<n.childNodes.length?n.childNodes[i]:null,s=i?n.childNodes[i-1]:null;if(RL.safari&&o&&"false"==o.contentEditable)return GN(o);if(!(o&&"false"!=o.contentEditable||s&&"false"!=s.contentEditable)){if(o)return GN(o);if(s)return GN(s)}}function GN(t){return t.contentEditable="true",RL.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function KN(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function YN(t,e){if(e instanceof cD){var r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(JN(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else JN(t)}function JN(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function ZN(t,e,r,n){return t.someProp("createSelectionBetween",(function(n){return n(t,e,r)}))||aD.between(e,r,n)}function QN(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function tB(t,e){var r=t.selection,n=r.$anchor,i=r.$head,o=e>0?n.max(i):n.min(i),s=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return s&&iD.findFrom(s,e)}function eB(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function rB(t,e,r){var n=t.state.selection;if(!(n instanceof aD)){if(n instanceof cD&&n.node.isInline)return eB(t,new aD(e>0?n.$to:n.$from));var i=tB(t.state,e);return!!i&&eB(t,i)}if(!n.empty||r.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var o=tB(t.state,e);return!!(o&&o instanceof cD)&&eB(t,o)}if(!(RL.mac&&r.indexOf("m")>-1)){var s,a=n.$head,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText)return!1;var c=e<0?a.pos-l.nodeSize:a.pos;return!!(l.isAtom||(s=t.docView.descAt(c))&&!s.contentDOM)&&(cD.isSelectable(l)?eB(t,new cD(e<0?t.state.doc.resolve(a.pos-l.nodeSize):a)):!!RL.webkit&&eB(t,new aD(t.state.doc.resolve(e<0?c:c+l.nodeSize))))}}function nB(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function iB(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function oB(t){var e=t.root.getSelection(),r=e.focusNode,n=e.focusOffset;if(r){var i,o,s=!1;for(RL.gecko&&1==r.nodeType&&n<nB(r)&&iB(r.childNodes[n])&&(s=!0);;)if(n>0){if(1!=r.nodeType)break;var a=r.childNodes[n-1];if(iB(a))i=r,o=--n;else{if(3!=a.nodeType)break;n=(r=a).nodeValue.length}}else{if(aB(r))break;for(var l=r.previousSibling;l&&iB(l);)i=r.parentNode,o=UL(l),l=l.previousSibling;if(l)n=nB(r=l);else{if((r=r.parentNode)==t.dom)break;n=0}}s?lB(t,e,r,n):i&&lB(t,e,i,o)}}function sB(t){var e=t.root.getSelection(),r=e.focusNode,n=e.focusOffset;if(r){for(var i,o,s=nB(r);;)if(n<s){if(1!=r.nodeType)break;if(!iB(r.childNodes[n]))break;i=r,o=++n}else{if(aB(r))break;for(var a=r.nextSibling;a&&iB(a);)i=a.parentNode,o=UL(a)+1,a=a.nextSibling;if(a)n=0,s=nB(r=a);else{if((r=r.parentNode)==t.dom)break;n=s=0}}i&&lB(t,e,i,o)}}function aB(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function lB(t,e,r,n){if(YL(e)){var i=document.createRange();i.setEnd(r,n),i.setStart(r,n),e.removeAllRanges(),e.addRange(i)}else e.extend&&e.extend(r,n);t.domObserver.setCurSelection();var o=t.state;setTimeout((function(){t.state==o&&qN(t)}),50)}function cB(t,e,r){var n=t.state.selection;if(n instanceof aD&&!n.empty||r.indexOf("s")>-1)return!1;if(RL.mac&&r.indexOf("m")>-1)return!1;var i=n.$from,o=n.$to;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=tB(t.state,e);if(s&&s instanceof cD)return eB(t,s)}if(!i.parent.inlineContent){var a=e<0?i:o,l=n instanceof uD?iD.near(a,e):iD.findFrom(a,e);return!!l&&eB(t,l)}return!1}function hB(t,e){if(!(t.state.selection instanceof aD))return!0;var r=t.state.selection,n=r.$head,i=r.$anchor,o=r.empty;if(!n.sameParent(i))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function uB(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function pB(t,e){var r=e.keyCode,n=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==r||RL.mac&&72==r&&"c"==n?hB(t,-1)||oB(t):46==r||RL.mac&&68==r&&"c"==n?hB(t,1)||sB(t):13==r||27==r||(37==r?rB(t,-1,n)||oB(t):39==r?rB(t,1,n)||sB(t):38==r?cB(t,-1,n)||oB(t):40==r?function(t){if(RL.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),r=e.focusNode,n=e.focusOffset;if(r&&1==r.nodeType&&0==n&&r.firstChild&&"false"==r.firstChild.contentEditable){var i=r.firstChild;uB(t,i,!0),setTimeout((function(){return uB(t,i,!1)}),20)}}}(t)||cB(t,1,n)||sB(t):n==(RL.mac?"m":"c")&&(66==r||73==r||89==r||90==r))}function dB(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(RL.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}if(t.parentNode.lastChild==t||RL.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function fB(t,e,r,n,i){if(e<0){var o=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,s=HN(t,o);if(s&&!t.state.selection.eq(s)){var a=t.state.tr.setSelection(s);"pointer"==o?a.setMeta("pointer",!0):"key"==o&&a.scrollIntoView(),t.dispatch(a)}}else{var l=t.state.doc.resolve(e),c=l.sharedDepth(r);e=l.before(c+1),r=t.state.doc.resolve(r).after(c+1);var h=t.state.selection,u=function(t,e,r){var n=t.docView.parseRange(e,r),i=n.node,o=n.fromOffset,s=n.toOffset,a=n.from,l=n.to,c=t.root.getSelection(),h=null,u=c.anchorNode;if(u&&t.dom.contains(1==u.nodeType?u:u.parentNode)&&(h=[{node:u,offset:c.anchorOffset}],YL(c)||h.push({node:c.focusNode,offset:c.focusOffset})),RL.chrome&&8===t.lastKeyCode)for(var p=s;p>o;p--){var d=i.childNodes[p-1],f=d.pmViewDesc;if("BR"==d.nodeName&&!f){s=p;break}if(!f||f.size)break}var g=t.state.doc,m=t.someProp("domParser")||oF.fromSchema(t.state.schema),y=g.resolve(a),v=null,b=m.parse(i,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:o,to:s,preserveWhitespace:"pre"!=y.parent.type.whitespace||"full",editableContent:!0,findPositions:h,ruleFromNode:dB,context:y});if(h&&null!=h[0].pos){var w=h[0].pos,x=h[1]&&h[1].pos;null==x&&(x=w),v={anchor:w+a,head:x+a}}return{doc:b,sel:v,from:a,to:l}}(t,e,r);if(RL.chrome&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from){var p=t.cursorWrapper.deco.type.toDOM.nextSibling,d=p&&p.nodeValue?p.nodeValue.length:1;u.sel={anchor:u.sel.anchor+d,head:u.sel.anchor+d}}var f,g,m=t.state.doc,y=m.slice(u.from,u.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(f=t.state.selection.to,g="end"):(f=t.state.selection.from,g="start"),t.lastKeyCode=null;var v=function(t,e,r,n,i){var o=t.findDiffStart(e,r);if(null==o)return null;var s=t.findDiffEnd(e,r+t.size,r+e.size),a=s.a,l=s.b;if("end"==i){n-=a+Math.max(0,o-Math.min(a,l))-o}if(a<o&&t.size<e.size){l=(o-=n<=o&&n>=a?o-n:0)+(l-a),a=o}else if(l<o){a=(o-=n<=o&&n>=l?o-n:0)+(a-l),l=o}return{start:o,endA:a,endB:l}}(y.content,u.doc.content,u.from,f,g);if((RL.ios&&t.lastIOSEnter>Date.now()-225||RL.android)&&i.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",(function(e){return e(t,JL(13,"Enter"))})))t.lastIOSEnter=0;else{if(!v){if(!(n&&h instanceof aD&&!h.empty&&h.$head.sameParent(h.$anchor))||t.composing||u.sel&&u.sel.anchor!=u.sel.head){if(u.sel){var b=gB(t,t.state.doc,u.sel);b&&!b.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(b))}return}v={start:h.from,endA:h.to,endB:h.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof aD&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),RL.ie&&RL.ie_version<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>u.from&&"  "==u.doc.textBetween(v.start-u.from-1,v.start-u.from+1)&&(v.start--,v.endA--,v.endB--);var w,x=u.doc.resolveNoCache(v.start-u.from),S=u.doc.resolveNoCache(v.endB-u.from),k=x.sameParent(S)&&x.parent.inlineContent;if((RL.ios&&t.lastIOSEnter>Date.now()-225&&(!k||i.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!k&&x.pos<u.doc.content.size&&(w=iD.findFrom(u.doc.resolve(x.pos+1),1,!0))&&w.head==S.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,JL(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>v.start&&function(t,e,r,n,i){if(!n.parent.isTextblock||r-e<=i.pos-n.pos||mB(n,!0,!1)<i.pos)return!1;var o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var s=t.resolve(mB(o,!0,!0));if(!s.parent.isTextblock||s.pos>r||mB(s,!0,!1)<r)return!1;return n.parent.content.cut(n.parentOffset).eq(s.parent.content)}(m,v.start,v.endA,x,S)&&t.someProp("handleKeyDown",(function(e){return e(t,JL(8,"Backspace"))})))RL.android&&RL.chrome&&t.domObserver.suppressSelectionUpdates();else{RL.chrome&&RL.android&&v.toB==v.from&&(t.lastAndroidDelete=Date.now()),RL.android&&!k&&x.start()!=S.start()&&0==S.parentOffset&&x.depth==S.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==v.endA&&(v.endB-=2,S=u.doc.resolveNoCache(v.endB-u.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,JL(13,"Enter"))}))}),20));var A,C,_,T,O=v.start,M=v.endA;if(k)if(x.pos==S.pos)RL.ie&&RL.ie_version<=11&&0==x.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return qN(t)}),20)),A=t.state.tr.delete(O,M),C=m.resolve(v.start).marksAcross(m.resolve(v.endA));else if(v.endA==v.endB&&(T=m.resolve(v.start))&&(_=function(t,e){for(var r,n,i,o=t.firstChild.marks,s=e.firstChild.marks,a=o,l=s,c=0;c<s.length;c++)a=s[c].removeFromSet(a);for(var h=0;h<o.length;h++)l=o[h].removeFromSet(l);if(1==a.length&&0==l.length)n=a[0],r="add",i=function(t){return t.mark(n.addToSet(t.marks))};else{if(0!=a.length||1!=l.length)return null;n=l[0],r="remove",i=function(t){return t.mark(n.removeFromSet(t.marks))}}for(var u=[],p=0;p<e.childCount;p++)u.push(i(e.child(p)));if(sI.from(u).eq(t))return{mark:n,type:r}}(x.parent.content.cut(x.parentOffset,S.parentOffset),T.parent.content.cut(T.parentOffset,v.endA-T.start()))))A=t.state.tr,"add"==_.type?A.addMark(O,M,_.mark):A.removeMark(O,M,_.mark);else if(x.parent.child(x.index()).isText&&x.index()==S.index()-(S.textOffset?0:1)){var E=x.parent.textBetween(x.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,O,M,E)})))return;A=t.state.tr.insertText(E,O,M)}if(A||(A=t.state.tr.replace(O,M,u.doc.slice(v.start-u.from,v.endB-u.from))),u.sel){var P=gB(t,A.doc,u.sel);P&&!(RL.chrome&&RL.android&&t.composing&&P.empty&&(v.start!=v.endB||t.lastAndroidDelete<Date.now()-100)&&(P.head==O||P.head==A.mapping.map(M)-1)||RL.ie&&P.empty&&P.head==O)&&A.setSelection(P)}C&&A.ensureMarks(C),t.dispatch(A.scrollIntoView())}}}}function gB(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:ZN(t,e.resolve(r.anchor),e.resolve(r.head))}function mB(t,e,r){for(var n=t.depth,i=e?t.end():t.pos;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r)for(var o=t.node(n).maybeChild(t.indexAfter(n));o&&!o.isLeaf;)o=o.firstChild,i++;return i}function yB(t,e){for(var r=[],n=e.content,i=e.openStart,o=e.openEnd;i>1&&o>1&&1==n.childCount&&1==n.firstChild.childCount;){i--,o--;var s=n.firstChild;r.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),n=s.content}var a=t.someProp("clipboardSerializer")||mF.fromSchema(t.state.schema),l=TB(),c=l.createElement("div");c.appendChild(a.serializeFragment(n,{document:l}));for(var h,u=c.firstChild;u&&1==u.nodeType&&(h=CB[u.nodeName.toLowerCase()]);){for(var p=h.length-1;p>=0;p--){for(var d=l.createElement(h[p]);c.firstChild;)d.appendChild(c.firstChild);c.appendChild(d),"tbody"!=h[p]&&(i++,o++)}u=c.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",i+" "+o+" "+JSON.stringify(r)),{dom:c,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function vB(t,e,r,n,i){var o,s,a=i.parent.type.spec.code;if(!r&&!e)return null;var l=e&&(n||a||!r);if(l){if(t.someProp("transformPastedText",(function(t){e=t(e,a||n)})),a)return e?new dI(sI.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):dI.empty;var c=t.someProp("clipboardTextParser",(function(t){return t(e,i,n)}));if(c)s=c;else{var h=i.marks(),u=t.state.schema,p=mF.fromSchema(u);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach((function(t){var e=o.appendChild(document.createElement("p"));t&&e.appendChild(p.serializeNode(u.text(t,h)))}))}}else t.someProp("transformPastedHTML",(function(t){r=t(r)})),o=function(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var r,n=TB().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);(r=i&&CB[i[1].toLowerCase()])&&(t=r.map((function(t){return"<"+t+">"})).join("")+t+r.map((function(t){return"</"+t+">"})).reverse().join(""));if(n.innerHTML=t,r)for(var o=0;o<r.length;o++)n=n.querySelector(r[o])||n;return n}(r),RL.webkit&&function(t){for(var e=t.querySelectorAll(RL.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),r=0;r<e.length;r++){var n=e[r];1==n.childNodes.length&&" "==n.textContent&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}(o);var d=o&&o.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+) (.*)/.exec(d.getAttribute("data-pm-slice"));if(!s){var g=t.someProp("clipboardParser")||t.someProp("domParser")||oF.fromSchema(t.state.schema);s=g.parseSlice(o,{preserveWhitespace:!(!l&&!f),context:i,ruleFromNode:function(t){if("BR"==t.nodeName&&!t.nextSibling&&t.parentNode&&!bB.test(t.parentNode.nodeName))return{ignore:!0}}})}if(f)s=function(t,e){if(!t.size)return t;var r,n=t.content.firstChild.type.schema;try{r=JSON.parse(e)}catch(e){return t}for(var i=t.content,o=t.openStart,s=t.openEnd,a=r.length-2;a>=0;a-=2){var l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=sI.from(l.create(r[a+1],i)),o++,s++}return new dI(i,o,s)}(AB(s,+f[1],+f[2]),f[3]);else if(s=dI.maxOpen(function(t,e){if(t.childCount<2)return t;for(var r=function(r){var n=e.node(r).contentMatchAt(e.index(r)),i=void 0,o=[];if(t.forEach((function(t){if(o){var e,r=n.findWrapping(t.type);if(!r)return o=null;if(e=o.length&&i.length&&xB(r,i,t,o[o.length-1],0))o[o.length-1]=e;else{o.length&&(o[o.length-1]=SB(o[o.length-1],i.length));var s=wB(t,r);o.push(s),n=n.matchType(s.type,s.attrs),i=r}}})),o)return{v:sI.from(o)}},n=e.depth;n>=0;n--){var i=r(n);if(i)return i.v}return t}(s.content,i),!0),s.openStart||s.openEnd){for(var m=0,y=0,v=s.content.firstChild;m<s.openStart&&!v.type.spec.isolating;m++,v=v.firstChild);for(var b=s.content.lastChild;y<s.openEnd&&!b.type.spec.isolating;y++,b=b.lastChild);s=AB(s,m,y)}return t.someProp("transformPasted",(function(t){s=t(s)})),s}var bB=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function wB(t,e,r){void 0===r&&(r=0);for(var n=e.length-1;n>=r;n--)t=e[n].create(null,sI.from(t));return t}function xB(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){var o=xB(t,e,r,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(sI.from(wB(r,t,i+1))))}}function SB(t,e){if(0==e)return t;var r=t.content.replaceChild(t.childCount-1,SB(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(sI.empty,!0);return t.copy(r.append(n))}function kB(t,e,r,n,i,o){var s=e<0?t.firstChild:t.lastChild,a=s.content;return i<n-1&&(a=kB(a,e,r,n,i+1,o)),i>=r&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(sI.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function AB(t,e,r){return e<t.openStart&&(t=new dI(kB(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new dI(kB(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}var CB={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},_B=null;function TB(){return _B||(_B=document.implementation.createHTMLDocument("title"))}var OB={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},MB=RL.ie&&RL.ie_version<=11,EB=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};EB.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},EB.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var PB=function(t,e){var r=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)r.queue.push(t[e]);RL.ie&&RL.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?r.flushSoon():r.flush()})),this.currentSelection=new EB,MB&&(this.onCharData=function(t){r.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),r.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};PB.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))},PB.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},PB.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,OB),MB&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},PB.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}MB&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},PB.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},PB.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},PB.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},PB.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&QN(t)){var t;if(this.suppressingSelectionUpdates)return qN(this.view);if(RL.ie&&RL.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&qL(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},PB.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},PB.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(e);return r&&r.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},PB.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&QN(this.view)&&!this.ignoreSelectionChange(e),n=-1,i=-1,o=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var l=this.registerMutation(t[a],s);l&&(n=n<0?l.from:Math.min(l.from,n),i=i<0?l.to:Math.max(l.to,i),l.typeOver&&(o=!0))}if(RL.gecko&&s.length>1){var c=s.filter((function(t){return"BR"==t.nodeName}));if(2==c.length){var h=c[0],u=c[1];h.parentNode&&h.parentNode.parentNode==u.parentNode?u.remove():h.remove()}}(n>-1||r)&&(n>-1&&(this.view.docView.markDirty(n,i),function(t){if(IB)return;IB=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(n,i,o,s),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||qN(this.view),this.currentSelection.set(e))}},PB.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var r=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(r==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!r||r.ignoreMutation(t))return null;if("childList"==t.type){for(var n=0;n<t.addedNodes.length;n++)e.push(t.addedNodes[n]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};var i=t.previousSibling,o=t.nextSibling;if(RL.ie&&RL.ie_version<=11&&t.addedNodes.length)for(var s=0;s<t.addedNodes.length;s++){var a=t.addedNodes[s],l=a.previousSibling,c=a.nextSibling;(!l||Array.prototype.indexOf.call(t.addedNodes,l)<0)&&(i=l),(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(o=c)}var h=i&&i.parentNode==t.target?UL(i)+1:0,u=r.localPosFromDOM(t.target,h,-1),p=o&&o.parentNode==t.target?UL(o):t.target.childNodes.length;return{from:u,to:r.localPosFromDOM(t.target,p,1)}}return"attributes"==t.type?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var IB=!1;var FB={},DB={};function RB(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function LB(t){t.someProp("handleDOMEvents",(function(e){for(var r in e)t.eventHandlers[r]||t.dom.addEventListener(r,t.eventHandlers[r]=function(e){return NB(t,e)})}))}function NB(t,e){return t.someProp("handleDOMEvents",(function(r){var n=r[e.type];return!!n&&(n(t,e)||e.defaultPrevented)}))}function BB(t){return{left:t.clientX,top:t.clientY}}function jB(t,e,r,n,i){if(-1==n)return!1;for(var o=t.state.doc.resolve(n),s=function(n){if(t.someProp(e,(function(e){return n>o.depth?e(t,r,o.nodeAfter,o.before(n),i,!0):e(t,r,o.node(n),o.before(n),i,!1)})))return{v:!0}},a=o.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return!1}function zB(t,e,r){t.focused||t.focus();var n=t.state.tr.setSelection(e);"pointer"==r&&n.setMeta("pointer",!0),t.dispatch(n)}function UB(t,e,r,n,i){return jB(t,"handleClickOn",e,r,n)||t.someProp("handleClick",(function(r){return r(t,e,n)}))||(i?function(t,e){if(-1==e)return!1;var r,n,i=t.state.selection;i instanceof cD&&(r=i.node);for(var o=t.state.doc.resolve(e),s=o.depth+1;s>0;s--){var a=s>o.depth?o.nodeAfter:o.node(s);if(cD.isSelectable(a)){n=r&&i.$from.depth>0&&s>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(s);break}}return null!=n&&(zB(t,cD.create(t.state.doc,n),"pointer"),!0)}(t,r):function(t,e){if(-1==e)return!1;var r=t.state.doc.resolve(e),n=r.nodeAfter;return!!(n&&n.isAtom&&cD.isSelectable(n))&&(zB(t,new cD(r),"pointer"),!0)}(t,r))}function $B(t,e,r,n){return jB(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",(function(r){return r(t,e,n)}))}function HB(t,e,r,n){return jB(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",(function(r){return r(t,e,n)}))||function(t,e,r){if(0!=r.button)return!1;var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(zB(t,aD.create(n,0,n.content.size),"pointer"),!0);for(var i=n.resolve(e),o=i.depth+1;o>0;o--){var s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)zB(t,aD.create(n,a+1,a+1+s.content.size),"pointer");else{if(!cD.isSelectable(s))continue;zB(t,cD.create(n,a),"pointer")}return!0}}(t,r,n)}function VB(t){return JB(t)}DB.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!XB(t,e)&&(t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!RL.android||!RL.chrome||13!=e.keyCode))if(229!=e.keyCode&&t.domObserver.forceFlush(),!RL.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",(function(r){return r(t,e)}))||pB(t,e)?e.preventDefault():RB(t,"key");else{var r=Date.now();t.lastIOSEnter=r,t.lastIOSEnterFallbackTimeout=setTimeout((function(){t.lastIOSEnter==r&&(t.someProp("handleKeyDown",(function(e){return e(t,JL(13,"Enter"))})),t.lastIOSEnter=0)}),200)}},DB.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},DB.keypress=function(t,e){if(!(XB(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||RL.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(r){return r(t,e)})))e.preventDefault();else{var r=t.state.selection;if(!(r instanceof aD&&r.$from.sameParent(r.$to))){var n=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,r.$from.pos,r.$to.pos,n)}))||t.dispatch(t.state.tr.insertText(n).scrollIntoView()),e.preventDefault()}}};var qB=RL.mac?"metaKey":"ctrlKey";FB.mousedown=function(t,e){t.shiftKey=e.shiftKey;var r=VB(t),n=Date.now(),i="singleClick";n-t.lastClick.time<500&&function(t,e){var r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}(e,t.lastClick)&&!e[qB]&&("singleClick"==t.lastClick.type?i="doubleClick":"doubleClick"==t.lastClick.type&&(i="tripleClick")),t.lastClick={time:n,x:e.clientX,y:e.clientY,type:i};var o=t.posAtCoords(BB(e));o&&("singleClick"==i?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new WB(t,o,e,r)):("doubleClick"==i?$B:HB)(t,o.pos,o.inside,e)?e.preventDefault():RB(t,"pointer"))};var WB=function(t,e,r,n){var i,o,s=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=r,this.flushed=n,this.selectNode=r[qB],this.allowDefault=r.shiftKey,this.delayedSelectionSync=!1,e.inside>-1)i=t.state.doc.nodeAt(e.inside),o=e.inside;else{var a=t.state.doc.resolve(e.pos);i=a.parent,o=a.depth?a.before():0}this.mightDrag=null;var l=n?null:r.target,c=l?t.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;var h=t.state.selection;(0==r.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||h instanceof cD&&h.from<=o&&h.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&RL.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),RB(t,"pointer")};function XB(t,e){return!!t.composing||!!(RL.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}WB.prototype.done=function(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return qN(t.view)})),this.view.mouseDown=null},WB.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(BB(t))),this.allowDefault||!e?RB(this.view,"pointer"):UB(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||RL.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||RL.chrome&&!(this.view.state.selection instanceof aD)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(zB(this.view,iD.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):RB(this.view,"pointer")}},WB.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),RB(this.view,"pointer"),0==t.buttons&&this.done()},FB.touchdown=function(t){VB(t),RB(t,"pointer")},FB.contextmenu=function(t){return VB(t)};var GB=RL.android?5e3:-1;function KB(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return JB(t)}),e))}function YB(t){for(t.composing&&(t.composing=!1,t.compositionEndedAt=function(){var t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}());t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty()}function JB(t,e){if(!(RL.android&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),YB(t),e||t.docView&&t.docView.dirty){var r=HN(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):t.updateState(t.state),!0}return!1}}DB.compositionstart=DB.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,r=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||r.marks(),JB(t,!0),t.markCursor=null;else if(JB(t),RL.gecko&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length)for(var n=t.root.getSelection(),i=n.focusNode,o=n.focusOffset;i&&1==i.nodeType&&0!=o;){var s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(3==s.nodeType){n.collapse(s,s.nodeValue.length);break}i=s,o=-1}t.composing=!0}KB(t,GB)},DB.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,KB(t,20))};var ZB=RL.ie&&RL.ie_version<15||RL.ios&&RL.webkit_version<604;function QB(t,e,r,n){var i=vB(t,e,r,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(function(e){return e(t,n,i||dI.empty)})))return!0;if(!i)return!1;var o=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(i),s=o?t.state.tr.replaceSelectionWith(o,t.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}FB.copy=DB.cut=function(t,e){var r=t.state.selection,n="cut"==e.type;if(!r.empty){var i=ZB?null:e.clipboardData,o=yB(t,r.content()),s=o.dom,a=o.text;i?(e.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",a)):function(t,e){if(t.dom.parentNode){var r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";var n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout((function(){r.parentNode&&r.parentNode.removeChild(r),t.focus()}),50)}}(t,s),n&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},DB.paste=function(t,e){if(!t.composing||RL.android){var r=ZB?null:e.clipboardData;r&&QB(t,r.getData("text/plain"),r.getData("text/html"),e)?e.preventDefault():function(t,e){if(t.dom.parentNode){var r=t.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((function(){t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?QB(t,n.value,null,e):QB(t,n.textContent,n.innerHTML,e)}),50)}}(t,e)}};var tj=function(t,e){this.slice=t,this.move=e},ej=RL.mac?"altKey":"ctrlKey";for(var rj in FB.dragstart=function(t,e){var r=t.mouseDown;if(r&&r.done(),e.dataTransfer){var n=t.state.selection,i=n.empty?null:t.posAtCoords(BB(e));if(i&&i.pos>=n.from&&i.pos<=(n instanceof cD?n.to-1:n.to));else if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(cD.create(t.state.doc,r.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var o=t.docView.nearestDesc(e.target,!0);o&&o.node.type.spec.draggable&&o!=t.docView&&t.dispatch(t.state.tr.setSelection(cD.create(t.state.doc,o.posBefore)))}var s=t.state.selection.content(),a=yB(t,s),l=a.dom,c=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(ZB?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",ZB||e.dataTransfer.setData("text/plain",c),t.dragging=new tj(s,!e[ej])}},FB.dragend=function(t){var e=t.dragging;window.setTimeout((function(){t.dragging==e&&(t.dragging=null)}),50)},DB.dragover=DB.dragenter=function(t,e){return e.preventDefault()},DB.drop=function(t,e){var r=t.dragging;if(t.dragging=null,e.dataTransfer){var n=t.posAtCoords(BB(e));if(n){var i=t.state.doc.resolve(n.pos);if(i){var o=r&&r.slice;o?t.someProp("transformPasted",(function(t){o=t(o)})):o=vB(t,e.dataTransfer.getData(ZB?"Text":"text/plain"),ZB?null:e.dataTransfer.getData("text/html"),!1,i);var s=r&&!e[ej];if(t.someProp("handleDrop",(function(r){return r(t,e,o||dI.empty,s)})))e.preventDefault();else if(o){e.preventDefault();var a=o?UF(t.state.doc,i.pos,o):i.pos;null==a&&(a=i.pos);var l=t.state.tr;s&&l.deleteSelection();var c=l.mapping.map(a),h=0==o.openStart&&0==o.openEnd&&1==o.content.childCount,u=l.doc;if(h?l.replaceRangeWith(c,c,o.content.firstChild):l.replaceRange(c,c,o),!l.doc.eq(u)){var p=l.doc.resolve(c);if(h&&cD.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new cD(p));else{var d=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((function(t,e,r,n){return d=n})),l.setSelection(ZN(t,p,l.doc.resolve(d)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}}}}}},FB.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&qN(t)}),20))},FB.blur=function(t,e){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),e.relatedTarget&&t.dom.contains(e.relatedTarget)&&t.domObserver.currentSelection.set({}),t.focused=!1)},FB.beforeinput=function(t,e){if(RL.chrome&&RL.android&&"deleteContentBackward"==e.inputType){t.domObserver.flushSoon();var r=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==r&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,JL(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},DB)FB[rj]=DB[rj];function nj(t,e){if(t==e)return!0;for(var r in t)if(t[r]!==e[r])return!1;for(var n in e)if(!(n in t))return!1;return!0}var ij=function(t,e){this.spec=e||hj,this.side=this.spec.side||0,this.toDOM=t};ij.prototype.map=function(t,e,r,n){var i=t.mapResult(e.from+n,this.side<0?-1:1),o=i.pos;return i.deleted?null:new aj(o-r,o-r,this)},ij.prototype.valid=function(){return!0},ij.prototype.eq=function(t){return this==t||t instanceof ij&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&nj(this.spec,t.spec))},ij.prototype.destroy=function(t){this.spec.destroy&&this.spec.destroy(t)};var oj=function(t,e){this.spec=e||hj,this.attrs=t};oj.prototype.map=function(t,e,r,n){var i=t.map(e.from+n,this.spec.inclusiveStart?-1:1)-r,o=t.map(e.to+n,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new aj(i,o,this)},oj.prototype.valid=function(t,e){return e.from<e.to},oj.prototype.eq=function(t){return this==t||t instanceof oj&&nj(this.attrs,t.attrs)&&nj(this.spec,t.spec)},oj.is=function(t){return t.type instanceof oj};var sj=function(t,e){this.spec=e||hj,this.attrs=t};sj.prototype.map=function(t,e,r,n){var i=t.mapResult(e.from+n,1);if(i.deleted)return null;var o=t.mapResult(e.to+n,-1);return o.deleted||o.pos<=i.pos?null:new aj(i.pos-r,o.pos-r,this)},sj.prototype.valid=function(t,e){var r,n=t.content.findIndex(e.from),i=n.index,o=n.offset;return o==e.from&&!(r=t.child(i)).isText&&o+r.nodeSize==e.to},sj.prototype.eq=function(t){return this==t||t instanceof sj&&nj(this.attrs,t.attrs)&&nj(this.spec,t.spec)};var aj=function(t,e,r){this.from=t,this.to=e,this.type=r},lj={spec:{configurable:!0},inline:{configurable:!0}};aj.prototype.copy=function(t,e){return new aj(t,e,this.type)},aj.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},aj.prototype.map=function(t,e,r){return this.type.map(t,this,e,r)},aj.widget=function(t,e,r){return new aj(t,t,new ij(e,r))},aj.inline=function(t,e,r,n){return new aj(t,e,new oj(r,n))},aj.node=function(t,e,r,n){return new aj(t,e,new sj(r,n))},lj.spec.get=function(){return this.type.spec},lj.inline.get=function(){return this.type instanceof oj},Object.defineProperties(aj.prototype,lj);var cj=[],hj={},uj=function(t,e){this.local=t&&t.length?t:cj,this.children=e&&e.length?e:cj};uj.create=function(t,e){return e.length?yj(e,t,0,hj):pj},uj.prototype.find=function(t,e,r){var n=[];return this.findInner(null==t?0:t,null==e?1e9:e,n,0,r),n},uj.prototype.findInner=function(t,e,r,n,i){for(var o=0;o<this.local.length;o++){var s=this.local[o];s.from<=e&&s.to>=t&&(!i||i(s.spec))&&r.push(s.copy(s.from+n,s.to+n))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var l=this.children[a]+1;this.children[a+2].findInner(t-l,e-l,r,n+l,i)}},uj.prototype.map=function(t,e,r){return this==pj||0==t.maps.length?this:this.mapInner(t,e,0,0,r||hj)},uj.prototype.mapInner=function(t,e,r,n,i){for(var o,s=0;s<this.local.length;s++){var a=this.local[s].map(t,r,n);a&&a.type.valid(e,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?function(t,e,r,n,i,o,s){for(var a=t.slice(),l=function(t,e,r,n){for(var s=0;s<a.length;s+=3){var l=a[s+1],c=void 0;if(!(l<0||t>l+o)){var h=a[s]+o;e>=h?a[s+1]=t<=h?-2:-1:r>=i&&(c=n-r-(e-t))&&(a[s]+=c,a[s+1]+=c)}}},c=0;c<r.maps.length;c++)r.maps[c].forEach(l);for(var h=!1,u=0;u<a.length;u+=3)if(a[u+1]<0){if(-2==a[u+1]){h=!0,a[u+1]=-1;continue}var p=r.map(t[u]+o),d=p-i;if(d<0||d>=n.content.size){h=!0;continue}var f=r.map(t[u+1]+o,-1)-i,g=n.content.findIndex(d),m=g.index,y=g.offset,v=n.maybeChild(m);if(v&&y==d&&y+v.nodeSize==f){var b=a[u+2].mapInner(r,v,p+1,t[u]+o+1,s);b!=pj?(a[u]=d,a[u+1]=f,a[u+2]=b):(a[u+1]=-2,h=!0)}else h=!0}if(h){var w=function(t,e,r,n,i,o,s){function a(t,e){for(var o=0;o<t.local.length;o++){var l=t.local[o].map(n,i,e);l?r.push(l):s.onRemove&&s.onRemove(t.local[o].spec)}for(var c=0;c<t.children.length;c+=3)a(t.children[c+2],t.children[c]+e+1)}for(var l=0;l<t.length;l+=3)-1==t[l+1]&&a(t[l+2],e[l]+o+1);return r}(a,t,e||[],r,i,o,s),x=yj(w,n,0,s);e=x.local;for(var S=0;S<a.length;S+=3)a[S+1]<0&&(a.splice(S,3),S-=3);for(var k=0,A=0;k<x.children.length;k+=3){for(var C=x.children[k];A<a.length&&a[A]<C;)A+=3;a.splice(A,0,x.children[k],x.children[k+1],x.children[k+2])}}return new uj(e&&e.sort(vj),a)}(this.children,o,t,e,r,n,i):o?new uj(o.sort(vj)):pj},uj.prototype.add=function(t,e){return e.length?this==pj?uj.create(t,e):this.addInner(t,e,0):this},uj.prototype.addInner=function(t,e,r){var n,i=this,o=0;t.forEach((function(t,s){var a,l=s+r;if(a=gj(e,t,l)){for(n||(n=i.children.slice());o<n.length&&n[o]<s;)o+=3;n[o]==s?n[o+2]=n[o+2].addInner(t,a,l+1):n.splice(o,0,s,s+t.nodeSize,yj(a,t,l+1,hj)),o+=3}}));for(var s=fj(o?mj(e):e,-r),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new uj(s.length?this.local.concat(s).sort(vj):this.local,n||this.children)},uj.prototype.remove=function(t){return 0==t.length||this==pj?this:this.removeInner(t,0)},uj.prototype.removeInner=function(t,e){for(var r=this.children,n=this.local,i=0;i<r.length;i+=3){for(var o=void 0,s=r[i]+e,a=r[i+1]+e,l=0,c=void 0;l<t.length;l++)(c=t[l])&&c.from>s&&c.to<a&&(t[l]=null,(o||(o=[])).push(c));if(o){r==this.children&&(r=this.children.slice());var h=r[i+2].removeInner(o,s+1);h!=pj?r[i+2]=h:(r.splice(i,3),i-=3)}}if(n.length)for(var u=0,p=void 0;u<t.length;u++)if(p=t[u])for(var d=0;d<n.length;d++)n[d].eq(p,e)&&(n==this.local&&(n=this.local.slice()),n.splice(d--,1));return r==this.children&&n==this.local?this:n.length||r.length?new uj(n,r):pj},uj.prototype.forChild=function(t,e){if(this==pj)return this;if(e.isLeaf)return uj.empty;for(var r,n,i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(r=this.children[i+2]);break}for(var o=t+1,s=o+e.content.size,a=0;a<this.local.length;a++){var l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof oj){var c=Math.max(o,l.from)-o,h=Math.min(s,l.to)-o;c<h&&(n||(n=[])).push(l.copy(c,h))}}if(n){var u=new uj(n.sort(vj));return r?new dj([u,r]):u}return r||pj},uj.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof uj)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0},uj.prototype.locals=function(t){return bj(this.localsInner(t))},uj.prototype.localsInner=function(t){if(this==pj)return cj;if(t.inlineContent||!this.local.some(oj.is))return this.local;for(var e=[],r=0;r<this.local.length;r++)this.local[r].type instanceof oj||e.push(this.local[r]);return e};var pj=new uj;uj.empty=pj,uj.removeOverlap=bj;var dj=function(t){this.members=t};function fj(t,e){if(!e||!t.length)return t;for(var r=[],n=0;n<t.length;n++){var i=t[n];r.push(new aj(i.from+e,i.to+e,i.type))}return r}function gj(t,e,r){if(e.isLeaf)return null;for(var n=r+e.nodeSize,i=null,o=0,s=void 0;o<t.length;o++)(s=t[o])&&s.from>r&&s.to<n&&((i||(i=[])).push(s),t[o]=null);return i}function mj(t){for(var e=[],r=0;r<t.length;r++)null!=t[r]&&e.push(t[r]);return e}function yj(t,e,r,n){var i=[],o=!1;e.forEach((function(e,s){var a=gj(t,e,s+r);if(a){o=!0;var l=yj(a,e,r+s+1,n);l!=pj&&i.push(s,s+e.nodeSize,l)}}));for(var s=fj(o?mj(t):t,-r).sort(vj),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(n.onRemove&&n.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new uj(s,i):pj}function vj(t,e){return t.from-e.from||t.to-e.to}function bj(t){for(var e=t,r=0;r<e.length-1;r++){var n=e[r];if(n.from!=n.to)for(var i=r+1;i<e.length;i++){var o=e[i];if(o.from!=n.from){o.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,o.from),wj(e,i,n.copy(o.from,n.to)));break}o.to!=n.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,n.to),wj(e,i+1,o.copy(n.to,o.to)))}}return e}function wj(t,e,r){for(;e<t.length&&vj(r,t[e])>0;)e++;t.splice(e,0,r)}function xj(t){var e=[];return t.someProp("decorations",(function(r){var n=r(t.state);n&&n!=pj&&e.push(n)})),t.cursorWrapper&&e.push(uj.create(t.state.doc,[t.cursorWrapper.deco])),dj.from(e)}dj.prototype.map=function(t,e){var r=this.members.map((function(r){return r.map(t,e,hj)}));return dj.from(r)},dj.prototype.forChild=function(t,e){if(e.isLeaf)return uj.empty;for(var r=[],n=0;n<this.members.length;n++){var i=this.members[n].forChild(t,e);i!=pj&&(i instanceof dj?r=r.concat(i.members):r.push(i))}return dj.from(r)},dj.prototype.eq=function(t){if(!(t instanceof dj)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},dj.prototype.locals=function(t){for(var e,r=!0,n=0;n<this.members.length;n++){var i=this.members[n].localsInner(t);if(i.length)if(e){r&&(e=e.slice(),r=!1);for(var o=0;o<i.length;o++)e.push(i[o])}else e=i}return e?bj(r?e:e.sort(vj)):cj},dj.from=function(t){switch(t.length){case 0:return pj;case 1:return t[0];default:return new dj(t)}};var Sj,kj,Aj=function(t,e){this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(Ej),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Oj(this),this.markCursor=null,this.cursorWrapper=null,Tj(this),this.nodeViews=Mj(this),this.docView=TN(this.state.doc,_j(this),xj(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new PB(t,(function(e,r,n,i){return fB(t,e,r,n,i)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var r=FB[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var r=e.target;r!=t.dom;r=r.parentNode)if(!r||11==r.nodeType||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||NB(t,e)||!t.editable&&e.type in DB||r(t,e)})};for(var r in FB)e(r);RL.safari&&t.dom.addEventListener("input",(function(){return null})),LB(t)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},Cj={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function _j(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",(function(r){if("function"==typeof r&&(r=r(t.state)),r)for(var n in r)"class"==n&&(e.class+=" "+r[n]),"style"==n?e.style=(e.style?e.style+";":"")+r[n]:e[n]||"contenteditable"==n||"nodeName"==n||(e[n]=String(r[n]))})),[aj.node(0,t.state.doc.content.size,e)]}function Tj(t){if(t.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:aj.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Oj(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function Mj(t){var e={};return t.someProp("nodeViews",(function(t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r])})),e}function Ej(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}if(Cj.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},Aj.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&LB(this),this._props=t,t.plugins&&(t.plugins.forEach(Ej),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)},Aj.prototype.setProps=function(t){var e={};for(var r in this._props)e[r]=this._props[r];for(var n in e.state=this.state,t)e[n]=t[n];this.update(e)},Aj.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},Aj.prototype.updateStateInner=function(t,e){var r=this,n=this.state,i=!1,o=!1;if(t.storedMarks&&this.composing&&(YB(this),o=!0),this.state=t,e){var s=Mj(this);(function(t,e){var r=0,n=0;for(var i in t){if(t[i]!=e[i])return!0;r++}for(var o in e)n++;return r!=n})(s,this.nodeViews)&&(this.nodeViews=s,i=!0),LB(this)}this.editable=Oj(this),Tj(this);var a=xj(this),l=_j(this),c=e?"reset":t.scrollToSelection>n.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(t.doc,l,a);!h&&t.selection.eq(n.selection)||(o=!0);var u,p,d,f,g,m,y="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&function(t){for(var e,r,n=t.dom.getBoundingClientRect(),i=Math.max(0,n.top),o=(n.left+n.right)/2,s=i+1;s<Math.min(innerHeight,n.bottom);s+=5){var a=t.root.elementFromPoint(o,s);if(a!=t.dom&&t.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=i-20){e=a,r=l.top;break}}}return{refDOM:e,refTop:r,stack:rN(t.dom)}}(this);if(o){this.domObserver.stop();var v=h&&(RL.ie||RL.chrome)&&!this.composing&&!n.selection.empty&&!t.selection.empty&&(f=n.selection,g=t.selection,m=Math.min(f.$anchor.sharedDepth(f.head),g.$anchor.sharedDepth(g.head)),f.$anchor.start(m)!=g.$anchor.start(m));if(h){var b=RL.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!i&&this.docView.update(t.doc,l,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=TN(t.doc,l,a,this.dom,this)),b&&!this.trackWrites&&(v=!0)}v||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(u=this,p=u.docView.domFromPos(u.state.selection.anchor,0),d=u.root.getSelection(),qL(p.node,p.offset,d.anchorNode,d.anchorOffset)))?qN(this,v):(YN(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(n),"reset"==c)this.dom.scrollTop=0;else if("to selection"==c){var w=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(r)}))||(t.selection instanceof cD?eN(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),w):eN(this,this.coordsAtPos(t.selection.head,1),w))}else y&&function(t){var e=t.refDOM,r=t.refTop,n=t.stack,i=e?e.getBoundingClientRect().top:0;nN(n,0==i?0:i-r)}(y)},Aj.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},Aj.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var e=0;e<this.pluginViews.length;e++){var r=this.pluginViews[e];r.update&&r.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var n=0;n<this.directPlugins.length;n++){var i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var s=this.state.plugins[o];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}},Aj.prototype.someProp=function(t,e){var r,n=this._props&&this._props[t];if(null!=n&&(r=e?e(n):n))return r;for(var i=0;i<this.directPlugins.length;i++){var o=this.directPlugins[i].props[t];if(null!=o&&(r=e?e(o):o))return r}var s=this.state.plugins;if(s)for(var a=0;a<s.length;a++){var l=s[a].props[t];if(null!=l&&(r=e?e(l):l))return r}},Aj.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Aj.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(iN)return t.focus(iN);var e=rN(t);t.focus(null==iN?{get preventScroll(){return iN={preventScroll:!0},!0}}:void 0),iN||(iN=!1,nN(e,0))}(this.dom),qN(this),this.domObserver.start()},Cj.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},Aj.prototype.posAtCoords=function(t){return lN(this,t)},Aj.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),uN(this,t,e)},Aj.prototype.domAtPos=function(t,e){return void 0===e&&(e=0),this.docView.domFromPos(t,e)},Aj.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},Aj.prototype.posAtDOM=function(t,e,r){void 0===r&&(r=-1);var n=this.docView.posFromDOM(t,e,r);if(null==n)throw new RangeError("DOM position not inside the editor");return n},Aj.prototype.endOfTextblock=function(t,e){return bN(this,e||this.state,t)},Aj.prototype.destroy=function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],xj(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Cj.isDestroyed.get=function(){return null==this.docView},Aj.prototype.dispatchEvent=function(t){return function(t,e){NB(t,e)||!FB[e.type]||!t.editable&&e.type in DB||FB[e.type](t,e)}(this,t)},Aj.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Aj.prototype,Cj),"undefined"!=typeof WeakMap){var Pj=new WeakMap;Sj=function(t){return Pj.get(t)},kj=function(t,e){return Pj.set(t,e),e}}else{var Ij=[],Fj=0;Sj=function(t){for(var e=0;e<Ij.length;e+=2)if(Ij[e]==t)return Ij[e+1]},kj=function(t,e){return 10==Fj&&(Fj=0),Ij[Fj++]=t,Ij[Fj++]=e}}var Dj=function(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n},Rj=function(t,e,r,n){this.width=t,this.height=e,this.map=r,this.problems=n};function Lj(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],r=0;r<t.colspan;r++)e.push(0);return e}function Nj(t,e){var r=t.getAttribute("data-colwidth"),n=r&&/^\d+(,\d+)*$/.test(r)?r.split(",").map((function(t){return Number(t)})):null,i=Number(t.getAttribute("colspan")||1),o={colspan:i,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:n&&n.length==i?n:null};for(var s in e){var a=e[s].getFromDOM,l=a&&a(t);null!=l&&(o[s]=l)}return o}function Bj(t,e){var r={};for(var n in 1!=t.attrs.colspan&&(r.colspan=t.attrs.colspan),1!=t.attrs.rowspan&&(r.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(r["data-colwidth"]=t.attrs.colwidth.join(",")),e){var i=e[n].setDOMAttr;i&&i(t.attrs[n],r)}return r}function jj(t){var e=t.cached.tableNodeTypes;if(!e)for(var r in e=t.cached.tableNodeTypes={},t.nodes){var n=t.nodes[r],i=n.spec.tableRole;i&&(e[i]=n)}return e}Rj.prototype.findCell=function(t){for(var e=0;e<this.map.length;e++){var r=this.map[e];if(r==t){for(var n=e%this.width,i=e/this.width|0,o=n+1,s=i+1,a=1;o<this.width&&this.map[e+a]==r;a++)o++;for(var l=1;s<this.height&&this.map[e+this.width*l]==r;l++)s++;return new Dj(n,i,o,s)}}throw new RangeError("No cell with offset "+t+" found")},Rj.prototype.colCount=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError("No cell with offset "+t+" found")},Rj.prototype.nextCell=function(t,e,r){var n=this.findCell(t),i=n.left,o=n.right,s=n.top,a=n.bottom;return"horiz"==e?(r<0?0==i:o==this.width)?null:this.map[s*this.width+(r<0?i-1:o)]:(r<0?0==s:a==this.height)?null:this.map[i+this.width*(r<0?s-1:a)]},Rj.prototype.rectBetween=function(t,e){var r=this.findCell(t),n=r.left,i=r.right,o=r.top,s=r.bottom,a=this.findCell(e),l=a.left,c=a.right,h=a.top,u=a.bottom;return new Dj(Math.min(n,l),Math.min(o,h),Math.max(i,c),Math.max(s,u))},Rj.prototype.cellsInRect=function(t){for(var e=[],r={},n=t.top;n<t.bottom;n++)for(var i=t.left;i<t.right;i++){var o=n*this.width+i,s=this.map[o];r[s]||(r[s]=!0,i==t.left&&i&&this.map[o-1]==s||n==t.top&&n&&this.map[o-this.width]==s||e.push(s))}return e},Rj.prototype.positionAt=function(t,e,r){for(var n=0,i=0;;n++){var o=i+r.child(n).nodeSize;if(n==t){for(var s=e+t*this.width,a=(t+1)*this.width;s<a&&this.map[s]<i;)s++;return s==a?o-1:this.map[s]}i=o}},Rj.get=function(t){return Sj(t)||kj(t,function(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);for(var e=function(t){for(var e=-1,r=!1,n=0;n<t.childCount;n++){var i=t.child(n),o=0;if(r)for(var s=0;s<n;s++)for(var a=t.child(s),l=0;l<a.childCount;l++){var c=a.child(l);s+c.attrs.rowspan>n&&(o+=c.attrs.colspan)}for(var h=0;h<i.childCount;h++){var u=i.child(h);o+=u.attrs.colspan,u.attrs.rowspan>1&&(r=!0)}-1==e?e=o:e!=o&&(e=Math.max(e,o))}return e}(t),r=t.childCount,n=[],i=0,o=null,s=[],a=0,l=e*r;a<l;a++)n[a]=0;for(var c=0,h=0;c<r;c++){var u=t.child(c);h++;for(var p=0;;p++){for(;i<n.length&&0!=n[i];)i++;if(p==u.childCount)break;for(var d=u.child(p),f=d.attrs,g=f.colspan,m=f.rowspan,y=f.colwidth,v=0;v<m;v++){if(v+c>=r){(o||(o=[])).push({type:"overlong_rowspan",pos:h,n:m-v});break}for(var b=i+v*e,w=0;w<g;w++){0==n[b+w]?n[b+w]=h:(o||(o=[])).push({type:"collision",row:c,pos:h,n:g-w});var x=y&&y[w];if(x){var S=(b+w)%e*2,k=s[S];null==k||k!=x&&1==s[S+1]?(s[S]=x,s[S+1]=1):k==x&&s[S+1]++}}}i+=g,h+=d.nodeSize}for(var A=(c+1)*e,C=0;i<A;)0==n[i++]&&C++;C&&(o||(o=[])).push({type:"missing",row:c,n:C}),h++}for(var _=new Rj(e,r,n,o),T=!1,O=0;!T&&O<s.length;O+=2)null!=s[O]&&s[O+1]<r&&(T=!0);T&&function(t,e,r){t.problems||(t.problems=[]);for(var n=0,i={};n<t.map.length;n++){var o=t.map[n];if(!i[o]){i[o]=!0;for(var s=r.nodeAt(o),a=null,l=0;l<s.attrs.colspan;l++){var c=e[2*((n+l)%t.width)];null==c||s.attrs.colwidth&&s.attrs.colwidth[l]==c||((a||(a=Lj(s.attrs)))[l]=c)}a&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}}(_,s,t);return _}(t))};var zj=new TD("selectingCells");function Uj(t){for(var e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function $j(t){for(var e=t.selection.$head,r=e.depth;r>0;r--)if("row"==e.node(r).type.spec.tableRole)return!0;return!1}function Hj(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:Uj(e.$head)||function(t){for(var e=t.nodeAfter,r=t.pos;e;e=e.firstChild,r++){var n=e.type.spec.tableRole;if("cell"==n||"header_cell"==n)return t.doc.resolve(r)}for(var i=t.nodeBefore,o=t.pos;i;i=i.lastChild,o--){var s=i.type.spec.tableRole;if("cell"==s||"header_cell"==s)return t.doc.resolve(o-i.nodeSize)}}(e.$head)}function Vj(t){return"row"==t.parent.type.spec.tableRole&&t.nodeAfter}function qj(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function Wj(t,e,r){var n=t.start(-1),i=Rj.get(t.node(-1)).nextCell(t.pos-n,e,r);return null==i?null:t.node(0).resolve(n+i)}function Xj(t,e,r){var n={};for(var i in t)n[i]=t[i];return n[e]=r,n}function Gj(t,e,r){void 0===r&&(r=1);var n=Xj(t,"colspan",t.colspan-r);return n.colwidth&&(n.colwidth=n.colwidth.slice(),n.colwidth.splice(e,r),n.colwidth.some((function(t){return t>0}))||(n.colwidth=null)),n}function Kj(t,e,r){void 0===r&&(r=1);var n=Xj(t,"colspan",t.colspan+r);if(n.colwidth){n.colwidth=n.colwidth.slice();for(var i=0;i<r;i++)n.colwidth.splice(e,0,0)}return n}var Yj=function(t){function e(e,r){void 0===r&&(r=e);var n=e.node(-1),i=Rj.get(n),o=e.start(-1),s=i.rectBetween(e.pos-o,r.pos-o),a=e.node(0),l=i.cellsInRect(s).filter((function(t){return t!=r.pos-o}));l.unshift(r.pos-o);var c=l.map((function(t){var e=n.nodeAt(t),r=t+o+1;return new sD(a.resolve(r),a.resolve(r+e.content.size))}));t.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,r){var n=t.resolve(r.map(this.$anchorCell.pos)),i=t.resolve(r.map(this.$headCell.pos));if(Vj(n)&&Vj(i)&&qj(n,i)){var o=this.$anchorCell.node(-1)!=n.node(-1);return o&&this.isRowSelection()?e.rowSelection(n,i):o&&this.isColSelection()?e.colSelection(n,i):new e(n,i)}return aD.between(n,i)},e.prototype.content=function(){for(var t=this.$anchorCell.node(-1),e=Rj.get(t),r=this.$anchorCell.start(-1),n=e.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},o=[],s=n.top;s<n.bottom;s++){for(var a=[],l=s*e.width+n.left,c=n.left;c<n.right;c++,l++){var h=e.map[l];if(!i[h]){i[h]=!0;var u=e.findCell(h),p=t.nodeAt(h),d=n.left-u.left,f=u.right-n.right;if(d>0||f>0){var g=p.attrs;d>0&&(g=Gj(g,0,d)),f>0&&(g=Gj(g,g.colspan-f,f)),p=u.left<n.left?p.type.createAndFill(g):p.type.create(g,p.content)}if(u.top<n.top||u.bottom>n.bottom){var m=Xj(p.attrs,"rowspan",Math.min(u.bottom,n.bottom)-Math.max(u.top,n.top));p=u.top<n.top?p.type.createAndFill(m):p.type.create(m,p.content)}a.push(p)}}o.push(t.child(s).copy(sI.from(a)))}var y=this.isColSelection()&&this.isRowSelection()?t:o;return new dI(sI.from(y),1,1)},e.prototype.replace=function(e,r){void 0===r&&(r=dI.empty);for(var n=e.steps.length,i=this.ranges,o=0;o<i.length;o++){var s=i[o],a=s.$from,l=s.$to,c=e.mapping.slice(n);e.replace(c.map(a.pos),c.map(l.pos),o?dI.empty:r)}var h=t.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);h&&e.setSelection(h)},e.prototype.replaceWith=function(t,e){this.replace(t,new dI(sI.from(e),0,0))},e.prototype.forEachCell=function(t){for(var e=this.$anchorCell.node(-1),r=Rj.get(e),n=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n)),o=0;o<i.length;o++)t(e.nodeAt(i[o]),n+i[o])},e.prototype.isColSelection=function(){var t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;var r=t+this.$anchorCell.nodeAfter.attrs.rowspan,n=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,n)==this.$headCell.node(-1).childCount},e.colSelection=function(t,r){void 0===r&&(r=t);var n=Rj.get(t.node(-1)),i=t.start(-1),o=n.findCell(t.pos-i),s=n.findCell(r.pos-i),a=t.node(0);return o.top<=s.top?(o.top>0&&(t=a.resolve(i+n.map[o.left])),s.bottom<n.height&&(r=a.resolve(i+n.map[n.width*(n.height-1)+s.right-1]))):(s.top>0&&(r=a.resolve(i+n.map[s.left])),o.bottom<n.height&&(t=a.resolve(i+n.map[n.width*(n.height-1)+o.right-1]))),new e(t,r)},e.prototype.isRowSelection=function(){var t=Rj.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),r=t.colCount(this.$anchorCell.pos-e),n=t.colCount(this.$headCell.pos-e);if(Math.min(r,n)>0)return!1;var i=r+this.$anchorCell.nodeAfter.attrs.colspan,o=n+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,o)==t.width},e.prototype.eq=function(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos},e.rowSelection=function(t,r){void 0===r&&(r=t);var n=Rj.get(t.node(-1)),i=t.start(-1),o=n.findCell(t.pos-i),s=n.findCell(r.pos-i),a=t.node(0);return o.left<=s.left?(o.left>0&&(t=a.resolve(i+n.map[o.top*n.width])),s.right<n.width&&(r=a.resolve(i+n.map[n.width*(s.top+1)-1]))):(s.left>0&&(r=a.resolve(i+n.map[s.top*n.width])),o.right<n.width&&(t=a.resolve(i+n.map[n.width*(o.top+1)-1]))),new e(t,r)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(t,r){return new e(t.resolve(r.anchor),t.resolve(r.head))},e.create=function(t,r,n){return void 0===n&&(n=r),new e(t.resolve(r),t.resolve(n))},e.prototype.getBookmark=function(){return new Jj(this.$anchorCell.pos,this.$headCell.pos)},e}(iD);Yj.prototype.visible=!1,iD.jsonID("cell",Yj);var Jj=function(t,e){this.anchor=t,this.head=e};function Zj(t){if(!(t.selection instanceof Yj))return null;var e=[];return t.selection.forEachCell((function(t,r){e.push(aj.node(r,r+t.nodeSize,{class:"selectedCell"}))})),uj.create(t.doc,e)}function Qj(t){if(!t.size)return null;for(var e=t.content,r=t.openStart,n=t.openEnd;1==e.childCount&&(r>0&&n>0||"table"==e.firstChild.type.spec.tableRole);)r--,n--,e=e.firstChild.content;var i=e.firstChild,o=i.type.spec.tableRole,s=i.type.schema,a=[];if("row"==o)for(var l=0;l<e.childCount;l++){var c=e.child(l).content,h=l?0:Math.max(0,r-1),u=l<e.childCount-1?0:Math.max(0,n-1);(h||u)&&(c=tz(jj(s).row,new dI(c,h,u)).content),a.push(c)}else{if("cell"!=o&&"header_cell"!=o)return null;a.push(r||n?tz(jj(s).row,new dI(e,r,n)).content:e)}return function(t,e){for(var r=[],n=0;n<e.length;n++)for(var i=e[n],o=i.childCount-1;o>=0;o--)for(var s=i.child(o).attrs,a=s.rowspan,l=s.colspan,c=n;c<n+a;c++)r[c]=(r[c]||0)+l;for(var h=0,u=0;u<r.length;u++)h=Math.max(h,r[u]);for(var p=0;p<r.length;p++)if(p>=e.length&&e.push(sI.empty),r[p]<h){for(var d=jj(t).cell.createAndFill(),f=[],g=r[p];g<h;g++)f.push(d);e[p]=e[p].append(sI.from(f))}return{height:e.length,width:h,rows:e}}(s,a)}function tz(t,e){var r=t.createAndFill();return new _F(r).replace(0,r.content.size,e).doc}function ez(t,e,r,n,i,o,s,a){if(0==s||s==e.height)return!1;for(var l=!1,c=i;c<o;c++){var h=s*e.width+c,u=e.map[h];if(e.map[h-e.width]==u){l=!0;var p=r.nodeAt(u),d=e.findCell(u),f=d.top,g=d.left;t.setNodeMarkup(t.mapping.slice(a).map(u+n),null,Xj(p.attrs,"rowspan",s-f)),t.insert(t.mapping.slice(a).map(e.positionAt(s,g,r)),p.type.createAndFill(Xj(p.attrs,"rowspan",f+p.attrs.rowspan-s))),c+=p.attrs.colspan-1}}return l}function rz(t,e,r,n,i,o,s,a){if(0==s||s==e.width)return!1;for(var l=!1,c=i;c<o;c++){var h=c*e.width+s,u=e.map[h];if(e.map[h-1]==u){l=!0;var p=r.nodeAt(u),d=e.colCount(u),f=t.mapping.slice(a).map(u+n);t.setNodeMarkup(f,null,Gj(p.attrs,s-d,p.attrs.colspan-(s-d))),t.insert(f+p.nodeSize,p.type.createAndFill(Gj(p.attrs,0,s-d))),c+=p.attrs.rowspan-1}}return l}function nz(t,e,r,n,i){var o=r?t.doc.nodeAt(r-1):t.doc,s=Rj.get(o),a=n.top,l=n.left,c=l+i.width,h=a+i.height,u=t.tr,p=0;function d(){o=r?u.doc.nodeAt(r-1):u.doc,s=Rj.get(o),p=u.mapping.maps.length}(function(t,e,r,n,i,o,s){var a,l,c=jj(t.doc.type.schema);if(i>e.width)for(var h=0,u=0;h<e.height;h++){var p=r.child(h);u+=p.nodeSize;var d=[],f=void 0;f=null==p.lastChild||p.lastChild.type==c.cell?a||(a=c.cell.createAndFill()):l||(l=c.header_cell.createAndFill());for(var g=e.width;g<i;g++)d.push(f);t.insert(t.mapping.slice(s).map(u-1+n),d)}if(o>e.height){for(var m=[],y=0,v=(e.height-1)*e.width;y<Math.max(e.width,i);y++){var b=!(y>=e.width)&&r.nodeAt(e.map[v+y]).type==c.header_cell;m.push(b?l||(l=c.header_cell.createAndFill()):a||(a=c.cell.createAndFill()))}for(var w=c.row.create(null,sI.from(m)),x=[],S=e.height;S<o;S++)x.push(w);t.insert(t.mapping.slice(s).map(n+r.nodeSize-2),x)}return!(!a&&!l)})(u,s,o,r,c,h,p)&&d(),ez(u,s,o,r,l,c,a,p)&&d(),ez(u,s,o,r,l,c,h,p)&&d(),rz(u,s,o,r,a,h,l,p)&&d(),rz(u,s,o,r,a,h,c,p)&&d();for(var f=a;f<h;f++){var g=s.positionAt(f,l,o),m=s.positionAt(f,c,o);u.replace(u.mapping.slice(p).map(g+r),u.mapping.slice(p).map(m+r),new dI(i.rows[f-a],0,0))}d(),u.setSelection(new Yj(u.doc.resolve(r+s.positionAt(a,l,o)),u.doc.resolve(r+s.positionAt(h-1,c-1,o)))),e(u)}Jj.prototype.map=function(t){return new Jj(t.map(this.anchor),t.map(this.head))},Jj.prototype.resolve=function(t){var e=t.resolve(this.anchor),r=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==r.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&r.index()<r.parent.childCount&&qj(e,r)?new Yj(e,r):iD.near(r,1)};var iz=DL({ArrowLeft:sz("horiz",-1),ArrowRight:sz("horiz",1),ArrowUp:sz("vert",-1),ArrowDown:sz("vert",1),"Shift-ArrowLeft":az("horiz",-1),"Shift-ArrowRight":az("horiz",1),"Shift-ArrowUp":az("vert",-1),"Shift-ArrowDown":az("vert",1),Backspace:lz,"Mod-Backspace":lz,Delete:lz,"Mod-Delete":lz});function oz(t,e,r){return!r.eq(t.selection)&&(e&&e(t.tr.setSelection(r).scrollIntoView()),!0)}function sz(t,e){return function(r,n,i){var o=r.selection;if(o instanceof Yj)return oz(r,n,iD.near(o.$headCell,e));if("horiz"!=t&&!o.empty)return!1;var s=pz(i,t,e);if(null==s)return!1;if("horiz"==t)return oz(r,n,iD.near(r.doc.resolve(o.head+e),e));var a,l=r.doc.resolve(s),c=Wj(l,t,e);return a=c?iD.near(c,1):e<0?iD.near(r.doc.resolve(l.before(-1)),-1):iD.near(r.doc.resolve(l.after(-1)),1),oz(r,n,a)}}function az(t,e){return function(r,n,i){var o=r.selection;if(!(o instanceof Yj)){var s=pz(i,t,e);if(null==s)return!1;o=new Yj(r.doc.resolve(s))}var a=Wj(o.$headCell,t,e);return!!a&&oz(r,n,new Yj(o.$anchorCell,a))}}function lz(t,e){var r=t.selection;if(!(r instanceof Yj))return!1;if(e){var n=t.tr,i=jj(t.schema).cell.createAndFill().content;r.forEachCell((function(t,e){t.content.eq(i)||n.replace(n.mapping.map(e+1),n.mapping.map(e+t.nodeSize-1),new dI(i,0,0))})),n.docChanged&&e(n)}return!0}function cz(t,e){var r=Uj(t.state.doc.resolve(e));return!!r&&(t.dispatch(t.state.tr.setSelection(new Yj(r))),!0)}function hz(t,e,r){if(!$j(t.state))return!1;var n=Qj(r),i=t.state.selection;if(i instanceof Yj){n||(n={width:1,height:1,rows:[sI.from(tz(jj(t.state.schema).cell,r))]});var o=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),a=Rj.get(o).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return n=function(t,e,r){var n=t.width,i=t.height,o=t.rows;if(n!=e){for(var s=[],a=[],l=0;l<o.length;l++){for(var c=o[l],h=[],u=s[l]||0,p=0;u<e;p++){var d=c.child(p%c.childCount);u+d.attrs.colspan>e&&(d=d.type.create(Gj(d.attrs,d.attrs.colspan,u+d.attrs.colspan-e),d.content)),h.push(d),u+=d.attrs.colspan;for(var f=1;f<d.attrs.rowspan;f++)s[l+f]=(s[l+f]||0)+d.attrs.colspan}a.push(sI.from(h))}o=a,n=e}if(i!=r){for(var g=[],m=0,y=0;m<r;m++,y++){for(var v=[],b=o[y%i],w=0;w<b.childCount;w++){var x=b.child(w);m+x.attrs.rowspan>r&&(x=x.type.create(Xj(x.attrs,"rowspan",Math.max(1,r-x.attrs.rowspan)),x.content)),v.push(x)}g.push(sI.from(v))}o=g,i=r}return{width:n,height:i,rows:o}}(n,a.right-a.left,a.bottom-a.top),nz(t.state,t.dispatch,s,a,n),!0}if(n){var l=Hj(t.state),c=l.start(-1);return nz(t.state,t.dispatch,c,Rj.get(l.node(-1)).findCell(l.pos-c),n),!0}return!1}function uz(t,e){if(!e.ctrlKey&&!e.metaKey){var r,n=dz(t,e.target);if(e.shiftKey&&t.state.selection instanceof Yj)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&n&&null!=(r=Uj(t.state.selection.$anchor))&&fz(t,e).pos!=r.pos)i(r,e),e.preventDefault();else if(!n)return;t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",s)}function i(e,r){var n=fz(t,r),i=null==zj.getState(t.state);if(!n||!qj(e,n)){if(!i)return;n=e}var o=new Yj(e,n);if(i||!t.state.selection.eq(o)){var s=t.state.tr.setSelection(o);i&&s.setMeta(zj,e.pos),t.dispatch(s)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",s),null!=zj.getState(t.state)&&t.dispatch(t.state.tr.setMeta(zj,-1))}function s(r){var s,a=zj.getState(t.state);if(null!=a)s=t.state.doc.resolve(a);else if(dz(t,r.target)!=n&&!(s=fz(t,e)))return o();s&&i(s,r)}}function pz(t,e,r){if(!(t.state.selection instanceof aD))return null;for(var n=t.state.selection.$head,i=n.depth-1;i>=0;i--){var o=n.node(i);if((r<0?n.index(i):n.indexAfter(i))!=(r<0?0:o.childCount))return null;if("cell"==o.type.spec.tableRole||"header_cell"==o.type.spec.tableRole){var s=n.before(i),a="vert"==e?r>0?"down":"up":r>0?"right":"left";return t.endOfTextblock(a)?s:null}}return null}function dz(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e}function fz(t,e){var r=t.posAtCoords({left:e.clientX,top:e.clientY});return r&&r?Uj(t.state.doc.resolve(r.pos)):null}var gz=new TD("fix-tables");function mz(t,e,r,n){var i=t.childCount,o=e.childCount;t:for(var s=0,a=0;s<o;s++){for(var l=e.child(s),c=a,h=Math.min(i,s+3);c<h;c++)if(t.child(c)==l){a=c+1,r+=l.nodeSize;continue t}n(l,r),a<i&&t.child(a).sameMarkup(l)?mz(t.child(a),l,r+1,n):l.nodesBetween(0,l.content.size,n,r+1),r+=l.nodeSize}}function yz(t,e){var r,n=function(e,n){"table"==e.type.spec.tableRole&&(r=function(t,e,r,n){var i=Rj.get(e);if(!i.problems)return n;n||(n=t.tr);for(var o,s,a=[],l=0;l<i.height;l++)a.push(0);for(var c=0;c<i.problems.length;c++){var h=i.problems[c];if("collision"==h.type){for(var u=e.nodeAt(h.pos),p=0;p<u.attrs.rowspan;p++)a[h.row+p]+=h.n;n.setNodeMarkup(n.mapping.map(r+1+h.pos),null,Gj(u.attrs,u.attrs.colspan-h.n,h.n))}else if("missing"==h.type)a[h.row]+=h.n;else if("overlong_rowspan"==h.type){var d=e.nodeAt(h.pos);n.setNodeMarkup(n.mapping.map(r+1+h.pos),null,Xj(d.attrs,"rowspan",d.attrs.rowspan-h.n))}else if("colwidth mismatch"==h.type){var f=e.nodeAt(h.pos);n.setNodeMarkup(n.mapping.map(r+1+h.pos),null,Xj(f.attrs,"colwidth",h.colwidth))}}for(var g=0;g<a.length;g++)a[g]&&(null==o&&(o=g),s=g);for(var m=0,y=r+1;m<i.height;m++){var v=e.child(m),b=y+v.nodeSize,w=a[m];if(w>0){var x="cell";v.firstChild&&(x=v.firstChild.type.spec.tableRole);for(var S=[],k=0;k<w;k++)S.push(jj(t.schema)[x].createAndFill());var A=0!=m&&o!=m-1||s!=m?b-1:y+1;n.insert(n.mapping.map(A),S)}y=b}return n.setMeta(gz,{fixTables:!0})}(t,e,n,r))};return e?e.doc!=t.doc&&mz(e.doc,t.doc,0,n):t.doc.descendants(n),r}function vz(t){var e,r=t.selection,n=Hj(t),i=n.node(-1),o=n.start(-1),s=Rj.get(i);return(e=r instanceof Yj?s.rectBetween(r.$anchorCell.pos-o,r.$headCell.pos-o):s.findCell(n.pos-o)).tableStart=o,e.map=s,e.table=i,e}function bz(t,e,r){var n=e.map,i=e.tableStart,o=e.table,s=r>0?-1:0;(function(t,e,r){for(var n=jj(e.type.schema).header_cell,i=0;i<t.height;i++)if(e.nodeAt(t.map[r+i*t.width]).type!=n)return!1;return!0})(n,o,r+s)&&(s=0==r||r==n.width?null:0);for(var a=0;a<n.height;a++){var l=a*n.width+r;if(r>0&&r<n.width&&n.map[l-1]==n.map[l]){var c=n.map[l],h=o.nodeAt(c);t.setNodeMarkup(t.mapping.map(i+c),null,Kj(h.attrs,r-n.colCount(c))),a+=h.attrs.rowspan-1}else{var u=null==s?jj(o.type.schema).cell:o.nodeAt(n.map[l+s]).type,p=n.positionAt(a,r,o);t.insert(t.mapping.map(i+p),u.createAndFill())}}return t}function wz(t,e){if(!$j(t))return!1;if(e){var r=vz(t);e(bz(t.tr,r,r.left))}return!0}function xz(t,e){if(!$j(t))return!1;if(e){var r=vz(t);e(bz(t.tr,r,r.right))}return!0}function Sz(t,e,r){for(var n=e.map,i=e.table,o=e.tableStart,s=t.mapping.maps.length,a=0;a<n.height;){var l=a*n.width+r,c=n.map[l],h=i.nodeAt(c);if(r>0&&n.map[l-1]==c||r<n.width-1&&n.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(s).map(o+c),null,Gj(h.attrs,r-n.colCount(c)));else{var u=t.mapping.slice(s).map(o+c);t.delete(u,u+h.nodeSize)}a+=h.attrs.rowspan}}function kz(t,e){if(!$j(t))return!1;if(e){var r=vz(t),n=t.tr;if(0==r.left&&r.right==r.map.width)return!1;for(var i=r.right-1;Sz(n,r,i),i!=r.left;i--)r.table=r.tableStart?n.doc.nodeAt(r.tableStart-1):n.doc,r.map=Rj.get(r.table);e(n)}return!0}function Az(t,e,r){for(var n=e.map,i=e.tableStart,o=e.table,s=i,a=0;a<r;a++)s+=o.child(a).nodeSize;var l=[],c=r>0?-1:0;(function(t,e,r){for(var n=jj(e.type.schema).header_cell,i=0;i<t.width;i++)if(e.nodeAt(t.map[i+r*t.width]).type!=n)return!1;return!0})(n,o,r+c)&&(c=0==r||r==n.height?null:0);for(var h=0,u=n.width*r;h<n.width;h++,u++)if(r>0&&r<n.height&&n.map[u]==n.map[u-n.width]){var p=n.map[u],d=o.nodeAt(p).attrs;t.setNodeMarkup(i+p,null,Xj(d,"rowspan",d.rowspan+1)),h+=d.colspan-1}else{var f=null==c?jj(o.type.schema).cell:o.nodeAt(n.map[u+c*n.width]).type;l.push(f.createAndFill())}return t.insert(s,jj(o.type.schema).row.create(null,l)),t}function Cz(t,e,r){for(var n=e.map,i=e.table,o=e.tableStart,s=0,a=0;a<r;a++)s+=i.child(a).nodeSize;var l=s+i.child(r).nodeSize,c=t.mapping.maps.length;t.delete(s+o,l+o);for(var h=0,u=r*n.width;h<n.width;h++,u++){var p=n.map[u];if(r>0&&p==n.map[u-n.width]){var d=i.nodeAt(p).attrs;t.setNodeMarkup(t.mapping.slice(c).map(p+o),null,Xj(d,"rowspan",d.rowspan-1)),h+=d.colspan-1}else if(r<n.width&&p==n.map[u+n.width]){var f=i.nodeAt(p),g=f.type.create(Xj(f.attrs,"rowspan",f.attrs.rowspan-1),f.content),m=n.positionAt(r+1,h,i);t.insert(t.mapping.slice(c).map(o+m),g),h+=f.attrs.colspan-1}}}function _z(t,e){if(!$j(t))return!1;if(e){var r=vz(t),n=t.tr;if(0==r.top&&r.bottom==r.map.height)return!1;for(var i=r.bottom-1;Cz(n,r,i),i!=r.top;i--)r.table=r.tableStart?n.doc.nodeAt(r.tableStart-1):n.doc,r.map=Rj.get(r.table);e(n)}return!0}function Tz(t){var e=t.content;return 1==e.childCount&&e.firstChild.isTextblock&&0==e.firstChild.childCount}function Oz(t,e){var r=t.selection;if(!(r instanceof Yj)||r.$anchorCell.pos==r.$headCell.pos)return!1;var n=vz(t),i=n.map;if(function(t,e){for(var r=t.width,n=t.height,i=t.map,o=e.top*r+e.left,s=o,a=(e.bottom-1)*r+e.left,l=o+(e.right-e.left-1),c=e.top;c<e.bottom;c++){if(e.left>0&&i[s]==i[s-1]||e.right<r&&i[l]==i[l+1])return!0;s+=r,l+=r}for(var h=e.left;h<e.right;h++){if(e.top>0&&i[o]==i[o-r]||e.bottom<n&&i[a]==i[a+r])return!0;o++,a++}return!1}(i,n))return!1;if(e){for(var o,s,a=t.tr,l={},c=sI.empty,h=n.top;h<n.bottom;h++)for(var u=n.left;u<n.right;u++){var p=i.map[h*i.width+u],d=n.table.nodeAt(p);if(!l[p])if(l[p]=!0,null==o)o=p,s=d;else{Tz(d)||(c=c.append(d.content));var f=a.mapping.map(p+n.tableStart);a.delete(f,f+d.nodeSize)}}if(a.setNodeMarkup(o+n.tableStart,null,Xj(Kj(s.attrs,s.attrs.colspan,n.right-n.left-s.attrs.colspan),"rowspan",n.bottom-n.top)),c.size){var g=o+1+s.content.size,m=Tz(s)?o+1:g;a.replaceWith(m+n.tableStart,g+n.tableStart,c)}a.setSelection(new Yj(a.doc.resolve(o+n.tableStart))),e(a)}return!0}function Mz(t,e){var r,n=jj(t.schema);return(r=function(t){var e=t.node;return n[e.type.spec.tableRole]},function(t,e){var n,i,o=t.selection;if(o instanceof Yj){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;n=o.$anchorCell.nodeAfter,i=o.$anchorCell.pos}else{if(!(n=function(t){for(var e=t.depth;e>0;e--){var r=t.node(e).type.spec.tableRole;if("cell"===r||"header_cell"===r)return t.node(e)}return null}(o.$from)))return!1;i=Uj(o.$from).pos}if(1==n.attrs.colspan&&1==n.attrs.rowspan)return!1;if(e){var s=n.attrs,a=[],l=s.colwidth;s.rowspan>1&&(s=Xj(s,"rowspan",1)),s.colspan>1&&(s=Xj(s,"colspan",1));for(var c,h=vz(t),u=t.tr,p=0;p<h.right-h.left;p++)a.push(l?Xj(s,"colwidth",l&&l[p]?[l[p]]:null):s);for(var d=h.top;d<h.bottom;d++){var f=h.map.positionAt(d,h.left,h.table);d==h.top&&(f+=n.nodeSize);for(var g=h.left,m=0;g<h.right;g++,m++)g==h.left&&d==h.top||u.insert(c=u.mapping.map(f+h.tableStart,1),r({node:n,row:d,col:g}).createAndFill(a[m]))}u.setNodeMarkup(i,r({node:n,row:h.top,col:h.left}),a[0]),o instanceof Yj&&u.setSelection(new Yj(u.doc.resolve(o.$anchorCell.pos),c&&u.doc.resolve(c))),e(u)}return!0})(t,e)}function Ez(t,e,r){for(var n=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1}),i=0;i<n.length;i++){var o=e.table.nodeAt(n[i]);if(o&&o.type!==r.header_cell)return!1}return!0}function Pz(t,e){return(e=e||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(t){return function(e,r){if(!$j(e))return!1;if(r){for(var n=jj(e.schema),i=vz(e),o=e.tr,s=i.map.cellsInRect("column"==t?new Dj(i.left,0,i.right,i.map.height):"row"==t?new Dj(0,i.top,i.map.width,i.bottom):i),a=s.map((function(t){return i.table.nodeAt(t)})),l=0;l<s.length;l++)a[l].type==n.header_cell&&o.setNodeMarkup(i.tableStart+s[l],n.cell,a[l].attrs);if(0==o.steps.length)for(var c=0;c<s.length;c++)o.setNodeMarkup(i.tableStart+s[c],n.header_cell,a[c].attrs);r(o)}return!0}}(t):function(e,r){if(!$j(e))return!1;if(r){var n=jj(e.schema),i=vz(e),o=e.tr,s=Ez("row",i,n),a=Ez("column",i,n),l=("column"===t?s:"row"===t&&a)?1:0,c="column"==t?new Dj(0,l,1,i.map.height):"row"==t?new Dj(l,0,i.map.width,1):i,h="column"==t?a?n.cell:n.header_cell:"row"==t?s?n.cell:n.header_cell:n.cell;i.map.cellsInRect(c).forEach((function(t){var e=t+i.tableStart,r=o.doc.nodeAt(e);r&&o.setNodeMarkup(e,h,r.attrs)})),r(o)}return!0}}Pz("row",{useDeprecatedLogic:!0}),Pz("column",{useDeprecatedLogic:!0}),Pz("cell",{useDeprecatedLogic:!0});function Iz(t,e){for(var r=t.selection.$anchor,n=r.depth;n>0;n--){if("table"==r.node(n).type.spec.tableRole)return e&&e(t.tr.delete(r.before(n),r.after(n)).scrollIntoView()),!0}return!1}var Fz=function(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Dz(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function Dz(t,e,r,n,i,o){for(var s=0,a=!0,l=e.firstChild,c=t.firstChild,h=0,u=0;h<c.childCount;h++)for(var p=c.child(h).attrs,d=p.colspan,f=p.colwidth,g=0;g<d;g++,u++){var m=i==u?o:f&&f[g],y=m?m+"px":"";s+=m||n,m||(a=!1),l?(l.style.width!=y&&(l.style.width=y),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=y}for(;l;){var v=l.nextSibling;l.parentNode.removeChild(l),l=v}a?(r.style.width=s+"px",r.style.minWidth=""):(r.style.width="",r.style.minWidth=s+"px")}Fz.prototype.update=function(t){return t.type==this.node.type&&(this.node=t,Dz(t,this.colgroup,this.table,this.cellMinWidth),!0)},Fz.prototype.ignoreMutation=function(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))};var Rz=new TD("tableColumnResizing");var Lz=function(t,e){this.activeHandle=t,this.dragging=e};function Nz(t){void 0===t&&(t={});var e=t.allowTableNodeSelection;return void 0===e&&(e=!1),new AD({key:zj,state:{init:function(){return null},apply:function(t,e){var r=t.getMeta(zj);if(null!=r)return-1==r?null:r;if(null==e||!t.docChanged)return e;var n=t.mapping.mapResult(e),i=n.deleted,o=n.pos;return i?null:o}},props:{decorations:Zj,handleDOMEvents:{mousedown:uz},createSelectionBetween:function(t){if(null!=zj.getState(t.state))return t.state.selection},handleTripleClick:cz,handleKeyDown:iz,handlePaste:hz},appendTransaction:function(t,r,n){return function(t,e,r){var n,i,o=(e||t).selection,s=(e||t).doc;if(o instanceof cD&&(i=o.node.type.spec.tableRole)){if("cell"==i||"header_cell"==i)n=Yj.create(s,o.from);else if("row"==i){var a=s.resolve(o.from+1);n=Yj.rowSelection(a,a)}else if(!r){var l=Rj.get(o.node),c=o.from+1,h=c+l.map[l.width*l.height-1];n=Yj.create(s,c+1,h)}}else o instanceof aD&&function(t){var e=t.$from,r=t.$to;if(e.pos==r.pos||e.pos<e.pos-6)return!1;for(var n=e.pos,i=r.pos,o=e.depth;o>=0&&!(e.after(o+1)<e.end(o));o--,n++);for(var s=r.depth;s>=0&&!(r.before(s+1)>r.start(s));s--,i--);return n==i&&/row|table/.test(e.node(o).type.spec.tableRole)}(o)?n=aD.create(s,o.from):o instanceof aD&&function(t){for(var e,r,n=t.$from,i=t.$to,o=n.depth;o>0;o--){var s=n.node(o);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){e=s;break}}for(var a=i.depth;a>0;a--){var l=i.node(a);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){r=l;break}}return e!==r&&0===i.parentOffset}(o)&&(n=aD.create(s,o.$from.start(),o.$from.end()));return n&&(e||(e=t.tr)).setSelection(n),e}(n,yz(n,r),e)}})}Lz.prototype.apply=function(t){var e=this,r=t.getMeta(Rz);if(r&&null!=r.setHandle)return new Lz(r.setHandle,null);if(r&&void 0!==r.setDragging)return new Lz(e.activeHandle,r.setDragging);if(e.activeHandle>-1&&t.docChanged){var n=t.mapping.map(e.activeHandle,-1);Vj(t.doc.resolve(n))||(n=null),e=new Lz(n,e.dragging)}return e};var Bz=["blockquote",0],jz=["hr"],zz=["pre",["code",0]],Uz=["ol",0],$z=["ul",0],Hz=["li",0],Vz=function(t){for(var e,r={},n=t.attributes,i=0;i<n.length;i++)r[(e=n[i]).name]=e.value;return r},qz=function(t){var e={};return t.forEach((function(t){e[t]={default:null}})),e},Wz=function(){return qz(["style","class","id"])},Xz=function(t,e){for(var r in t)if(r&&null!==t[r]&&r!==e)return!0;return!1},Gz=function(t,e){void 0===e&&(e=[]);var r={},n=function(n){n&&null!==t[n]&&!e.find((function(t){return t===n}))&&(r[n]=t[n])};for(var i in t)n(i);return r},Kz=function(t){var e;return(e={})[t]={name:t,inclusive:!0,parseDOM:[{tag:t}],toDOM:function(){return[t,0]}},e},Yz=UD({link:{attrs:UD({},Wz(),{href:{default:null},target:{default:null},title:{default:null}}),inclusive:!1,parseDOM:[{tag:"a",getAttrs:Vz}],toDOM:function(t){return["a",Gz(t.attrs),0]}}},Kz("strong"),Kz("b"),Kz("em"),Kz("i"),Kz("u"),Kz("del"),Kz("sub"),Kz("sup"),Kz("code"),{style:{attrs:UD({},Wz()),parseDOM:[{tag:"span",getAttrs:Vz}],toDOM:function(t){return Xz(t.attrs)?["span",Gz(t.attrs),0]:["span",0]}}}),Jz=function(t){var e;return(e={})[t]={default:null,getFromDOM:function(e){return e.getAttribute(t)},setDOMAttr:function(e,r){r[t]=e}},e},Zz=UD({},Jz("style"),Jz("class"),Jz("id"),Jz("headers")),Qz={doc:{content:"colgroup*"},col:{attrs:qz(["id","class","style","span"]),parseDOM:[{getAttrs:Vz,tag:"col"}],toDOM:function(t){return["col",t.attrs]}},colgroup:{attrs:qz(["id","class","style","span"]),content:"col*",parseDOM:[{getAttrs:Vz,tag:"colgroup"}],toDOM:function(t){return["colgroup",t.attrs,0]}},text:{inline:!0,group:"inline"}},tU=new nF({nodes:Qz,marks:{}}),eU=function(t){var e=BD(LD(t),tU,{preserveWhitespace:!1});return ND(e).firstChild},rU=function(t){var e=t.cellAttributes||{},r={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var n in e)r[n]={default:e[n].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:r,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(t){return Nj(t,e)}}],toDOM:function(t){return["td",Bj(t,e),0]}},table_header:{content:t.cellContent,attrs:r,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(t){return Nj(t,e)}}],toDOM:function(t){return["th",Bj(t,e),0]}}}}({tableGroup:"block",cellContent:"block+",cellAttributes:Zz});rU.table_row.attrs=UD({},rU.table_row.attrs,qz([OD,"style","class","id"])),rU.table_row.toDOM=function(t){return["tr",Gz(t.attrs),0]},rU.table_row.parseDOM=[{tag:"tr",getAttrs:Vz}],rU.table.attrs=UD({},rU.table.attrs,qz(["style","class","id",MD,ED])),rU.table.toDOM=function(t){var e=Xz(t.attrs)?Gz(t.attrs,[MD,ED]):{},r=null;if(t.attrs[MD]&&!function(t){for(var e=!1,r=t.child(0),n=0;n<r.childCount;n++)if(r.child(n).attrs.colwidth){e=!0;break}return e}(t)){var n=eU(t.attrs[MD]);if(n){var i=Array.from(n.children).map((function(t){return["col",Vz(t)]}));r=["colgroup",Vz(n)].concat(i)}}return r?["table",e,r,["tbody",0]]:["table",e,["tbody",0]]},rU.table.parseDOM=[{tag:"table",getAttrs:function(t){var e=Vz(t),r=Array.from(t.childNodes).find((function(t){return"COLGROUP"===t.nodeName}));return r&&(e[MD]=r.outerHTML),e}}];var nU=UD({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:UD({},Wz()),parseDOM:[{tag:"p",getAttrs:Vz}],toDOM:function(t){return Xz(t.attrs)?["p",Gz(t.attrs),0]:["p",0]}},div:{content:"block*",group:"block",attrs:UD({},Wz()),parseDOM:[{tag:"div",getAttrs:Vz}],toDOM:function(t){return Xz(t.attrs)?["div",Gz(t.attrs),0]:["div",0]}},blockquote:{attrs:UD({},Wz()),content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote",getAttrs:Vz}],toDOM:function(t){return Xz(t.attrs)?["blockquote",Gz(t.attrs),0]:Bz}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return jz}},heading:{attrs:UD({},Wz(),{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:function(t){return UD({},Vz(t),{level:1})}},{tag:"h2",getAttrs:function(t){return UD({},Vz(t),{level:2})}},{tag:"h3",getAttrs:function(t){return UD({},Vz(t),{level:3})}},{tag:"h4",getAttrs:function(t){return UD({},Vz(t),{level:4})}},{tag:"h5",getAttrs:function(t){return UD({},Vz(t),{level:5})}},{tag:"h6",getAttrs:function(t){return UD({},Vz(t),{level:6})}}],toDOM:function(t){return Xz(t.attrs,"level")?["h"+t.attrs.level,Gz(t.attrs,["level"]),0]:["h"+t.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return zz}},text:{inline:!0,group:"inline"},image:{inline:!0,attrs:UD({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},Wz()),group:"inline",draggable:!0,parseDOM:[{tag:"img",getAttrs:Vz}],toDOM:function(t){return Xz(t.attrs)?["img",Gz(t.attrs)]:["img"]}},hard_break:{inline:!0,attrs:UD({},Wz()),group:"inline",selectable:!1,parseDOM:[{tag:"br",getAttrs:Vz}],toDOM:function(t){return Xz(t.attrs)?["br",Gz(t.attrs)]:["br"]}},ordered_list:{content:"list_item+",group:"block",attrs:UD({},Wz(),{type:{default:null},order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:function(t){return UD({},Vz(t),{order:t.hasAttribute("start")?parseInt(t.getAttribute("start")||"1",10):1})}}],toDOM:function(t){return 1===t.attrs.order?Xz(t.attrs,"order")?["ol",Gz(t.attrs,["order"]),0]:Uz:["ol",UD({},Gz(t.attrs,["order"]),{start:t.attrs.order}),0]}},bullet_list:{content:"list_item+",group:"block",attrs:UD({},Wz()),parseDOM:[{tag:"ul",getAttrs:Vz}],toDOM:function(t){return Xz(t.attrs)?["ul",Gz(t.attrs),0]:$z}},list_item:{content:"(paragraph | heading) block*",attrs:UD({},Wz()),parseDOM:[{tag:"li",getAttrs:Vz}],toDOM:function(t){return Xz(t.attrs)?["li",Gz(t.attrs),0]:Hz},defining:!0}},rU),iU=200,oU=function(){};oU.prototype.append=function(t){return t.length?(t=oU.from(t),!this.length&&t||t.length<iU&&this.leafAppend(t)||this.length<iU&&t.leafPrepend(this)||this.appendInner(t)):this},oU.prototype.prepend=function(t){return t.length?oU.from(t).append(this):this},oU.prototype.appendInner=function(t){return new aU(this,t)},oU.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?oU.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},oU.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},oU.prototype.forEach=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=this.length),e<=r?this.forEachInner(t,e,r,0):this.forEachInvertedInner(t,e,r,0)},oU.prototype.map=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=this.length);var n=[];return this.forEach((function(e,r){return n.push(t(e,r))}),e,r),n},oU.from=function(t){return t instanceof oU?t:t&&t.length?new sU(t):oU.empty};var sU=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,r){return 0==t&&r==this.length?this:new e(this.values.slice(t,r))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,r,n){for(var i=e;i<r;i++)if(!1===t(this.values[i],n+i))return!1},e.prototype.forEachInvertedInner=function(t,e,r,n){for(var i=e-1;i>=r;i--)if(!1===t(this.values[i],n+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=iU)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=iU)return new e(t.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(oU);oU.empty=new sU([]);var aU=function(t){function e(e,r){t.call(this),this.left=e,this.right=r,this.length=e.length+r.length,this.depth=Math.max(e.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,r,n){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(r,i),n))&&(!(r>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,r)-i,n+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,r,n){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(r,i)-i,n+i))&&(!(r<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),r,n))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var r=this.left.length;return e<=r?this.left.slice(t,e):t>=r?this.right.slice(t-r,e-r):this.left.slice(t,r).append(this.right.slice(0,e-r))},e.prototype.leafAppend=function(t){var r=this.right.leafAppend(t);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(t){var r=this.left.leafPrepend(t);if(r)return new e(r,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(oU);const lU=oU;var cU=function(t,e){this.items=t,this.eventCount=e};cU.prototype.popEvent=function(t,e){var r=this;if(0==this.eventCount)return null;for(var n,i,o=this.items.length;;o--){if(this.items.get(o-1).selection){--o;break}}e&&(n=this.remapping(o,this.items.length),i=n.maps.length);var s,a,l=t.tr,c=[],h=[];return this.items.forEach((function(t,e){if(!t.step)return n||(n=r.remapping(o,e+1),i=n.maps.length),i--,void h.push(t);if(n){h.push(new hU(t.map));var u,p=t.step.map(n.slice(i));p&&l.maybeStep(p).doc&&(u=l.mapping.maps[l.mapping.maps.length-1],c.push(new hU(u,null,null,c.length+h.length))),i--,u&&n.appendMap(u,i)}else l.maybeStep(t.step);return t.selection?(s=n?t.selection.map(n.slice(i)):t.selection,a=new cU(r.items.slice(0,o).append(h.reverse().concat(c)),r.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:l,selection:s}},cU.prototype.addTransform=function(t,e,r,n){for(var i=[],o=this.eventCount,s=this.items,a=!n&&s.length?s.get(s.length-1):null,l=0;l<t.steps.length;l++){var c,h=t.steps[l].invert(t.docs[l]),u=new hU(t.mapping.maps[l],h,e);(c=a&&a.merge(u))&&(u=c,l?i.pop():s=s.slice(0,s.length-1)),i.push(u),e&&(o++,e=null),n||(a=u)}var p,d,f,g=o-r.depth;return g>pU&&(d=g,(p=s).forEach((function(t,e){if(t.selection&&0==d--)return f=e,!1})),s=p.slice(f),o-=g),new cU(s.append(i),o)},cU.prototype.remapping=function(t,e){var r=new AF;return this.items.forEach((function(e,n){var i=null!=e.mirrorOffset&&n-e.mirrorOffset>=t?r.maps.length-e.mirrorOffset:null;r.appendMap(e.map,i)}),t,e),r},cU.prototype.addMaps=function(t){return 0==this.eventCount?this:new cU(this.items.append(t.map((function(t){return new hU(t)}))),this.eventCount)},cU.prototype.rebased=function(t,e){if(!this.eventCount)return this;var r=[],n=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,s=this.eventCount;this.items.forEach((function(t){t.selection&&s--}),n);var a=e;this.items.forEach((function(e){var n=i.getMirror(--a);if(null!=n){o=Math.min(o,n);var l=i.maps[n];if(e.step){var c=t.steps[n].invert(t.docs[n]),h=e.selection&&e.selection.map(i.slice(a+1,n));h&&s++,r.push(new hU(l,c,h))}else r.push(new hU(l))}}),n);for(var l=[],c=e;c<o;c++)l.push(new hU(i.maps[c]));var h=this.items.slice(0,n).append(l).append(r),u=new cU(h,s);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-r.length)),u},cU.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},cU.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),r=e.maps.length,n=[],i=0;return this.items.forEach((function(o,s){if(s>=t)n.push(o),o.selection&&i++;else if(o.step){var a=o.step.map(e.slice(r)),l=a&&a.getMap();if(r--,l&&e.appendMap(l,r),a){var c=o.selection&&o.selection.map(e.slice(r));c&&i++;var h,u=new hU(l.invert(),a,c),p=n.length-1;(h=n.length&&n[p].merge(u))?n[p]=h:n.push(u)}}else o.map&&r--}),this.items.length,0),new cU(lU.from(n.reverse()),i)},cU.empty=new cU(lU.empty,0);var hU=function(t,e,r,n){this.map=t,this.step=e,this.selection=r,this.mirrorOffset=n};hU.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new hU(e.getMap().invert(),e,this.selection)}};var uU=function(t,e,r,n){this.done=t,this.undone=e,this.prevRanges=r,this.prevTime=n},pU=20;function dU(t){var e=[];return t.forEach((function(t,r,n,i){return e.push(n,i)})),e}function fU(t,e){if(!t)return null;for(var r=[],n=0;n<t.length;n+=2){var i=e.map(t[n],1),o=e.map(t[n+1],-1);i<=o&&r.push(i,o)}return r}function gU(t,e,r,n){var i=vU(e),o=bU.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,i);if(s){var a=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),c=new uU(n?l:s.remaining,n?s.remaining:l,null,0);r(s.transform.setSelection(a).setMeta(bU,{redo:n,historyState:c}).scrollIntoView())}}var mU=!1,yU=null;function vU(t){var e=t.plugins;if(yU!=e){mU=!1,yU=e;for(var r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){mU=!0;break}}return mU}var bU=new TD("history"),wU=new TD("closeHistory");function xU(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new AD({key:bU,state:{init:function(){return new uU(cU.empty,cU.empty,null,0)},apply:function(e,r,n){return function(t,e,r,n){var i,o=r.getMeta(bU);if(o)return o.historyState;r.getMeta(wU)&&(t=new uU(t.done,t.undone,null,0));var s=r.getMeta("appendedTransaction");if(0==r.steps.length)return t;if(s&&s.getMeta(bU))return s.getMeta(bU).redo?new uU(t.done.addTransform(r,null,n,vU(e)),t.undone,dU(r.mapping.maps[r.steps.length-1]),t.prevTime):new uU(t.done,t.undone.addTransform(r,null,n,vU(e)),null,t.prevTime);if(!1===r.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=r.getMeta("rebased"))?new uU(t.done.rebased(r,i),t.undone.rebased(r,i),fU(t.prevRanges,r.mapping),t.prevTime):new uU(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),fU(t.prevRanges,r.mapping),t.prevTime);var a=0==t.prevTime||!s&&(t.prevTime<(r.time||0)-n.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;var r=!1;return t.mapping.maps[0].forEach((function(t,n){for(var i=0;i<e.length;i+=2)t<=e[i+1]&&n>=e[i]&&(r=!0)})),r}(r,t.prevRanges)),l=s?fU(t.prevRanges,r.mapping):dU(r.mapping.maps[r.steps.length-1]);return new uU(t.done.addTransform(r,a?e.selection.getBookmark():null,n,vU(e)),cU.empty,l,r.time)}(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput:function(t,e){var r="historyUndo"==e.inputType?SU(t.state,t.dispatch):"historyRedo"==e.inputType&&kU(t.state,t.dispatch);return r&&e.preventDefault(),r}}}})}function SU(t,e){var r=bU.getState(t);return!(!r||0==r.done.eventCount)&&(e&&gU(r,t,e,!1),!0)}function kU(t,e){var r=bU.getState(t);return!(!r||0==r.undone.eventCount)&&(e&&gU(r,t,e,!0),!0)}var AU=function(t,e){var r;this.match=t,this.handler="string"==typeof e?(r=e,function(t,e,n,i){var o=r;if(e[1]){var s=e[0].lastIndexOf(e[1]);o+=e[0].slice(s+e[1].length);var a=(n+=s)-i;a>0&&(o=e[0].slice(s-a,s)+o,n=i)}return t.tr.insertText(o,n,i)}):e};function CU(t,e){for(var r=t.plugins,n=0;n<r.length;n++){var i=r[n],o=void 0;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){for(var s=t.tr,a=o.transform,l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));if(o.text){var c=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,c))}else s.delete(o.from,o.to);e(s)}return!0}}return!1}new AU(/--$/,"—"),new AU(/\.\.\.$/,"…"),new AU(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new AU(/"$/,"”"),new AU(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new AU(/'$/,"’");var _U={mark:"strong",altMarks:["b"],altStyle:{name:"font-weight",value:/^(bold(er)?|[5-9]\d{2,})$/}},TU={mark:"em",altMarks:["i"],altStyle:{name:"font-style",value:/^italic$/i}},OU={mark:"u",altStyle:{name:"text-decoration",value:/^underline$/i}},MU={mark:"del",altStyle:{name:"text-decoration",value:/^line-through$/i}},EU={mark:"sub"},PU={mark:"sup"},IU={mark:"link"},FU="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),DU=function(t,e){var r={},n=e&&e.applyToWord||!1;if(r["Mod-z"]=SU,r["Shift-Mod-z"]=kU,r.Backspace=VR(CU,_R,TR,MR),r.Enter=VR(IR,RR,LR,BR),FU||(r["Mod-y"]=kU),t.marks.strong&&(r["Mod-b"]=GD(aR,UD({},_U,{applyToWord:n}))),t.marks.em&&(r["Mod-i"]=GD(aR,UD({},TU,{applyToWord:n}))),t.marks.u&&(r["Mod-u"]=GD(aR,UD({},OU,{applyToWord:n}))),t.nodes.hard_break){var i=t.nodes.hard_break,o=VR(DR,(function(t,e){return e(t.tr.replaceSelectionWith(i.create()).scrollIntoView()),!0}));r["Shift-Enter"]=o}return r},RU=function(t){var e={};return t.nodes.list_item&&(e.Enter=dL(t.nodes.list_item)),e},LU=/style=['"]?[^'"]*?mso-list:\s*[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,NU=function(t){return/^MsoListParagraph/.test(t.className)},BU=function(t){var e=t.innerHTML;return e=(e=e.replace(/<!--(.|\s)*?-->/gi,"")).replace(/<\/?[^>]+?\/?>/gm,"")},jU=function(t,e){var r=document.createElement(t);return r.style.listStyleType=e,r},zU=function(t){var e=null;return/^\d/.test(t)||(e=(/^[a-z]/.test(t)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(t)?"roman":"alpha")),e},UU=function(t,e){var r=[];Array.from(t).forEach((function(t){if(t.nodeType===Node.ELEMENT_NODE){var n=t;n.getAttribute("datalist")?(r.push(t),e.add(r)):NU(n)&&r.length?r.push(t):(r=[],"DIV"===n.nodeName?UU(n.children,e):"TABLE"===n.nodeName&&Array.from(n.querySelectorAll("td,th")).forEach((function(t){UU(t.children,e)})))}}))},$U=function(t){var e,r=t.innerHTML,n=function(t){return t.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};return r=r.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g," "),/^[\u2022\u00b7\u00a7\u00d8oØüvn][\u00a0 ]+/.test(r)?{tag:"ul",style:(e=n(BU(t)),/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(e)?null:/^o/.test(e)?"circle":"square")}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(r)?{tag:"ol",style:zU(n(BU(t)))}:void 0},HU=function(t){var e,r=t.nodeName.toLowerCase();t.firstChild&&t.firstChild.nodeType===Node.COMMENT_NODE&&t.removeChild(t.firstChild),1===t.childNodes.length?e=t.firstChild.nodeType===Node.TEXT_NODE?BU(t):t.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(t.removeChild(t.firstChild),3===t.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(t.firstChild.nodeValue)&&t.removeChild(t.firstChild),/^(&nbsp;|\s)+$/i.test(t.firstChild.innerHTML)&&t.removeChild(t.firstChild),e="p"!==r?"<"+r+">"+t.innerHTML+"</"+r+">":t.innerHTML),t.parentNode.removeChild(t);var n=document.createElement("li");return n.innerHTML=e,n},VU=function(t){var e=document.createElement("div");e.innerHTML=function(t){return t.replace(LU,(function(t,e,r){return'datalist="'+e+'" datalevel="'+r+'" '+t}))}(t);var r=new Set;return UU(e.children,r),r.forEach((function(t){return function(t){var e,r,n,i,o,s,a,l,c,h,u,p,d,f=-1,g={};for(l=0;l<t.length;l++){var m=(d={datalist:(c=t[l]).getAttribute("datalist"),datalevel:c.getAttribute("datalevel")}).datalist,y=$U(c);if(h=y&&y.tag){if(u=d.datalevel||parseFloat(c.style.marginLeft||0),d.datalevel||c.style.marginLeft){var v=h+m;g[u]||(g[u]={}),(!r||r<0)&&(r=u,n=m,i=(a=t.filter((function(t){return t.getAttribute("datalist")===String(n)})))[a.length-1],s=jU(h,y&&y.style),c.parentNode.insertBefore(s,c),f=u,g[u][v]=s),o=i===c,p=g[u][v],(u>f||!p)&&(p=jU(h,y&&y.style),g[u][v]=p,e.appendChild(p)),e=HU(c),p.appendChild(e),o?r=f=-1:f=u}}else!e||o&&!NU(c)||(c.style.marginLeft&&(c.style.marginLeft=""),c.style.marginLeft&&(c.style.margin=""),e.appendChild(c))}}(t)})),e.innerHTML},qU=function(t){t.ownerElement&&t.ownerElement.removeAttribute(t.name)},WU=function(t){/^Mso/.test(t.value)&&qU(t)},XU=/\s*;\s*/,GU=/\s*:\s*/,KU=function(t){var e,r,n=t.value.split(XU).filter((function(t){return Boolean(t)})),i=t.ownerElement.style,o="";n.forEach((function(t){var n;n=t.split(GU),e=n[0],r=n[1],void 0!==i[e]&&(o+=e+": "+r+"; ")})),(o=o.trim())?t.value=o:qU(t)},YU=function(t,e){var r=t;if(e.convertMsLists&&(r=VU(r)),e.stripTags&&(r=function(t,e){return t.replace(new RegExp("<\\/?("+e+")(?:\\s[^>]*?)?>","gi"),"")}(r,e.stripTags)),e.attributes){var n=document.createElement("div");n.innerHTML=r,Array.from(n.querySelectorAll("*")).forEach((function(t){return function(t,e){if(t.nodeType===Node.ELEMENT_NODE){for(var r=t.attributes.length-1;r>=0;r--){var n=t.attributes[r];e[n.name]?e[n.name](n):e["*"]&&e["*"](n)}"SPAN"===t.nodeName&&0===t.attributes.length&&function(t){var e=t.parentNode;if(e){for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}}(t)}}(t,e.attributes)})),r=n.innerHTML}return r};var JU=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/;new RegExp("(?:("+JU.source+"))([\\da-fA-F\\s]+)\\}","g");new TD("highlight");var ZU={southeast:{x:1,y:1},east:{x:1,y:0},south:{x:0,y:1},north:{x:0,y:-1},west:{x:-1,y:0},southwest:{x:-1,y:1},northwest:{x:-1,y:-1},northeast:{x:1,y:-1}},QU=Object.keys(ZU),t$=new TD("image-resize"),e$=function(t,e,r){t.style[e]=r+"px"},r$=/[^\-]width:|[^\-]height:/,n$=/^.+$/,i$=function(){function t(t,e,r,n){this.activeHandle=t,this.dragging=e,this.rect=r,this.nodePosition=n}return t.prototype.apply=function(e){var r=e.getMeta(t$);return r?new t(r.activeHandle,r.setDragging,r.rect,r.nodePosition):this},t}(),o$=function(t,e,r){var n=e.target.getAttribute(FD);if(!n)return!1;var i=t$.getState(t.state);e.preventDefault();var o=t.state.tr;function s(e){!function(t,e,r){var n=t$.getState(t.state),i=n.rect,o=n.dragging,s=n.nodePosition,a=n.activeHandle;if(o&&i){var l=t.nodeDOM(s),c=ZU[a],h=(e.clientX-o.startX)*c.x,u=(e.clientY-o.startY)*c.y,p=c.x?h+l.width:i.width,d=c.y?u+l.height:i.height;if(r.lockRatio&&c.x&&c.y){var f=Math.min(p/l.width,d/l.height),g=l.width*f,m=l.height*f;o.startX=e.clientX-(p-g)*c.x,o.startY=e.clientY-(d-m)*c.y,p=g,d=m}else o.startX=c.x?e.clientX:o.startX,o.startY=c.y?e.clientY:o.startY;e$(l,"width",p),e$(l,"height",d),i.top=l.offsetTop,i.left=l.offsetLeft,i.width=l.offsetWidth,i.height=l.offsetHeight;var y=l.nextElementSibling;y.style.width=i.width+"px",y.style.height=i.height+"px",y.style.top=i.top+"px",y.style.left=i.left+"px"}}(t,e,r)}return o.setMeta(t$,{setDragging:{startX:e.clientX,startY:e.clientY},activeHandle:n,rect:i.rect,nodePosition:i.nodePosition}),o.setMeta("addToHistory",!1),t.dispatch(o),e.view.addEventListener("mouseup",(function e(r){r.view.removeEventListener("mouseup",e),r.view.removeEventListener("mousemove",s),function(t){var e=t$.getState(t.state),r=e.rect,n=e.dragging,i=e.nodePosition;if(n&&r){var o=t.state.selection;if(o instanceof cD){var s=o.node.attrs,a=r.width,l=r.height,c=void 0;if(r$.test(s.style||"")){var h=HD(s.style,{style:"width",value:n$,newValue:a+"px"}),u=HD(h.style||"",{style:"height",value:n$,newValue:l+"px"}).style;c=UD({},s,{style:u})}else c=UD({},s,{width:a,height:l});var p=o.node.type.createAndFill(c);if(p){var d=t.state.tr;d.replaceWith(i,i+1,p),d.setSelection(cD.create(d.doc,i)),d.setMeta("commandName","image-resize"),d.setMeta("args",c),d.setMeta(t$,{setDragging:null,activeHandle:null,rect:r,nodePosition:i}),t.dispatch(d)}}}}(t)})),e.view.addEventListener("mousemove",s),!0},s$=function(t){return void 0===t&&(t={node:"image",lockRatio:!0}),new AD({key:t$,view:function(e){return{resize:function(){t$.getState(e.state).rect&&e.dispatch(e.state.tr.setMeta("resize",!0))},get window(){return e.dom.ownerDocument&&e.dom.ownerDocument.defaultView},attachResize:function(){var t=this.window;t&&(t.removeEventListener("resize",this.resize),t.addEventListener("resize",this.resize))},removeResize:function(){var t=this.window;t&&t.removeEventListener("resize",this.resize)},update:function(e,r){var n=e.state,i=n.selection,o=n.schema.nodes[t.node],s=t$.getState(n),a=s.rect;if(i instanceof cD&&o===i.node.type){var l=e.nodeDOM(i.from),c={top:l.offsetTop,left:l.offsetLeft,width:l.offsetWidth,height:l.offsetHeight};if(!r.selection.eq(i)||a&&(a.width!==c.width||a.height!==c.height||a.top!==c.top||a.left!==c.left)){var h=n.tr;h.setMeta(t$,{rect:c,nodePosition:i.from}),e.dispatch(h),this.attachResize()}}else a&&(s.rect=null,s.nodePosition=-1)},destroy:function(){this.removeResize()}}},state:{init:function(){return new i$("",null,null,-1)},apply:function(t,e){return e.apply(t)}},props:{handleDOMEvents:{mousedown:function(e,r){return o$(e,r,t)}},decorations:function(e){var r=e.selection,n=e.schema.nodes[t.node],i=t$.getState(e).rect;if(i&&r instanceof cD&&n===r.node.type){var o=document.createElement("div");o.className="k-editor-resize-handles-wrapper",o.style.width=i.width+"px",o.style.height=i.height+"px",o.style.top=i.top+"px",o.style.left=i.left+"px";for(var s=0;s<QU.length;s++){var a=document.createElement("div");a.className=PD+" "+QU[s],a.setAttribute(FD,QU[s]),o.appendChild(a)}return uj.create(e.doc,[aj.widget(e.selection.from+1,o)])}return uj.empty}}})};new TD("caret-color");var a$=function(){function t(t,e){this.node=t,this.view=e,this.dom=document.createElement("div"),this.dom.className="k-editor-resize-wrap-element",this.table=this.dom.appendChild(document.createElement("table")),t.attrs[MD]&&this.renderColgroup(t.attrs[MD]);var r=this.table.appendChild(document.createElement("tbody"));this.setAttributes(this.table,t.attrs),this.resizeHandles=QU.map((function(t){var e=document.createElement("span");return e.className=PD+" "+t,e.setAttribute(ID,t),e})),this.contentDOM=r}return t.prototype.update=function(t){var e=this;if(t.type!==this.node.type)return!1;var r=this.node;return this.node=t,t.attrs[ED]?this.resizeHandles.forEach((function(t){e.dom.appendChild(t)})):Array.from(this.dom.children).filter((function(t){return t.classList.contains(PD)})).forEach((function(t){return t.remove()})),this.setAttributes(this.table,t.attrs),r.attrs[MD]!==t.attrs[MD]&&this.renderColgroup(t.attrs[MD]),!0},t.prototype.ignoreMutation=function(t){return"attributes"===t.type&&(t.target===this.table||t.target.firstChild===this.table||this.colgroup&&this.colgroup.contains(t.target))},t.prototype.destroy=function(){this.node=void 0,this.view=void 0,this.table=void 0,this.colgroup=void 0,this.resizeHandles=void 0},t.prototype.renderColgroup=function(t){this.table&&this.table.firstChild&&"COLGROUP"===this.table.firstChild.nodeName&&this.table.removeChild(this.table.firstChild),t&&(this.colgroup=eU(t),this.table.insertBefore(this.colgroup,this.table.firstChild))},t.prototype.setAttributes=function(t,e){var r=[MD,ED];for(var n in e)if(n&&-1===r.indexOf(n)){var i=t.getAttribute(n),o=e[n];o&&o!==i?t.setAttribute(n,o):o||t.removeAttribute(n)}},t}(),l$=/^.+$/,c$=function(t){return(t||"").split(/\s*;\s*/).filter(Boolean).map((function(t){var e,r=t.split(/\s*:\s*/);return(e={})[r[0]]=r[1],e})).reduce((function(t,e){return UD({},t,e)}),{})};function h$(t,e,r){var n;if(new RegExp("[^-]?"+e+":").test(t.style||"")){var i=HD(t.style||"",{style:e,value:l$,newValue:r}).style;n=UD({},t,{style:i})}else n=t.style?UD({},t,{style:t.style.replace(/;$/,"")+"; "+e+": "+r+";"}):UD({},t,{style:e+": "+r+";"});return n}var u$=new TD("table-resize"),p$=new TD("table-column-resizing"),d$=new TD("table-row-resizing");function f$(t,e){var r=!1;return r=(r=(r=r||t!==u$&&Boolean(u$.get(e))&&u$.getState(e).dragging)||t!==p$&&Boolean(p$.get(e))&&p$.getState(e).dragging)||t!==d$&&Boolean(d$.get(e))&&d$.getState(e).dragging}function g$(t,e){var r=!1;return r=(r=r||t!==p$&&Boolean(p$.get(e))&&p$.getState(e).activeHandle>-1)||t!==d$&&Boolean(d$.get(e))&&d$.getState(e).activeHandle>-1}function m$(t){return t&&t.firstChild&&"TABLE"===t.firstChild.nodeName?t.firstChild:t}function y$(t){for(;t&&"TD"!==t.nodeName&&"TH"!==t.nodeName;)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function v$(t,e){for(var r=t.depth;r>0;r--){var n=t.node(r);if(e(n))return{node:n,depth:r}}return null}function b$(){var t=a$,e=new AD({key:p$,state:{init:function(e,r){return this.spec.props.nodeViews[jj(r.schema).table.name]=function(e,r){return new t(e,r)},new w$(-1,null)},apply:function(t,e){return e.apply(t)}},props:{attributes:function(t){return g$(p$,t)?null:p$.getState(t).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(t,e){return f$(p$,t.state)||function(t,e,r){var n=p$.getState(t.state);if(!n.dragging){var i=y$(e.target),o=-1;if(i){var s=function(t){var e=t.parentNode;return{cellIndex:t.cellIndex,rowIndex:e.rowIndex}}(i),a=i.getBoundingClientRect(),l=a.left,c=a.right;Math.abs(e.clientX-l)<=r&&s.cellIndex>0?(s.cellIndex--,o=x$(t,e,s)):c-e.clientX>0&&c-e.clientX<=r&&(o=x$(t,e,s))}o!==n.activeHandle&&k$(t,o)}}(t,e,5),!1},mouseleave:function(t){return function(t){var e=p$.getState(t.state);e.activeHandle>-1&&!e.dragging&&k$(t,-1)}(t),!1},mousedown:function(t,e){return function(t,e,r){var n,i=p$.getState(t.state);if(-1===i.activeHandle||i.dragging)return!1;for(var o=t.state.doc.resolve(i.activeHandle),s=o.parent,a=o.index(),l=0,c=0;c<=a;c++)l+=s.child(c).attrs.colspan;var h,u,p=o.node(o.depth-1),d=t.domAtPos(i.activeHandle),f=d.node.childNodes[d.offset].closest("table");if(p.attrs[MD]){(h=(m=f.firstChild).children[l-1]).style.width||(h.style.width=h.offsetWidth+"px")}else{var g=0;for(c=0;c<s.childCount;c++)g+=s.child(c).attrs.colspan;var m=document.createElement("colgroup"),y=new Array(g);for(c=0;c<g;c++)y[c]=document.createElement("col"),m.appendChild(y[c]);f.insertBefore(m,f.firstChild),(h=y[a]).style.width=h.offsetWidth+"px",u=UD({},p.attrs,((n={})[MD]="<colgroup>"+y.reduce((function(t,e){return t+e.outerHTML}),"")+"</colgroup>",n))}var v=parseFloat(h.style.width),b=t.state.tr.setMeta(p$,{setDragging:{startX:e.clientX,startWidth:v}});if(!f.style.width){var w=Array.from(h.parentNode.children).map((function(t){return t.style.width}));if(w.every(Boolean)){var x=w.reduce((function(t,e){return t+parseFloat(e)}),0);u=h$(u||p.attrs,"width",x+"px")}}if(u){var S=o.posAtIndex(0,o.depth-1)-1;b.setNodeMarkup(S,null,u)}function k(e){e.view.removeEventListener("mouseup",k),e.view.removeEventListener("mousemove",A);var n=p$.getState(t.state);if(n.dragging){var i=t.state.tr;!function(t,e,r,n){var i,o=t.state.doc.resolve(r),s=o.node(-1),a=o.start(-1),l=o.posAtIndex(0,o.depth-1)-1,c=t.nodeDOM(a).closest("table"),h=s.attrs;if(s&&h[MD]){var u=c.firstChild;h=UD({},h,((i={})[MD]=u.outerHTML,i))}var p=c.style.width;c&&p&&c$(h.style).width!==p&&(h=h$(h,"width",p),e.setNodeMarkup(l,null,h))}(t,i,n.activeHandle,S$(n.dragging,e,r)),t.dispatch(i.setMeta(p$,{setDragging:null}))}}function A(e){if(!e.which)return k(e);var n=p$.getState(t.state),i=S$(n.dragging,e,r);!function(t,e,r,n){var i=t.state.doc.resolve(e),o=i.node(-1),s=i.start(-1),a=Rj.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1,l=t.domAtPos(i.start(-1)).node;"TABLE"!==l.nodeName&&(l=l.closest("table"));var c=l,h=c.firstChild,u=Array.from(h.children);if(u[a].style.width=r+"px",c.style.width){var p=u.map((function(t){return t.style.width}));if(p.every(Boolean)){var d=p.reduce((function(t,e){return t+parseFloat(e)}),0);c.style.width=d+"px"}}}(t,n.activeHandle,i)}return t.dispatch(b),e.view.addEventListener("mouseup",k),e.view.addEventListener("mousemove",A),e.preventDefault(),!0}(t,e,25)}},decorations:function(t){if(!f$(p$,t)){var e=p$.getState(t);if(e.activeHandle>-1)return function(t,e){for(var r=[],n=t.doc.resolve(e),i=n.node(-1),o=Rj.get(i),s=n.start(-1),a=o.colCount(n.pos-s)+n.nodeAfter.attrs.colspan,l=0;l<o.height;l++){var c=a+l*o.width-1;if(!(a!==o.width&&o.map[c]===o.map[c+1]||0!==l&&o.map[c-1]===o.map[c-1-o.width])){var h=o.map[c],u=s+h+i.nodeAt(h).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",r.push(aj.widget(u,p))}}return uj.create(t.doc,r)}(t,e.activeHandle)}return uj.empty},nodeViews:{}}});return e}var w$=function(){function t(t,e){this.activeHandle=t,this.dragging=e}return t.prototype.apply=function(e){var r,n=this,i=e.getMeta(p$);if(i&&null!=i.setHandle)return new t(i.setHandle,null);if(i&&void 0!==i.setDragging)return new t(n.activeHandle,i.setDragging);if(n.activeHandle>-1&&e.docChanged){var o=e.mapping.map(n.activeHandle,-1);r=e.doc.resolve(o),Boolean("row"===r.parent.type.spec.tableRole&&r.nodeAfter)||(o=-1),n=new t(o,n.dragging)}return n},t}();function x$(t,e,r){var n=t.posAtCoords({left:e.clientX,top:e.clientY});if(!n)return-1;var i=t.state.doc.resolve(n.pos),o=v$(i,(function(t){return"table"===t.type.spec.tableRole}));if(null===o)return-1;var s=i.start(o.depth),a=o.node,l=Rj.get(a);return s+l.map[l.width*r.rowIndex+r.cellIndex]}function S$(t,e,r){var n=e.clientX-t.startX;return Math.max(r,t.startWidth+n)}function k$(t,e){var r=t.state.tr;r.setMeta("addToHistory",!1),r.setMeta(p$,{setHandle:e}),t.dispatch(r)}var A$={southeast:!0,southwest:!0,northwest:!0,northeast:!0},C$=UD({east:!0,west:!0},A$),_$=UD({south:!0,north:!0},A$),T$=function(){function t(t,e,r){this.activeHandle=t,this.dragging=e,this.nodePosition=r}return t.prototype.apply=function(e){var r=e.getMeta(u$);return r?new t(r.activeHandle,r.setDragging,r.nodePosition):this},t}(),O$=function(t){var e=Array.from(t.firstChild.children).map((function(t){return t.offsetWidth})),r=Array.from(t.rows).map((function(t){return t.offsetHeight})),n=e.reduce((function(t,e){return t+e}),0),i=r.reduce((function(t,e){return t+e}),0),o=t.offsetHeight;return{width:n,height:i,colsWidth:e,rowsHeight:r,offsetWidth:t.offsetWidth,offsetHeight:o}},M$=function(t){var e=u$.getState(t.state),r=e.dragging,n=e.nodePosition,i=e.activeHandle;if(r){var o=t.state.doc.nodeAt(n),s=m$(t.nodeDOM(n)),a=O$(s);if(o){var l=a.offsetWidth+"px",c=a.offsetHeight+"px",h=t.state.tr,u=o.attrs,p=c$(u.style);C$[i]&&s.style.width&&p.width!==l&&(u=h$(u,"width",l)),_$[i]&&s.style.height&&p.height!==c&&(u=h$(u,"height",c)),u=function(t,e,r,n){var i=t.state.doc.nodeAt(r),o=m$(t.nodeDOM(r)),s=(o.ownerDocument&&o.ownerDocument.defaultView||window).getComputedStyle,a=Array.from(o.rows);i.forEach((function(t,n,i){var o=c$(t.attrs.style).height;o&&!/px$/.test(o)&&e.setNodeMarkup(r+n+1,null,h$(t.attrs,"height",s(a[i]).height))}));var l=o.firstChild,c=Array.from(l&&l.children||[]),h=!1;c.forEach((function(t,e){t.style.width&&!/px$/.test(t.style.width)&&(t.style.width=s(c[e]).width,h=!0)}));var u=UD({},n);return h&&(u[MD]=l.outerHTML),u}(t,h,n,u),h.setNodeMarkup(n,null,u),h.setMeta("commandName","node-resize"),h.setMeta("args",u),h.setMeta(u$,{setDragging:null,activeHandle:null,nodePosition:n}),t.dispatch(h)}}},E$=function(t,e){var r=e.target.getAttribute(ID);if(!r)return!1;var n=u$.getState(t.state);e.preventDefault();var i=t.state.tr;i.setMeta(u$,{setDragging:{startX:e.clientX,startY:e.clientY},activeHandle:r,nodePosition:n.nodePosition}),i.setMeta("addToHistory",!1),function(t,e,r){var n=t.state.doc.nodeAt(r),i=m$(t.nodeDOM(r)),o=O$(i),s=o.width,a=o.height,l=o.colsWidth,c=o.rowsHeight,h=o.offsetWidth,u=o.offsetHeight,p=i.firstChild,d=Array.from(p&&p.children||[]),f=!1;d.forEach((function(t,e){t.style.width&&!/%$/.test(t.style.width)&&(t.style.width=100*l[e]/s+"%",f=!0)}));var g=!1;n.forEach((function(t,n,i){var o=c$(t.attrs.style).height;o&&!/%$/.test(o)&&(e.setNodeMarkup(r+n+1,null,h$(t.attrs,"height",100*c[i]/a+"%")),g=!0)}));var m=n.attrs;c$(m.style).width!==h+"px"&&(m=h$(m,"width",h+"px")),f&&(m[MD]=p.outerHTML),g&&(m=h$(m,"height",u+"px")),(f||g)&&e.setNodeMarkup(r,null,m)}(t,i,n.nodePosition),t.dispatch(i);var o=e.view||window;function s(e){!function(t,e){var r=u$.getState(t.state),n=r.dragging,i=r.nodePosition,o=r.activeHandle;if(!(i<0)&&n){var s=m$(t.nodeDOM(i)),a=s.getBoundingClientRect(),l=ZU[o],c=(e.clientX-n.startX)*l.x,h=(e.clientY-n.startY)*l.y,u=(s.ownerDocument&&s.ownerDocument.defaultView||window).getComputedStyle(s),p=/px/.test(u.width)?parseFloat(u.width):s.offsetWidth,d=/px/.test(u.height)?parseFloat(u.height):s.offsetHeight,f=l.x?c+p:a.width,g=l.y?h+d:a.height;n.startX=l.x?e.clientX:n.startX,n.startY=l.y?e.clientY:n.startY,C$[o]&&(s.style.width=f+"px"),_$[o]&&(s.style.height=g+"px")}}(t,e)}return o.addEventListener("mouseup",(function e(r){o.removeEventListener("mouseup",e),o.removeEventListener("mousemove",s),M$(t)})),o.addEventListener("mousemove",s),!0},P$=function(t){return void 0===t&&(t={node:"table"}),new AD({key:u$,view:function(e){return{selectedNode:function(t,e){var r=t.selection;if(r instanceof cD&&e===r.node.type&&r instanceof cD)return{node:r.node,pos:r.from};var n=v$(r.$from,(function(t){return t.type===e})),i=n&&n.node;if(i){var o=new Array(r.$from.depth+1).fill(0).findIndex((function(t,e){return"table"===r.$from.node(e).type.spec.tableRole}));return{node:i,pos:r.$from.start(o)-1}}return null},update:function(e,r){var n,i,o,s,a,l=e.state,c=l.schema.nodes[t.node],h=this.selectedNode(l,c),u=this.selectedNode(r,c);if((h||!u||r.doc.eq(e.state.doc))&&(h||u)){var p=l.tr;p.setMeta("addToHistory",!1),h&&u&&h.pos!==u.pos?(p.setMeta(u$,{nodePosition:h.pos}),p.setNodeMarkup(u.pos,c,UD({},u.node.attrs,((n={})[ED]=!1,n))),p.setNodeMarkup(h.pos,c,UD({},h.node.attrs,((i={})[ED]=!0,i))),e.dispatch(p)):h&&u&&h.pos===u.pos&&!h.node.attrs[ED]&&!l.selection.eq(r.selection)?(p.setMeta(u$,{nodePosition:h.pos}),e.dispatch(p.setNodeMarkup(h.pos,c,UD({},h.node.attrs,((o={})[ED]=!0,o))))):h&&!u?(p.setMeta(u$,{nodePosition:h.pos}),e.dispatch(p.setNodeMarkup(h.pos,c,UD({},h.node.attrs,((s={})[ED]=!0,s))))):!h&&u&&(p.setMeta(u$,{nodePosition:-1}),e.dispatch(p.setNodeMarkup(u.pos,c,UD({},u.node.attrs,((a={})[ED]=!1,a)))))}}}},state:{init:function(){return new T$("",null,-1)},apply:function(t,e){return e.apply(t)}},props:{handleDOMEvents:{mousedown:function(t,e){return E$(t,e)}}}})},I$=function(){function t(){}return t.prototype.ignoreMutation=function(t){return"attributes"===t.type&&"style"===t.attributeName&&"TR"===t.target.nodeName},t}();function F$(){var t=new AD({key:d$,state:{init:function(t,e){return this.spec.props.nodeViews[jj(e.schema).row.name]=function(t,e){return new I$},new D$(-1,null)},apply:function(t,e){return e.apply(t)}},props:{attributes:function(t){return g$(d$,t)?null:d$.getState(t).activeHandle>-1?{class:"resize-cursor-vertical"}:null},handleDOMEvents:{mousemove:function(t,e){return f$(d$,t.state)||function(t,e,r){var n=d$.getState(t.state);if(!n.dragging){var i=y$(e.target),o=-1;if(i){var s=i.parentNode,a=s.getBoundingClientRect();Math.abs(e.clientY-a.top)<=r&&s.rowIndex>0?o=R$(t,e,s.rowIndex-1):a.bottom-e.clientY>0&&a.bottom-e.clientY<=r&&(o=R$(t,e,s.rowIndex))}o!==n.activeHandle&&L$(t,o)}}(t,e,5),!1},mouseleave:function(t){return function(t){var e=d$.getState(t.state);e.activeHandle>-1&&!e.dragging&&L$(t,-1)}(t),!1},mousedown:function(t,e){return function(t,e){var r=d$.getState(t.state);if(-1===r.activeHandle||r.dragging)return!1;var n=t.state.doc,i=n.resolve(r.activeHandle),o=n.nodeAt(r.activeHandle),s=i.parent,a=c$(o.attrs.style).height,l=c$(s.attrs.style).height,c=a?parseFloat(a):0;if(!a){c=t.nodeDOM(r.activeHandle).offsetHeight}function h(e){e.view.removeEventListener("mouseup",h),e.view.removeEventListener("mousemove",u);var r=d$.getState(t.state);if(r.dragging){var n=t.state.tr.setMeta(d$,{setDragging:null});!function(t,e,r){var n=t.state.doc,i=n.nodeAt(r),o=t.nodeDOM(r),s=o.ownerDocument&&o.ownerDocument.defaultView||window;o.style.height=s.getComputedStyle(o).height,e.setNodeMarkup(r,null,h$(i.attrs,"height",o.style.height));var a=o&&o.closest("table"),l=a&&a.style.height;if(l){var c=n.resolve(r),h=c.start(c.depth)-1;e.setNodeMarkup(h,null,h$(c.parent.attrs,"height",l))}}(t,n,r.activeHandle),t.dispatch(n)}}function u(e){if(!e.which)return h(e);var r=d$.getState(t.state),n=function(t,e){var r=e.clientY-t.startY;return t.startHeight.rowHeight+r}(r.dragging,e),i=e.clientY-r.dragging.startY;!function(t,e,r,n,i){var o=t.nodeDOM(e);if(o){o.style.height=r+"px";var s=o.ownerDocument&&o.ownerDocument.defaultView||window;o.style.height=s.getComputedStyle(o).height;var a=o.closest("table"),l=parseFloat(i)+n+"px",c=a&&a.style.height;c&&c!==l&&(a.style.height=parseFloat(i)+n+"px",a.style.height=s.getComputedStyle(a).height)}}(t,r.activeHandle,n,i,l)}return t.dispatch(t.state.tr.setMeta(d$,{setDragging:{startY:e.clientY,startHeight:{rowHeight:c,tableHeight:l}}})),e.view.addEventListener("mouseup",h),e.view.addEventListener("mousemove",u),e.preventDefault(),!0}(t,e)}},decorations:function(t){if(f$(d$,t))return uj.empty;var e=d$.getState(t);return e.activeHandle>-1?function(t,e){var r=[];if("number"!=typeof e)return uj.empty;for(var n=t.doc.resolve(e),i=n.parent,o=Rj.get(i),s=n.index(n.depth),a=n.start(n.depth),l=0;l<o.width;l++){var c=l+s*o.width,h=o.map[c],u=i.nodeAt(h),p=a+h+(u?u.nodeSize:0)-1,d=document.createElement("div");d.className="row-resize-handle",r.push(aj.widget(p,d))}return uj.create(t.doc,r)}(t,e.activeHandle):void 0},nodeViews:{}}});return t}var D$=function(){function t(t,e){this.activeHandle=t,this.dragging=e}return t.prototype.apply=function(e){var r,n=this,i=e.getMeta(d$);if(i&&null!=i.setHandle)return new t(i.setHandle,null);if(i&&void 0!==i.setDragging)return new t(n.activeHandle,i.setDragging);if(n.activeHandle>-1){var o=e.mapping.map(n.activeHandle,-1);"row"===(r=e.doc.resolve(o)).parent.type.spec.tableRole&&r.nodeAfter||(o=null),n=new t(o,n.dragging)}return n},t}();function R$(t,e,r){var n=t.posAtCoords({left:e.clientX,top:e.clientY});if(!n)return-1;var i=t.state.doc.resolve(n.pos),o=v$(i,(function(t){return"table"===t.type.spec.tableRole}));if(null===o)return-1;var s=i.start(o.depth),a=o.node,l=Rj.get(a);return s+l.map[l.width*r]-1}function L$(t,e){var r=t.state.tr;r.setMeta("addToHistory",!1),r.setMeta(d$,{setHandle:e}),t.dispatch(r)}var N$=function(t,e){var r=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(e){var n=function(t){return r[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}}))};N$.prototype.destroy=function(){var t=this;this.handlers.forEach((function(e){var r=e.name,n=e.handler;return t.editorView.dom.removeEventListener(r,n)}))},N$.prototype.update=function(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())},N$.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},N$.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var r=e.nodeBefore,n=e.nodeAfter;if(r||n){var i=this.editorView.nodeDOM(this.cursorPos-(r?r.nodeSize:0)).getBoundingClientRect(),o=r?i.bottom:i.top;r&&n&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:i.left,right:i.right,top:o-this.width/2,bottom:o+this.width/2}}}if(!t){var s=this.editorView.coordsAtPos(this.cursorPos);t={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!c||c==document.body&&"static"==getComputedStyle(c).position)a=-pageXOffset,l=-pageYOffset;else{var h=c.getBoundingClientRect();a=h.left-c.scrollLeft,l=h.top-c.scrollTop}this.element.style.left=t.left-a+"px",this.element.style.top=t.top-l+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},N$.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return e.setCursor(null)}),t)},N$.prototype.dragover=function(t){if(this.editorView.editable){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),n=r&&r.type.spec.disableDropCursor,i="function"==typeof n?n(this.editorView,e):n;if(e&&!i){var o=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(o=UF(this.editorView.state.doc,o,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(o),this.scheduleRemoval(5e3)}}},N$.prototype.dragend=function(){this.scheduleRemoval(20)},N$.prototype.drop=function(){this.scheduleRemoval(20)},N$.prototype.dragleave=function(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)};var B$=function(t){function e(e){t.call(this,e,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(r,n){var i=r.resolve(n.map(this.head));return e.valid(i)?new e(i):t.near(i)},e.prototype.content=function(){return dI.empty},e.prototype.eq=function(t){return t instanceof e&&t.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(t,r){if("number"!=typeof r.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(t.resolve(r.pos))},e.prototype.getBookmark=function(){return new j$(this.anchor)},e.valid=function(t){var e=t.parent;if(e.isTextblock||!function(t){for(var e=t.depth;e>=0;e--){var r=t.index(e),n=t.node(e);if(0!=r)for(var i=n.child(r-1);;i=i.lastChild){if(0==i.childCount&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}else if(n.type.spec.isolating)return!0}return!0}(t)||!function(t){for(var e=t.depth;e>=0;e--){var r=t.indexAfter(e),n=t.node(e);if(r!=n.childCount)for(var i=n.child(r);;i=i.firstChild){if(0==i.childCount&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}else if(n.type.spec.isolating)return!0}return!0}(t))return!1;var r=e.type.spec.allowGapCursor;if(null!=r)return r;var n=e.contentMatchAt(t.index()).defaultType;return n&&n.isTextblock},e.findFrom=function(t,r,n){t:for(;;){if(!n&&e.valid(t))return t;for(var i=t.pos,o=null,s=t.depth;;s--){var a=t.node(s);if(r>0?t.indexAfter(s)<a.childCount:t.index(s)>0){o=a.child(r>0?t.indexAfter(s):t.index(s)-1);break}if(0==s)return null;i+=r;var l=t.doc.resolve(i);if(e.valid(l))return l}for(;;){var c=r>0?o.firstChild:o.lastChild;if(!c){if(o.isAtom&&!o.isText&&!cD.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*r),n=!1;continue t}break}o=c,i+=r;var h=t.doc.resolve(i);if(e.valid(h))return h}return null}},e}(iD);B$.prototype.visible=!1,iD.jsonID("gapcursor",B$);var j$=function(t){this.pos=t};j$.prototype.map=function(t){return new j$(t.map(this.pos))},j$.prototype.resolve=function(t){var e=t.resolve(this.pos);return B$.valid(e)?new B$(e):iD.near(e)};DL({ArrowLeft:z$("horiz",-1),ArrowRight:z$("horiz",1),ArrowUp:z$("vert",-1),ArrowDown:z$("vert",1)});function z$(t,e){var r="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,n,i){var o=t.selection,s=e>0?o.$to:o.$from,a=o.empty;if(o instanceof aD){if(!i.endOfTextblock(r)||0==s.depth)return!1;a=!1,s=t.doc.resolve(e>0?s.after():s.before())}var l=B$.findFrom(s,e,a);return!!l&&(n&&n(t.tr.setSelection(new B$(l))),!0)}}var U$=function(t,e){for(var r=t.$head,n=r.depth;n>0;n--){var i=r.node(n);if(i.type.name===e)return{pos:r.before(n),node:i}}return null},$$=function(t,e){var r=e&&function(t){var r,n=U$(t.selection,"table_row"),i=U$(t.selection,"table");if(n&&i&&n.node.attrs[OD]){for(var o=0,s=0;s<i.node.nodeSize;s++)if(i.node.child(s).eq(n.node)){o=s;break}var a=i.node.child(o-1),l=n.pos-a.nodeSize;t.setNodeMarkup(l,void 0,((r={})[OD]=n.node.attrs[OD],r))}return e(t)};return function(t,e){if(!$j(t))return!1;if(e){var r=vz(t);e(Az(t.tr,r,r.top))}return!0}(t,r)},H$=function(t,e){return function(t,e){if(!$j(t))return!1;if(e){var r=vz(t);e(Az(t.tr,r,r.bottom))}return!0}(t,e&&function(t){var r,n=U$(t.selection,"table_row");if(n&&n.node.attrs[OD]){var i=n.pos+n.node.nodeSize;t.setNodeMarkup(i,void 0,((r={})[OD]=n.node.attrs[OD],r))}return e(t)})};function V$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function q$(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V$(Object(r),!0).forEach((function(e){W$(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V$(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function W$(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var X$=t=>{for(var e,r={},n=t.attributes,i=0;i<n.length;i++)r[(e=n[i]).name]=e.value;return r},G$=(t,e)=>{var r={};for(var n in t)n&&null!==t[n]&&n!==e&&(r[n]=t[n]);return r},K$=()=>Y$(["class","id","style"]),Y$=t=>t.reduce(((t,e)=>q$(q$({},t),{},{[e]:{default:null}})),{});function J$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Z$(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J$(Object(r),!0).forEach((function(e){Q$(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J$(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Q$(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}nU.table.attrs.class={default:"k-table"};var tH=Z$(Z$({},nU),{},{video:{attrs:Z$({src:{default:null},controls:{},poster:{default:null},width:{default:null},height:{default:null}},K$()),group:"block",content:"source*",draggable:!0,parseDOM:[{tag:"video",getAttrs:X$}],toDOM:t=>["video",G$(t.attrs),0]},audio:{attrs:Z$({controls:{},src:{default:null},width:{default:null},height:{default:null}},K$()),group:"block",content:"source*",draggable:!0,parseDOM:[{tag:"audio",getAttrs:X$}],toDOM:t=>["audio",G$(t.attrs),0]},iframe:{attrs:Z$({src:{},width:{default:null},height:{default:null}},K$()),group:"block",draggable:!0,parseDOM:[{tag:"iframe",getAttrs:X$}],toDOM:t=>["iframe",G$(t.attrs)]},source:{attrs:{src:{default:null},type:{default:null}},inline:!0,group:"inline",parseDOM:[{tag:"source",getAttrs:X$}],toDOM:t=>["source",t.attrs]}}),eH=new nF({nodes:tH,marks:Yz});function rH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nH(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rH(Object(r),!0).forEach((function(e){iH(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rH(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function iH(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var oH=t=>(e,r)=>{yR(e,t)?mR(bL)(e,r):mR(t)(e,r)},sH={alignCenter:()=>oH(yL),alignJustify:()=>oH(vL),alignLeft:()=>oH(gL),alignRight:()=>oH(mL),format:t=>{return e=t.value,function(t,n){var i=pR(t),o=t.schema.nodes,s=t.tr;s.setMeta("commandName",r),s.setMeta("args",{value:e}),i.forEach((function(t){if(t.type.isTextblock)if("p"===e){var r=t.attrs,n=r.level,i=$D(r,["level"]);uR(s,t,o.paragraph,i)}else if(/^h[1-6]$/i.test(e))n=parseInt(e.substr(1),10),uR(s,t,o.heading,UD({},t.attrs,{level:n}));else if("blockquote"===e){var a=t.attrs;n=a.level,i=$D(a,["level"]),uR(s,t,o.blockquote,i)}}));var a=s.docChanged;return a&&n(s.scrollIntoView()),a};var e,r},insertOrderedList:()=>pL,insertUnorderedList:()=>uL,outdent:()=>nL,indent:()=>rL,insertImage:t=>{return e=t,function(t,r){var n=t.schema.nodes.image.createAndFill(e);WD(n)(t,(function(t){return r(t.setMeta("commandName","insertImage").setMeta("args",e))}))};var e},redo:()=>kU,undo:()=>SU,setHtml:t=>zD(t.value,"setHTML",{preserveWhitespace:!1}),insertHtml:t=>(t=>(e,r)=>{var n=document.createElement("div");n.innerHTML=t.value;var i=oF.fromSchema(eH).parse(n,{topNode:t.inline?eH.nodes.paragraph.create():null});i&&i.firstChild&&r(e.tr.replaceSelectionWith(i.firstChild,!1))})(t)},aH={insertTable:t=>(t=>(e,r)=>{var n=function(t,e,r){for(var n,i=t.table,o=t.table_row,s=t.table_cell,a=[],l=0;l<e+1;l++){n=[];for(var c=0;c<r+1;c++)n.push(s.createAndFill());a.push(o.createAndFill(void 0,n))}return i.createAndFill(void 0,a)}(e.schema.nodes,t.rows,t.cols);n&&WD(n,!0)(e,r)})(t),addColumnBefore:()=>wz,addColumnAfter:()=>xz,addRowBefore:()=>$$,addRowAfter:()=>H$,deleteRow:()=>_z,deleteColumn:()=>kz,mergeCells:()=>Oz,splitCell:()=>Mz,deleteTable:()=>Iz},lH=nH(nH(nH({},{bold:()=>aR(_U),cleanFormatting:()=>{return t={except:eH.marks.link},e=(void 0===t?{}:t).except,r=void 0===e?[]:e,function(t,e){var n,i=t.tr;ZD(i,{except:(n=r,n instanceof Array?n:[n])}),i.docChanged&&e(i)};var t,e,r},createLink:t=>hR({mark:"link",attrs:t}),fontFamily:t=>lR({style:"font-family",value:t.value}),fontSize:t=>lR({style:"font-size",value:t.value}),insertFile:t=>hR({mark:"link",attrs:t}),insertText:t=>{return e=t,function(t,r){r(t.tr.insertText(e.text,e.from,e.to))};var e},italic:()=>aR(TU),strikethrough:()=>aR(MU),subscript:()=>aR(EU),superscript:()=>aR(PU),underline:()=>aR(OU),unlink:()=>cR(IU),foreColor:t=>lR({style:"color",value:t.value}),backColor:t=>lR({style:"background-color",value:t.value})}),sH),aH),cH=(t,e)=>{var r=t.enabled===e.enabled,n=!0;return n=t.hasOwnProperty("selectedValue")?t.selectedValue===e.selectedValue:t.selected===e.selected,r&&n},hH=(t,e)=>{var r=[...oR(t,{name:e,value:/^.+$/})];return 1===r.length?r[0]:null},uH=t=>t.selection instanceof Yj?null:function(t){return{tag:gR(t)||""}}(t).tag,pH=t=>({alignCenter:{selected:yR(t,yL),enabled:!0},alignJustify:{selected:yR(t,vL),enabled:!0},alignLeft:{selected:yR(t,gL),enabled:!0},alignRight:{selected:yR(t,mL),enabled:!0},bold:{selected:QD(t,_U),enabled:!0},cleanFormatting:{selected:!1,enabled:!t.selection.empty},format:{selectedValue:uH(t),enabled:!0},indent:{enabled:QR(t,eH.nodes.list_item)||eL(t,AR)},insertOrderedList:{selected:fR(t,eH.nodes.ordered_list),enabled:!0},insertUnorderedList:{selected:fR(t,eH.nodes.bullet_list),enabled:!0},italic:{selected:QD(t,TU),enabled:!0},unlink:{enabled:QD(t,IU)},outdent:{enabled:tL(t,CR)||ZR(t,CR.nodes)},redo:{enabled:kU(t)},strikethrough:{selected:QD(t,MU),enabled:!0},style:{selected:rR(t,eH.marks.style),enabled:!0},fontFamily:{selectedValue:hH(t,"font-family"),enabled:!0},fontSize:{selectedValue:hH(t,"font-size"),enabled:!0},foreColor:{selectedValue:hH(t,"color"),enabled:!0},backColor:{selectedValue:hH(t,"background-color"),enabled:!0},subscript:{selected:QD(t,EU),enabled:!0},superscript:{selected:QD(t,PU),enabled:!0},underline:{selected:QD(t,OU),enabled:!0},undo:{enabled:SU(t)},createLink:{enabled:!t.selection.empty||QD(t,IU)},insertFile:{enabled:!t.selection.empty},insertImage:{enabled:!0},viewSource:{enabled:!0},insertTable:{enabled:!0},addColumnBefore:{enabled:wz(t)},addColumnAfter:{enabled:xz(t)},addRowBefore:{enabled:$$(t)},addRowAfter:{enabled:H$(t)},deleteRow:{enabled:_z(t)},deleteColumn:{enabled:kz(t)},mergeCells:{enabled:Oz(t)},splitCell:{enabled:Mz(t)},deleteTable:{enabled:Iz(t)}}),dH=t=>({createLink:()=>{var e=function(t,e){var r=eR(t,e),n=r.filter((function(t){return Boolean(t)}));return r.length===n.length?r[0]:void 0}(t.state,eH.marks.link);return{href:e?e.attrs.href:null,title:e?e.attrs.title:null,target:e?e.attrs.target:null}},insertImage:()=>{var e=function(t){if(t.selection instanceof cD)return t.selection.node}(t.state);return{src:e?e.attrs.src:null,alt:e?e.attrs.alt:null,width:e?e.attrs.width:null,height:e?e.attrs.height:null}},setHtml:()=>{return{value:(e=t.state,r=ND(e.doc),n=document.createElement("div"),n.appendChild(r),n.innerHTML)};var e,r,n}});function fH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gH(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fH(Object(r),!0).forEach((function(e){mH(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fH(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mH(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var yH="iframe",vH="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent);class bH extends H{constructor(t,e){super(t,e),mH(this,"options",{editMode:yH,debounceDelay:100}),mH(this,"initialize",(()=>{this.initContent(),this.initEditor()})),this.extendOptions(e),this.iframeEditMode=this.options.editMode===yH,this.iframe=this.element.querySelector(".k-iframe"),this.div=this.element.querySelector(".k-content"),this.toolbar=this.element.querySelector(".k-toolbar"),this.bindEvents(),vH&&!this.shouldInitialize()||this.initialize()}bindEvents(){vH&&this.iframeEditMode&&this.iframe.addEventListener("load",this.initialize,!0),this.toolbar.addEventListener("mousedown",this.onToolBarMouseDown)}unbindEvents(){vH&&this.iframeEditMode&&this.iframe.removeEventListener("load",this.initialize,!0),this.toolbar.removeEventListener("mousedown",this.onToolBarMouseDown)}shouldInitialize(){return!this.iframeEditMode||"complete"===(this.iframe.contentDocument||this.iframe.contentWindow.document).readyState}initEditor(){var t=this.options.debounceDelay,e=[new AD({view:()=>({update:()=>{this.updateToolBarState()}}),key:new TD("toolbar-tools-update-plugin")}),new AD({view:()=>({update:Rr(this.valueChanged,t).bind(this)}),key:new TD("value-changed-plugin")}),xU(),FL(RU(eH)),FL(DU(eH)),FL(YR),P$(),b$(),F$(),Nz(),s$()];this.valueContainer=this.element.querySelector("textarea");var r=wD.create({schema:eH,plugins:e,doc:oF.fromSchema(eH).parse(this.valueContainer)});this.view=new Aj({mount:this.content},{state:r,transformPastedHTML:t=>this.options.pasteSettings?this.executePasteCleanup(t):t}),this.value=this.view.dom.innerHTML}initContent(){this.content=this.iframeEditMode?this.setupIframe():this.setupDiv()}setupIframe(){var t=this.iframe.contentWindow.document,e=t.createElement("meta");e.setAttribute("charset","utf-8"),t.head.appendChild(e);var r=t.createElement("style");r.appendChild(t.createTextNode('\nhtml, body {\n    margin: 0;\n    height: 100%;\n    padding: 0;\n}\n\nhtml {\n  min-height: 100%;\n}\n\nbody {\n  box-sizing: border-box;\n  position: relative;\n  padding: 8px;\n}\n\n.ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\ndiv.ProseMirror {\n  position: relative;\n  min-height: 100%;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\ndiv.ProseMirror:focus {\n  outline: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-hideselection *::selection { background: transparent; }\n.ProseMirror-hideselection *::-moz-selection { background: transparent; }\n.ProseMirror-hideselection { caret-color: transparent; }\n\n.ProseMirror li {\n  position: relative;\n}\n\nli.ProseMirror-selectednode {\n  outline: none;\n}\n\nli.ProseMirror-selectednode:after {\n  content: "";\n  position: absolute;\n  left: -32px;\n  right: -2px;\n  top: -2px;\n  bottom: -2px;\n  border: 2px solid #8cf;\n  pointer-events: none;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.k-editor-resize-handles-wrapper {\n  position: absolute;\n  visibility: hidden;\n}\n\n.k-editor-resize-handle {\n  position: absolute;\n  visibility: visible;\n  background-color: #fff;\n  border: 1px solid #000;\n  z-index: 100;\n  width: 5px;\n  height: 5px;\n}\n\n.k-editor-resize-handle.northwest {\n  top: 0;\n  left: 0;\n  transform: translate(-50%, -50%);\n  cursor: nw-resize;\n}\n\n.k-editor-resize-handle.north {\n  top: 0;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  cursor: n-resize;\n}\n\n.k-editor-resize-handle.northeast {\n  top: 0;\n  right: 0;\n  transform: translate(50%, -50%);\n  cursor: ne-resize;\n}\n\n.k-editor-resize-handle.southwest {\n  left: 0;\n  bottom: 0;\n  transform: translate(-50%, 50%);\n  cursor: sw-resize;\n}\n\n.k-editor-resize-handle.south {\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 50%);\n  cursor: s-resize;\n}\n\n.k-editor-resize-handle.southeast {\n  right: 0;\n  bottom: 0;\n  transform: translate(50%, 50%);\n  cursor: se-resize;\n}\n\n.k-editor-resize-handle.west {\n  top: 50%;\n  left: 0;\n  transform: translate(-50%, -50%);\n  cursor: w-resize;\n}\n\n.k-editor-resize-handle.east {\n  top: 50%;\n  right: 0;\n  transform: translate(50%, -50%);\n  cursor: e-resize;\n}\n\n.ProseMirror .tableWrapper {\n  overflow-x: auto;\n  margin: 1em 0;\n}\n\n.k-editor-resize-wrap-element {\n  display: inline-block;\n  position: relative;\n}\n\n.ProseMirror .row-resize-handle {\n  position: absolute;\n  right: 0; left: 0; bottom: 0;\n  transform: translate(0, 50%);\n  height: 4px;\n  z-index: 20;\n  background-color: #adf;\n  pointer-events: none;\n}\n\n.ProseMirror.resize-cursor-vertical {\n  cursor: sn-resize;\n  cursor: row-resize;\n}\n\n.k-editor-resize-wrap-element table td p,\n.k-editor-resize-wrap-element table th p {\n  margin: 0 auto;\n}\n\n.ProseMirror table {\n  margin: 0;\n  border-collapse: collapse;\n  table-layout: fixed;\n  width: 100%;\n  overflow: hidden;\n}\n\n.ProseMirror td, .ProseMirror th {\n  min-width: 1em;\n  border: 1px solid #ddd;\n  padding: 3px 5px;\n  vertical-align: top;\n  box-sizing: border-box;\n  position: relative;\n}\n\n.ProseMirror th {\n  font-weight: bold;\n  text-align: left;\n}\n\n.ProseMirror .column-resize-handle {\n  position: absolute;\n  right: -2px; top: 0; bottom: 0;\n  width: 4px;\n  z-index: 20;\n  background-color: #adf;\n  pointer-events: none;\n}\n\n.ProseMirror.resize-cursor {\n  cursor: ew-resize;\n  cursor: col-resize;\n}\n\n/* Give selected cells a blue overlay */\n.ProseMirror .selectedCell:after {\n  z-index: 2;\n  position: absolute;\n  content: "";\n  left: 0; right: 0; top: 0; bottom: 0;\n  background: rgba(200, 200, 255, 0.4);\n  pointer-events: none;\n}\n')),t.head.appendChild(r);var n=t.createElement("div");return t.body.appendChild(n),t.body.querySelector("div")}setupDiv(){return this.div}getDialogArgs(t){return dH(this.view)[t]()}exec(t){var e=t.commandName;lH[e](t)(this.view.state,this.view.dispatch,this.view),t.shouldFocusView&&this.view.focus()}focus(){this.view.focus()}setOptions(t){super.setOptions(t)}setValue(){zD(this.valueContainer.innerHTML)(this.view.state,this.view.dispatch),this.value=this.view.dom.innerHTML}updateToolBarState(){var{stateChanged:t,state:e}=((t,e)=>{var r=pH(t),n=Object.keys(e),i=!1;for(var o of n){var s=r[o],a=e[o];s&&a&&!cH(s,a)&&(i=!0,e[o]=s)}return{stateChanged:i,state:e}})(this.view.state,this.options.toolStates);t&&(this.options.toolStates=e,this.invokeToolBarUpdate(e))}onToolBarMouseDown(t){at(t.target,".k-button",!0)&&t.preventDefault()}executePasteCleanup(t){var e=this.options.pasteSettings,r=this.getPasteCleanupAttributes(),n=function(t){return(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/^[\s\S]+?<!--StartFragment-->\s*([\s\S]*?)\s*<!--EndFragment-->[\s\S]+$/,"$1")).replace(/<\/?[ovw]:[^>]*?>/gi,"")).replace(/<\\?\??xml[^>]*>/gi,"")).replace(/<(?:link|meta) [^>]+?>/gi,"")).replace(/<style[^>]*?>\s*<\/style>/gi,"")).replace(/<\/?st1:.*?>/gi,"")).replace(/<a name="[a-zA-Z0-9_]+">/gim,"")).replace(/v:shapes?="[^"]+"/gi,"")).replace(/<!\[if !supportLists\]>/gi,"")).replace(/<!\[endif\]>/gi,"")}(t);return e.removeComments&&(n=function(t){return t.replace(/<!--[\s\S]+?-->/g,"")}(n)),YU(n,{convertMsLists:e.convertMsLists,stripTags:e.stripTags?e.stripTags.join("|"):[],attributes:r})}getPasteCleanupAttributes(){var t=this.options.pasteSettings,e={};return t.removeAllAttributes?{"*":qU}:(t.removeMsStyles&&(e.style=KU),t.removeMsClasses&&(e.class=WU),t.removeAttributes.reduce(((t,e)=>gH(gH({},t),{},{[e]:qU})),e))}valueChanged(){(function(t,e,r,n){var i=sI.from(jD(t,r,n)),o=sI.from(jD(e,r,n));return i.eq(o)})(this.view.dom.innerHTML,this.value,eH)||(this.value=this.view.dom.innerHTML,this.invokeValueChanged())}invokeToolBarUpdate(t){this.invokeMethodAsync(this.options.jsinterop.updateToolBarState,t)}invokeValueChanged(){this.invokeMethodAsync(this.options.jsinterop.valueChanged,this.value)}destroy(){super.destroy(),this.unbindEvents(),this.view.destroy(),this.content=this.view=this.iframe=this.div=null}}function wH(t,e){Zt(bH,t,e)}class xH extends H{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{dotNetInstance:null,jsinterop:{}}),this.extendOptions(e)}focusEntryNameEditor(){rt((()=>{var t=this.element.querySelector(".k-listview-item.k-edit-item"),e=this.element.querySelector(".k-grid-edit-row"),r=t||e;if(d(r)){var n=ut(r);if(!d(n))return;y(n.select)&&n.select(),y(n.focus)&&n.focus()}}))}saveFile(t){var{fileName:e,dataUrl:r}=t;e&&r&&O(e,r)}}function SH(t,e){Zt(xH,t,e)}function kH(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var AH="focus",CH="focusout";class _H extends H{constructor(t,e){super(t,e),kH(this,"options",{dotNetInstance:null}),kH(this,"onKeyDown",(t=>{this.invokeKeyDown(t)})),kH(this,"onFocus",(()=>{this.invokeFocus()})),kH(this,"onFocusOut",(()=>{this.invokeFocusOut()})),this.extendOptions(e),this.bindEvents(),this.initNavigationService()}bindEvents(){this.element.addEventListener(AH,this.onFocus),this.element.addEventListener(CH,this.onFocusOut)}unbindEvents(){this.element.removeEventListener(AH,this.onFocus),this.element.removeEventListener(CH,this.onFocusOut)}initNavigationService(){this.navigationService=new ve(this.element),this.navigationService.bind("".concat(ge.ALT," ").concat(fe.ARROWDOWN),this.onKeyDown)}destroy(){this.disableTabKeyTrap(),this.navigationService.destroy(),super.destroy()}enableTabKeyTrap(t){if(this.options.navigable){var e=G(t);this.formKeyTrap=new Ae(e),this.formKeyTrap.enableKeyTrap()}}disableTabKeyTrap(){this.formKeyTrap&&this.formKeyTrap.disableTabKeyTrap()}focusParentHeader(){var t=this.element.closest("th.k-header");t&&t.focus()}invokeKeyDown(t){this.invokeMethodAsync(this.options.jsinterop.keydown,t.name)}invokeFocus(){this.invokeMethodAsync(this.options.jsinterop.focus)}invokeFocusOut(){this.invokeMethodAsync(this.options.jsinterop.focusout)}}function TH(t,e){Zt(_H,t,e)}function OH(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var MH="focusin",EH="focusout",PH=":not(th):not(td):not([disabled]):not(.k-picker > .k-button):not(.k-spin-button > .k-button):not(.k-input-button)",IH="input".concat(PH,", button").concat(PH,", [tabindex]").concat(PH),FH=".k-filtercell";class DH extends H{constructor(t,e){super(t,e),OH(this,"options",{dotNetInstance:null,navigable:null}),OH(this,"onFocusIn",(t=>{t.target&&t.target.closest(FH)&&this.enableTabKeyTrap()})),OH(this,"onFocusOut",(t=>{t.target&&t.relatedTarget&&!t.relatedTarget.closest(FH)&&this.disableTabKeyTrap()})),this.extendOptions(e),this.options.navigable&&this.bindEvents()}setOptions(t){this.options.navigable!==t.navigable&&(t.navigable?this.bindEvents():this.unbindEvents()),this.extendOptions(t)}bindEvents(){this.element.addEventListener(MH,this.onFocusIn),this.element.addEventListener(EH,this.onFocusOut)}unbindEvents(){this.element.removeEventListener(MH,this.onFocusIn),this.element.removeEventListener(EH,this.onFocusOut)}destroy(){this.disableTabKeyTrap(),this.unbindEvents(),super.destroy()}setTabIndices(t){Array.from(this.element.querySelectorAll(IH)).forEach((e=>{e.setAttribute("tabindex",t)}))}enableTabKeyTrap(){this.tabKeyTrap=new we(this.element,IH),this.tabKeyTrap.enableKeyTrap(),this.setTabIndices(0)}disableTabKeyTrap(){this.tabKeyTrap&&(this.tabKeyTrap.disableTabKeyTrap(),this.setTabIndices(-1))}}function RH(t,e){Zt(DH,t,e)}function LH(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class NH extends H{constructor(t,e){super(t,e),LH(this,"options",{dotNetInstance:null,jsinterop:{}}),LH(this,"onTimeLineScroll",(()=>{this.timelineHeader.scrollLeft=this.timelineContent.scrollLeft,this.treeListContent.scrollTop=this.timelineContent.scrollTop})),LH(this,"onTreeListWheelFF",(t=>{this.onTreeListScroll(t,-40*t.detail)})),LH(this,"onTreeListWheel",(t=>{this.onTreeListScroll(t,t.wheelDelta)})),LH(this,"onTreeListScroll",((t,e)=>{if(this.timelineContent){var r=this.timelineContent.scrollTop-e;this.timelineContent.scrollTop=r}else{var n=this.treeListContent.scrollTop-e;this.treeListContent.scrollTop=n}t.preventDefault()})),this.extendOptions(e),this.timelineContent=this.element.querySelector(".k-gantt-timeline .k-grid-content"),this.timelineHeader=this.element.querySelector(".k-gantt-timeline .k-grid-header-wrap"),this.treeListContent=this.element.querySelector(".k-gantt-treelist .k-grid-content"),this.unifyFilterRowHeight(),this.setTreeListHeight(),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.timelineContent&&this.timelineContent.addEventListener("scroll",this.onTimeLineScroll),Ce.firefox?this.treeListContent.addEventListener("DOMMouseScroll",this.onTreeListWheelFF):this.treeListContent.addEventListener("wheel",this.onTreeListWheel)}unbindEvents(){this.timelineContent&&this.timelineContent.removeEventListener("scroll",this.onTimeLineScroll),Ce.firefox?this.treeListContent.removeEventListener("DOMMouseScroll",this.onTreeListWheelFF):this.treeListContent.removeEventListener("wheel",this.onTreeListWheel)}unifyFilterRowHeight(){var t=this.element.querySelector(".k-gantt-timeline .k-filter-row"),e=this.element.querySelector(".k-gantt-treelist .k-filter-row");e&&t&&(t.style.height="".concat(e.offsetHeight,"px"))}setTreeListHeight(){var t=this.element.querySelector(".k-gantt-treelist"),e=t.querySelector(".k-grid-header");this.treeListContent.style.height=t.offsetHeight-e.offsetHeight+"px"}}function BH(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class jH extends H{constructor(t,e){super(t,e),BH(this,"options",{dotNetInstance:null,jsinterop:{moveTask:"",updatePercentComplete:"",getDragTaskTooltipDates:"",createDependency:""}}),BH(this,"renderMoveHints",(()=>{this.moveTarget&&(this.destroyHint(),this.destroyTooltip(),this.hint=this.createHint(),this.tooltip=this.createTooltip(),this.tooltipContent=this.tooltip.querySelector(".k-tooltip-content"),this.getContentElement().appendChild(this.hint),this.getContentElement().appendChild(this.tooltip))})),BH(this,"createHint",(()=>{var t=document.createElement("div");t.className="k-marquee k-gantt-marquee",t.style.top="0px",t.style.height=this.getTablesWrapperElement().getBoundingClientRect().height+"px",t.style.left=this.originalLeft+"px",t.style.width=this.originalWidth+"px";var e=document.createElement("div");return e.className="k-marquee-color",t.appendChild(e),t})),BH(this,"destroyHint",(()=>{this.hint&&(this.hint.parentNode.removeChild(this.hint),this.hint=null)})),BH(this,"createTooltip",(()=>{var t=document.createElement("div");t.className="k-tooltip k-gantt-resize-hint",t.style.zIndex="100002",t.style.minWidth="160px";var e=document.createElement("div");return e.className="k-tooltip-content",t.appendChild(e),t})),BH(this,"destroyTooltip",(()=>{this.tooltip&&(this.tooltip.parentNode.removeChild(this.tooltip),this.tooltip=null,this.tooltipContent=null)})),BH(this,"renderPercentDragTooltip",(()=>{this.destroyPercentDragTooltip(),this.percentDragTooltip=this.createPercentDragTooltip(),this.element.appendChild(this.percentDragTooltip)})),BH(this,"createPercentDragTooltip",(()=>{var t=document.createElement("div");t.className="k-tooltip",t.style.zIndex="100002";var e=document.createElement("div");e.className="k-tooltip-content",t.appendChild(e);var r=document.createElement("div");return r.className="k-callout k-callout-s",t.appendChild(r),t})),BH(this,"destroyPercentDragTooltip",(()=>{this.percentDragTooltip&&(this.percentDragTooltip.parentNode.removeChild(this.percentDragTooltip),this.percentDragTooltip=null)})),BH(this,"renderDependencyDragHint",(()=>{this.destroyDependencyDragHint(),this.dependencyDragHint=this.createDependencyDragHint(),this.element.querySelector(".k-gantt-dependencies-svg").appendChild(this.dependencyDragHint)})),BH(this,"createDependencyDragHint",(()=>{var t=document.createElementNS("http://www.w3.org/2000/svg","polyline");return t.style.fill="none",t.style.stroke="black",t.style.strokeWidth="2",t})),BH(this,"destroyDependencyDragHint",(()=>{this.dependencyDragHint&&(this.dependencyDragHint.parentNode.removeChild(this.dependencyDragHint),this.dependencyDragHint=null)})),BH(this,"getContentElement",(()=>this.element.querySelector(".k-grid-content"))),BH(this,"getTablesWrapperElement",(()=>this.getContentElement().querySelector(".k-gantt-tables"))),BH(this,"getRowHeight",(()=>this.element.querySelector(".k-gantt-tables tr").getBoundingClientRect().height)),BH(this,"getMilestoneWidth",(()=>{var t=j('<div class="k-task-wrap k-milestone-wrap">\n                <div class="k-task k-task-milestone" >\n                </div>\n            </div>');this.getTablesWrapperElement().appendChild(t);var e=t.querySelector(".k-task").getBoundingClientRect().width;return t.parentNode.removeChild(t),e})),this.extendOptions(e),this.bindEvents(),this.createMovable()}destroy(){this.unbindEvents(),this.destroyMovable(),super.destroy()}bindEvents(){}unbindEvents(){}createMovable(){this.destroyMovable(),this.movable=new ur({press:this.onMovableDragStart.bind(this),drag:this.onMovableDrag.bind(this),release:this.onMovableDrop.bind(this),mouseOnly:!0}),this.movable.bindTo(this.element)}destroyMovable(){this.movable&&this.movable.destroy&&this.movable.destroy(),this.moveTarget=null}onMovableDragStart(t){this.moveTarget=null,this.dragStarted=!1;var e=t.originalEvent.target;e&&(e.closest(".k-task")?this.onTaskDragStart(t):e.closest(".k-task-dot")?this.onDependencyDragStart(t):e.closest(".k-task-draghandle")&&this.onPercentDragStart(t))}onTaskDragStart(t){var e=t.originalEvent.target;this.moveTarget=e.closest(".k-task"),this.resizeTask=!0,this.resizeStart=Boolean(e.closest(".k-resize-w")),this.resizeEnd=Boolean(e.closest(".k-resize-e"));var r=this.moveTarget.getBoundingClientRect();this.originalLeft=this.currentLeft=r.left-this.getTablesWrapperElement().getBoundingClientRect().left,this.originalWidth=this.currentWidth=r.width,this.originalTaskMouseOffset=t.clientX-r.left}onDependencyDragStart(t){var e=t.originalEvent.target;this.moveTarget=e.closest(".k-task-dot");var r=this.moveTarget.getBoundingClientRect(),n=this.getTablesWrapperElement().getBoundingClientRect(),i=n.x,o=n.y;this.dependencyDragOptions={predecessorIndex:this.getTaskIndex(e),fromStart:Q("k-task-start",this.moveTarget),startX:r.x+r.width/2-i,startY:r.y+r.height/2-o}}onPercentDragStart(t){var e=t.originalEvent.target;this.moveTarget=e.closest(".k-task-draghandle");var r=this.moveTarget.parentElement.querySelector(".k-task");this.percentCompleteBarElement=r.querySelector(".k-task-complete");var n=r.getBoundingClientRect();this.maxPercentWidth=n.width,this.originalWidth=this.currentWidth=t.clientX-n.left,this.originalLeft=t.clientX}onMovableDrag(t){if(this.moveTarget)return this.dragStarted?void(this.resizeTask?this.onTaskDrag(t):this.dependencyDragOptions?this.onDependencyDrag(t):this.onPercentDrag(t)):(this.dragStarted=!0,void(this.resizeTask?this.renderMoveHints():this.dependencyDragOptions?this.renderDependencyDragHint():this.renderPercentDragTooltip()))}onTaskDrag(t){var e=t.clientX-this.getTablesWrapperElement().getBoundingClientRect().left;e<0&&(e=0),this.resizeStart?(this.currentLeft=e,this.currentLeft>this.originalLeft+this.originalWidth&&(this.currentLeft=this.originalLeft+this.originalWidth)):this.resizeEnd||(this.currentLeft=e-this.originalTaskMouseOffset),this.resizeStart?this.currentWidth=this.originalWidth+this.originalLeft-e:this.resizeEnd&&(this.currentWidth=e-this.originalLeft),this.currentWidth<0&&(this.currentWidth=0),this.invokeMethodAsync(this.options.jsinterop.getDragTaskTooltipDates,{start:this.currentLeft,end:this.currentLeft+this.currentWidth}).then((t=>{if(this.dragStarted){this.tooltipContent.innerHTML="<div>Start: "+t.start+"</div><div>End: "+t.end+"</div>";var e=this.currentLeft-this.tooltip.getBoundingClientRect().width/2;this.resizeEnd&&(e+=this.currentWidth),e<0&&(e=0),this.tooltip.style.left=e+"px";var r=this.moveTarget.getBoundingClientRect().top-this.getTablesWrapperElement().getBoundingClientRect().top,n=this.tooltip.getBoundingClientRect().height;r-n<0?r+=this.moveTarget.getBoundingClientRect().height:r-=n,this.tooltip.style.top=r+"px",this.hint.style.left=this.currentLeft+"px",this.hint.style.width=this.currentWidth+"px"}}))}onDependencyDrag(t){var e=this.getTablesWrapperElement().getBoundingClientRect(),r=e.x,n=e.y;if(!this.dependencyDragOptions.startX){var i=this.moveTarget.getBoundingClientRect();this.dependencyDragOptions.startX=i.x+i.width/2-r,this.dependencyDragOptions.startY=i.y+i.height/2-n}var o=t.clientX-r,s=t.clientY-n;this.dependencyDragHint.setAttribute("points","".concat(this.dependencyDragOptions.startX,",").concat(this.dependencyDragOptions.startY," ").concat(o,",").concat(s))}onPercentDrag(t){var e=this.element.getBoundingClientRect(),r=this.moveTarget.parentElement.querySelector(".k-task").getBoundingClientRect(),n=this.percentDragTooltip.getBoundingClientRect(),i=this.originalWidth+(t.clientX-this.originalLeft);if(!(i<0||i>this.maxPercentWidth)){this.currentWidth=i;var o=Math.round(this.currentWidth/this.maxPercentWidth*100);this.moveTarget.style.left=this.currentWidth+"px",this.percentCompleteBarElement.style.width=this.currentWidth+"px",this.percentDragTooltip.querySelector(".k-tooltip-content").textContent=o+"%",this.percentDragTooltip.style.left=t.clientX-e.left-n.width/2+"px",this.percentDragTooltip.style.top=r.top-e.top-n.height-6+"px"}}onMovableDrop(t){if(this.destroyHint(),this.destroyTooltip(),this.destroyPercentDragTooltip(),this.destroyDependencyDragHint(),this.dragStarted)if(this.resizeTask)this.invokeMethodAsync(this.options.jsinterop.moveTask,{resizeStart:this.resizeStart,resizeEnd:this.resizeEnd,left:this.currentLeft,right:this.currentLeft+this.currentWidth});else if(this.dependencyDragOptions){var e=this.getElementUnderCursor(t);e.closest(".k-task-dot")&&this.invokeMethodAsync(this.options.jsinterop.createDependency,{predecessorIndex:this.dependencyDragOptions.predecessorIndex,fromStart:this.dependencyDragOptions.fromStart,successorIndex:this.getTaskIndex(e),toStart:Q("k-task-start",e.closest(".k-task-dot"))})}else{var r=Math.round(this.currentWidth/this.maxPercentWidth*100)/100;this.invokeMethodAsync(this.options.jsinterop.updatePercentComplete,r)}this.dragStarted=!1,this.moveTarget=null,this.resizeTask=this.resizeStart=this.resizeEnd=!1,this.dependencyDragOptions=null}getTaskIndex(t){return parseInt(t.closest(".k-task-wrap").getAttribute("data-index"))}getElementUnderCursor(t){return document.elementFromPoint(t.clientX,t.clientY)}}function zH(t,e){Zt(NH,t,e)}function UH(t,e){Zt(jH,t,e)}var $H=t=>"".concat(parseFloat(t),"px");class HH extends NO{constructor(t,e,r,n){super(t,e,r,n),this.extendOptions(e),this.initWidget()}getWidgetConstructor(){return Bk}setOptions(t){super.setOptions(t),this.showCenterLabel()}getCenterLabel(){return this.element.querySelector(".k-arcgauge-label")}showCenterLabel(){var t=this.getCenterLabel();if(t){var e=this.getCenterLabelPosition();t.style.top=$H(e.top),t.style.left=$H(e.left),t.style.display=""}}getCenterLabelPosition(){var t=this.getCenterLabel(),e={top:0,left:0};if(t){var r=t.style.display;t.style.visibility="hidden",t.style.display="block",e=this.getLabelPositionFromGauge(),t.style.display=r,t.style.visibility=""}return e}getLabelPositionFromGauge(){var t=this.getCenterLabel(),e=t?t.offsetWidth:0,r=t?t.offsetHeight:0,n=this.widget.centerLabelPosition(e,r);return{top:n.top,left:n.left}}}function VH(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class qH extends FO{constructor(){super(...arguments),VH(this,"store",{}),VH(this,"loaded",!1),VH(this,"element",null)}reset(){this.loaded=!1}getThemeOptions(){return this.store}loadTheme(){this.loaded||(this.readTheme(),this.loaded=!0)}createElement(){var t=this.element=document.createElement("div");t.style.display="none",t.innerHTML='\n    <div class="k-var--gauge-pointer"></div>\n    <div class="k-var--gauge-track"></div>\n    <div class="k-var--normal-text-color"></div>\n',document.body.appendChild(t)}destroyElement(){this.element&&(document.body.removeChild(this.element),this.element=void 0)}readTheme(){this.createElement();try{var t=this.queryColor("gauge-pointer"),e=this.queryColor("gauge-track"),r=this.queryColor("normal-text-color");this.store={pointer:{color:t},scale:{labels:{color:r},rangePlaceholderColor:e,minorTicks:{color:r},majorTicks:{color:r},line:{color:r}}}}finally{this.destroyElement()}}setStyle(t,e){this.set(t,e)}queryColor(t){return this.queryStyle(t).backgroundColor}queryStyle(t){var e=this.element.querySelector(".k-var--".concat(t));return window.getComputedStyle(e)}}function WH(t){var{id:e="",widgetOptions:r={},componentOptions:n={},componentConstructor:i}=t;BO({id:e,widgetOptions:r,componentOptions:n,services:{themeService:new qH,intlService:Ko},componentConstructor:i})}function XH(t,e,r){WH({id:t,widgetOptions:e,componentOptions:r,componentConstructor:HH})}class GH extends HH{getWidgetConstructor(){return zk}getCenterLabel(){return this.element.querySelector(".k-circulargauge-label")}}function KH(t,e,r){WH({id:t,widgetOptions:e,componentOptions:r,componentConstructor:GH})}class YH extends NO{constructor(t,e,r,n){super(t,e,r,n),this.extendOptions(e),this.initWidget()}getWidgetConstructor(){return uk}}function JH(t,e,r){WH({id:t,widgetOptions:e,componentOptions:r,componentConstructor:YH})}class ZH extends NO{constructor(t,e,r,n){super(t,e,r,n),this.extendOptions(e),this.initWidget()}getWidgetConstructor(){return Ek}}function QH(t,e,r){WH({id:t,widgetOptions:e,componentOptions:r,componentConstructor:ZH})}class tV extends Pr{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{dotNetInstance:null,rowDraggable:!1,draggedItemsHint:"",rowDraggableOptions:{allowDropOver:!1},dropOptions:{dropClueTargetSelector:".k-grid-content tr.k-master-row",dropClueEmptySelector:".k-grid-norecords",allowDropOver:!1,offsetDropClue:!1},componentSelector:".k-grid:not(.k-treelist)",jsinterop:{removeFocus:"",blur:"",rowDrop:""}}),this.extendOptions(e)}destroy(){super.destroy()}}function eV(t,e){Zt(tV,t,e)}function rV(t){Qt(t)}function nV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var iV,oV="focusout";class sV extends H{constructor(t,e){super(t,e),nV(this,"options",{dotNetInstance:null,jsinterop:{focusout:""}}),nV(this,"onFocusOut",(()=>{this.invokeMethodAsync(this.options.jsinterop.focusout)})),this.extendOptions(e),this.bindEvents()}bindEvents(){this.element.addEventListener(oV,this.onFocusOut)}destroy(){this.unbindEvents(),super.destroy()}unbindEvents(){this.element.removeEventListener(oV,this.onFocusOut)}focus(){this.element.focus()}}function aV(t,e){Zt(sV,t,e)}!function(t){t[t.Literal=0]="Literal",t[t.Mask=1]="Mask",t[t.Undefined=2]="Undefined"}(iV||(iV={}));var lV=function(){function t(t,e,r){void 0===r&&(r=iV.Undefined),this.value=t,this.rest=e,this.type=r}return t.prototype.map=function(e){return new t(e(this.value),this.rest)},t.prototype.chain=function(t){return t(this.value,this.rest)},t.prototype.fold=function(t,e){return t(this.value,this.rest)},t.prototype.concat=function(t){return this.map((function(e,r){return t.chain((function(t,r){return e.concat([t])}))}))},t.prototype.toString=function(){return"Result({ value: '"+this.value+"', rest: "+this.rest+" })"},t}(),cV=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.input=t,this.control=e,this.inputCursor=0,this.controlCursor=0}return t.prototype.eof=function(){return this.inputCursor>=this.input.length},t.prototype.next=function(){return{char:this.input[this.inputCursor++],control:this.control[this.controlCursor++]}},t.prototype.peek=function(){return{char:this.input[this.inputCursor],control:this.control[this.controlCursor]}},t.prototype.eat_input=function(){this.inputCursor++},t.prototype.eat_control=function(){this.controlCursor++},t.prototype.eat=function(){this.inputCursor++,this.controlCursor++},t}(),hV=function(t){return(t||"").split("")},uV=function(){function t(t){this.parse=t}return t.prototype.run=function(t,e){return void 0===e&&(e=""),t instanceof cV?this.parse(t):this.parse(new cV(hV(t),hV(e)))},t.prototype.map=function(e){var r=this;return new t((function(t){return r.parse(t).map(e)}))},t.prototype.chain=function(e){var r=this;return new t((function(t){return r.parse(t).chain((function(t,r){return e(t).run(r)}))}))},t.prototype.isLiteral=function(t){return this.run(t).type===iV.Literal},t}(),pV=function(t,e){return new uV((function(r){var n=r.next().char,i=t[n];return"\\"===n?(n=r.next().char,new lV(e.literal(n),r)):new lV(i?e.mask(i):e.literal(n),r)}))},dV=function(t){var e=t.prompt,r=t.promptPlaceholder;return new uV((function(t){var n=t.next().char;return new lV(n===e?r:n,t)}))},fV=function(t){return new uV((function(e){var r=e.next().char;return new lV(t?r:"",e)}))},gV=function(t){return t.reduce((function(t,e){return r=e,t.chain((function(t){return r.map((function(e){return t.concat([e])}))}));var r}),(e=[],new uV((function(t){return new lV(e,t)}))));var e},mV=function(t){return new uV((function(e){for(var r=new lV([],e);!e.eof();)r=r.concat(t.run(e));return r}))},yV=function(){function t(){this.rules={},this.prompt="_",this.mask="",this.promptPlaceholder=" ",this.includeLiterals=!1,this.maskTokens=[],this.unmaskTokens=[],this.rawTokens=[],this.validationTokens=[]}return t.prototype.update=function(t){var e=t.mask,r=void 0===e?"":e,n=t.prompt,i=void 0===n?"":n,o=t.promptPlaceholder,s=void 0===o?" ":o,a=t.rules,l=void 0===a?{}:a,c=t.includeLiterals,h=void 0!==c&&c;this.mask=r,this.prompt=i,this.promptPlaceholder=s,this.rules=l,this.includeLiterals=h,this.tokenize()},t.prototype.validationValue=function(t){void 0===t&&(t="");var e=t;return gV(this.validationTokens).run(t).fold((function(t){e=t.join("")})),e},t.prototype.rawValue=function(t){void 0===t&&(t="");var e=t;return this.rawTokens.length?(gV(this.rawTokens).run(t).fold((function(t){e=t.join("")})),e):e},t.prototype.maskRaw=function(t){void 0===t&&(t="");var e=t;return this.maskTokens.length?(gV(this.maskTokens).run(t).fold((function(t){e=t.join("")})),e):e},t.prototype.maskInput=function(t,e,r){return t.length<e.length?this.maskRemoved(t,e,r):this.maskInserted(t,e,r)},t.prototype.maskInRange=function(t,e,r,n){var i="",o=n,s=e.split("").slice(0,r),a=e.split("").slice(n);return gV(this.maskTokens.slice(r,n)).run(t).fold((function(t){i=s.concat(t).concat(a).join("")})),{selection:o,value:i}},t.prototype.maskRemoved=function(t,e,r){var n=this,i="",o=r,s=t.split("").slice(r),a=t.split("").slice(0,r).join(""),l=this.maskTokens.length-(t.length-r);return gV(this.maskTokens.slice(0,l)).run(a,e).fold((function(t){o=n.adjustPosition(t,o),i=t.concat(s).join("")})),{selection:o,value:i}},t.prototype.adjustPosition=function(t,e){var r=t[e];return this.maskTokens[e].isLiteral(r)||r===this.prompt?e:e+1},t.prototype.maskInserted=function(t,e,r){var n=this,i="",o=r,s=t.slice(0,r);return gV(this.unmaskTokens).run(s,e).chain((function(t){o=t.join("").length;var r=e.slice(o);return gV(n.maskTokens).run(t.join("")+r,e)})).fold((function(t){i=t.join("")})),{selection:o,value:i}},Object.defineProperty(t.prototype,"maskTokenCreator",{get:function(){var t=this.prompt,e=this.promptPlaceholder;return{literal:function(t){return e=t,new uV((function(t){return t.peek().char===e?(t.eat(),new lV(e,t,iV.Literal)):new lV(e,t,iV.Literal)}));var e},mask:function(r){return function(t){var e=t.prompt,r=t.promptPlaceholder;return function(t){return new uV((function(n){for(;!n.eof();){var i=n.peek(),o=i.char,s=i.control;if(o===s&&s===e)return n.eat(),new lV(e,n,iV.Mask);if(t.test(o))return n.eat(),new lV(o,n,iV.Mask);if(o===r)return n.eat(),new lV(e,n,iV.Mask);n.eat_input()}return n.eat(),new lV(e,n,iV.Mask)}))}}({prompt:t,promptPlaceholder:e})(r)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unmaskTokenCreator",{get:function(){var t=this;return{literal:function(t){return e=t,new uV((function(t){return t.eof()?new lV("",t):(t.peek().char===e&&t.eat(),new lV(e,t))}));var e},mask:function(e){return(r=t.prompt,function(t){return new uV((function(e){for(;!e.eof();){var n=e.peek(),i=n.char,o=n.control;if(i===r&&o===r)return e.eat(),new lV(i,e);if(t.test(i))return e.eat(),new lV(i,e);e.eat_input()}return e.eat(),new lV("",e)}))})(e);var r}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawTokenCreator",{get:function(){var t=this,e=t.prompt,r=t.promptPlaceholder,n=t.includeLiterals;return{literal:function(t){return fV(n)},mask:function(t){return dV({prompt:e,promptPlaceholder:r})}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validationTokenCreator",{get:function(){var t=this.prompt;return{literal:function(t){return fV(!1)},mask:function(e){return dV({prompt:t,promptPlaceholder:""})}}},enumerable:!0,configurable:!0}),t.prototype.tokenize=function(){var t=this;mV(pV(this.rules,this.maskTokenCreator)).run(this.mask).fold((function(e,r){t.maskTokens=e})),mV(pV(this.rules,this.unmaskTokenCreator)).run(this.mask).fold((function(e,r){t.unmaskTokens=e})),mV(pV(this.rules,this.rawTokenCreator)).run(this.mask).fold((function(e,r){t.rawTokens=e})),mV(pV(this.rules,this.validationTokenCreator)).run(this.mask).fold((function(e,r){t.validationTokens=e}))},t}();function vV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class bV extends H{constructor(t,e){super(t,e),vV(this,"defaultRules",{"#":/[\d\s\+\-]/,"&":/[\S]/,0:/[\d]/,9:/[\d\s]/,"?":/[a-zA-Z\s]/,A:/[a-zA-Z0-9]/,C:/./,L:/[a-zA-Z]/,a:/[a-zA-Z0-9\s]/}),vV(this,"options",{dotNetInstance:null,includeLiterals:!1,mask:"",prompt:"",promptPlaceholder:"",maskOnFocus:!1,rules:this.defaultRules,value:"",debounceDelay:150,jsinterop:{blur:"",updateValue:"",change:""}}),vV(this,"state",{selection:[0,0],isPasted:!1,shouldFocusOnClick:!1,service:null,isFocused:!1,maskedValue:"",value:""}),vV(this,"onFocus",(()=>{this.state.isFocused=!0,this.options.maskOnFocus&&this.isMaskEmpty()&&(this.updateInput(this.state.service.maskRaw(this.state.value)),this.setSelection(0,0)),this.invokeFocus()})),vV(this,"onPaste",(t=>{var{selectionStart:e,selectionEnd:r}=t.target;r!==e&&(this.state.isPasted=!0,this.state.selection=[e,r])})),vV(this,"onBlur",(()=>{this.state.isFocused=!1,this.state.shouldFocusOnClick=!1,this.options.maskOnFocus&&this.isMaskEmpty()&&this.updateInput(this.state.maskedValue),this.invokeBlur()})),vV(this,"onClick",(()=>{if(this.state.isFocused&&!this.state.shouldFocusOnClick){this.state.shouldFocusOnClick=!0;var{selectionStart:t,selectionEnd:e}=this.element;t===e&&this.setFocusSelection()}})),vV(this,"onInput",(t=>{var e,r=t.target.value,[n,i]=this.state.selection;if(!this.options.mask)return this.updateComponentValue(r),void(this.state.isPasted=!1);if(this.state.isPasted){this.state.isPasted=!1;var o=this.state.maskedValue.length-i,s=r.length-o;e=this.state.service.maskInRange(r.slice(n,s),this.state.maskedValue,n,i)}else e=this.state.service.maskInput(r,this.state.maskedValue,t.target.selectionStart);this.updateInput(e.value,e.selection),this.debounceUpdateComponentValue(e.value)})),this.extendOptions(e),this.bindEvents(),this.state.service=new yV,this.updateService(),this.setValue(this.options.value),this.setInputDebounceCallback()}bindEvents(){this.element.addEventListener("blur",this.onBlur),this.element.addEventListener("input",this.onInput),this.element.addEventListener("focus",this.onFocus),this.element.addEventListener("click",this.onClick),this.element.addEventListener("paste",this.onPaste)}destroy(){this.unbindEvents(),super.destroy()}unbindEvents(){this.element.removeEventListener("blur",this.onBlur),this.element.removeEventListener("input",this.onInput),this.element.removeEventListener("focus",this.onFocus),this.element.removeEventListener("click",this.onClick),this.element.removeEventListener("paste",this.onPaste)}focus(){this.element.focus()}updateService(){this.state.service.update({includeLiterals:this.options.includeLiterals,mask:this.options.mask,prompt:this.options.prompt,promptPlaceholder:this.options.promptPlaceholder,rules:this.options.rules})}setOptions(t){var e=this.options.promptPlaceholder,r=this.options.includeLiterals;this.extendOptions(t),this.setInputDebounceCallback(),this.updateService(),this.setValue(this.options.value),e===this.options.promptPlaceholder&&r===this.options.includeLiterals||this.updateComponentValue(this.state.maskedValue)}updateComponentValue(t){this.options.mask&&!this.state.service.validationValue(t)?this.state.value="":this.state.value=this.state.service.rawValue(t),this.invokeUpdate(this.state.value)}setValue(t){if(this.state.value=t,this.options.mask){var e=this.state.service.maskRaw(this.state.value);this.updateInput(e)}else this.updateInput(this.state.value)}setFocusSelection(){var t=this.element.selectionStart,e=this.state.maskedValue?this.state.maskedValue.indexOf(this.options.prompt):0;e>=0&&e<t&&(this.state.selection=[e,e],this.setSelection())}updateInput(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this.state.maskedValue=t;var r=this.shouldResetValue()?"":t;this.element.value=r,void 0!==e&&this.setSelection(e,e)}setSelection(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.selection[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.selection[1];this.state.isFocused&&this.element.setSelectionRange(t,e)}isMaskEmpty(){return this.state.service.maskRaw()===this.state.maskedValue}shouldResetValue(){return this.options.maskOnFocus&&!this.state.isFocused&&this.isMaskEmpty()}invokeBlur(){this.invokeMethodAsync(this.options.jsinterop.blur)}invokeFocus(){this.invokeMethodAsync(this.options.jsinterop.focus)}invokeUpdate(t){this.invokeMethodAsync(this.options.jsinterop.updateValue,t)}setInputDebounceCallback(){this.debounceUpdateComponentValue=Rr(this.updateComponentValue,this.options.debounceDelay).bind(this)}}function wV(t,e){Zt(bV,t,e)}function xV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var SV="k-spinner-increase",kV="k-spinner-decrease",AV=[de.ARROWDOWN,de.ARROWUP];class CV extends H{constructor(t,e){super(t,e),xV(this,"options",{dotNetInstance:null,decimals:0,separator:"\\.",min:null,max:null,value:"",jsinterop:{blur:""}}),xV(this,"onKeyDown",(t=>{AV.includes(t.keyCode)&&t.preventDefault()})),this.setOptions(e),this.upArrowElement=t.parentElement.getElementsByClassName(SV)[0],this.downArrowElement=t.parentElement.getElementsByClassName(kV)[0],this.bindEvents()}setOptions(t){this.extendOptions(t),this.element.value=this.options.value}bindEvents(){this.onKeyPress=this.onKeyPress.bind(this),this.onPaste=this.onPaste.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onBlur=this.onBlur.bind(this),this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("keypress",this.onKeyPress),this.element.addEventListener("paste",this.onPaste),this.element.addEventListener("blur",this.onBlur),this.upArrowElement&&this.upArrowElement.addEventListener("mousedown",this.onMouseDown),this.downArrowElement&&this.downArrowElement.addEventListener("mousedown",this.onMouseDown)}destroy(){this.unbindEvents(),super.destroy(),this.upArrowElement=null,this.downArrowElement=null}unbindEvents(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("keypress",this.onKeyPress),this.element.removeEventListener("paste",this.onPaste),this.element.removeEventListener("blur",this.onBlur),this.upArrowElement&&this.upArrowElement.removeEventListener("mousedown",this.onMouseDown),this.downArrowElement&&this.downArrowElement.removeEventListener("mousedown",this.onMouseDown)}focus(){this.element.focus()}onKeyPress(t){var e=String.fromCharCode(t.which);this.isValid(e)||t.keyCode===de.ENTER||t.preventDefault()}onPaste(t){this.isValid(t.clipboardData.getData("text/plain").trim())||t.preventDefault()}onMouseDown(t){t.preventDefault(),document.activeElement!==this.element&&this.element.focus()}onBlur(){var t=this.options.jsinterop.blur;this.invokeMethodAsync(t)}numericRegex(){var t=this.options.separator,e=this.options.decimals,r="{0,"+e+"}";return e?new RegExp("^(-)?(((\\d+(["+t+"]\\d"+r+")?)|(["+t+"]\\d"+r+")))?$"):/^(-)?(\d*)$/}caret(){return[this.element.selectionStart,this.element.selectionEnd]}isValid(t){var e=this.element.value,r=this.caret();return e=e.substring(0,r[0])+t+e.substring(r[1]),!!this.numericRegex().test(e)}}function _V(t,e){Zt(CV,t,e)}class TV extends H{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{dotNetInstance:null,jsinterop:{blur:""}}),this.extendOptions(e),this.bindEvents()}bindEvents(){this.onBlur=this.onBlur.bind(this),this.element.addEventListener("blur",this.onBlur)}destroy(){this.unbindEvents(),super.destroy()}unbindEvents(){this.element.removeEventListener("blur",this.onBlur)}focus(){this.element.focus()}onBlur(){var t=this.options.jsinterop.blur;this.invokeMethodAsync(t)}}var OV="input",MV="keydown";class EV extends TV{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{autoSize:!1,debounceDelay:150,jsinterop:{updateValue:""}}),this.setOptions(e),this.resize()}destroy(){super.destroy()}bindEvents(){super.bindEvents(),this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.element.addEventListener(OV,this.onInput),this.element.addEventListener(MV,this.onKeyDown)}unbindEvents(){this.element.removeEventListener(OV,this.onInput),this.element.removeEventListener(MV,this.onKeyDown),super.unbindEvents()}setOptions(t){this.extendOptions(t),this.debounceChangeValue=Rr(this.changeValue,this.options.debounceDelay).bind(this)}onInput(){this.resize(),this.debounceChangeValue()}onKeyDown(t){t.keyCode===de.ENTER&&t.stopPropagation()}setValue(t){this.element.value=t,this.resize()}resize(){if(this.options.autoSize){var t,e=this.element;e.style.height="",e.style.height=(t=e.scrollHeight,"".concat(t,"px"))}}changeValue(){this.element&&this.invokeMethodAsync(this.options.jsinterop.updateValue,this.element.value)}}function PV(t,e){Zt(EV,t,e)}function IV(t,e){Zt(TV,t,e)}function FV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class DV extends H{constructor(t,e){super(t,e),FV(this,"options",{dotNetInstance:null,jsinterop:{onSpaceKeyDown:""}}),FV(this,"onSpaceKeyDown",(()=>(this.invokeMethodAsync(this.options.jsinterop.onSpaceKeyDown),!1))),this.extendOptions(e),this.initNavigationService()}destroy(){this.navigationService.destroy(),super.destroy()}focus(){this.element.focus()}initNavigationService(){this.navigationService=new ve(this.element),this.navigationService.bind(fe.SPACE,this.onSpaceKeyDown)}}function RV(t,e){Zt(DV,t,e)}class LV extends H{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"snapValue",(t=>{var e=ue(t-this.options.min,this.options.smallStep)+this.options.min;return he(e,this.options.min,this.options.max)})),this.extendOptions(e),this.sliderTrack=this.element.querySelector(".k-slider-track-wrap"),this.throttleChangeValue=Lr(this.invokeChangeValue,150).bind(this)}eventValue(t){var e=this.calculatePercentageValue(t),r=this.convertToValue(e);return this.snapValue(r)}calculatePercentageValue(t){var e=this.sliderTrack.getBoundingClientRect();return"vertical"===this.options.orientation?100-(t.clientY-e.top)/e.height*100:(t.clientX-e.left)/e.width*100}convertToValue(t){return this.options.min+t*(this.options.max-this.options.min)/100}convertToPercentage(t){return(t-this.options.min)/(this.options.max-this.options.min)*100}setSliderEnd(t){this.endValue=t,this.element&&this.element.style.setProperty("--kendo-slider-end",this.convertToPercentage(t))}setSliderStart(t){this.startValue=t,this.element&&this.element.style.setProperty("--kendo-slider-start",this.convertToPercentage(t))}invokeChangeValue(t){var{isChangeCommitted:e}=t,r=this.options.jsinterop.changeValue;if(this.dotNetInstance&&this.dotNetInstance.invokeMethodAsync&&r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return this.dotNetInstance.invokeMethodAsync(r,...i,e)}}}function NV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var BV=[fe.ARROWUP,fe.ARROWDOWN,fe.ARROWLEFT,fe.ARROWRIGHT,fe.PAGE_UP,fe.PAGE_DOWN,fe.HOME,fe.END];class jV extends LV{constructor(t,e){super(t,e),NV(this,"onDragStart",(()=>{Z("k-slider-transitions",this.element)})),NV(this,"onDrag",(t=>{var e=this.eventValue(t);this.setSliderEnd(e),this.throttleChangeValue({isChangeCommitted:!1},this.endValue)})),NV(this,"onDragEnd",(()=>{this.changeValue(this.endValue),J("k-slider-transitions",this.element)})),NV(this,"onClick",(t=>{var e=this.eventValue(t);e!==this.endValue&&this.changeValue(e),this.dragHandle.focus()})),NV(this,"onNavigate",(t=>{this.invokeNavigate(t.name)})),this.extendOptions(e),this.dragHandle=this.element.querySelector(".k-draghandle"),this.endValue=this.options.value,this.bindEvents(),J("k-slider-transitions",this.element)}destroy(){this.unbindEvents(),super.destroy()}setOptions(t){super.setOptions(t),Q("k-slider-transitions")||J("k-slider-transitions",this.element)}bindEvents(){this.initDraggable(),this.initNavigationService(),this.sliderTrack.addEventListener("click",this.onClick)}unbindEvents(){this.draggable.destroy(),this.navigationService.destroy(),this.sliderTrack.removeEventListener("click",this.onClick)}initDraggable(){this.draggable=new mr(this.element,{filter:".k-draghandle",events:{dragStart:this.onDragStart,drag:this.onDrag,dragEnd:this.onDragEnd}})}initNavigationService(){this.navigationService=new ve(this.dragHandle),this.navigationService.bind(BV,this.onNavigate)}changeValue(t){var e=null===t?this.options.min:t;this.setSliderEnd(Math.max(e,this.options.min)),this.invokeChangeValue({isChangeCommitted:!0},this.endValue)}invokeNavigate(t){this.invokeMethodAsync(this.options.jsinterop.navigate,t).then((t=>this.setSliderEnd(t)))}}function zV(t,e){Zt(jV,t,e)}function UV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var $V=[fe.ARROWUP,fe.ARROWDOWN,fe.ARROWLEFT,fe.ARROWRIGHT,fe.PAGE_UP,fe.PAGE_DOWN,fe.HOME,fe.END];class HV extends LV{constructor(t,e){super(t,e),UV(this,"onStartHandleDrag",(t=>{var e=this.eventValue(t);e>this.endValue&&this.setSliderEnd(e),this.setSliderStart(e),this.throttleChangeValue({isChangeCommitted:!1},this.startValue,this.endValue)})),UV(this,"onEndHandleDrag",(t=>{var e=this.eventValue(t);e<this.startValue&&this.setSliderStart(e),this.setSliderEnd(e),this.throttleChangeValue({isChangeCommitted:!1},this.startValue,this.endValue)})),UV(this,"onDragEnd",(()=>{this.changeValue(this.startValue,this.endValue)})),UV(this,"onClick",(t=>{var e=this.eventValue(t);e<=this.startValue||e<(this.startValue+this.endValue)/2?(e!==this.startValue&&this.changeValue(e,this.endValue),this.startHandle.focus()):(e>=this.endValue||e>=(this.startValue+this.endValue)/2)&&(e!==this.endValue&&this.changeValue(this.startValue,e),this.endHandle.focus())})),UV(this,"onStartHandleNavigate",(t=>{this.invokeMethodAsync(this.options.jsinterop.startNavigate,t.name).then((t=>{this.setSliderStart(t.startValue),this.setSliderEnd(t.endValue)}))})),UV(this,"onEndHandleNavigate",(t=>{this.invokeMethodAsync(this.options.jsinterop.endNavigate,t.name).then((t=>{this.setSliderStart(t.startValue),this.setSliderEnd(t.endValue)}))})),this.startHandle=this.element.querySelector(".k-draghandle-start"),this.endHandle=this.element.querySelector(".k-draghandle-end"),this.startValue=this.options.startValue,this.endValue=this.options.endValue,this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.startHandle=this.endHandle=null}setOptions(t){super.setOptions(t),this.startValue=this.options.startValue,this.endValue=this.options.endValue}bindEvents(){this.initDraggable(),this.initNavigationService(),this.sliderTrack.addEventListener("click",this.onClick)}unbindEvents(){this.destroyDraggable(),this.destroyNavigationService(),this.sliderTrack.removeEventListener("click",this.onClick)}initDraggable(){this.startDraggable=new mr(this.element,{filter:".k-draghandle-start",events:{drag:this.onStartHandleDrag,dragEnd:this.onDragEnd}}),this.endDraggable=new mr(this.element,{filter:".k-draghandle-end",events:{drag:this.onEndHandleDrag,dragEnd:this.onDragEnd}})}destroyDraggable(){this.startDraggable.destroy(),this.endDraggable.destroy()}initNavigationService(){this.startNavigationService=new ve(this.startHandle),this.endNavigationService=new ve(this.endHandle),this.startNavigationService.bind($V,this.onStartHandleNavigate),this.endNavigationService.bind($V,this.onEndHandleNavigate)}destroyNavigationService(){this.startNavigationService.destroy(),this.endNavigationService.destroy()}changeValue(t,e){var r=null===t?this.options.min:t,n=null===e?this.options.min:e;this.setSliderStart(Math.max(r,this.options.min)),this.setSliderEnd(Math.max(n,this.options.min,r)),this.invokeChangeValue({isChangeCommitted:!0},this.startValue,this.endValue)}}function VV(t,e){Zt(HV,t,e)}function qV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var WV=[fe.ENTER,fe.SPACE,fe.HOME,fe.END,fe.ARROWDOWN,fe.ARROWUP,fe.ARROWLEFT,fe.ARROWRIGHT],XV=".k-child-animation-container";class GV extends H{constructor(t,e){super(t,e),qV(this,"onKeyDown",(t=>{this.invokeKeyDown(t)})),qV(this,"onFocus",(()=>{this.invokeFocus()})),qV(this,"onFocusOut",(()=>{this.invokeFocusOut()})),qV(this,"onClick",(()=>{this.invokeClick()})),this.popup=G(e.popupId),this.options=e,this.bindEvents(),this.initNavigationService()}initNavigationService(){this.navigationService=new ve(this.element),this.navigationService.bind(WV,this.onKeyDown)}bindEvents(){this.element.addEventListener("focus",this.onFocus),this.element.addEventListener("focusout",this.onFocusOut),this.element.addEventListener("click",this.onClick)}unbindEvents(){this.element.removeEventListener("focus",this.onFocus),this.element.removeEventListener("focusout",this.onFocusOut),this.element.removeEventListener("click",this.onClick)}destroy(){this.unbindEvents(),super.destroy(),this.popup=null}hasParentPopupWithDisplayNone(t){if("none"===t.style.display)return!0;var e=t.closest(XV)!==t?t.closest(XV):null,r=e!==t?e:null;return r&&this.hasParentPopupWithDisplayNone(r)}focusNode(){this.element&&(this.hasParentPopupWithDisplayNone(this.element)?nt(this.element):document.activeElement!==this.element&&this.element.focus())}invokeKeyDown(t){this.invokeMethodAsync(this.options.jsinterop.keydown,t.name)}invokeFocus(){this.invokeMethodAsync(this.options.jsinterop.focus)}invokeFocusOut(){this.invokeMethodAsync(this.options.jsinterop.focusout)}invokeClick(){this.invokeMethodAsync(this.options.jsinterop.click)}}function KV(t,e){Zt(GV,t,e)}function YV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var JV="keydown",ZV=[de.ARROWLEFT,de.ARROWRIGHT,de.ARROWUP,de.ARROWDOWN,de.HOME,de.END,de.ENTER,de.SPACE];class QV extends H{constructor(t,e){super(t,e),YV(this,"options",{isPartOfWizard:!1}),YV(this,"onKeyDown",(t=>{var e=ZV.includes(t.keyCode),r=t.shiftKey?this.isFirstStepFocused():this.isLastStepFocused(),n=t.keyCode===de.TAB&&!this.options.isPartOfWizard&&!r;(e||n)&&t.preventDefault()})),this.extendOptions(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.element.addEventListener(JV,this.onKeyDown)}unbindEvents(){this.element.removeEventListener(JV,this.onKeyDown)}focusStep(t){var e=this.element.querySelector('[data-index="'.concat(t,'"]'));e&&e.focus()}getFocusedStep(){var t=this.element.querySelector("a[tabindex='0']");if(t&&t.parentElement)return t.parentElement}isFirstStepFocused(){var t=this.getFocusedStep();return Q("k-step-first",t)}isLastStepFocused(){var t=this.getFocusedStep();return Q("k-step-last",t)}}function tq(t,e){Zt(QV,t,e)}function eq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var rq="keydown",nq="wheel",iq="nearest",oq="horizontal",sq="vertical",aq=[de.ARROWUP,de.ARROWDOWN],lq=[de.ARROWLEFT,de.ARROWRIGHT],cq=[de.HOME,de.END];class hq extends H{constructor(t,e){super(t,e),eq(this,"options",{dotNetInstance:null,orientation:oq,scrollable:!1,jsinterop:{updateScrollButtons:null}}),eq(this,"onKeyDown",(t=>{(this.isVertical()?aq:lq).concat(cq).includes(t.keyCode)&&t.preventDefault()})),eq(this,"onMouseWheel",(t=>{var e=t.deltaY>0?10:-10;t.preventDefault(),this.scrollTabs(e)})),eq(this,"onResize",(()=>{this.updateScrollButtons()})),this.extendOptions(e),this.tabList=this.element.querySelector(".k-tabstrip-items"),this.bindEvents(),this.options.scrollable&&this.initResizeService()}destroy(){this.unbindEvents(),this.destroyResizeService(),super.destroy()}setOptions(t){super.setOptions(t),this.tabList.removeEventListener(nq,this.onMouseWheel),t.scrollable?(this.initResizeService(),this.tabList.addEventListener(nq,this.onMouseWheel)):this.destroyResizeService()}bindEvents(){this.tabList.addEventListener(rq,this.onKeyDown),this.options.scrollable&&this.tabList.addEventListener(nq,this.onMouseWheel)}unbindEvents(){this.tabList.removeEventListener(rq,this.onKeyDown),this.options.scrollable&&this.tabList.removeEventListener(nq,this.onMouseWheel)}initResizeService(){this.resizeService||(this.resizeService=new Nr({element:this.tabList,onResize:this.onResize}))}destroyResizeService(){this.resizeService&&(this.resizeService.destroy(),this.resizeService=null)}focusTab(t){var e=this.tabList.querySelectorAll(".k-item")[t];e&&(this.scrollElementIntoView(e),e.focus())}isVertical(){return this.options.orientation===sq}scrollTabs(t){this.isVertical()?this.tabList.scrollTop+=t:this.tabList.scrollLeft+=t,this.updateScrollButtons()}scrollElementIntoView(t){t.scrollIntoView&&t.scrollIntoView({inline:iq,block:iq})}updateScrollButtons(){var t,e,r,n=this.tabList;this.isVertical()?(t=n.scrollTop,e=n.scrollHeight,r=n.offsetHeight):(t=n.scrollLeft,e=n.scrollWidth,r=n.offsetWidth),this.invokeMethodAsync(this.options.jsinterop.updateScrollButtons,{prevButtonEnabled:t>0,nextButtonEnabled:e-r>t,showButtons:e>r})}}function uq(t,e){Zt(hq,t,e)}function pq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var dq="keydown",fq="mousedown",gq=[de.ARROWLEFT,de.ARROWRIGHT,de.ARROWUP,de.ARROWDOWN,de.HOME,de.END,de.ENTER];class mq extends H{constructor(t,e){super(t,e),pq(this,"options",{componentSelector:".k-treeview",dropOptions:{dropClueTargetSelector:".k-treeview-mid,.k-treeview-top,.k-treeview-bot",dropClueEmptySelector:"",allowDropOver:!0,offsetDropClue:!0}}),pq(this,"onKeyDown",(t=>{gq.includes(t.keyCode)&&t.preventDefault()})),pq(this,"onMouseDown",(t=>{t.shiftKey&&t.preventDefault()})),pq(this,"createHint",(t=>{var e=t.textContent;return j('<div class="k-header k-drag-clue">\n                <span class="k-icon k-drag-status k-icon-with-modifier">\n                    <span class="k-icon k-icon-modifier"></span>\n                </span>\n                '.concat(e,"\n            </div>"))})),pq(this,"onItemDrop",(t=>{this.invokeMethodAsync(this.options.jsinterop.drop,{sourceIndex:t.sourceItem.getAttribute("data-treeindex"),treeviewDotNetInstance:this.getDestinationTree(t.destinationElement),destinationComponentId:t.destinationComponentId,destinationIndex:t.destinationIndex,dropPosition:t.dropPosition})})),this.extendOptions(e),this.bindEvents()}destroy(){this.unbindEvents(),this.draggable&&this.draggable.destroy(),super.destroy()}bindEvents(){this.element.addEventListener(dq,this.onKeyDown),this.element.addEventListener(fq,this.onMouseDown),this.options.draggable&&this.createDraggable()}unbindEvents(){this.element.removeEventListener(dq,this.onKeyDown),this.element.removeEventListener(fq,this.onMouseDown)}setOptions(t){this.options.draggable!==t.draggable&&(t.draggable?this.createDraggable():this.draggable.destroy()),this.extendOptions(t)}focusNode(t){var e=this.element.querySelector('[data-treeindex="'.concat(t,'"]'));e&&e.focus()}createDraggable(){this.element&&(this.draggable=new Cr(this.element,{group:".k-treeview",filter:".k-treeview-leaf",itemSelector:".k-treeview-item",hint:this.createHint,events:{itemDrop:this.onItemDrop}}))}getDestinationTree(t){var e=ne(t,this.options.componentSelector);return e&&e.dotNetInstance}getDropSettings(){return this.options.dropOptions}getDropItemIndex(t){return t?t.closest(".k-treeview-item").getAttribute("data-treeindex"):""}getId(){return this.element.id}}function yq(t,e){Zt(mq,t,e)}function vq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var bq=[fe.ARROWLEFT,fe.ARROWRIGHT,fe.HOME,fe.END],wq=[fe.ARROWDOWN,fe.ARROWUP,fe.HOME,fe.END,fe.ENTER,fe.ESC],xq="".concat(ge.ALT," ").concat(fe.ARROWDOWN),Sq=".k-overflow-anchor",kq=":not([disabled]):not([data-focusable='false']):not(.k-picker > .k-button):not(.k-spin-button > .k-button):not(.k-input-button)",Aq="a[href], area[href], input".concat(kq,", select").concat(kq,", textarea").concat(kq,", button").concat(kq,", [tabindex]").concat(kq);class Cq extends H{constructor(t,e){super(t,e),vq(this,"options",{adaptive:!1,popupId:null,skipedOverflowItemIndexes:[],navigable:!0,jsinterop:{populateCollapsedItems:""}}),vq(this,"onOverflowAnchorKeyDown",(()=>{re(this.options.popupId).openAsync()})),vq(this,"onOverflowPopupKeyDown",(t=>{var e=document.activeElement;if(e&&t.name===fe.ENTER)return e.click(),void this.focusPopupAnchor();t.name===fe.ESC&&(re(this.options.popupId).close(),this.focusPopupAnchor());var r=G(this.options.popupId).querySelectorAll(".k-item:not(.k-separator):not(.k-disabled)"),n=r.length-1,i=[...r].indexOf(e),o=-1;t.name===fe.ARROWDOWN&&i===n||t.name===fe.HOME?o=0:t.name===fe.ARROWUP&&0===i||t.name===fe.END?o=n:t.name===fe.ARROWDOWN?o=i+1:t.name===fe.ARROWUP&&(o=i-1),-1!==o&&(this.setTabIndices(r,o),r[o].focus())})),vq(this,"onKeyDown",(t=>{var e=Array.from(this.element.querySelectorAll(Aq)).filter((t=>""===t.style.display&&""===t.parentElement.style.display)),r=this.element.querySelector(":focus"),n=e.length-1,i=[...e].indexOf(r),o=-1;t.name===fe.ARROWRIGHT&&i===n||t.name===fe.HOME?o=0:t.name===fe.ARROWLEFT&&0===i||t.name===fe.END?o=n:t.name===fe.ARROWRIGHT?o=i+1:t.name===fe.ARROWLEFT&&(o=i-1),-1!==o&&(this.setTabIndices(e,o),e[o].focus())})),vq(this,"onResize",(()=>{this.positionOverflowingItems()})),this.extendOptions(e),this.options.navigable&&this.initNavigationServices(),this.options.adaptive&&(this.setCollapsibleItems(),this.initResizeService(),this.positionOverflowingItems())}setOptions(t){super.setOptions(t[0]),this.options.navigable?this.initNavigationServices():this.destroyNavigationServices(),this.options.adaptive?(this.setCollapsibleItems(),this.positionOverflowingItems(),this.initResizeService(),this.initOverflowNavigationServices()):(this.collapsibleItems&&this.collapsibleItems.forEach((t=>this.setItemDisplay(t.item,""))),this.destroyOverflowNavigationServices(),this.destroyResizeService())}destroy(){this.destroyOverflowNavigationServices(),this.destroyResizeService(),this.destroyNavigationServices(),super.destroy()}initResizeService(){this.resizeService=new Nr({element:this.element,onResize:this.onResize})}destroyResizeService(){this.resizeService&&(this.resizeService.destroy(),this.resizeService=this.collapsibleItems=null)}destroyOverflowNavigationServices(){this.overflowAnchorNavigationService&&this.overflowAnchorNavigationService.destroy(),this.popupNavigationService&&this.popupNavigationService.destroy()}getItems(){return Array.from(this.element.children)}initNavigationServices(){this.setTabIndices(this.element.querySelectorAll(Aq),0),null==this.navigationService&&(this.navigationService=new ve(this.element),this.navigationService.bind(bq,this.onKeyDown))}destroyNavigationServices(){this.navigationService&&this.navigationService.destroy()}initOverflowNavigationServices(){var t=this.element.querySelector(Sq);this.overflowAnchorNavigationService=new ve(t),this.overflowAnchorNavigationService.bind(xq,this.onOverflowAnchorKeyDown);var e=G(this.options.popupId);this.popupNavigationService=new ve(e),this.popupNavigationService.bind(wq,this.onOverflowPopupKeyDown)}setTabIndices(t,e){t.forEach(((t,r)=>{var n=e===r?0:-1;t.setAttribute("tabindex",n)}))}getWidths(){var t=this.getItems(),e=getComputedStyle(this.element),r=parseInt(e.gap),n=t.filter((t=>!Array.from(t.classList).includes("k-spacer"))).map((t=>t.offsetWidth)),i=n.filter((t=>t)).reduce(((t,e)=>t+e+r),0),o=getComputedStyle(this.element);return{totalItemsWidth:i,elementInternalWidth:this.element.clientWidth-parseInt(o.paddingLeft)-parseInt(o.paddingRight)}}setCollapsibleItems(){var t=this.getItems(),e=getComputedStyle(this.element),r=parseInt(e.gap),n=t.slice(0,t.length-1).map(((t,e)=>{var n=t.offsetWidth+r,i=this.options.skipedOverflowItemIndexes.includes(e),o=Array.from(t.classList).includes("k-spacer");return{item:t,offsetWidth:n,expanded:!0,collapsible:!i&&!o,index:e}}));this.collapsibleItems=n}collapseItem(t){this.setItemDisplay(t.item,"none"),t.expanded=!1}expandItem(t){this.setItemDisplay(t.item,""),t.expanded=!0}setItemDisplay(t,e){t.style.display=e}focusFirstOverflowItem(){var t=G(this.options.popupId).querySelector(".k-item:not(.k-separator):not(.k-disabled)");t.setAttribute("tabindex",0),t.focus()}focusPopupAnchor(){var t=this.element.querySelector(Sq);t&&t.focus()}positionOverflowingItems(t){if(this.collapsibleItems&&this.collapsibleItems.length){var{totalItemsWidth:e,elementInternalWidth:r}=this.getWidths(),n=[...this.collapsibleItems].reverse().find((t=>t.expanded&&t.collapsible)),i=this.collapsibleItems.find((t=>!t.expanded));n&&e>r&&!0!==t?(this.collapseItem(n),this.positionOverflowingItems(!1)):i&&e+i.offsetWidth<r&&!1!==t&&(this.expandItem(i),this.positionOverflowingItems(!0));var o=this.collapsibleItems.filter((t=>!t.expanded)).map((t=>t.index));this.invokeMethodAsync(this.options.jsinterop.populateCollapsedItems,o||[])}}}function _q(t,e){Zt(Cq,t,e)}class Tq extends pa{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"handlerMap",{click:"onObserverMapClick",pan:"onObserverMapPan",panEnd:"onObserverMapPanEnd",markerMouseEnter:"onObserverMarkerMouseEnter",markerMouseLeave:"onObserverMarkerMouseLeave",markerClick:"onObserverMarkerClick",markerActivate:"onObserverMarkerActivate",shapeClick:"onObserverShapeClick"})}}function Oq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Mq extends NO{constructor(t,e){super(t,e),Oq(this,"options",{markerTooltipId:"",jsinterop:{onObserverMapClick:"",onObserverMapPan:"",onObserverMapPanEnd:"",onObserverMarkerClick:"",onObserverMarkerMouseEnter:"",onObserverMarkerMouseLeave:"",onObserverMarkerActivate:"",onObserverShapeClick:""}}),Oq(this,"onObserverMapClick",(t=>{var e=this.createMapClickEventArgs(t);this.invokeMapClickAsync(e)})),Oq(this,"onObserverMapPan",(t=>{this.hideMarkerTooltip(t)})),Oq(this,"onObserverMapPanEnd",(()=>{this.showMarkerTooltip(this._hoveredMarker)})),Oq(this,"onObserverMarkerActivate",(t=>{this.repositionMarkerTooltip(t.marker)})),Oq(this,"onObserverMarkerClick",(t=>{var e=this.createMarkerClickEventArgs(t);this.invokeMarkerClickAsync(e)})),Oq(this,"onObserverMarkerMouseEnter",(t=>{this._hoveredMarker=t.marker;var e=this.createMarkerEventArgs(t);this.invokeMarkerMouseEnterAsync(e)})),Oq(this,"onObserverMarkerMouseLeave",(()=>{this._hoveredMarker=null})),Oq(this,"onObserverShapeClick",(t=>{var e=this.createShapeClickEventArgs(t);this.invokeShapeClickAsync(e)})),this.extendOptions(e),this.createInstanceObserver(),this.initWidget()}destroy(){this.destroyInstanceObserver(),this._hoveredMarker=null,this.widget&&(this.widget.destroy(),this.widget=null)}getThemeOptions(){return{}}getWidgetConstructor(){return vO}createInstanceObserver(){this.instanceObserver=new Tq(this)}destroyInstanceObserver(){this.instanceObserver=null}trigger(){}requiresHandlers(){return!1}invokeMapClickAsync(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverMapClick,t)}invokeMarkerClickAsync(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverMarkerClick,t)}invokeMarkerMouseEnterAsync(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverMarkerMouseEnter,t)}invokeShapeClickAsync(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverShapeClick,t)}createMapClickEventArgs(t){var e=t.location||{lat:null,lng:null},r={location:{latitude:e.lat,longitude:e.lng}};return this.extendWithOriginalMouseEvent(r,t)}createMarkerClickEventArgs(t){var e=this.createMarkerEventArgs(t);return this.extendWithOriginalMouseEvent(e,t)}createShapeClickEventArgs(t){var e=this.createShapeEventArgs(t);return this.extendWithOriginalMouseEvent(e,t)}createMarkerEventArgs(t){return{layerIndex:t.layerIndex,markerIndex:t.markerIndex}}createShapeEventArgs(t){var e=t.shape.dataItem,r=t.shape.location&&t.shape.value;return{layerIndex:t.layerIndex,shapeIndex:t.shapeIndex,geoJsonDataItem:r?null:e}}getOriginalEvent(t){var e=t.originalEvent;return(e||{}).event||e}extendWithOriginalMouseEvent(t,e){var r=this.getOriginalEvent(e);return u(t,{eventArgs:I(r)})}repositionMarkerTooltip(t){var e=this.getMarkerTooltip();if(e&&t){var r=e.getPopupComponent();r&&r.anchor===t.element&&e.repositionPopup()}}showMarkerTooltip(t){var e=this.getMarkerTooltip();if(e&&t){var r=e.getPopupComponent();r&&r.anchor&&r.anchor===t.element&&e.open(r.anchor)}}hideMarkerTooltip(){var t=this.getMarkerTooltip();if(t){var e=t.getPopupComponent();e&&e.anchor&&t.close(e.anchor)}}getMarkerTooltip(){return re(this.options.markerTooltipId)}}function Eq(t,e,r){var n=G(t);if(n){var i=Pq(e),o=re(t),s=u(i,r);if(o)te(o,s);else ie(t,new Mq(n,s))}}Zs.register(rs);var Pq=t=>{var e=Iq(t),r=Fq(e);return e.layers=r||[],e.layers.forEach((t=>{"shape"===t.type&&t.shapeSettings.style?t.style=t.shapeSettings.style:"bubble"===t.type&&t.bubbleSettings.style&&(t.style=t.bubbleSettings.style)})),e},Iq=t=>{var e=JSON.parse(t),r=Fq(e);return e.layers=r,e},Fq=t=>{var e=t.layers||[];return e.forEach((t=>{"string"==typeof t.data&&(t.data=JSON.parse(t.data))})),e};function Dq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Rq extends H{constructor(t,e){super(t,e),Dq(this,"options",{media:"",jsinterop:{change:""}}),Dq(this,"onMediaChange",(t=>{this.invokeMethodAsync(this.options.jsinterop.change,t.matches)})),this.extendOptions(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.mediaQueryList=window.matchMedia(this.options.media),this.mediaQueryList.addEventListener("change",this.onMediaChange)}unbindEvents(){this.mediaQueryList&&this.mediaQueryList.removeEventListener("change",this.onMediaChange)}getMatches(){return this.mediaQueryList.matches}}function Lq(t,e){return Zt(Rq,t,e),re(t).getMatches()}function Nq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Bq="keydown",jq="focusin",zq="focusout",Uq=[de.ARROWLEFT,de.ARROWRIGHT,de.HOME,de.END,de.PAGE_UP,de.PAGE_DOWN,de.ENTER];class $q extends H{constructor(t,e){super(t,e),Nq(this,"options",{dotNetInstance:null,adaptive:!0,navigable:!0,jsinterop:{disableInnerNavigation:"",enableInnerNavigation:""}}),Nq(this,"onResize",(()=>{if(this.element){var t=Ut(this.element),e=this.element.offsetWidth;this.shrink(e,t),this.stretch(e,t)}})),Nq(this,"onKeyDown",(t=>{Uq.includes(t.keyCode)&&t.preventDefault()})),Nq(this,"onFocusIn",(t=>{!this.innerNavigationEnabled&&t.target&&t.target!==this.element&&(this.enableTabKeyTrap(),this.enableInnerNavigation())})),Nq(this,"onFocusOut",(t=>{this.innerNavigationEnabled&&t.target&&t.relatedTarget&&(!this.element.contains(t.relatedTarget)||this.element===t.relatedTarget)&&(this.disableTabKeyTrap(),this.disableInnerNavigation())})),this.extendOptions(e),e.navigable&&(this.bindEvents(),this.innerNavigationEnabled=!1),e.adaptive&&(this.setAdaptiveItems(),this.initResizeService())}destroy(){this.unbindEvents(),this.disableTabKeyTrap(),this.destroyResizeService(),super.destroy()}bindEvents(){this.element.addEventListener(Bq,this.onKeyDown),this.element.addEventListener(jq,this.onFocusIn),this.element.addEventListener(zq,this.onFocusOut)}unbindEvents(){this.element.removeEventListener(Bq,this.onKeyDown),this.element.removeEventListener(jq,this.onFocusIn),this.element.removeEventListener(zq,this.onFocusOut)}setOptions(t){super.setOptions(t),t.adaptive?(this.setAdaptiveItems(),this.initResizeService()):this.destroyResizeService()}initResizeService(){this.resizeService=new Nr({element:this.element,onResize:this.onResize})}destroyResizeService(){this.resizeService&&(this.resizeService.destroy(),this.resizeService=this.collapsibleItems=null)}focusElement(t){if(t){this.adaptiveSelectItem&&this.adaptiveSelectItem.visible&&this.adaptiveSelectItem.element.focus();var{index:e}=t,r=this.element.querySelector((t=>"[data-index='".concat(t,"']"))(e));r&&r.focus()}else this.element.focus()}disableInnerNavigation(){this.innerNavigationEnabled=!1,this.invokeMethodAsync(this.options.jsinterop.disableInnerNavigation)}enableInnerNavigation(){this.innerNavigationEnabled=!0,this.invokeMethodAsync(this.options.jsinterop.enableInnerNavigation)}setAdaptiveItems(){var t=this.element.querySelectorAll("[data-adaptive=true]");this.adaptiveItems=[...t].map((t=>({element:t,width:t.offsetWidth,visible:!0}))),this.setAdaptiveSelect()}setAdaptiveSelect(){var t=this.element.querySelector(".k-pager-numbers-wrap .k-dropdownlist");t&&(K(t,"inline-flex"),this.adaptiveSelectItem={element:t,width:zt(t),visible:!1},Y(t))}shrink(t,e){var r=e,n=this.adaptiveItems.filter((t=>t.visible));if(t<r)for(var i=n.length-1;i>=0;i--){var o=n[i];if(t>r)break;if(o.width=o.element.offsetWidth,Q("k-pager-numbers",o.element)){if(o.width<=this.adaptiveSelectItem.width)continue;this.adaptiveSelectItem.visible=!0,K(this.adaptiveSelectItem.element,"inline-flex")}this.hideItem(o),r-=o.width}}stretch(t,e){var r=e,n=this.adaptiveItems.filter((t=>!t.visible));if(t>r)for(var i=0;i<n.length;i++){var o=n[i];if(Q("k-pager-numbers",o.element)){t>r-this.adaptiveSelectItem.width+o.width&&(this.showItem(o),r+=o.width,this.adaptiveSelectItem.visible=!1,Y(this.adaptiveSelectItem.element));break}if(t<r+o.width)break;this.showItem(o),r+=o.width}}showItem(t){K(t.element),t.visible=!0}hideItem(t){Y(t.element),t.visible=!1}enableTabKeyTrap(){this.tabKeyTrap=new we(this.element,'[tabindex]:not(.k-button):not(span[style*="display: none;"] > .k-dropdownlist):not([style*="display: none;"])'),this.tabKeyTrap.enableKeyTrap()}disableTabKeyTrap(){this.tabKeyTrap&&this.tabKeyTrap.disableTabKeyTrap()}}function Hq(t,e){Zt($q,t,e)}var Vq="keydown",qq=[de.ARROWLEFT,de.ARROWRIGHT,de.ARROWUP,de.ARROWDOWN,de.HOME,de.END,de.ENTER,de.SPACE];class Wq extends H{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"onKeyDown",(t=>{qq.includes(t.keyCode)&&t.target.matches("li.k-panelbar-item")&&t.preventDefault()})),this.extendOptions(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.element.addEventListener(Vq,this.onKeyDown)}unbindEvents(){this.element.removeEventListener(Vq,this.onKeyDown)}focusNode(t){var e=this.element.querySelector('[data-treeindex="'.concat(t,'"]'));e&&e.focus()}}function Xq(t,e){Zt(Wq,t,e)}var Gq=()=>{var t,e,r=new Promise((function(r,n){t=r,e=n}));return r.resolve=t,r.reject=e,r},Kq=t=>Promise.all(t),Yq=(t,e)=>{var r,n=0;if(!e||e<=0)return t;var i=function(){var i=this,o=Number(new Date)-n,s=arguments;function a(){t.apply(i,s),n=Number(new Date)}if(!n)return a();r&&clearTimeout(r),o>e?a():r=setTimeout(a,e-o)};return i.cancel=()=>{clearTimeout(r)},i},Jq=__webpack_require__(299);class Zq extends class{constructor(t,e){this.options=t,this.viewer=e}createPromise(){}loadAsync(){}isLoaded(){}setState(){}resetState(){}renderAsync(){}renderTextLayer(){}resize(){}getSize(){}setSize(){}getViewport(){}getPrintContentAsync(){}getTextLayer(){}}{constructor(t,e){super(t,e),this.viewer=e,this.options=t,this.pageNumber=t.number,this.width=t.width,this.height=t.height,this.resetState(),this.initElement(),this.initDrawingElement()}initElement(){this.element=j('\n            <div class="k-page" data-page-number="'.concat(this.options.number,'" />\n        '))}initDrawingElement(){this.canvas=j('\n            <canvas style="width: 100%; height: 100%;" />\n        '),this.canvas.width=this.width,this.canvas.height=this.height,this.element.appendChild(this.canvas)}setState(t){this.state=g(this.state||{},t)}resetState(){this.setState({loaded:!1,rendered:!1,zoomLevel:1.25})}createPromise(){return Gq()}loadAsync(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.25,e=arguments.length>1?arguments[1]:void 0,r=this,n=this.createPromise();if(r._page&&r.state.zoomLevel===t&&!e)return n.resolve(r);if(r._page&&r.state.zoomLevel&&r.state.zoomLevel!==t&&!e)return r.state.zoomLevel=t,r.state.renderLoadPromise=r.renderAsync(t),r.state.renderLoadPromise.then((()=>{n.resolve(r)})),n;r.setState({zoomLevel:t});var i=Math.max(0,r.pageNumber-1);return r.viewer.state.pagePromises[i].then((e=>{r._page=e,r.state.renderLoadPromise=r.renderAsync(t),r.setState({loaded:!0}),r.state.renderLoadPromise.then((()=>{n.resolve(r)}))})),n}isLoaded(){return this.state.loaded}renderAsync(t){if(!this._page)return Gq().resolve(this);var e=this,r=this.canvas.getContext("2d"),n=this._page.getViewport({scale:t});return this.state.zoomLevel=t,this.canvas.width=n.width,this.canvas.height=n.height,this.state.renderTask&&(this.state.renderTask.cancel(),this.state.renderTask=null),this.setSize({width:n.width,height:n.height}),this.state.renderTask=this._page.render({canvasContext:r,viewport:n}),this.renderTextLayer(n),this.state.renderTask.promise.then((function(){e.state.renderTask=null,e.setState({rendered:!0})})).catch((function(){}))}resize(t){var e=this.element.getBoundingClientRect();this.setSize({width:Math.min(e.width*t,this.width),height:Math.min(e.height*t,this.height)})}setSize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0};this.element.style.width=t.width+"px",this.element.style.height=t.height+"px"}getSize(){var t=this.element.getBoundingClientRect();return{width:t.width,height:t.height}}getViewport(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scale:1};return this._page?this._page.getViewport(t):{width:0,height:0}}renderTextLayer(t){var e=this,r=e._page;this.destroyTextLayer(),this.initTextLayer(),r.getTextContent({normalizeWhitespace:!0}).then((function(r){e.textLayer.style.width=t.width+"px",e.textLayer.style.height=t.width+"px",e.resetTextLayerContent(),(0,Jq.renderTextLayer)({textContent:r,container:e.textLayer,viewport:t,textDivs:[],enhanceTextSelection:!0})}))}initTextLayer(){this.textLayer=j("\n            <div class='k-text-layer' />\n        "),this.element.appendChild(this.textLayer)}destroyTextLayer(){this.removeTextLayer()}removeTextLayer(){this.textLayer&&this.textLayer.parentNode&&this.textLayer.parentNode.removeChild(this.textLayer)}resetTextLayerContent(){this.textLayer.innerHTML=""}getPrintContentAsync(){var t=this.canvas,e=this.createPromise(),r=new Image;return r.src=t.toDataURL(),r.width=this.width,r.height=this.height,r.onload=()=>{e.resolve(r)},e}getTextLayer(){return this.textLayer}}__webpack_require__(16);var Qq=window.ArrayBuffer;class tW extends class{constructor(t){!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{}),this.extendOptions(t)}extendOptions(t){this.options=g(this.options,t)}setOptions(t){this.options=t}loadDocumentAsync(){}readAllPagesAsync(){}readPagesAsync(){}getAllPagesAsync(){}getPageAsync(){}fetchDocumentAsync(){}getDocumentAsync(){}}{constructor(t){super(t),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{}),this.extendOptions(t)}extendOptions(t){this.options=g(this.options,t)}setOptions(t){this.options=t}readAllPagesAsync(t){var e=this.getAllPagesAsync(t);return Kq(e)}readPagesAsync(t){return Kq(t)}getAllPagesAsync(t){for(var e=[],r=1;r<=t.numPages;r++){var n=this.getPageAsync(t,r);e.push(n)}return e}getPageAsync(t,e){return t.getPage(e)}fetchDocumentAsync(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:null,url:null},e={data:null,url:null};if(t instanceof Qq)e.data=t;else if("string"==typeof t){var r=(t=>{var e=t.replace(/^(data:application\/pdf;base64,)/gi,"");try{return window.atob(e)}catch(t){return null}})(t);r?e.data=r:e.url=t.url}else p(t)&&(e=t);return e.data||e.url?this.getDocumentAsync(e):Gq()}getDocumentAsync(t){return t.verbosity=0,(0,Jq.getDocument)(t).promise}}var eW="actualWidth",rW="fitToWidth",nW="fitToPage",iW=3;var oW=F("char-index"),sW=F("match-index");class aW{constructor(t){!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{highlightClass:"k-search-highlight",highlightMarkClass:"k-search-highlight-mark",charClass:"k-text-char",textContainers:[]}),this.options=t,this.extendOptions(t),this.resetState()}destroy(){this.clearSearch()}extendOptions(t){this.options=g(this.options,t)}setState(t){this.state=g(this.state||{},t)}resetState(){this.setState({text:"",textNodes:[],charIndex:0,activeMatchIndex:0,matches:[]})}search(t){var e,{text:r,matchCase:n}=t,i=new RegExp(r,n?"g":"ig");if(this.shouldTransformText()&&this.transformTextForSearch(),this.state.matches=[],this.state.activeMatchIndex=0,this.removeIndicators(),""!==r){for(e=i.exec(this.state.text);e;)this.state.matches.push({startOffset:e.index,endOffset:e.index+e[0].length}),e=i.exec(this.state.text);return this.highlightAllMatches(),this.addActiveMatchMark(),this.state.matches}}clearSearch(){this.removeIndicators(),this.restoreOriginalText()}restoreOriginalText(){this.forEachTextContainer((t=>{w(t.querySelectorAll("span:not(."+this.options.charClass+")")).forEach((t=>{t.innerHTML=t.textContent}))}))}shouldTransformText(){return!this.state.text}transformTextForSearch(){this.state.textNodes=[],this.state.charIndex=0,this.state.text="",this.forEachTextContainer((t=>{this.extractTextNodes(t)})),this.transformTextNodesForSearch(this.state.textNodes)}extractTextNodes(t){if(t.nodeType===iW)this.state.textNodes.push(t);else for(var e=0;e<t.childNodes.length;e++)this.extractTextNodes(t.childNodes[e])}transformTextNodesForSearch(t){for(var e=0;e<t.length;e++)this.transformTextNodeForSearch(t[e])}transformTextNodeForSearch(t){var e=t.textContent;if(!(e.length<=0)){this.state.text=this.state.text+e;var r=j("<span></span>");Vt(t,r);var n=this.splitTextByChars(e);r.innerHTML=n,Xt(r.childNodes[0])}}splitTextByChars(t){for(var e="",r=0;r<t.length;r++)e+="<span class='"+this.options.charClass+"' "+oW+"="+this.state.charIndex+">"+t[r]+"</span>",this.state.charIndex++;return e}forEachTextContainer(t){for(var e=0;e<this.options.textContainers.length;e++){t(this.options.textContainers[e],e)}}highlightAllMatches(){this.state.matches.forEach(((t,e)=>{this.addMatchHighlight(t.startOffset,t.endOffset,e)}))}addMatchHighlight(t,e,r){for(var n=this,i=function(t){n.forEachTextContainer((e=>{w(e.querySelectorAll(L(n.options.charClass+"["+oW+"='"+t+"']"))).forEach((t=>{J(n.options.highlightClass,t),t.setAttribute(sW,r)}))}))},o=t;o<e;o++)i(o)}removeMatchHighlights(){this.forEachTextContainer((t=>{w(t.querySelectorAll(L(this.options.highlightClass))).forEach((t=>{Z(this.options.highlightClass,t),t.removeAttribute(sW)}))}))}addActiveMatchMark(){this.state.activeMatchIndex||0===this.state.activeMatchIndex?this.state.activeMatchIndex>this.state.matches.length?this.state.activeMatchIndex=this.state.matches.length:this.removeActiveMatchMark():this.state.activeMatchIndex=0;var t=this.getMarkHtml();this.forEachTextContainer((e=>{w(e.querySelectorAll(L(this.options.charClass+"["+sW+"='"+this.state.activeMatchIndex+"']"))).forEach((e=>{Wt(e,t)}))}))}removeActiveMatchMark(){this.forEachTextContainer((t=>{var e=w(t.querySelectorAll(L(this.options.highlightMarkClass))).flatMap((t=>w(t.childNodes)));Gt(e)}))}removeIndicators(){this.removeActiveMatchMark(),this.removeMatchHighlights()}markNextMatch(){this.markNextMatchIndex(),this.addActiveMatchMark()}markPreviousMatch(){this.markPreviousMatchIndex(),this.addActiveMatchMark()}markNextMatchIndex(){this.moveActiveMatchIndex(1)}markPreviousMatchIndex(){this.moveActiveMatchIndex(-1)}moveActiveMatchIndex(t){this.state.activeMatchIndex+=t,this.state.activeMatchIndex<0?this.state.activeMatchIndex=Math.max(this.state.matches.length-1,0):this.state.activeMatchIndex>this.state.matches.length-1&&(this.state.activeMatchIndex=0)}getActiveMatchElement(){var t;return this.forEachTextContainer((e=>{var r=e.querySelector(L(this.options.highlightMarkClass));r&&(t=r)})),t}getMarkHtml(){return"<span class='".concat(this.options.highlightMarkClass,"'></span>")}}function lW(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var cW=1e3/60,hW="scroll";class uW extends H{constructor(t,e){super(t,e),lW(this,"options",{scrollDirectionModifier:-1,panScrollThrottleDelay:cW,scrollThrottleDelay:cW,filter:"",events:{[hW]:T}}),lW(this,"onElementScroll",(()=>{var t=this.element;this.state.trackNextElementScroll?this.scrollTo(t.scrollLeft,t.scrollTop):this.state.trackNextElementScroll=!0})),lW(this,"OnDragStart",(t=>{if(this.state.dragStarted=!1,this.shouldTrackPanEvents()){var e,r,n=t.target||(t.originalEvent||{}).target;if(!this.options.filter||(e=n,r=this.options.filter,e&&r&&e.closest(r)))(t=>{t.preventDefault&&t.preventDefault(),t.originalEvent&&t.originalEvent.preventDefault()})(t),this.setState({dragStarted:!0,location:{pageX:t.pageX,pageY:t.pageY},locationDelta:{x:0,y:0}})}})),lW(this,"onDrag",(t=>{if(this.shouldTrackPanEvents()&&this.state.dragStarted){this.calculateEventLocationDelta(t),this.setState({location:{pageX:t.pageX,pageY:t.pageY}});var e=this.options.scrollDirectionModifier,r=this.element.scrollLeft+e*this.state.locationDelta.x,n=this.element.scrollTop+e*this.state.locationDelta.y;this.scrollTo(r,n)}})),lW(this,"onDragEnd",(()=>{this.shouldTrackPanEvents()})),this.extendOptions(e),this.resetState(),this.bindEvents()}destroy(){this.unbindEvents()}extendOptions(t){this.options=g(this.options,t)}initDraggable(){this.destroyDraggable(),this.options.panScrollThrottleDelay>0?this.throttledOnDrag=Yq(this.onDrag,this.options.panScrollThrottleDelay):this.throttledOnDrag=this.onDrag,this.draggable=new ur({mouseOnly:!1,press:this.OnDragStart,drag:this.throttledOnDrag,release:this.onDragEnd}),this.draggable.bindTo(this.element)}destroyDraggable(){this.draggable&&this.draggable.destroy&&(this.draggable.destroy(),this.throttledOnDrag&&this.throttledOnDrag.cancel&&(this.throttledOnDrag.cancel(),this.throttledOnDrag=null))}bindEvents(){this.bindDraggableEvents(),this.bindElementScroll()}bindDraggableEvents(){this.initDraggable()}bindElementScroll(){this.options.scrollThrottleDelay>0?this.throttledOnElementScroll=Yq(this.onElementScroll,this.options.scrollThrottleDelay):this.throttledOnElementScroll=this.onElementScroll,this.element.addEventListener(hW,this.throttledOnElementScroll)}unbindEvents(){this.unbindElementScroll(),this.unbindDraggableEvents()}unbindDraggableEvents(){this.destroyDraggable()}unbindElementScroll(){this.throttledOnElementScroll&&this.throttledOnElementScroll.cancel&&(this.throttledOnElementScroll.cancel(),this.throttledOnElementScroll=null),this.element.removeEventListener(hW,this.throttledOnElementScroll)}setState(t){this.state=g(this.state||{},t)}resetState(){this.setState({trackPanEvents:!1,trackNextElementScroll:!1,location:{pageX:0,pageY:0},locationDelta:{x:0,y:0}})}enablePanEventsTracking(){this.state.trackPanEvents=!0,this.bindDraggableEvents()}disablePanEventsTracking(){this.unbindDraggableEvents(),this.state.trackPanEvents=!1}shouldTrackPanEvents(){return this.state.trackPanEvents}calculateEventLocationDelta(t){this.state.locationDelta={x:t.pageX-this.state.location.pageX,y:t.pageY-this.state.location.pageY}}scrollTo(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{trackScrollEvent:!0};r.trackScrollEvent||(this.state.trackNextElementScroll=!1),this.element.scrollLeft=t,this.element.scrollTop=e,r.trackScrollEvent&&this.trigger(hW,{scrollTop:this.element.scrollTop,scrollLeft:this.element.scrollLeft})}}function pW(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var dW="pdfjs",fW="error",gW="pagesRead",mW="pagesLoad",yW="pagesWheel",vW="printEnd",bW="scroll",wW=window.getComputedStyle;class xW extends H{constructor(t,e){super(t,e),pW(this,"options",{pdfServiceType:dW,fileData:[],page:1,fileDescriptor:{data:null,url:null},downloadFileName:"Document",minZoom:.5,maxZoom:4,zoomRate:.25,zoomLevel:1.25,zoomBeforePrint:!1,zoomLevelForPrint:3,searchMatchScrollLeftOffset:0,searchMatchScrollTopOffset:-64,pageChangeScrollThreshold:.85,pageWheelThrottleDelay:200,messages:{errorMessages:{parseError:"PDF file fails to process.",notFound:"File is not found.",popupBlocked:"Popup is blocked."}},elementSelectors:{pageSelector:"k-page:not(.k-blank-page)",pagesContainerClass:"k-pdf-viewer-pages",documentContainerClass:"k-pdf-viewer-canvas",searchHighlightClass:"k-search-highlight",searchHighlightMarkClass:"k-search-highlight-mark",charClass:"k-text-char",textElementSelector:"span[role='presentation']",renderedPageSelector:"k-page[data-page-number]",enabledTextSelectionClass:"k-enable-text-select",enabledPanningClass:"k-enable-panning"},events:{[gW]:T,[mW]:T,[yW]:T,[vW]:T,[fW]:T,[bW]:T}}),pW(this,"onPageScrollerScroll",(t=>{var e=this.pages.length,r=this.getPageNumberByScrollOffset(t.scrollTop),n=!1;r!==this.state.activePageNumber&&r>=1&&r<=e&&(n=!0,this.state.activePageNumber=r),this.trigger(bW,{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,pageNumber:this.state.activePageNumber,isPageChanged:n})})),pW(this,"printDocumentAsync",(()=>{this.initPrintContainer();var t=this.renderPagesForPrintAsync(this.printContainer),e=this.createPromise();return Kq(t).then((()=>{setTimeout((()=>{this.openPrintDialog(),e.resolve()}),16.666666666666668)})),e})),pW(this,"onPagesWheel",(t=>{if(t.ctrlKey||t.metaKey){t.preventDefault();var e=$(t),r=e<0?1:-1,n=this.state.zoomLevel+r*this.options.zoomRate;this.zoom({zoomLevel:n}),this.trigger(yW,{zoomLevel:n,mousewheelDelta:e})}})),this.extendOptions(e),this.wrapper=this.element,this.resetState(),this.bindEvents(),this.initPdfService(),this.loadFile()}destroy(){this.unbindEvents(),this.destroySearchService()}extendOptions(t){this.options=g(this.options,t)}setOptions(t){this.options=t}bindEvents(){this.bindPagesWheel()}bindPagesWheel(){var t=this.getDocumentContainer();t&&(this.options.pageWheelThrottleDelay>0?this.throttledPagesWheel=Yq(this.onPagesWheel,this.options.pageWheelThrottleDelay):this.throttledPagesWheel=this.onPagesWheel,t.addEventListener("wheel",this.throttledPagesWheel))}unbindEvents(){this.unbindPagesWheel()}unbindPagesWheel(){var t=this.getDocumentContainer();t&&(this.throttledPagesWheel&&this.throttledPagesWheel.cancel&&this.throttledPagesWheel.cancel(),t.removeEventListener("wheel",this.throttledPagesWheel))}setState(t){this.state=g(this.state||{},t)}resetState(){this.setState({activePageNumber:1,visiblePagesCount:1,pagePromises:[],downloadFilePromise:null,pdfDocument:null,zoomLevel:this.options.zoomLevel,zoomLevelType:this.options.zoomLevelType,zoomLevelBeforePrint:null})}createPromise(){return Gq()}initPdfService(){this.shouldUsePdfJsService()&&(this.pdfService=new tW(this.options))}loadFile(t){this.loadDocument(t||this.options.fileDescriptor||{data:this.options.fileData,page:this.options.page})}loadDocument(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:null,url:null,page:1},e=this;e.fetchDocumentAsync(t).then((r=>{var n=[];e.state.pdfDocument=r,e.state.downloadFilePromise=e.createPromise(),r.getData().then((t=>{var r=new Blob([t],{type:"application/pdf"});e.state.downloadFilePromise.resolve({file:r})})),e.state.pagePromises=e.getAllPagesAsync(r),e.readPagesAsync(e.state.pagePromises).then((i=>{e.options.page=t.page||e.options.page||1;var o=e.options.page;n=i.map((t=>{var e=t.getViewport({scale:1.25});return{width:e.width,height:e.height}})),e.state.pdfDocumentDescriptor={pagesCount:r.numPages,pages:n},e.trigger(gW,{pagesCount:r.numPages}),e.clearPages(),e.createPages(),e.state.pdfDocumentDescriptor&&(o=o>=1&&o<=e.state.pdfDocumentDescriptor.pagesCount?o:1,e.scrollPagesContainer(0,0),e.loadAllPagesAsync().then((()=>{e.trigger(mW,{pagesCount:r.numPages}),e.activatePage(o)})).catch((t=>{e.triggerError(t)})))})).catch((t=>{e.triggerError(t)}))})).catch((t=>{e.triggerError(t)}))}triggerError(t){this.trigger(fW,t)}triggerZoomStart(t){this.trigger("zoomStart",{zoomLevel:t.zoomLevel,zoomLevelType:t.zoomLevelType})}triggerZoomEnd(t){this.trigger("zoomEnd",{zoomLevel:t.zoomLevel,zoomLevelType:t.zoomLevelType})}readPagesAsync(t){return this.pdfService.readPagesAsync(t)}readAllPagesAsync(t){return this.pdfService.readAllPagesAsync(t)}getAllPagesAsync(t){return this.pdfService.getAllPagesAsync(t)}getPageAsync(t,e){return this.pdfService.getPageAsync(t,e)}fetchDocumentAsync(t){return this.pdfService.fetchDocumentAsync(t)}clearDocument(){this.clearPages(),this.state.pdfDocument=null}clearPages(){var t=this.getDocumentContainer(),e=this.getPagesContainer();t&&e&&this.hasDocument()&&this.getPagesElements().forEach((t=>{e.removeChild(t)}))}createPages(){var t,e=this,r=e.state.pdfDocumentDescriptor;if(e.pages=[],e._visiblePages=[],e.initDocumentContainer(),r&&r.pagesCount){t=r.pages;for(var n=1;n<=r.pagesCount;n++){var i={number:n};i&&t.length&&(i=u(i,t[n-1]));var o=this.createPage(i);this.addPage(o)}}else e.renderNoDataIndicator()}createPage(t){var e;return this.shouldUsePdfJsService()&&(e=new Zq(t,this)),e}addPage(t){this.pages.push(t),this._visiblePages.push(t);var e=this.getPagesContainer();e&&e.appendChild(t.element)}shouldUsePdfJsService(){return this.options.pdfServiceType===dW}initDocumentContainer(){this.documentContainer||(this.documentContainer=this.getDocumentContainer(),this.initPageScroller(this.documentContainer))}initPageScroller(t){!this.scroller&&t&&(this.scroller=this.createPageScroller(t,{filter:L(this.options.elementSelectors.pageSelector),events:{[bW]:this.onPageScrollerScroll}}))}createPageScroller(t,e){return new uW(t,e)}destroyPageScroller(){this.scroller&&(this.scroller.destroy(),this.scroller=null)}renderNoDataIndicator(){}activatePage(t){this.getPageByNumber(t)&&this.state.activePageNumber!==t&&(this.state.activePageNumber=t,this.isPageLoaded(t)?this.scrollToPage(t):this.loadAllPagesAsync.then((function(){this.scrollToPage(t)})))}loadAllPagesAsync(){for(var t=(this.pages||[]).length,e=[],r=0;r<t;r++){var n=r+1;e.push(this.loadPageAsync(n))}return Kq(e)}loadPageAsync(t){var e=this.getPageByNumber(t);if(e)return e.loadAsync(this.options.zoomLevel)}isPageLoaded(t){var e=this.getPageByNumber(t);return k(e)}areAllPagesLoaded(){var t=this.state.pdfDocumentDescriptor,e=this.pages||[];return!(!t||!e)&&e.length===t.pagesCount}scrollToPage(t){var e=this.getScrollOffsetByPageNumber(t);this.scrollPagesContainer(0,e)}scrollPagesContainer(t,e){this.scroller&&this.scroller.element&&this.scroller.scrollTo(t,e,{trackScrollEvent:!1})}downloadFile(t){this.state.downloadFilePromise&&this.state.downloadFilePromise.then((e=>{var r=v(t)?t:this.options.downloadFileName,i=new FileReader;i.readAsDataURL(e.file),i.onload=()=>{(t=>{n(t.dataURI,t.fileName,t)})({dataURI:i.result,fileName:r+".pdf"})}}))}hasDocument(){return k(this.state.pdfDocument)}zoom(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{zoomIn:!1,zoomOut:!1,zoomLevel:null,zoomLevelType:""},e=this,r=this.options,n=t.zoomLevelType,i=this.pages||[];if(this.hasDocument()&&!(i.length<=0)){var o=this.calculateZoomLevel(t);if(!(o<r.minZoom||o>r.maxZoom||this.triggerZoomStart({zoomLevel:o}))){this.options.zoomLevel=o,this.setState({zoomLevelType:n,zoomLevel:o});var s=[];return i.forEach((t=>{if(-1!==this._visiblePages.indexOf(t)&&t.isLoaded()){var e=t.renderAsync(o);s.push(e)}else t.resize(o)})),Kq(s).finally((function(){e.triggerZoomEnd({zoomLevelType:n,zoomLevel:o})}))}}}calculateZoomLevel(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{zoomLevel:null,zoomLevelType:""},e=this.options,r=this.getDocumentContainer(),n=this._visiblePages&&this._visiblePages.length>0?this._visiblePages[0].getSize():{width:0,height:0},i=t.zoomLevelType,o=t.zoomLevel||e.zoomLevel;return i===eW?o=1:i===rW?o=r.offsetWidth/(n.width/this.state.zoomLevel):i===nW&&(o=r.offsetHeight/(n.height/this.state.zoomLevel)),o}print(){if(this.hasDocument()){var t=this;if(this.options.zoomBeforePrint)this.cacheZoomLevelBeforePrint(),t.loadDocumentForPrintAsync().then((()=>{t.printDocumentAsync().then((()=>{t.trigger(vW)}))})).catch(t.triggerError).finally((()=>{t.restoreZoomLevelBeforePrint()}));else try{t.printDocumentAsync().then((()=>{t.trigger(vW)}))}catch(e){t.triggerError(e)}}}loadDocumentForPrintAsync(){for(var t=this.pages,e=[],r=[],n=this.createPromise(),i=0;i<t.length;i++){var o=t[i].loadAsync(this.options.zoomLevelForPrint,!0).then((t=>{r.push(t)}));e.push(o)}return Kq(e).then((()=>{n.resolve(r)})),n}renderPagesForPrintAsync(t){for(var e=this.pages,r=[],n=0;n<e.length;n++){var i=e[n].getPrintContentAsync();i.then((e=>{var r=j("<div></div>");r.appendChild(e),t.appendChild(r)})),r.push(i)}return r}initPrintContainer(){this.printContainer=j("<div></div>")}openPrintDialog(){var t=this.pages,e=t[0].width,r=t[0].height,n=window.open("","","innerWidth="+e+",innerHeight="+r+"location=no,titlebar=no,toolbar=no");n&&n.document?(n.document.write(this.printContainer.innerHTML),n.document.close(),n.focus(),n.print()):this.triggerError({message:this.options.messages.errorMessages.popupBlocked})}cacheZoomLevelBeforePrint(){this.setState({zoomLevelBeforePrint:this.state.zoomLevel})}restoreZoomLevelBeforePrint(){this.zoom(this.state.zoomLevelBeforePrint)}search(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",matchCase:!1},e=this;if(e.areAllPagesLoaded())return e.searchText(t);e.loadAllPagesAsync().then((function(){return e.searchText(t)}))}clearSearch(){this.destroySearchService()}searchText(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",matchCase:!1};return this.initSearchService(),this.searchService.search(t)}initSearchService(){if(!this.searchService){var t=this.getPagesTextLayers();this.searchService=new aW({textContainers:t||[],highlightClass:this.options.elementSelectors.searchHighlightClass,highlightMarkClass:this.options.elementSelectors.searchHighlightMarkClass,charClass:this.options.elementSelectors.charClass})}}destroySearchService(){this.searchService&&(this.searchService.destroy(),this.searchService=null)}getPageByNumber(t){return this.pages&&this.pages[t-1]}getPageNumberByScrollOffset(t){var e=this.getPagesContainer();if(e){for(var r=e.offsetTop,n=this.state.activePageNumber,i=r,o=0;o<this.pages.length;o++){var s=this.pages[o],a=this.getPageScrollOffset(s);if(i+a*this.options.pageChangeScrollThreshold>t){n=o+1;break}i+=a}return n=he(n,1,this.pages.length)}}getScrollOffsetByPageNumber(t){if(this.getPageByNumber(t)){this.state.activePageNumber=t;var e=this.pages.slice(0,Math.max(0,t-1)).map((t=>this.getPageScrollOffset(t))).reduce(((t,e)=>t+e),0);return e+0}}getPageScrollOffset(t){var e=t.getSize().height,r=wW(t.element);return e+parseFloat(r.marginTop)}getPagesTextLayers(){return(this.pages||[]).map(this.getPageTextLayer)}getPageTextLayer(t){return t.getTextLayer()}getPagesContainer(){return this.element.querySelector(L(this.options.elementSelectors.pagesContainerClass))}getDocumentContainer(){return this.wrapper.querySelector(L(this.options.elementSelectors.documentContainerClass))}getPagesElements(){var t=this.getDocumentContainer();return t?w(t.querySelectorAll(L(this.options.elementSelectors.pageSelector))):[]}goToNextSearchMatch(){if(this.searchService){this.searchService.markNextMatch();var t=this.searchService.getActiveMatchElement();this.scrollToSearchMatch(t)}}goToPreviousSearchMatch(){if(this.searchService){this.searchService.markPreviousMatch();var t=this.searchService.getActiveMatchElement();this.scrollToSearchMatch(t)}}scrollToSearchMatch(t){if(t){var e=t.closest(L(this.options.elementSelectors.charClass)),r=e?e.closest(this.options.elementSelectors.textElementSelector):null;if(r){var n=r.closest(L(this.options.elementSelectors.renderedPageSelector));if(n){var i=n.offsetLeft+-1*this.scroller.element.offsetLeft+r.offsetLeft+this.options.searchMatchScrollLeftOffset,o=n.offsetTop+-1*this.scroller.element.offsetTop+r.offsetTop+this.options.searchMatchScrollTopOffset;this.scrollPagesContainer(i,o)}}}}enableTextSelection(){this.disableScrollerEventsTracking(),J(this.options.elementSelectors.enabledTextSelectionClass,this.scroller.element),Z(this.options.elementSelectors.enabledPanningClass,this.scroller.element)}disableTextSelection(){this.enableScrollerEventsTracking(),Z(this.options.elementSelectors.enabledTextSelectionClass,this.scroller.element),J(this.options.elementSelectors.enabledPanningClass,this.scroller.element)}enableScrollerEventsTracking(){this.scroller&&this.scroller.enablePanEventsTracking()}disableScrollerEventsTracking(){this.scroller&&this.scroller.disablePanEventsTracking()}}function SW(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var kW=window.ArrayBuffer,AW="click",CW=".k-i-folder-open";class _W extends H{constructor(t,e){super(t,e),SW(this,"options",{dotNetInstance:null,pdfServiceType:"pdfjs",fileData:[],minZoom:.5,maxZoom:4,zoomRate:.25,zoomLevel:1.25,fileSelect:{dataId:""},jsinterop:{onPagesRead:"",onPagesLoad:"",onPrintEnd:"",onZoomStart:"",onZoomEnd:"",onError:"",onScroll:""}}),SW(this,"onFileSelectAdd",(t=>{var e=this.getFileSelect(t);if(e){var r=(e.state.files||[])[0];r&&e.readBlob(r).then((t=>{this.loadFileFromArrayBuffer(t)}))}})),SW(this,"onOpenFileClick",(t=>{var e=t.currentTarget.querySelector(".k-upload[data-id]"),r=e?e.getAttribute("data-id"):null;this.openSelectFileDialog(r)})),SW(this,"onPagesRead",(t=>{this.invokePagesRead(t)})),SW(this,"onPagesLoad",(t=>{this.invokePagesLoad(t)})),SW(this,"onPrintEnd",(()=>{this.invokePrintEnd()})),SW(this,"onZoomStart",(t=>{this.invokeZoomStart(t)})),SW(this,"onZoomEnd",(t=>{this.invokeZoomEnd(t)})),SW(this,"onError",(t=>{this.invokeError(t)})),SW(this,"onScroll",(t=>{t.isPageChanged&&this.invokeScroll(t)})),SW(this,"invokePagesRead",(t=>{this.invokeMethodAsync(this.options.jsinterop.onPagesRead,{pagesCount:t.pagesCount})})),SW(this,"invokePagesLoad",(t=>{this.invokeMethodAsync(this.options.jsinterop.onPagesLoad,{pagesCount:t.pagesCount})})),SW(this,"invokePrintEnd",(()=>{this.invokeMethodAsync(this.options.jsinterop.onPrintEnd)})),SW(this,"invokeZoomStart",(t=>{this.invokeMethodAsync(this.options.jsinterop.onZoomStart,{zoomLevel:t.zoomLevel})})),SW(this,"invokeZoomEnd",(t=>{this.invokeMethodAsync(this.options.jsinterop.onZoomEnd,{zoomLevel:t.zoomLevel})})),SW(this,"invokeError",(t=>{this.invokeMethodAsync(this.options.jsinterop.onError,{message:t.message})})),SW(this,"invokeScroll",(t=>{this.invokeMethodAsync(this.options.jsinterop.onScroll,{page:t.pageNumber})})),this.extendOptions(e),this.wrapper=this.element,this.options.fileData=e.fileData,this.initWidget(),this.bindEvents(),this.loadFile({fileData:this.options.fileData})}destroy(){this.unbindEvents(),this.destroyWidget()}initWidget(){"pdfjs"===this.options.pdfServiceType&&(this.widget=this.createWidget(this.element,u(this.options,{zoomBeforePrint:!1,events:{pagesRead:this.onPagesRead,pagesLoad:this.onPagesLoad,printEnd:this.onPrintEnd,zoomStart:this.onZoomStart,zoomEnd:this.onZoomEnd,error:this.onError,scroll:this.onScroll}})))}destroyWidget(){this.widget&&(this.widget.destroy(),this.widget=null)}createWidget(t){return new xW(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}setOptions(t){this.widget&&(this.options=t,this.widget.setOptions(t))}bindEvents(){var t=this.wrapper.querySelector(CW);this.openFileButton=t?t.closest(".k-button"):null,this.openFileButton&&this.openFileButton.addEventListener(AW,this.onOpenFileClick)}unbindEvents(){this.openFileButton&&this.openFileButton.removeEventListener(AW,this.onOpenFileClick)}loadFile(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fileData:[],page:1},e=t.fileData||{},r=t.page||1;e&&e.buffer instanceof kW&&this.loadFileFromArrayBuffer(e.buffer,r)}loadFileFromArrayBuffer(t,e){this.widget&&t instanceof kW&&this.widget.loadFile({data:t,page:e})}getFileSelect(t){return re(t||this.options.fileSelect.dataId)}openSelectFileDialog(t){var e=this.getFileSelect(t);e&&e.openSelectFileDialog()}downloadFile(t){var{fileName:e}=t;this.widget.downloadFile(e)}activatePage(t){this.widget.activatePage(t)}zoom(t){this.widget.zoom(t)}print(){this.widget.print()}search(t){return this.widget.search(t).length}clearSearch(){return this.widget.clearSearch()}goToNextSearchMatch(){this.widget.goToNextSearchMatch()}goToPreviousSearchMatch(){this.widget.goToPreviousSearchMatch()}enableTextSelection(){this.widget.enableTextSelection()}disableTextSelection(){this.widget.disableTextSelection()}}function TW(t,e){Zt(_W,t,e)}const OW="bottom",MW="center",EW="middle",PW="left",IW="right",FW="top";const DW=function(t){var e=t.anchorRect,r=t.anchorAlign,n=t.elementRect,i=t.elementAlign,o=t.margin;void 0===o&&(o={});var s=r.horizontal,a=r.vertical,l=i.horizontal,c=i.vertical,h=o.horizontal||0,u=o.vertical||0,p=e.top,d=e.left;return a===OW&&(p+=e.height),a!==MW&&a!==EW||(p+=Math.round(e.height/2)),c===OW&&(p-=n.height,u*=-1),c!==MW&&c!==EW||(p-=Math.round(n.height/2),u*=-1),s===IW&&(d+=e.width),s!==MW&&s!==EW||(d+=Math.round(e.width/2)),l===IW&&(d-=n.width,h*=-1),l!==MW&&l!==EW||(d-=Math.round(n.width/2),h*=-1),{top:p+u,left:d+h}};function RW(t){return t.ownerDocument||t.document||t}const LW=function(t){return RW(t).documentElement};const NW=function(t){return RW(t).defaultView};function BW(t){var e=LW(t),r=NW(t);return{x:r.pageXOffset||e.scrollLeft||0,y:r.pageYOffset||e.scrollTop||0}}function jW(t){return t===(t.ownerDocument||{}).body?BW(t):{x:t.scrollLeft,y:t.scrollTop}}const zW=function(t){for(var e=t.offsetParent;e&&"static"===e.style.position;)e=e.offsetParent;return e||LW(t)};function UW(t,e){return t?jW(t):function(t){var e=zW(t);return e?jW(e):{x:0,y:0}}(e)}const $W=function(t){var e=t.getBoundingClientRect(),r=e.left,n=e.top;return e.height||e.width||(e=function(t){var e=t.style,r=e.display,n=e.left,i=e.position;t.style.display="",t.style.left="-10000px",t.style.position="absolute";var o=t.getBoundingClientRect();return t.style.display=r,t.style.left=n,t.style.position=i,o}(t)),{top:n,left:r,height:e.height,width:e.width}};const HW=function(t,e){var r=NW(t),n=r.getComputedStyle(t),i=$W(t),o=e||zW(t),s=t.ownerDocument,a=o!==s.body&&o!==s.documentElement,l={top:0,left:0};if("fixed"!==n.position&&a){var c=r.getComputedStyle(o);(l=$W(o)).top+=parseInt(c.borderTopWidth,10),l.left+=parseInt(c.borderLeftWidth,10)}return{top:i.top-l.top,left:i.left-l.left,height:i.height,width:i.width}};const VW="fit",qW="flip";var WW=function(t,e,r){var n=0;return t+e>r&&(n=r-(t+e)),t<0&&(n=-t),n},XW=function(t){var e=t.offset,r=t.size,n=t.anchorSize,i=t.viewPortSize,o=t.anchorAlignPoint,s=t.elementAlignPoint,a=0,l=2*t.margin;if(s!==o&&!(s===MW||s===EW)&&!(o===MW||o===EW)){var c=o===FW||o===PW;e<0&&c?e+(a=r+n+l)+r>i&&(a=0):e>=0&&!c&&(e+r>i&&(a+=-(n+r+l)),e+a<0&&(a=0))}return a};const GW=function(t){var e=t.anchorRect,r=t.anchorAlign,n=t.elementRect,i=t.elementAlign,o=t.collisions,s=t.viewPort,a=t.margin;void 0===a&&(a={});var l=n.top,c=n.left,h=n.height,u=n.width,p=s.height,d=s.width,f=a.horizontal||0,g=a.vertical||0,m=0,y=0,v=o.horizontal===qW,b=o.vertical===qW;o.vertical===VW&&(y+=WW(l,h,p)),o.horizontal===VW&&(m+=WW(c,u,d)),b&&(y+=XW({margin:g,offset:l,size:h,anchorSize:e.height,viewPortSize:p,anchorAlignPoint:r.vertical,elementAlignPoint:i.vertical})),v&&(m+=XW({margin:f,offset:c,size:u,anchorSize:e.width,viewPortSize:d,anchorAlignPoint:r.horizontal,elementAlignPoint:i.horizontal}));var w=v&&0!==m,x=b&&0!==y;return{flipped:w||x,flip:{horizontal:w,vertical:x},offset:{left:m,top:y}}};function KW(t,e){for(var r=[],n=t.parentNode;n&&(r.push(n),n!==e);)n=n.parentNode;return r}function YW(t){for(var e=[],r=t.parentNode.firstElementChild;r;)r!==t&&e.push(r),r=r.nextElementSibling;return e}function JW(t,e){if(!t||!e)return null;var r=function(t,e){for(var r,n,i=KW(t),o=e;o&&(r=YW(o),!(n=i.reduce((function(t,e){return t.concat(r.filter((function(t){return t===e})))}),[])[0]));)o=o.parentElement;return n}(t,e);if(!r)return null;var n=[t].concat(KW(t,r)).reduce((function(t,e){var r=e.style.zIndex||window.getComputedStyle(e).zIndex,n=parseInt(r,10);return n>t?n:t}),0);return n?n+1:null}var ZW=0;function QW(){if(!ZW&&"undefined"!=typeof document){var t=document.createElement("div");t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),ZW=t.offsetWidth-t.scrollWidth,document.body.removeChild(t)}return ZW}function tX(t){var e=NW(t),r=LW(t),n={height:e.innerHeight,width:e.innerWidth};return r.scrollHeight-r.clientHeight>0&&(n.width-=QW()),n}function eX(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var rX={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0},nX=Array.from,iX="mouseleave",oX="mouseover",sX="mousedown",aX="pointerdown",lX="scroll",cX="resize";class hX extends H{constructor(t,e){if(super(t,e),eX(this,"mouseHoverTimeout",null),eX(this,"options",{dotNetInstance:null,anchorSelector:"",dynamicAnchors:!1,anchorRect:rX,toggleElementSelector:"",width:"",inheritAnchorWidth:!0,anchorAlign:{horizontal:"left",vertical:"bottom"},elementAlign:{horizontal:"left",vertical:"top"},openOn:"click",closeOn:"click",closeParentPopupsUntilSelector:"",jsinterop:{close:"",closeAsync:"",openAsync:"",positionSet:""}}),eX(this,"toggle",(t=>{t.preventDefault(),this._visible?this.closeAsync():this.openAsync(t)})),eX(this,"onCloseEvent",(t=>{!(this.toggleElements&&[...this.toggleElements].includes(t.target))&&t.target!==this.anchor||this.isChild(t.relatedTarget)||(this.mouseHoverTimeout=setTimeout((()=>{this.closeAsync()}),30))})),eX(this,"onElementMouseOver",(()=>{this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout)})),eX(this,"onMouseDown",(t=>{this.isChild(t.target)||this.closeAsync()})),eX(this,"onElementMouseLeave",(t=>{var e=t.relatedTarget;if(!q(this.element,e)&&!q(this.anchor,e)){var r=e&&e.closest(".k-animation-container"),n=r&&(r.dataset.id===this.element.dataset.id||this.isChild(e));r&&n||t.target!==this.element||(this.mouseHoverTimeout=setTimeout((()=>{this.closeAsync(),this.options.closeParentPopupsUntilSelector&&this.closeParentPopups()}),30))}})),eX(this,"onScroll",(t=>{this.isChild(t.target)||this.positionElement()})),eX(this,"onResize",(()=>{this.close()})),eX(this,"openAsync",((t,e,r)=>{this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout);var n=this.anchor;this.anchors.length>1&&this.anchors.forEach((e=>{q(e,t.target)&&(this.anchor=e)})),n!==this.anchor&&this.closeAsync(),this.options.anchorRect={top:r,left:e,width:0,height:0},this.invokeMethodAsync(this.options.jsinterop.openAsync)})),this.extendOptions(e),this.anchors=this.getAnchorsFromDocument(),this.anchor=this.anchors[0],this.anchors.length>1&&e.toggleElementSelector)throw new Error("Toggle element is not supported when you have more than one anchor");e.toggleElementSelector&&(this.toggleElements=nX(document.querySelectorAll(e.toggleElementSelector))),c()||this.createIntersectionObserver(),this.bindAnchorsEvents(),this.bindElementEvents(),this.initPosition()}destroy(){this.unbindElementEvents(),this.unbindEvents(),this.unbindAnchorsEvents(),this.destroyIntersectionObserver(),super.destroy(),this.toggleElements=null,this.anchor=null}getElementRect(t){var e=t?t.getBoundingClientRect():rX,r=document.body.getBoundingClientRect();return{top:e.top-r.top,left:e.left-r.left,width:e.width,height:e.height}}bindElementEvents(){this.options.closeOn===iX&&(this.element.addEventListener(iX,this.onElementMouseLeave),this.element.addEventListener(oX,this.onElementMouseOver))}unbindElementEvents(){this.element&&(this.element.removeEventListener(iX,this.onElementMouseLeave),this.element.removeEventListener(oX,this.onElementMouseOver))}bindAnchorsEvents(){this.toggleElements&&this.toggleElements.length?this.toggleElements.forEach((t=>{this.bindAnchorEvents(t)})):this.anchors.forEach((t=>{this.bindAnchorEvents(t)}))}unbindAnchorsEvents(){this.toggleElements&&this.toggleElements.forEach((t=>{this.unbindAnchorEvents(t)})),this.anchors.forEach((t=>{this.unbindAnchorEvents(t)}))}bindAnchorEvents(t){if(f(t)){var{openOn:e,closeOn:r}=this.options;e===r?t.addEventListener(e,this.toggle,!0):(t.addEventListener(e,this.openAsync,!0),t.addEventListener(r,this.onCloseEvent,!0))}}unbindAnchorEvents(t){if(f(t)){var{openOn:e,closeOn:r}=this.options;t.removeEventListener(e,this.toggle,!0),t.removeEventListener(e,this.openAsync,!0),t.removeEventListener(r,this.onCloseEvent,!0)}}bindEvents(){this.bound||(this.bound=!0,document.addEventListener(lX,this.onScroll,!0),c()||window.addEventListener(cX,this.onResize),window&&window.PointerEvent?document.addEventListener(aX,this.onMouseDown,!0):document.addEventListener(sX,this.onMouseDown,!0))}unbindEvents(){document.removeEventListener(lX,this.onScroll,!0),document.removeEventListener(sX,this.onMouseDown,!0),document.removeEventListener(aX,this.onMouseDown,!0),window.removeEventListener(cX,this.onResize,!0),this.bound=!1}closeParentPopups(){for(var t=this.element;t&&!t.querySelector(this.options.closeParentPopupsUntilSelector);){var e=re(t.getAttribute("data-id")),r=e.anchor;e.close(),t=r&&r.closest(".k-animation-container")}}onOpen(){this._visible=!0,this.bindEvents(),!this.options.width&&this.options.inheritAnchorWidth&&(this.element.style.width=this.getAnchorWidth()),this.anchor&&this.setZIndex(this.anchor),this.positionElement()}getAutoSizePosition(){var t=this.element.children[0];if(t){var e=t.style.display;t.style.visibility="hidden",t.style.display="block";var r=this.getPosition();return t.style.display=e,t.style.visibility="",r}return this.getPosition()}onClose(){this._visible=!1,this.unbindEvents()}initPosition(){this.element&&(this.element.style.left="-10000px",this.element.style.top="0px")}getPosition(){var t=this.getAnchorRect(),e=this.element.style.left,r=this.element.style.top;this.element.style.left="",this.element.style.top="";var n=this.getElementRect(this.element);this.element.style.left=e,this.element.style.top=r;var i,o,s=DW({anchorRect:t,elementRect:n,anchorAlign:this.options.anchorAlign,elementAlign:this.options.elementAlign,margin:this.options.margin});n.top=s.top,n.left=s.left,i=n,o=BW(this.element),n={top:i.top-o.y,left:i.left-o.x,height:i.height,width:i.width};var a=GW({anchorRect:t,elementRect:n,anchorAlign:this.options.anchorAlign,elementAlign:this.options.elementAlign,collisions:{horizontal:"fit",vertical:"flip"},viewPort:tX(this.element)});return this.flipped=a.flipped,{top:"".concat(s.top+a.offset.top,"px"),left:"".concat(s.left+a.offset.left,"px"),flipped:a.flipped}}positionElement(){var t=this.getElementPosition();return this.element.style.top=t.top,this.element.style.left=t.left,this.invokePositionSet(),t}getElementPosition(){return!0===this.options.autoSize?this.getAutoSizePosition():this.getPosition()}getAnchorWidth(){if(!this.anchor)return"";var t=this.getElementRect(this.anchor);return"".concat(t.width,"px")}getAnchorRect(){return this.anchor?this.getElementRect(this.anchor):this.options.anchorRect}setZIndex(t){var e;this.element&&(t&&(e=JW(t,this.element)),this.element.style.zIndex=e||10002)}createIntersectionObserver(){this.destroyIntersectionObserver(),this.intersectionObserver=this.initIntersectionObserver(),this.anchors.forEach((t=>{this.observeIntersection(t)}))}initIntersectionObserver(){var t={threshold:this.getIntersectionThreshold()};return new window.IntersectionObserver((t=>{t.forEach((t=>{t.intersectionRatio>=0&&t.intersectionRatio<1&&this.onAnchorHide(t.target)}))}),t)}observeIntersection(t){this.canObserveIntersection(t)&&this.intersectionObserver.observe(t)}unobserveIntersection(t){this.canObserveIntersection(t)&&this.intersectionObserver.unobserve(t)}canObserveIntersection(t){return this.intersectionObserver&&f(t)}destroyIntersectionObserver(){this.intersectionObserver&&(this.anchors.forEach((t=>{this.unobserveIntersection(t)})),this.intersectionObserver.disconnect&&this.intersectionObserver.disconnect()),this.intersectionObserver=null}onAnchorHide(t){if(this.hasDynamicAnchors()&&this._ignoreFirstIntersectionCheck){if(q(this.anchor,t))return void(this._ignoreFirstIntersectionCheck=!1)}else this.close()}getIntersectionThreshold(){for(var t=[],e=0;e<=1;e+=.1)t.push(e);return t}isElementVisible(){return this.element&&this.element.getElementsByClassName("k-popup")[0]}isChild(t){var e=t;if(et(e,[this.element,this.anchor]))return!0;var r=e instanceof HTMLElement&&e.closest(".k-animation-container");if(r&&r!==this.element){var n=re(r.getAttribute("data-id")||r.id);return!!(n&&n.isParent(this.element))||this.isChildOfPopup(e,this.element)}return!1}isChildOfPopup(t,e){var r=t&&t.closest(".k-animation-container");if(r&&r===e)return!0;if(r&&r!==e){var n=re(r.getAttribute("data-id")||r.id);if(n)return this.isChildOfPopup(n.anchor,e)}return!1}isParent(t){return t&&V(t,this.anchor)}close(){this.invokeMethodAsync(this.options.jsinterop.close)}closeAsync(){this.invokeMethodAsync(this.options.jsinterop.closeAsync)}invokePositionSet(){this.options.jsinterop.positionSet&&this.invokeMethodAsync(this.options.jsinterop.positionSet)}get anchors(){return this.hasDynamicAnchors()&&(this.anchors=this.getAnchorsFromDocument()),this._anchors}set anchors(t){var e=this.hasAnyAnchorChanged(t);this.hasDynamicAnchors()&&e&&((this._anchors||[]).forEach((t=>{this.unobserveIntersection(t),this.unbindAnchorEvents(t)})),t.forEach((t=>{this.bindAnchorEvents(t)}))),this._anchors=t}get anchor(){return this._anchor||(this._anchor=this._anchors[0]),this._anchor}set anchor(t){this.unobserveIntersection(this._anchor),this.unbindAnchorEvents(this._anchor),this._anchor=t,this.hasDynamicAnchors()&&(this._ignoreFirstIntersectionCheck=!0,this.observeIntersection(this._anchor),this.bindAnchorEvents(this._anchor))}getAnchorsFromDocument(){return nX(document.querySelectorAll(this.options.anchorSelector))}hasAnyAnchorChanged(t){if(!this.hasDynamicAnchors())return!1;var e=nX(this._anchors||[]);if(!e||e.length!==t.length)return!0;for(var r=0;r<t.length;r++)if(!e.includes(t[r]))return!0;return!1}hasDynamicAnchors(){return this.options.dynamicAnchors}}function uX(t,e){Zt(hX,t,e)}function pX(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class dX extends H{constructor(t,e){super(t,e),pX(this,"options",{events:{removeFocus:null,keyDown:null},appointmentElementSelector:t=>".k-event[data-render-index='".concat(t,"']")}),pX(this,"onKeyDown",(t=>{[de.ARROWRIGHT,de.ARROWLEFT,de.ARROWUP,de.ARROWDOWN,de.PAGE_DOWN,de.PAGE_UP,de.HOME,de.END,de.SPACE].includes(t.keyCode)&&Q("k-selected",t.target)&&t.target.matches("div.k-event")&&t.preventDefault(),this.trigger("keyDown",{key:t.key,shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.ctrlKey})})),pX(this,"onFocusOut",(t=>{!t.relatedTarget||this.element.querySelector(".k-scheduler-layout").contains(t.relatedTarget)||t.relatedTarget.closest(".k-window")||this.trigger("removeFocus")})),this.extendOptions(e),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("focusout",this.onFocusOut)}unbindEvents(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("focusout",this.onFocusOut)}focusAppointmentElement(t){var e=this.element.querySelector(this.options.appointmentElementSelector(t));e&&this.focusElement(e)}focusElement(t){t instanceof HTMLElement&&t!==document.activeElement&&t.focus()}}function fX(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class gX extends H{constructor(t,e){super(t,e),fX(this,"options",{dotNetInstance:null,jsinterop:{removeFocus:"",keyDown:""}}),fX(this,"onKeyDown",(t=>{this.invokeMethodAsync(this.options.jsinterop.keyDown,t)})),fX(this,"onRemoveFocus",(()=>{this.invokeMethodAsync(this.options.jsinterop.removeFocus)})),this.extendOptions(e),this.createNavigationService()}destroy(){this.destroyNavigationService(),super.destroy()}createNavigationService(){this.navigationService=new dX(this.element,{events:{keyDown:this.onKeyDown,removeFocus:this.onRemoveFocus}})}destroyNavigationService(){this.navigationService&&(this.navigationService.destroy(),this.navigationService=null)}focusAppointmentElement(t){this.navigationService.focusAppointmentElement(t)}focusElement(){this.navigationService.focusElement(this.element)}}function mX(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class yX extends H{constructor(t,e){super(t,e),mX(this,"options",{dotNetInstance:null,allowUpdate:!1,jsinterop:{resizeAppointments:""}}),mX(this,"onResize",(()=>{this.invokeResizeAppointments()})),mX(this,"renderMoveHints",(t=>{t&&t.length&&this.moveTarget&&(this.destroyHints(),t.forEach((t=>{var e=this.createHint(this.moveTarget);this.renderHintElement(e,t)})))})),mX(this,"renderHintElement",(()=>{throw new Error("You have to implement the method renderHintElement!")})),mX(this,"getSlotUnderCursor",(t=>{var e=Ve(t);if(!e)return null;var r=e.closest(".k-event");return r&&(Y(r),e=this.getSlotUnderCursor(t),K(r)),e.closest(".k-scheduler-cell.k-slot-cell")})),mX(this,"createHint",(t=>{var e=t.cloneNode();return e.className+=" k-event-drag-hint",e.style.zIndex="2",this.hints[this.hints.length]=e,e})),mX(this,"destroyHints",(()=>{this.hints.forEach((t=>{t.parentNode.removeChild(t)})),this.hints=[]})),this.extendOptions(e),this.initResizeService(),this.createMovable(),this.hints=[],this.width=0}destroy(){this.bodyElement=null,this.destroyResizeService(),this.destroyMovable(),super.destroy()}initResizeService(){this.resizeService||(this.resizeService=new Nr({element:this.element,onResize:this.onResize}))}destroyResizeService(){this.resizeService&&(this.resizeService.destroy(),this.resizeService=null)}invokeResizeAppointments(){this.invokeMethodAsync(this.options.jsinterop.resizeAppointments,this.getSlotMetrics())}refresh(){this.invokeResizeAppointments()}getSlotMetrics(){var t=this.getFirstCell(),e=this.getContentWidth();return this.setHeadersWidths(),this.slotMetrics={width:e-t.offsetLeft,height:t.offsetHeight,left:t.offsetLeft},this.slotMetrics}createMovable(){this.destroyMovable(),this.options.allowUpdate&&(this.movable=new ur({press:this.onMovableDragStart.bind(this),drag:this.onMovableDrag.bind(this),release:this.onMovableDrop.bind(this),mouseOnly:!0}),this.movable.bindTo(this.element))}destroyMovable(){this.movable&&this.movable.destroy&&this.movable.destroy(),this.moveTarget=null}onMovableDragStart(t){this.moveTarget=null,this.dragStarted=!1;var e=t.originalEvent.target;if(e&&e.closest(".k-event")){var r=this.getSlotUnderCursor(t);this.moveTarget=e.closest(".k-event"),this.resizeStart=Boolean(e.closest(".k-resize-n, .k-resize-w")),this.resizeEnd=Boolean(e.closest(".k-resize-s, .k-resize-e")),this.lastCellIndex=this.originalCellIndex=this.getCellIndex(r),this.lastRowIndex=this.originalRowIndex=this.getRowIndex(r),this.lastResourceIndex=this.originalResourceIndex=this.getResourceIndex(r)}}onMovableDrag(t){if(this.moveTarget)if(this.dragStarted){var e=this.getSlotUnderCursor(t);if(e){var r=Q("k-scheduler-alldays-slot",e),n=this.getCellIndex(e),i=this.getRowIndex(e),o=this.getResourceIndex(e),s=!1;n!==this.lastCellIndex&&(this.lastCellIndex=n,s=!0),i!==this.lastRowIndex&&(this.lastRowIndex=i,s=!0),o!==this.lastResourceIndex&&(this.resourceRowIndex=o,s=!0),s&&this.invokeMethodAsync(this.options.jsinterop.getMoveHint,{rowIndex:i,cellIndex:n,resourceIndex:o,originalCellIndex:this.originalCellIndex,originalRowIndex:this.originalRowIndex,originalResourceIndex:this.originalResourceIndex,resizeStart:this.resizeStart,resizeEnd:this.resizeEnd,isAllDay:r}).then(this.renderMoveHints)}}else this.dragStarted=!0}onMovableDrop(){this.destroyHints(),this.dragStarted&&this.invokeMethodAsync(this.options.jsinterop.moveAppointment),this.moveTarget=null,this.lastCellIndex=this.lastRowIndex=this.lastResourceIndex=0,this.originalCellIndex=this.originalRowIndex=this.originalResourceIndex=0}getFirstCell(){return this.element.querySelector(".k-first-cell")}getContentWidth(){return this.getBodyElement().offsetWidth}setHeadersWidths(){var t=Array.from(this.element.querySelectorAll(".k-heading-cell.k-group-cell,.k-heading-cell.k-resource-cell")),e=z(t,(t=>t.getAttribute("data-depth-index"))),r=function(t){var r=0;e[t].forEach((t=>{t.style.minWidth="",r=Math.max(t.offsetWidth,r)})),e[t].forEach((t=>{t.style.minWidth=r+"px"}))};for(var n in e)r(n)}getBodyElement(){return this.bodyElement||(this.bodyElement=this.element.querySelector(".k-scheduler-body")),this.bodyElement}getCellIndex(t){return this.getCellDataIndex(t,"data-cell-index")}getRowIndex(t){return this.getCellDataIndex(t,"data-row-index")}getResourceIndex(t){return this.getCellDataIndex(t,"data-resource-index")}getCellDataIndex(t,e){return t?parseInt(t.getAttribute(e),10):-1}getDropSettings(){return this.options.dropOptions}getDropPosition(t){return this.getSlotUnderCursor(t)?"over":"forbidden"}getDropItemIndex(t,e){var r=this.getSlotUnderCursor(e);if(!r)return"";var n=this.getCellIndex(r),i=this.getRowIndex(r),o=this.getResourceIndex(r);return"".concat(i,":").concat(n,":").concat(o)}getId(){return this.element.closest(".k-scheduler").id}}function vX(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class bX extends yX{constructor(t,e){super(t,e),vX(this,"options",{dropOptions:{dropClueTargetSelector:"",dropClueEmptySelector:"",allowDropOver:!1,offsetDropClue:!1},jsinterop:{getMoveHint:"",moveAppointment:""}}),vX(this,"renderHintElement",((t,e)=>{var r=this.getAllDayRowElement();t.style.left=e.left+"px",t.style.width=e.width+"px",e.isAllDay&&r?(t.style.top="0px",t.style.height="100%",r.appendChild(t)):(t.style.top=e.top+"px",t.style.height=e.height+"px",this.getBodyElement().appendChild(t))})),this.extendOptions(e)}destroy(){this.allDayRowElement=null,super.destroy()}getAllDayRowElement(){return this.allDayRowElement||(this.allDayRowElement=this.element.querySelector(".k-scheduler-all-day-row")),this.allDayRowElement}}function wX(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class xX extends yX{constructor(t,e){super(t,e),wX(this,"options",{dropOptions:{dropClueTargetSelector:"",dropClueEmptySelector:"",allowDropOver:!1,offsetDropClue:!1},jsinterop:{getMoveHint:"",moveAppointment:""}}),wX(this,"renderHintElement",((t,e)=>{t.style.left=e.left+"px",t.style.width=e.width+"px",t.style.top=e.top+"px",t.style.height=e.height+"px",this.getBodyElement().appendChild(t)})),this.extendOptions(e)}destroy(){super.destroy()}getFirstCell(){return this.element.querySelector(".k-slot-cell")}}function SX(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class kX extends yX{constructor(t,e){super(t,e),SX(this,"options",{dropOptions:{dropClueTargetSelector:"",dropClueEmptySelector:"",allowDropOver:!1,offsetDropClue:!1},jsinterop:{getMoveHint:"",moveAppointment:""}}),SX(this,"renderHintElement",((t,e)=>{t.style.left=e.left+"px",t.style.width=e.width+"px",t.style.top=e.top+"px",t.style.height=e.height+"px",this.getBodyElement().appendChild(t)})),this.extendOptions(e)}destroy(){super.destroy()}getFirstCell(){return this.element.querySelector(".k-slot-cell")}}function AX(t,e){Zt(gX,t,e)}function CX(t,e){Zt(bX,t,e)}function _X(t,e){Zt(xX,t,e)}function TX(t,e){Zt(kX,t,e)}function OX(t){var e=re(t);return e?e.getSlotMetrics():{width:0,height:0,left:0}}function MX(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var EX="blur",PX="focus",IX="click",FX=[fe.ARROWDOWN,fe.ARROWUP],DX=".k-button",RX=".k-split-button-arrow";class LX extends CP{constructor(t,e){super(t,e),MX(this,"onBlur",(t=>{var e=t.relatedTarget,r=e&&V(this.popupElement,e),n=e&&e.closest(RX);r||n||this.invokeBlur()})),MX(this,"onFocus",(()=>{this.invokeFocus()})),MX(this,"onArrowButtonClick",(()=>{nt(this.button)})),this.button=this.element.querySelector(DX),this.arrowButton=this.element.querySelector(RX),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.button.addEventListener(EX,this.onBlur),this.button.addEventListener(PX,this.onFocus),this.arrowButton.addEventListener(IX,this.onArrowButtonClick),this.navigationService.bind(FX,this.invokeKeyDown),this.navigationService.bind("printableKey",this.invokeKeyDown)}unbindEvents(){this.arrowButton.removeEventListener(IX,this.onArrowButtonClick),this.button.removeEventListener(EX,this.onBlur),this.button.removeEventListener(PX,this.onBlur)}}class NX extends LX{constructor(t,e){super(t,e),this.extendOptions(e)}}function BX(t,e){Zt(NX,t,e)}function jX(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var zX=".k-splitbar",UX=".k-splitbar-draggable-horizontal",$X=".k-splitbar-draggable-vertical",HX="horizontal",VX=Number.MAX_SAFE_INTEGER,qX="k-pane-static",WX=".k-collapse-next",XX=".k-collapse-prev",GX=t=>/%$/.test(t),KX=(t,e)=>{var r=parseFloat(t);return GX(t)&&(r=e*r/100),r},YX=(t,e,r)=>t?e===HX?t["".concat(r,"Width")]:t["".concat(r,"Height")]:0;class JX extends H{constructor(t,e){super(t,e),jX(this,"options",{dotNetInstance:null,orientation:HX,resizable:!0,keyboardResizeDelta:10,panes:[],jsinterop:{resizePane:""}}),jX(this,"onResizableResizeStart",(t=>{t.originalEvent.stopPropagation();var e=Nt(t.originalCurrentTarget,zX);this.resetPaneState(),this.addResizeOverlays(e)})),jX(this,"onResizableResize",(t=>{var e=Nt(t.originalCurrentTarget,zX),r=this.isHorizontal()?t.delta.x:t.delta.y;this.dragSplitterBar(e,r)})),jX(this,"onResizableResizeEnd",(()=>{this.removeResizeOverlays(),this.invokeResizePane()})),jX(this,"onElementKeyDown",(t=>{t.target.closest(zX)&&this.onSplitterBarKeyDown(t)})),this.extendOptions(e),this.resetPaneState(),this.createResizable(),this.bindEvents()}destroy(){this.unbindEvents(),this.destroyResizable(),super.destroy()}setOptions(t){this.extendOptions(t);for(var e=0;e<this.options.panes.length;e++){if(this.options.panes[e].forceExpanded){var r=this.getPaneElement(e);Z(qX,r)}}}bindEvents(){this.element&&this.element.addEventListener("keydown",this.onElementKeyDown)}unbindEvents(){this.element&&this.element.removeEventListener("keydown",this.onElementKeyDown)}setState(t){this.state=u(this.state||{},t)}resetPaneState(){this.setState({resizedPanes:{}})}createResizable(){this.options.resizable&&(this.resizable=new eP(this.element,{draggable:{filter:[UX,$X].join(","),ignore:[XX,WX].join(",")},events:{resizeStart:this.onResizableResizeStart,resize:this.onResizableResize,resizeEnd:this.onResizableResizeEnd}}))}destroyResizable(){this.resizable&&(this.resizable.destroy(),this.resizable=null)}dragSplitterBar(t,e){var{leftPane:r,rightPane:n}=this.getAdjacentPanes(t),i=r.computedSize+e,o=i>r.min&&i<r.max,s=this.getPaneElements().filter((t=>!t.style["flex-basis"])),a=(r.size||n.size)&&s.length>1;r.size&&n.size||a?o&&(this.resizePane(r,e),this.resizePane(n,-e)):n.size?this.resizePane(n,-e):this.resizePane(r,e)}resizePane(t,e){var r=he(t.computedSize+e,t.min,t.max),n="";if(GX(t.size)){var i=this.getElementClientSize();n="".concat(100*r/i,"%")}else n=(t=>"".concat(t,"px"))(r);this.setPaneSize(t.index,n)}isHorizontal(){return this.options.orientation===HX}getPane(t){return(this.options.panes||[])[t]}getPaneElements(){return Array.from(this.element.children||[]).filter((t=>Q("k-pane",t)))}getPaneElement(t){return this.getPaneElements()[t]}getAdjacentPanes(t){var e=t,r=t+1,n=this.getPaneElement(e),i=this.getPaneElement(r),o=this.getPane(e),s=this.getPane(r),a=this.getPaneOffsetSize(e),l=this.getPaneOffsetSize(r),c=a+l,h=this.getElementClientSize(),u=t=>KX(t,h),{leftPaneMaxSize:p,rightPaneMaxSize:d}=this.getAdjacentPanesMaxSize(t);return{leftPane:{index:e,computedSize:a,min:u(o.min)||c-u(s.max)||0,max:p,size:n.style["flex-basis"],collapsible:o.collapsible},rightPane:{index:r,computedSize:l,min:u(s.min)||c-u(o.max)||0,max:d,size:i.style["flex-basis"],collapsible:s.collapsible}}}getAdjacentPanesMaxSize(t){var{size:e,min:r,max:n}=this.getPaneSizes(t),{size:i,min:o,max:s}=this.getPaneSizes(t+1),a=e+i;return{leftPaneMaxSize:Math.min(n,a-o),rightPaneMaxSize:Math.min(s,a-r)}}getPaneSizes(t){var e=this.getElementClientSize(),r=this.getPane(t);return{size:this.getPaneOffsetSize(t),min:r.min?KX(r.min,e):0,max:r.max?KX(r.max,e):VX}}getPaneOffsetSize(t){var e=((t,e)=>{if(!t)return 0;var r=t.getBoundingClientRect();return e===HX?r.width:r.height})(this.getPaneElement(t),this.options.orientation);return e}getElementClientSize(){var t=((t,e)=>YX(t,e,"client"))(this.element,this.options.orientation);return t}setPaneSize(t,e){var r=this.getPaneElement(t);r&&(this.state.resizedPanes[t]={index:t,size:e},(this.options.panes[t]||{}).forceExpanded||J(qX,r),r.style["flex-basis"]=e)}addResizeOverlays(t){this.addResizeOverlay(t),this.addResizeOverlay(t+1)}addResizeOverlay(t){var e=this.getPaneElement(t);if(e){var r=j('<div class="k-splitter-overlay k-overlay"></div>');e.appendChild(r)}}removeResizeOverlays(){Array.from(this.element.querySelectorAll(".k-splitter-overlay")).forEach((t=>{t.remove()}))}invokeResizePane(){Object.values(this.state.resizedPanes).forEach((t=>{this.invokeMethodAsync(this.options.jsinterop.resizePane,{index:t.index,size:t.size})}))}isSplitterBarDraggable(t){return Q(UX.replace(".",""),t)||Q($X.replace(".",""),t)}getSplitterBarIndex(t){return Nt(t,zX)}onSplitterBarKeyDown(t){var e=t.target.closest(zX),r=t.key;if(this.isSplitterBarDraggable(e)){var n=Nt(e,zX),i=this.options.keyboardResizeDelta,o=this.isHorizontal(),s=r===fe.ARROWRIGHT&&o||r===fe.ARROWDOWN&&!o,a=r===fe.ARROWLEFT&&o||r===fe.ARROWUP&&!o,l=s?1:-1;(s||a)&&(t.preventDefault(),this.dragSplitterBar(n,l*i),this.invokeResizePane())}}}function ZX(t,e){Zt(JX,t,e)}function QX(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tG=".k-tilelayout-item";class eG extends H{constructor(t,e){super(t,e),QX(this,"options",{dotNetInstance:null,resizable:!1,reorderable:!1,jsinterop:{resizeItem:"",reorderItem:""}}),QX(this,"onResizableResizeStart",(t=>{var e=t.originalCurrentTarget.closest(tG),r=parseInt(e.style.gridColumnEnd.substring(5)),n=parseInt(e.style.gridRowEnd.substring(5)),i=Array.from(this.element.querySelectorAll(tG)).find((t=>"1"===t.style.order)),o=i.offsetTop-this.element.offsetTop,s=i.offsetLeft-this.element.offsetLeft,a=(e.offsetWidth-(r-1)*s)/r,l=(e.offsetHeight-(n-1)*o)/n,c=t.originalCurrentTarget.className;this.resizeState={item:e,columnWidth:a,columnHeight:l,segmentWidth:a+s,segmentHeight:l+o,totalWidth:this.element.offsetWidth,originalWidth:e.offsetWidth,originalHeight:e.offsetHeight,originalColSpan:r,originalRowSpan:n,maxWidth:this.element.offsetWidth-(e.offsetLeft+s),colSpanDelta:0,rowSpanDelta:0,resizeSide:c.indexOf("ew")>-1||c.indexOf("nwse")>-1,resizeDown:c.indexOf("ns")>-1||c.indexOf("nwse")>-1}})),QX(this,"onResizableResize",(t=>{this.pinContainer(this.resizeState.item),this.createResizeHint(this.resizeState.item);var e=()=>{this.resizeState.item.style.top=this.hint.offsetTop+"px",this.resizeState.item.style.left=this.hint.offsetLeft+"px"};if(this.resizeState.resizeSide){var r=this.resizeState.originalWidth+t.initialDelta.x;r<=this.resizeState.maxWidth&&r>=this.resizeState.columnWidth&&(this.resizeState.item.style.width=r+"px",this.resizeState.colSpanDelta=Math.floor((t.initialDelta.x+this.resizeState.segmentWidth/2)/this.resizeState.segmentWidth),this.hint.style.gridColumnEnd="span "+(this.resizeState.originalColSpan+this.resizeState.colSpanDelta),this.resizeState.item.style.gridColumnEnd="span "+(this.resizeState.originalColSpan+this.resizeState.colSpanDelta),e(),this.resizeState.resizeDown||(this.resizeState.item.style.height=this.hint.offsetHeight+"px"))}if(this.resizeState.resizeDown){var n=this.resizeState.originalHeight+t.initialDelta.y;n>=this.resizeState.columnHeight&&(this.resizeState.item.style.height=n+"px",this.resizeState.rowSpanDelta=Math.floor((t.initialDelta.y+this.resizeState.segmentHeight/2)/this.resizeState.segmentHeight),this.hint.style.gridRowEnd="span "+(this.resizeState.originalRowSpan+this.resizeState.rowSpanDelta),this.resizeState.item.style.gridRowEnd="span "+(this.resizeState.originalRowSpan+this.resizeState.rowSpanDelta),e())}})),QX(this,"onResizableResizeEnd",(()=>{(this.resizeState.colSpanDelta||this.resizeState.rowSpanDelta)&&this.invokeMethodAsync(this.options.jsinterop.resizeItem,{order:parseInt(this.resizeState.item.style.order),colSpan:this.resizeState.originalColSpan+this.resizeState.colSpanDelta,rowSpan:this.resizeState.originalRowSpan+this.resizeState.rowSpanDelta}),this.unpinContainer(this.resizeState.item),this.destroyResizeHint(),this.resizeState=null})),QX(this,"onReorderableDragStart",(t=>{var e=t.originalCurrentTarget.closest(tG),r=parseInt(e.style.order);this.reorderState={item:e,left:e.offsetLeft,top:e.offsetTop,order:r,originalOrder:r}})),QX(this,"onReorderableDrag",(t=>{this.pinContainer(this.reorderState.item),this.createResizeHint(this.reorderState.item),this.reorderState.item.style.left=this.reorderState.left+t.initialDelta.x+"px",this.reorderState.item.style.top=this.reorderState.top+t.initialDelta.y+"px";var e=this.getItemUnderCursor(t,this.reorderState.item);if(e){var r,n,i,o=e.getBoundingClientRect(),s=t.clientX<o.left+o.width/2,a=parseInt(e.style.order),l=a+(s?0:1);if(e===this.reorderState.lastItemUnderCursor&&s===this.reorderState.lastIsLeftOfMiddle)return;if(a>this.reorderState.order?(r=this.reorderState.order+1,n=l,i=-1,this.reorderState.order=l-1):a<this.reorderState.order&&(r=l,n=this.reorderState.order,i=1,this.reorderState.order=l),n>r){this.shiftItemsOrder(r,n,i),this.hint.style.order=this.reorderState.order,this.reorderState.item.style.order=this.reorderState.order;var c=this.getItemUnderCursor(t,this.reorderState.item);if(this.reorderState.lastItemUnderCursor=c,c){var h=c.getBoundingClientRect(),u=t.clientX<h.left+h.width/2;this.reorderState.lastIsLeftOfMiddle=u}}}})),QX(this,"onReorderableDragEnd",(()=>{this.reorderState.order!==this.reorderState.originalOrder&&this.invokeMethodAsync(this.options.jsinterop.reorderItem,{fromOrder:this.reorderState.originalOrder,toOrder:this.reorderState.order}),this.destroyResizeHint(),this.unpinContainer(this.reorderState.item),this.reorderState=null})),QX(this,"pinContainer",(t=>{if("absolute"!==t.style.position){var e=t.offsetLeft,r=t.offsetTop,n=t.offsetWidth,i=t.offsetHeight;t.style.position="absolute",t.style.left=e+"px",t.style.top=r+"px",t.style.width=n+"px",t.style.height=i+"px",t.style.zIndex=2}})),QX(this,"unpinContainer",(t=>{t.style.position="",t.style.left="",t.style.top="",t.style.width="",t.style.height="",t.style.zIndex=""})),QX(this,"createResizeHint",(t=>{this.hint||(this.hint=document.createElement("div"),this.hint.className="k-layout-item-hint k-layout-item-hint-resize",this.hint.style.order=t.style.order,this.hint.style.gridColumnEnd=t.style.gridColumnEnd,this.hint.style.gridRowEnd=t.style.gridRowEnd,this.element.appendChild(this.hint))})),QX(this,"destroyResizeHint",(()=>{this.hint&&(this.element.removeChild(this.hint),this.hint=null)})),QX(this,"getElementUnderCursor",((t,e)=>{var r=Ve(t);return e&&e.contains(r)&&(Y(e),r=Ve(t),K(e)),r})),QX(this,"getItemUnderCursor",((t,e)=>{var r=this.getElementUnderCursor(t,e);return r?r.closest(tG):null})),QX(this,"shiftItemsOrder",((t,e,r)=>{for(var n=this.element.querySelectorAll(tG),i=0;i<n.length;i++){var o=n[i],s=parseInt(o.style.order);s>=t&&s<e&&(o.style.order=s+r)}})),this.extendOptions(e),this.options.resizable&&this.createResizable(),this.options.reorderable&&this.createReorderable(),this.bindEvents()}destroy(){this.destroyResizable(),this.destroyReorderable(),this.unbindEvents(),super.destroy()}bindEvents(){}unbindEvents(){}setOptions(t){this.options.resizable!==t.resizable&&(t.resizable?this.createResizable():this.destroyResizable()),this.options.reorderable!==t.reorderable&&(t.reorderable?this.createReorderable():this.destroyReorderable()),this.extendOptions(t)}createResizable(){this.resizable=new eP(this.element,{draggable:{filter:".k-resize-handle"},events:{resizeStart:this.onResizableResizeStart,resize:this.onResizableResize,resizeEnd:this.onResizableResizeEnd}})}destroyResizable(){this.resizable&&(this.resizable.destroy(),this.resizable=null,this.destroyResizeHint())}createReorderable(){this.reorderable=new eP(this.element,{draggable:{filter:".k-tilelayout-item-header"},events:{resizeStart:this.onReorderableDragStart,resize:this.onReorderableDrag,resizeEnd:this.onReorderableDragEnd}})}destroyReorderable(){this.reorderable&&(this.reorderable.destroy(),this.reorderable=null)}}function rG(t,e){Zt(eG,t,e)}function nG(t){Qt(t)}function iG(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var oG="k-active";class sG extends H{constructor(t,e){super(t,e),iG(this,"options",{dotNetInstance:null}),iG(this,"setActive",(()=>(this.element&&!this.element.classList.contains(oG)&&this.element.classList.add(oG),!0))),iG(this,"removeActive",(()=>(this.element&&this.element.classList.contains(oG)&&this.element.classList.remove(oG),!0))),this.extendOptions(e),this.bindEvents()}destroy(){this.navigationService.destroy(),this.unbindEvents(),super.destroy()}bindEvents(){this.initNavigationService(),this.element.addEventListener("mousedown",this.setActive),this.element.addEventListener("mouseleave",this.removeActive)}unbindEvents(){this.element.removeEventListener("mousedown",this.setActive),this.element.removeEventListener("mouseleave",this.removeActive)}initNavigationService(){this.navigationService=new ve(this.element),this.navigationService.bind(fe.SPACE,this.setActive)}}function aG(t,e){Zt(sG,t,e)}function lG(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var cG="k-callout-n",hG="k-callout-s",uG="hover",pG="bottom",dG="mouseenter",fG="mouseleave",gG="mousedown",mG="click",yG="data-telerik-tooltip-id";class vG extends H{constructor(t,e){super(t,e),lG(this,"options",{dotNetInstance:null,showOn:"",targetSelector:"",popupId:"",jsinterop:{open:"",close:""}}),lG(this,"onMouseDown",(t=>{var e=this.getPopupComponent();e.anchor&&!e.isChild(t.target)&&this.close(e.anchor)})),lG(this,"onClick",(t=>{var e=t.target;if(!this.shouldSkipAnchor(e)){var r=this.getClosestMatchingAnchor(e);this.open(r)}})),lG(this,"onAnyTargetMouseEnter",(t=>{var e=t.target;if(!this.shouldSkipAnchor(e)){var r=this.getClosestMatchingAnchor(e);this.removeTitle(r)}})),lG(this,"onMouseEnter",(t=>{this.onAnyTargetMouseEnter(t);var e=this.getClosestMatchingAnchor(t.target);this.open(e)})),lG(this,"onMouseLeave",(t=>{var e=t.target;if(!this.shouldSkipAnchor(e)){var r=this.getPopupComponent(),n=t.relatedTarget;if(!q(r.anchor,n)){var i=this.getClosestMatchingAnchor(e);this.close(i)}}})),lG(this,"open",(t=>{if(f(t)&&!this.shouldSkipAnchor(t)){var e=this.getDataAttributes(t),r=this.getPopupComponent();r.anchors.forEach((e=>{q(e,t)&&(r.anchor=e)})),this.invokeMethodAsync(this.options.jsinterop.open,e)}})),lG(this,"close",(t=>{f(t)&&(this.restoreTitle(t),this.invokeMethodAsync(this.options.jsinterop.close))})),this.id=m(),this.options=e,this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){var t=window.document.documentElement;t&&(this.options.showOn===uG?(t.addEventListener(dG,this.onMouseEnter,!0),t.addEventListener(fG,this.onMouseLeave,!0)):(t.addEventListener(dG,this.onAnyTargetMouseEnter,!0),t.addEventListener(mG,this.onClick,!0)),t.addEventListener(gG,this.onMouseDown,!0))}unbindEvents(){var t=window.document.documentElement;t&&(this.options.showOn===uG?(t.removeEventListener(dG,this.onMouseEnter,!0),t.removeEventListener(fG,this.onMouseLeave,!0)):(t.removeEventListener(dG,this.onAnyTargetMouseEnter,!0),t.removeEventListener(mG,this.onClick,!0)),t.removeEventListener(gG,this.onMouseDown,!0))}getDataAttributes(t){var e=t.getAttribute("title")||t.getAttribute("data-title"),r=t.getAttribute("alt")||e;return r&&t.setAttribute("data-title",r),t.removeAttribute("title"),t.dataset}restoreTitle(t){if(f(t)){var e=t.getAttribute("data-title")||t.getAttribute("title");e&&t.setAttribute("title",e),t.removeAttribute("data-title"),this.untrackAnchor(t)}}removeTitle(t){if(f(t)){this.trackAnchor(t);var e=t.getAttribute("title")||t.getAttribute("data-title");t.setAttribute("data-title",e),t.removeAttribute("title")}}flipCallout(t){var e=this.getPopupComponent();if(e.flipped){var r=e.element.querySelector(".k-callout");"top"===t?(Z(hG,r),J(cG,r)):t===pG&&(Z(cG,r),J(hG,r))}}correctCalloutPosition(){var t=this.getPopupComponent(),e=t.getElementRect(t.anchor),r=t.getElementRect(t.element),n=e.left-r.left+.5*e.width,i=t.element.querySelector(".k-callout");i&&(i.style.left=n+"px")}positionCallout(t){this.flipCallout(t),"top"!==t&&t!==pG||this.correctCalloutPosition()}getCalloutSize(){var t=document.createElement("div");t.className="k-callout ".concat(cG),t.style.visibility="hidden",document.body.appendChild(t);var e=window.getComputedStyle(t),r=e.borderWidth||e.borderTopWidth,n=parseFloat(r);return document.body.removeChild(t),n}getPopupComponent(){return re(this.options.popupId)}shouldSkipAnchor(t){var e=this.isAnchorTracked(t),r=this.ownsAnchorBySelector(t);return!e&&!r}trackAnchor(t){f(t)&&t.setAttribute(yG,this.id)}untrackAnchor(t){f(t)&&t.removeAttribute(yG)}isAnchorTracked(t){return f(t)&&t.getAttribute(yG)===this.id}ownsAnchorBySelector(t){return f(t)&&Boolean(t.closest(this.options.targetSelector))}getClosestMatchingAnchor(t){var e=this.getClosestTrackedAnchor(t);return e||this.getClosestAnchorBySelector(t)}getClosestTrackedAnchor(t){return f(t)?t.closest(R(yG,this.id)):null}getClosestAnchorBySelector(t){return f(t)?t.closest(this.options.targetSelector):null}repositionPopup(){var t=this.getPopupComponent();t&&t.positionElement()}}function bG(t,e){re(t)||ie(t,new vG(null,e))}class wG extends Pr{constructor(t,e){super(t,e),function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"options",{dotNetInstance:null,rowDraggable:!1,draggedItemsHint:"",rowDraggableOptions:{allowDropOver:!0},dropOptions:{dropClueTargetSelector:".k-grid-content tr.k-master-row",dropClueEmptySelector:".k-grid-norecords",allowDropOver:!0,offsetDropClue:!1},componentSelector:".k-treelist",jsinterop:{removeFocus:"",blur:"",rowDrop:""}}),this.extendOptions(e)}destroy(){super.destroy()}}function xG(t,e){Zt(wG,t,e)}function SG(t){Qt(t)}var kG=Array.from,AG=t=>null!=t,CG=t=>{var e=t.match(/\.([^\.]+)$/);return e?e[0]:""};function _G(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function TG(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var OG="error",MG=()=>({}),EG=function(t){return y(t)?t:MG},PG=(t,e)=>{var r=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_G(Object(r),!0).forEach((function(e){TG(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_G(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({request:IG(t)},e);return r},IG=t=>({status:t.status,statusText:t.statusText,responseText:t.responseText,responseType:t.responseType});class FG{static send(t){var{url:e,method:r,data:n,withCredentials:i=!1,headers:o={},success:s,error:a,progress:l}=t,c=new XMLHttpRequest,h=EG(s),u=EG(a),p=EG(l);return c.withCredentials=i,c.addEventListener("load",(()=>{c.status>=200&&c.status<300?h(PG(c)):u(PG(c))})),c.addEventListener(OG,(()=>{u(PG(c))})),c.upload.addEventListener(OG,(()=>{u(PG(c))})),c.upload.addEventListener("progress",(t=>{p(PG(c,{progress:Math.round(100*t.loaded/t.total)}))})),c.open(r,e,!0),Object.entries(o).forEach((t=>{var[e,r]=t;c.setRequestHeader(e,r)})),c.send(n),c}}var DG=0,RG=1;function LG(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class NG extends H{constructor(t){super(null,t),LG(this,"options",{saveUrl:"",saveMethod:"POST",saveField:"files",removeUrl:null,removeMethod:"POST",removeField:"files",withCredentials:!1,events:{uploadProgress:null,uploadSuccess:null,uploadError:null}}),LG(this,"onUploadProgress",(t=>{this.trigger("uploadProgress",t)})),LG(this,"onUploadSuccess",(t=>{this.trigger("uploadSuccess",t)})),LG(this,"onUploadError",(t=>{this.trigger("uploadError",t)})),LG(this,"onRemoveSuccess",(t=>{this.trigger("removeSuccess",t)})),LG(this,"onRemoveError",(t=>{this.trigger("removeError",t)})),this.extendOptions(t),this.resetState()}setOptions(t){this.extendOptions(t)}resetState(){this.setState({fileRequests:{}})}setState(t){this.state=u(this.state||{},t)}uploadFiles(t,e){kG(t).forEach((t=>{this.uploadFile(t,e)}))}uploadFile(t,e){this.sendUploadRequest(t,e)}cancelFile(t){var e=this.state.fileRequests[t];e&&(this.untrackUploadRequest(t),e.abort())}removeFile(t,e){this.sendRemoveRequest(t,e)}sendUploadRequest(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options.saveUrl){var r=t.id,n=this.getFileUploadFormData(t.rawFile,e.data),i=FG.send({url:this.options.saveUrl,method:this.options.saveMethod,withCredentials:this.options.withCredentials,data:n,headers:e.headers,success:t=>{this.onUploadSuccess({operation:DG,request:t.request,file:{id:r}})},error:t=>{this.onUploadError({operation:DG,request:t.request,file:{id:r}})},progress:t=>{this.onUploadProgress({file:{id:r,progress:t.progress}})}});this.trackUploadRequest(r,i)}}sendRemoveRequest(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options.removeUrl){var r=t.id,n=this.getFileRemoveFormData(t,e.data);FG.send({url:this.options.removeUrl,method:this.options.removeMethod,withCredentials:this.options.withCredentials,data:n,headers:e.headers,success:t=>{this.onRemoveSuccess({operation:RG,request:t.request,file:{id:r}})},error:t=>{this.onRemoveError({operation:RG,request:t.request,file:{id:r}})}})}}trackUploadRequest(t,e){this.state.fileRequests[t]=e}untrackUploadRequest(t){this.state.fileRequests[t]=null}getFileUploadFormData(t,e){return this.getFormData({field:this.options.saveField,data:t,additionalData:e})}getFileRemoveFormData(t,e){return this.getFormData({field:this.options.removeField,data:t.name,additionalData:e})}getFormData(t){var{data:e,field:r,additionalData:n={}}=t,i=new FormData;return Object.keys(n).forEach((t=>{i.append(t,n[t])})),i.append(r,e),i}}var BG=0,jG=1,zG=2,UG=3;class $G{validateFile(t,e){var{allowedExtensions:r,minFileSize:n,maxFileSize:i}=e;return{validExtension:this.isValidFileExtension(t.extension,r),validMinFileSize:this.isValidMinFileSize(t.size,n),validMaxFileSize:this.isValidMaxFileSize(t.size,i)}}isValidFileExtension(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!AG(e)||e.map((t=>t.toLowerCase())).includes(t.toLowerCase())}isValidMinFileSize(t,e){return!AG(e)||t>e}isValidMaxFileSize(t,e){return!AG(e)||t<e}}class HG{constructor(t){this.id=m(),this.name=_(t.name),this.size=t.size,this.extension=t.extension,this.progress=t.progress||0,this.rawFile=t.rawFile,this.status=t.status||BG,this.invalidExtension=t.invalidExtension||!1,this.invalidMinFileSize=t.invalidMinSize||!1,this.invalidMaxFileSize=t.invalidMaxFileSize||!1}isValid(){return!this.invalidExtension&&!this.invalidMinFileSize&&!this.invalidMaxFileSize}}function VG(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var qG="change",WG="keydown",XG="focusout",GG=[fe.ARROWLEFT,fe.ARROWRIGHT,fe.ARROWUP,fe.ARROWDOWN],KG=t=>t?parseInt(t.getAttribute("data-index"),10):null;class YG extends H{constructor(t,e){super(t,e),VG(this,"options",{dotNetInstance:null,allowedExtensions:[],minFileSize:null,maxFileSize:null,multiple:!1,jsinterop:{onSelect:null,focusout:null}}),VG(this,"onInputChange",(t=>{var e=this.getFilesInfo(t.target.files);navigator.userAgent.match(/webkit/i)&&(t.target.type="",t.target.type="file"),this.options.multiple||this.clearFiles(),this.addFiles(e),this.triggerFileSelect(e)})),VG(this,"onKeyDown",(t=>{GG.includes(t.key)&&t.preventDefault()})),VG(this,"onFocusOut",(t=>{var e=t.target.closest(".k-file"),r=KG(e),n=t.relatedTarget?t.relatedTarget.closest(".k-file"):null,i=KG(n);this.invokeFocusOut(r,i)})),this.extendOptions(e),this.inputElement=this.element.querySelector("input[type='file']"),this.initValidator(),this.resetState(),this.bindEvents()}destroy(){this.unbindEvents(),this.inputElement=null,this.destroyValidator(),super.destroy()}bindEvents(){this.inputElement&&this.inputElement.addEventListener(qG,this.onInputChange),this.element.addEventListener(WG,this.onKeyDown),this.element.addEventListener(XG,this.onFocusOut)}unbindEvents(){this.inputElement&&this.inputElement.removeEventListener(qG,this.onInputChange),this.element.removeEventListener(WG,this.onKeyDown),this.element.removeEventListener(XG,this.onFocusOut)}resetState(){this.setState({files:[]})}setState(t){this.state=u(this.state||{},t)}initValidator(){this.validator=new $G}destroyValidator(){this.validator=null}triggerFileSelect(t){return this.invokeMethodAsync(this.options.jsinterop.onSelect,t)}addFiles(t){kG(t).forEach((t=>{this.addFile(t)}))}addFile(t){this.getFile(t.id)||(this.validateFile(t),this.state.files.push(t))}removeFileFromState(t){var e=this.state.files.filter((e=>e.id!==t));this.setState({files:e})}getFiles(){return this.state.files}getFile(t){return this.state.files.find((e=>e.id===t))}getFileInfo(t){var e=(t=>({name:t.name,size:t.size,extension:CG(t.name),rawFile:t}))(t);return new HG(e)}getFilesInfo(t){return kG(t).map(this.getFileInfo)}clearFiles(){this.setState({files:[]})}validateFile(t){if(this.validator){var e=this.validator.validateFile(t,{allowedExtensions:this.options.allowedExtensions,minFileSize:this.options.minFileSize,maxFileSize:this.options.maxFileSize});t.invalidExtension=!e.validExtension,t.invalidMinFileSize=!e.validMinFileSize,t.invalidMaxFileSize=!e.validMaxFileSize}}invokeFocusOut(t,e){var r;null!==(r=t)&&r>=0&&setTimeout((()=>{this.invokeMethodAsync(this.options.jsinterop.focusout,{relatedTargetFileIndex:e})}),1)}focusFile(t){var e=Array.from(this.element.querySelectorAll(".k-file")||[])[t];this.focusElement(e)}focusInput(){this.focusElement(this.inputElement)}focusElement(t){t instanceof HTMLElement&&nt(t)}openSelectFileDialog(){this.inputElement&&this.inputElement.click&&this.inputElement.click()}}function JG(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class ZG extends YG{constructor(t,e){super(t,e),JG(this,"options",{saveUrl:null,saveField:"files",removeUrl:null,removeField:"files",withCredentials:!1,autoUpload:!1,jsinterop:{onProgress:null,onSuccess:null,onError:null}}),JG(this,"onProgress",(t=>{var e=this.getFile(t.file.id);AG(e)&&(e.progress=t.file.progress,this.invokeMethodAsync(this.options.jsinterop.onProgress,{files:[e],progress:t.file.progress}))})),JG(this,"onSuccess",(t=>{var e=[this.getFile(t.file.id)];t.operation===RG?this.removeFileFromState(t.file.id):this.setFileStatus(e,jG),this.invokeMethodAsync(this.options.jsinterop.onSuccess,{operation:t.operation,files:e,request:t.request})})),JG(this,"onError",(t=>{var e=[this.getFile(t.file.id)];t.operation===DG&&this.setFileStatus(e,UG),this.invokeMethodAsync(this.options.jsinterop.onError,{operation:t.operation,files:e,request:t.request})})),this.extendOptions(e),this.initOrUpdateUploadService(this.options)}destroy(){this.destroyUploadService(),super.destroy()}setOptions(t){this.extendOptions(t),this.initOrUpdateUploadService(this.options)}initOrUpdateUploadService(t){this.uploadService?this.uploadService.setOptions(t):this.uploadService=this.initUploadService(t)}initUploadService(t){return new NG({saveUrl:t.saveUrl,saveField:t.saveField,removeUrl:t.removeUrl,removeField:t.removeField,withCredentials:t.withCredentials,events:{uploadProgress:this.onProgress,uploadSuccess:this.onSuccess,uploadError:this.onError,removeSuccess:this.onSuccess,removeError:this.onError}})}destroyUploadService(){this.uploadService&&this.uploadService.destroy()}deleteFile(t){var{fileId:e,options:r}=t;this.removeFile(e,r)}removeFile(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getFile(t);r&&(r.status===jG?this.uploadService.removeFile(r,{headers:e.requestHeaders,data:e.requestData}):this.removeFileFromState(t))}uploadFiles(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(t.files||[]).length>0?t.files:this.getFiles(),r=this.getFilesForUpload(e);this.setFileStatus(r,zG),this.uploadService.uploadFiles(r,{headers:t.requestHeaders,data:t.requestData})}retryFile(t){var{fileId:e,options:r={}}=t,n=this.getFile(e);n&&n.status===UG&&this.uploadService.uploadFile(n,{headers:r.requestHeaders,data:r.requestData})}cancelFile(t){this.getFile(t)&&(this.uploadService.cancelFile(t),this.removeFile(t))}focusClearButton(){var t=this.element.querySelector(".k-clear-selected");this.focusElement(t)}getFilesForUpload(){var t=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((e=>{var r=this.getFile(e.id);this.isFileForUpload(r)&&t.push(r)})),t}isFileForUpload(t){return t.isValid()&&t.status===BG}setFileStatus(t,e){(Array.isArray(t)?t:[t]).forEach((t=>{AG(t)&&(t.status=e)}))}openFileSelect(){this.inputElement&&this.inputElement.click()}}class QG extends YG{constructor(t,e){super(t,e),this.extendOptions(e)}destroy(){super.destroy()}setOptions(t){this.extendOptions(t)}deleteFile(t){this.removeFileFromState(t)}readBlob(t){return function(t){return new Promise((function(e,r){var n=new FileReader;n.onerror=function(){n.abort(),r("Error reading file.")},n.onload=function(){e(n.result)},t&&n.readAsArrayBuffer(t.rawFile)}))}(t)}readBytes(t){var e=this.getFile(t[0].fileId);return this.readBlob(e).then((function(e){var r=new Uint8Array(e,t[0].start,Math.min(e.byteLength,t[0].count));return btoa(String.fromCharCode.apply(null,r))}))}triggerFileSelect(t){return this.invokeMethodAsync(this.options.jsinterop.onSelect,t)}}function tK(t,e){Zt(ZG,t,e)}function eK(t,e){Zt(QG,t,e)}function rK(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var nK=D("data-col-index"),iK=Array.from;class oK extends H{constructor(t,e){super(t,e),rK(this,"options",{dotNetInstance:null,tableSelector:".k-grid-table",debounceDelay:180,headerSelector:"k-grid-header",contentSelector:"k-grid-content",footerSelector:"k-grid-footer",jsinterop:{onScroll:""}}),rK(this,"detectScrollTopChanged",(t=>{this.state.scrollTopChanged=this.state.scrollTop!==t.target.scrollTop,this.state.scrollTop=t.target.scrollTop})),rK(this,"onScroll",(t=>{if(!this.state.scrollTopChanged){var e=document.activeElement?document.activeElement.closest(nK):null,r=e?e.closest(L("k-focused"))||e:null,n=r?r.closest([L(this.options.headerSelector),L(this.options.contentSelector),L(this.options.footerSelector)].join(",")):null,i=k(r),o=Et(r,n),s=0;if(r){var a=r.getBoundingClientRect().width,l=r.closest("tr"),c=(l?iK(l.querySelectorAll(nK)):[]).filter(Pe);s=c.reduce(((t,e)=>t+e.getBoundingClientRect().width),0),c.length&&s+a>this.element.clientWidth&&(o=!0)}this.invokeScroll({scrollLeft:t.target.scrollLeft,containsActiveElement:i,isActiveCellInView:o})}})),this.extendOptions(e),this.bindEvents(),this.setState({scrollTop:0,scrollTopChanged:!1,scrollLeft:0})}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){this.debouncedScroll=Rr((t=>{this.onScroll(t)}),this.options.debounceDelay).bind(this),this.element.addEventListener("scroll",this.detectScrollTopChanged),this.element.addEventListener("scroll",this.debouncedScroll)}unbindEvents(){this.element.removeEventListener("scroll",this.detectScrollTopChanged),this.element.removeEventListener("scroll",this.debouncedScroll),this.debouncedScroll=null}setState(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state=u(this.state||{},t)}invokeScroll(t){var{scrollLeft:e,containsActiveElement:r,isActiveCellInView:n}=t;this.invokeMethodAsync(this.options.jsinterop.onScroll,{scrollLeft:e,containsActiveElement:r,isActiveCellInView:n})}}function sK(t,e){Zt(oK,ae(t,"VirtualColumnScroller"),e)}function aK(t){Qt(ae(t,"VirtualColumnScroller"))}function lK(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class cK extends H{constructor(t,e){super(t,e),lK(this,"options",{skip:0,itemHeight:0,loadingItems:!1,jsinterop:{scroll:""}}),lK(this,"onElementScroll",(()=>{var t=this.options,e=Math.floor(this.element.scrollTop);if(this.scrollTop===e||this.manualSet)this.manualSet=!1;else{clearTimeout(this.timeout),t.loadingItems&&this.scrollLoadingItems(),this.scrollTop=e;var r=Math.floor(e/t.itemHeight);this.timeout=setTimeout((()=>{this.invokeMethodAsync(t.jsinterop.scroll,r)}),66)}})),this.extendOptions(e),this.timeout,this.contentElement=this.element.querySelector(".k-virtual-scroller-content"),this.total=parseInt(this.contentElement.getAttribute("data-total")),this.setScrollbarSize(),this.setPosition(e.skip),this.bindEvents()}destroy(){clearTimeout(this.timeout),this.unbindEvents(),this.contentElement=null,super.destroy()}bindEvents(){this.element.addEventListener("scroll",this.onElementScroll)}unbindEvents(){this.element.removeEventListener("scroll",this.onElementScroll)}setScrollbarSize(){Bt()}setPosition(t){this.manualSet=!0,this.scrollTop=Math.floor(this.options.itemHeight*t);var e=this.getDisplayNoneSelectors(),r=Kt(this.element,e);this.setDisplayStyle(r,""),this.element.scrollTop=this.scrollTop,this.setDisplayStyle(r,"none")}setPositionToIndex(t){this.manualSet=!0;var e=t*this.options.itemHeight,r=e+this.options.itemHeight,n=Math.floor(this.element.scrollTop),i=kt(this.element),o=n+(this.element.offsetHeight-i);r>o?(this.scrollTop+=r-o,this.element.scrollTop=this.scrollTop):r<n&&(this.scrollTop=e,this.element.scrollTop=this.scrollTop)}scrollLoadingItems(){var t=this.options,e=Math.floor(this.element.scrollTop),r=kt(this.element),n=this.element.offsetHeight-r,i=this.contentElement.children[0].offsetHeight,o=2*t.itemHeight,s=parseFloat(this.contentElement.getAttribute("data-translate")),a=s;e<s?a=e-e%o:i+s<n+e&&(a=Math.ceil((n+e-i)/o)*o),this.contentElement.style.setProperty("transform","translateY("+a+"px)")}setDisplayStyle(t,e){t.map((t=>{t.style.display=e}))}getDisplayNoneSelectors(){return['[style*="display: none;"]','[style*="display: none"]','[style*="display:none;"]','[style*="display:none"]']}}function hK(t,e){Zt(cK,t,e)}function uK(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pK="width",dK="height",fK="k-resize-",gK="n",mK="w",yK=[gK,"e","s",mK,"ne","nw","se","sw"].map((t=>"".concat(fK).concat(t))),vK=[".k-grid",".k-gantt",".k-treelist",".k-scheduler"].join(",");class bK extends H{constructor(t,e){super(t,e),uK(this,"options",{dotNetInstance:null,jsinterop:{keydown:"",dragEnd:"",resizeEnd:"",focusin:""},navigable:!1,draggable:!0,resizable:!0,modal:!1}),uK(this,"onFocusIn",(()=>{this.invokeMethodAsync(this.options.jsinterop.focusin)})),uK(this,"onKeyDown",(t=>{t.keyCode===de.ESCAPE&&t.target.closest(vK)||this.element!==t.target&&t.keyCode!==de.ESCAPE||this.invokeKeyDown(t)})),uK(this,"onDragStart",(t=>{this.resetDragState();var e=this.allowedDrag(t);e&&(this.setFixedPosition(),this.initWidth(),er(t),this.setState({dragging:{dragStarted:e,initialTop:this.state.top,initialLeft:this.state.left,cursorOffset:{top:t.pageY-this.state.top,left:t.pageX-this.state.left}}}),this.element.focus())})),uK(this,"onDrag",(t=>{if(!this.state.dragging.dragStarted)return!0;var e=t.pageY-this.state.dragging.cursorOffset.top,r=t.pageX-this.state.dragging.cursorOffset.left;this.setPosition(e,r)})),uK(this,"onDragEnd",(()=>{this.state.dragging.dragStarted&&(this.state.dragging.initialTop===this.state.top&&this.state.dragging.initialLeft===this.state.left||this.invokeMethodAsync(this.options.jsinterop.dragEnd,{top:U(this.state.top),left:U(this.state.left)}))})),uK(this,"onResizeStart",(t=>{this.resetResizeState(),this.setFixedPosition();var e=Array.from(t.originalCurrentTarget.classList).find((t=>yK.includes(t))).replace(fK,""),{currentWidth:r,currentHeight:n}=this.getDimensions()||{};r&&n&&this.setState({resizing:{initialWidth:r,initialHeight:n,targetedWidth:r,targetedHeight:n,direction:e}})})),uK(this,"onResize",(t=>{var e=this.state.resizing.targetedWidth,r=this.state.resizing.targetedHeight,n=t.delta.y,i=t.delta.x;this.state.resizing.direction.includes(gK)&&(n=this.constrainDelta(gK,n),(this.state.top>=0||n>0)&&(r-=n,this.tryApplyNewDimension(dK,r)&&this.setPosition(Number(this.state.top)+n,this.state.left)));(this.state.resizing.direction.includes("e")&&(e+=i,this.tryApplyNewDimension(pK,e)),this.state.resizing.direction.includes("s")&&(r+=n,this.tryApplyNewDimension(dK,r)),this.state.resizing.direction.includes(mK))&&(i=this.constrainDelta(mK,i),(this.state.left>=0||i>0)&&(e-=i,this.tryApplyNewDimension(pK,e)&&this.setPosition(this.state.top,Number(this.state.left)+i)))})),uK(this,"onResizeEnd",(()=>{pe(this.state.resizing.initialWidth,this.state.resizing.targetedWidth,{decimals:2})&&pe(this.state.resizing.initialHeight,this.state.resizing.targetedHeight,{decimals:2})||this.invokeMethodAsync(this.options.jsinterop.resizeEnd,{width:U(this.state.resizing.targetedWidth),height:U(this.state.resizing.targetedHeight),top:U(this.state.top),left:U(this.state.left)})})),this.extendOptions(e),this.titleBar=this.element.querySelector(".k-window-titlebar"),this.bindEvents(),this.options.navigable&&this.enableTabKeyTrap(),this.resetState()}destroy(){this.unbindEvents(),this.options.navigable&&this.disableTabKeyTrap(),this.destroyDraggable(),this.destroyResizable(),super.destroy(),this.content=this.titleBar=null}bindEvents(){this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("focusin",this.onFocusIn)}unbindEvents(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("focusin",this.onFocusIn)}onAfterShow(t){t.length&&this.setOptions(t[0]),this.unbindEvents(),this.destroyDraggable(),this.destroyResizable();var e=this.element.getAttribute("data-id");this.element=G(e),this.element&&(this.titleBar=this.element.querySelector(".k-window-titlebar"),this.content=this.element.querySelector(".k-window-content"),this.bindEvents(),this.initDraggable(),this.initResizable(),this.formKeyTrap&&(this.formKeyTrap.destroy(),this.enableTabKeyTrap()),this.focusElement())}onAfterClose(){this.restoreFocus()}focusElement(){this.options.modal&&(this.state.elementToFocusOnClose=document.activeElement),this.options.navigable?pt(this.content.id):this.element.focus()}restoreFocus(){this.state.elementToFocusOnClose&&(this.state.elementToFocusOnClose.focus(),this.state.elementToFocusOnClose=null)}invokeKeyDown(t){this.invokeMethodAsync(this.options.jsinterop.keydown,{type:t.type,key:t.key,code:t.keyCode,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey})}enableTabKeyTrap(){this.options.modal&&(this.formKeyTrap=new Ae(this.content),this.formKeyTrap.enableKeyTrap())}disableTabKeyTrap(){this.formKeyTrap&&this.formKeyTrap.disableTabKeyTrap()}initDraggable(){this.options.draggable&&this.createDraggable()}createDraggable(){this.titleBar&&(this.draggable=new mr(this.titleBar,{filter:".k-window-titlebar",ignore:".k-window-actions",events:{dragStart:this.onDragStart,drag:this.onDrag,dragEnd:this.onDragEnd}}))}destroyDraggable(){this.draggable&&(this.draggable.destroy(),this.draggable=null)}allowedDrag(){return!this.isMaximized()}initResizable(){this.options.resizable&&this.createResizable()}createResizable(){this.resizable=new eP(this.element,{draggable:{filter:".k-window > .k-resize-handle"},events:{resizeStart:this.onResizeStart,resize:this.onResize,resizeEnd:this.onResizeEnd}})}destroyResizable(){this.resizable&&(this.resizable.destroy(),this.resizable=null)}tryApplyNewDimension(t,e){this.setDimension(t,e);var{currentWidth:r,currentHeight:n}=this.getDimensions()||{};return t===pK&&r?pe(e,r,{decimals:2})?(this.state.resizing.targetedWidth=e,!0):(this.setDimension(t,this.state.resizing.targetedWidth),!1):t===dK&&n?pe(e,n,{decimals:2})?(this.state.resizing.targetedHeight=e,!0):(this.setDimension(t,this.state.resizing.targetedHeight),!1):void 0}constrainDelta(t,e){var r=e;if(t===gK){var n=Number(this.state.top)+e;n<0&&(r-=n)}else if(t===mK){var i=Number(this.state.left)+e;i<0&&(r-=i)}return r}setFixedPosition(){var t={top:0,left:0};if(this.options.modal){var e=this.element.getBoundingClientRect();t={top:e.top,left:e.left}}else t=function(t,e,r){void 0===r&&(r=1);var n=e?zW(e):null,i=HW(t,n),o=i.top,s=i.left,a=i.height,l=i.width,c=UW(n,t),h=c.x,u=c.y,p=t.ownerDocument,d=n===p.body||n===p.documentElement?1:r;return{top:o+u*d,left:s+h*d,height:a,width:l}}(this.element,this.element.parentElement);Z("k-centered",this.element),this.setPosition(t.top,t.left)}setPosition(t,e){this.setState({top:(Math.round(10*t)/10).toFixed(1),left:(Math.round(10*e)/10).toFixed(1)}),this.element&&(this.element.style.top=U(t),this.element.style.left=U(e))}isMaximized(){if(this.element)return"100%"===this.element.style.width&&"100%"===this.element.style.height}getDimensions(){if(this.element){var{width:t,height:e}=this.element.getBoundingClientRect();return{currentWidth:t,currentHeight:e}}}setDimension(t,e){this.element&&(t===pK?this.element.style.width=U(e):t===dK&&(this.element.style.height=U(e)))}setState(t){this.state=u(this.state||{},t)}resetState(){this.setState({elementToFocusOnClose:null,top:"",left:"",resizing:{initialWidth:"",initialHeight:"",targetedWidth:"",targetedHeight:"",direction:""},dragging:{dragStarted:"",initialTop:"",initialLeft:"",cursorOffset:{top:"",left:""}}})}resetDragState(){this.setState({dragging:{}})}resetResizeState(){this.setState({resizing:{}})}initWidth(){if(this.element&&!Boolean(this.element.style.width)){var t=this.element.offsetWidth;this.setDimension(pK,t)}}}function wK(t,e){Zt(bK,t,e)}})(),__webpack_exports__})()}));